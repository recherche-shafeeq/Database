(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[2],{1851:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=o(2361),i=(n=r)&&n.__esModule?n:{default:n};t.default=i.default},1959:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={errors:{controlled:"A component is changing a react-medium-image-zoom component from a controlled component to an uncontrolled one. ImageZoom elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled image zoom element for the lifetime of the component.",uncontrolled:"A component is changing a react-medium-image-zoom component from an uncontrolled component to a controlled one. ImageZoom elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled image zoom element for the lifetime of the component."},styles:{image:{cursor:"zoom-in"},zoomImage:{cursor:"zoom-out",position:"absolute",transition:"transform 300ms",transform:"translate3d(0, 0, 0) scale(1)",transformOrigin:"center center",willChange:"transform, top, left"},zoomContainer:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:999},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:"#fff",opacity:0,transition:"opacity 300ms"}},transitionDuration:300};t.default=n},2029:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createPortalContainer=function(e){var t=document.createElement(e);return document.body.appendChild(t),t},t.removePortalContainer=function(e){document.body.removeChild(e)},t.fetchImage=function(e,t){var o=e.src,n=e.srcSet,r=e.sizes,i=new Image;i.addEventListener("load",(function e(){t(i),i.removeEventListener("load",e)})),i.src=o,n&&(i.srcset=n),r&&(i.sizes=r)};var n=t.getScale=function(e){var t=e.width,o=e.height,n=e.zoomMargin,r=window.innerWidth/(t+n),i=window.innerHeight/(o+n);return Math.min(r,i)};t.getMaxDimensionScale=function(e){var t=e.width,o=e.height,r=e.naturalWidth,i=e.naturalHeight,a=e.zoomMargin,s=n({width:r,height:i,zoomMargin:a}),l=r>i?r/t:i/o;return s>1?l:s*l},t.isMaxDimension=function(e){return e.clientWidth>=e.naturalWidth||e.clientHeight>=e.naturalHeight}},2212:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={keys:["Enter"],keyCode:13},r=function(e){var t=e.keyCode,o=e.keys;return function(e){return e.keyCode?e.keyCode===t:-1!==o.indexOf(e.key)}},i=(t.isEnterOrSpaceBarKey=function(e){return r(n)(e)||i(e)},t.isTabKey=r({keys:["Tab"],keyCode:9}),t.isSpaceBarKey=r({keys:[" "],keyCode:32}));t.isEscapeKey=r({keys:["Escape","Esc"],keyCode:27})},2361:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(0),a=f(i),s=o(2),l=f(o(1959)),u=o(2029),c=o(2212),d=f(o(2362)),h=f(o(2363));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){return null!==e&&void 0!==e},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={isDisabled:!1,isZoomed:!1,wasZoomed:!1,src:e.image.src,prevSrc:e.image.src,isClosing:!1},o._handleKeyDown=o._handleKeyDown.bind(o),o._handleLoad=o._handleLoad.bind(o),o._handleLoadError=o._handleLoadError.bind(o),o._handleUnzoom=o._handleUnzoom.bind(o),o._handleZoom=o._handleZoom.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidUpdate",value:function(e,t){if(!m(e.isZoomed)&&m(this.props.isZoomed))throw new Error(l.default.errors.uncontrolled);if(m(e.isZoomed)&&!m(this.props.isZoomed))throw new Error(l.default.errors.controlled);var o=m(e.isZoomed)?e.isZoomed:t.isZoomed,n=m(this.props.isZoomed)?this.props.isZoomed:this.state.isZoomed;o!==n&&!n&&this.portalInstance&&this.portalInstance.unzoom({force:!0})}},{key:"render",value:function(){var e=this,t=this.props,o=t.defaultStyles,r=t.image,s=t.isZoomed,l=t.shouldRespectMaxDimension,u=t.zoomImage,c=t.zoomMargin,f=this.state,p=f.isDisabled,y=f.isZoomed,v=f.src,g=f.isClosing,_=n({},!p&&{tabIndex:0},r,{src:v,style:this._getImageStyle()},!p&&{onMouseDown:this._preventFocus,onClick:this._handleZoom,onKeyDown:this._handleKeyDown}),b=m(s)?s:y;return a.default.createElement(i.Fragment,null,a.default.createElement("img",n({},_,{key:"image",ref:function(t){e.image=t},onLoad:this._handleLoad,onError:this._handleLoadError})),this.image&&(b||g)?a.default.createElement(d.default,{key:"portal",ref:function(t){e.portalInstance=t},controlledEventFn:this._getControlledEventFn(),allowAccessibilityClose:this._allowTabNavigation()},a.default.createElement(h.default,{defaultStyles:o,image:this.image,shouldRespectMaxDimension:l,zoomImage:u,zoomMargin:Number(c),onUnzoom:this._handleUnzoom})):null)}},{key:"_checkShouldDisableComponent",value:function(){var e=this.props,t=e.shouldRespectMaxDimension,o=e.zoomImage,n=t&&!o&&(0,u.isMaxDimension)(this.image);this.setState({isDisabled:n})}},{key:"_getImageStyle",value:function(){var e=this.props,t=e.defaultStyles,o=e.image,r=e.isZoomed,i=this.state,a=i.isDisabled,s=i.isZoomed,u=i.isClosing,c=s||r||u;return n({},l.default.styles.image,c&&{visibility:"hidden"},t.image,o.style,a&&{cursor:"inherit"})}},{key:"_handleLoad",value:function(e){this._checkShouldDisableComponent(),(this.props.image.onLoad||Function.prototype)(e)}},{key:"_handleLoadError",value:function(e){this.setState({isDisabled:!0}),(this.props.image.onError||Function.prototype)(e)}},{key:"_handleKeyDown",value:function(e){(0,c.isEnterOrSpaceBarKey)(e)&&(e.preventDefault(),this._handleZoom(e))}},{key:"_preventFocus",value:function(e){e.preventDefault()}},{key:"_handleZoom",value:function(e){!m(this.props.isZoomed)&&this.props.shouldHandleZoom(e)?this.setState({isZoomed:!0},this.props.onZoom):this.props.onZoom()}},{key:"_handleUnzoom",value:function(e,t){var o=this;return function(){var r=n({isZoomed:!1,isClosing:!1},o.props.shouldReplaceImage&&{src:e});o.setState(r,o.props.onUnzoom),t&&o._allowTabNavigation()&&o.image.focus()}}},{key:"_getControlledEventFn",value:function(){return m(this.props.isZoomed)?this.props.onUnzoom:null}},{key:"_allowTabNavigation",value:function(){return this.image&&-1!==this.image.tabIndex}}],[{key:"getDerivedStateFromProps",value:function(e,t){var o=t.wasZoomed&&!e.isZoomed||t.isClosing;return{src:e.image.src!==t.prevSrc?e.image.src:t.src,isClosing:o,wasZoomed:e.isZoomed,prevSrc:e.image.src}}},{key:"defaultProps",get:function(){return{shouldReplaceImage:!0,shouldRespectMaxDimension:!1,zoomMargin:40,defaultStyles:{zoomContainer:{},overlay:{},image:{},zoomImage:{}},shouldHandleZoom:function(){return!0},onZoom:function(){},onUnzoom:function(){}}}}]),t}(i.Component);t.default=p,p.propTypes={image:(0,s.shape)({src:s.string.isRequired,alt:s.string,className:s.string,style:s.object}).isRequired,zoomImage:(0,s.shape)({src:s.string,alt:s.string,className:s.string,style:s.object}),defaultStyles:s.object,isZoomed:s.bool,shouldHandleZoom:s.func,shouldReplaceImage:s.bool,shouldRespectMaxDimension:s.bool,onZoom:s.func,onUnzoom:s.func}},2362:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(0),i=d(r),a=o(88),s=o(2),l=d(o(1959)),u=o(2029),c=o(2212);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.portal=(0,u.createPortalContainer)("div"),e.unzoom=e.unzoom.bind(e),e._handleScroll=e._handleScroll.bind(e),e._handleKeyDown=e._handleKeyDown.bind(e),e._handleResize=e._handleResize.bind(e),e._handleTouchStart=e._handleTouchStart.bind(e),e._handleTouchMove=e._handleTouchMove.bind(e),e._handleTouchEnd=e._handleTouchEnd.bind(e),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this;this.pageYOffset=window.pageYOffset,this.loadTimeout=setTimeout((function(){window.addEventListener("scroll",e._handleScroll),window.addEventListener("keydown",e._handleKeyDown),window.addEventListener("ontouchstart",e._handleTouchStart),window.addEventListener("ontouchmove",e._handleTouchMove),window.addEventListener("ontouchend",e._handleTouchEnd),window.addEventListener("ontouchcancel",e._handleTouchEnd),window.addEventListener("resize",e._handleResize)}),l.default.transitionDuration)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.loadTimeout),window.removeEventListener("scroll",this._handleScroll),window.removeEventListener("keydown",this._handleKeyDown),window.removeEventListener("ontouchstart",this._handleTouchStart),window.removeEventListener("ontouchmove",this._handleTouchMove),window.removeEventListener("ontouchend",this._handleTouchEnd),window.removeEventListener("ontouchcancel",this._handleTouchEnd),window.removeEventListener("resize",this._handleResize),(0,u.removePortalContainer)(this.portal)}},{key:"render",value:function(){return this.portal?(0,a.createPortal)(i.default.createElement("div",{onClick:this.unzoom},this._cloneChild()),this.portal):null}},{key:"unzoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.force,o=e.allowRefocus;return this.props.controlledEventFn&&!t?this.props.controlledEventFn():this.child.unzoom(o)}},{key:"_cloneChild",value:function(){var e=this;return i.default.cloneElement(i.default.Children.only(this.props.children),{ref:function(t){e.child=t}})}},{key:"_handleKeyDown",value:function(e){if((0,c.isTabKey)(e))e.preventDefault();else{var t=this.props.allowAccessibilityClose&&(0,c.isEnterOrSpaceBarKey)(e),o=(0,c.isEscapeKey)(e);t&&e.preventDefault(),(t||o)&&this.unzoom({allowRefocus:!0})}}},{key:"_handleResize",value:function(){this.forceUpdate()}},{key:"_handleScroll",value:function(){this.forceUpdate(),Math.abs(window.pageYOffset-this.pageYOffset)>10&&this.unzoom()}},{key:"_handleTouchStart",value:function(e){this.yTouchPosition=e.touches[0].clientY}},{key:"_handleTouchMove",value:function(e){this.forceUpdate(),Math.abs(e.touches[0].clientY-this.yTouchPosition)>10&&this.unzoom()}},{key:"_handleTouchEnd",value:function(){delete this.yTouchPosition}}]),t}(r.Component);t.default=h,h.propTypes={children:s.element.isRequired,getControlledEventFn:s.func}},2363:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(0),a=d(i),s=o(2),l=d(o(1959)),u=o(2029),c=d(o(2364));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={hasLoaded:!1,isZoomed:!0,src:e.image.currentSrc||e.image.src,tmpSrc:null},o.unzoom=o.unzoom.bind(o),o._handleImageLoad=o._handleImageLoad.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props.zoomImage,t=e.src,o=e.srcSet;this.setState({hasLoaded:!0}),(t||o)&&(0,u.fetchImage)(this.props.zoomImage,this._handleImageLoad)}},{key:"componentDidUpdate",value:function(e,t){var o=this;!t.tmpSrc&&this.state.tmpSrc&&setTimeout((function(){o.setState({src:o.state.tmpSrc,tmpSrc:null})}),100)}},{key:"render",value:function(){var e=this.props,t=e.defaultStyles,o=e.zoomImage,r=this.state,i=r.tmpSrc,s=r.isZoomed,l=r.src,u=this._getZoomImageStyle();return a.default.createElement("div",{style:this._getZoomContainerStyle()},a.default.createElement(c.default,{isVisible:s,defaultStyles:t}),a.default.createElement("img",n({},o,{src:l,style:u})),a.default.createElement(f,n({},o,{src:i,style:u})))}},{key:"unzoom",value:function(e){var t=this.props.onUnzoom(this.state.src,e);this.setState({isZoomed:!1},(function(){return setTimeout(t,l.default.transitionDuration)}))}},{key:"_handleImageLoad",value:function(e){this.state.isZoomed&&this.setState({tmpSrc:e.currentSrc||e.src})}},{key:"_getZoomContainerStyle",value:function(){return n({},l.default.styles.zoomContainer,this.props.defaultStyles.zoomContainer)}},{key:"_getZoomImageStyle",value:function(){var e=this.props,t=e.image,o=e.shouldRespectMaxDimension,r=e.src,i=e.zoomMargin,a=t.getBoundingClientRect(),s=a.top,c=a.left,d=t.width,h=t.height,f=t.naturalWidth,m=t.naturalHeight,p={top:s,left:c,width:d,height:h};if(!this.state.hasLoaded||!this.state.isZoomed)return n({},l.default.styles.zoomImage,this.props.defaultStyles.zoomImage,this.props.style,p);var y=document.body.clientWidth/2,v=window.innerHeight/2,g={transform:"translate3d("+(y-(a.left+d/2))+"px, "+(v-(a.top+h/2))+"px, 0) scale("+(o&&!r?(0,u.getMaxDimensionScale)({width:d,height:h,naturalWidth:f,naturalHeight:m,zoomMargin:i}):(0,u.getScale)({width:d,height:h,zoomMargin:i}))+")"};return n({},l.default.styles.zoomImage,this.props.defaultStyles.zoomImage,this.props.style,p,g)}}],[{key:"defaultProps",get:function(){return{zoomImage:{}}}}]),t}(i.Component);t.default=h,h.propTypes={defaultStyles:s.object.isRequired,image:s.object.isRequired,shouldRespectMaxDimension:s.bool,zoomImage:(0,s.shape)({src:s.string,alt:s.string,className:s.string,style:s.object}).isRequired,zoomMargin:s.number.isRequired,onUnzoom:s.func.isRequired};var f=function(e){var t=e.src,o=e.style,r=function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(e,["src","style"]);return t?a.default.createElement("img",n({},r,{src:t,style:p(o)})):null},m={position:"fixed",visibility:"hidden"},p=function(e){return n({},e,m)}},2364:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(0),a=u(i),s=o(2),l=u(o(1959));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={isMounted:!1},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"render",value:function(){return a.default.createElement("div",{style:this._getStyle()})}},{key:"_getStyle",value:function(){var e=1&(this.state.isMounted&&this.props.isVisible);return n({},l.default.styles.overlay,{opacity:e},this.props.defaultStyles.overlay)}}]),t}(i.PureComponent);t.default=c,c.propTypes={isVisible:s.bool.isRequired,defaultStyles:s.object.isRequired}}}]);
//# sourceMappingURL=2.785da866.chunk.js.map