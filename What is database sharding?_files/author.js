/*! For license information please see author.ae386804.chunk.js.LICENSE */
(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[28,5,13,14,17,18,37,52,54,55,72,81,93,99,113],{1072:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"handleEditorPageSummaryChange",(function(){return k}));var r={};n.r(r),n.d(r,"handleShotSummaryChange",(function(){return O}));var o={};n.r(o),n.d(o,"prepareToRunShotEditorAction",(function(){return W})),n.d(o,"runAnyAction",(function(){return G})),n.d(o,"deleteSingleShot",(function(){return ee})),n.d(o,"unpublishSingleShot",(function(){return te})),n.d(o,"saveShot",(function(){return ne})),n.d(o,"submitShot",(function(){return ie})),n.d(o,"publishShot",(function(){return re})),n.d(o,"previewShot",(function(){return oe})),n.d(o,"saveAll",(function(){return ae})),n.d(o,"saveAfterAction",(function(){return se})),n.d(o,"setShotDockerFile",(function(){return le})),n.d(o,"uploadDockerFile",(function(){return ce}));var a=n(14),s=n(0),l=n.n(s),c=n(30),h=n(153),d=n(80),u=n(347),p=n(291),f=n(578),m=n(29),g=n(829),v=n(247),b=n(436),y=n(85),_=n(566),x=n(2177),w=n(243),C=n(310),S=n(311),E=n(2178);const k=e=>Object(m.a)("EDITOR_PAGE_SUMMARY_CHANGE")(e),O=e=>Object(m.a)("SHOT_SUMMARY_CHANGE")(e);var T=n(938),A=n(181),I=n(20),j=n(28),P=n(86);var M=e=>{if(!e)return"";let t=e.replace(/\+/g,"p");return t=t.replace(/#/g,"-sharp"),t=t.replace(/\*/g,"-star"),t=t.replace(/\//g,"-"),t=t.replace(/[^A-Za-z0-9- ]/g,""),t=t.replace(/\s{2,}/g," "),t=t.trim(),t=t.replace(/\s/g,"-"),t=t.toLowerCase(),t},R=n(31),D=n(35),L=n(83),N=n(232),B=n(175),F=n(37),z=n(414);const H=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r="";r=!0===t?"/shoteditor/".concat(e,"/preview"):"/edpresso/".concat(i),n.push(r)},U=(e,t)=>async n=>{const i=await Object(y.x)(t);return n(((e,t)=>async n=>{t=JSON.parse(t),e.content.image_id=t.image_id;const{upload_url:i}=t;await Object(y.P)({upload_url:i,file:e.content.file}),delete e.content.file;const r={image_id:e.content.image_id,file:null};return n(v.updateContentState({hash:e.hash,data:r}))})(e,i))},q=e=>e.map(e=>e.content.image_id).filter(e=>e),W=(e,t,n,i)=>r=>{r(Object(j.b)(R.q,{status:"WAIT",text:"Starting to save"})),n(e,t,i)},V=(e,t,n,i)=>(r,o)=>{const{subjects:a,selectedWidget:s}=o(),l=s.get("selectedHash");let c=null,h=null;l>0&&(c=a.get(l),null!=c&&(h=c.getMode())),l>0&&null!=c&&"edit"===h?(e(t.bind(null,n,i)),r(Object(m.a)("BUMP_SUBJECT_VERSION")({hash:l}))):r(t(n,i))},G=e=>t=>{t(e())},K=(e,t,n,i,r,o)=>(s,l)=>{s(Object(j.c)(R.q,{status:"WAIT",text:"Optimizing shot to save"}));const{shotSummary:c}=l(),{shot_id:h}=r,d=c.toJS();if(!d.title)return new Promise((e,t)=>{t({message:"Can not save shot with an empty title"})});let u=t;u=JSON.stringify(u.concat((e=>{const t=[];let n;return e.forEach(e=>{"MxGraphWidget"===e.type&&e.content.path?(n=parseInt(e.content.path.split("/").slice(-1)[0],10),isNaN(n)||t.push(n)):"Columns"===e.type&&e.content.comps?e.content.comps.forEach(e=>{"MxGraphWidget"===e.type&&e.content.path&&(n=parseInt(e.content.path.split("/").slice(-1)[0],10),isNaN(n)||t.push(n))}):"CanvasAnimation"===e.type&&e.content.canvasObjects&&e.content.canvasObjects.forEach(e=>{if(e.canvasJSON){const i=JSON.parse(e.canvasJSON);i.objects&&i.objects.forEach(e=>{e.src&&(n=parseInt(e.src.split("/").slice(-1)[0],10),isNaN(n)||t.push(n))})}})}),t})(e)));const p=d.title?M(d.title):"",f={shotId:h,title:d.title?d.title:"",tags:d.tags?d.tags.toString():"",content:e,url:"publish"===i?p:"",docker:n,canonical_url:d.canonical_url||""},m=JSON.stringify(f);return s(Object(j.e)({status:"WAIT",text:"Saving shot"})),s(Object(y.E)(Object(a.a)({},f,{action:i,content:m,image_ids:u,eTag:o})))},Y=e=>t=>{t(Object(j.a)()),t(Object(j.b)(R.e,{onConfirm:e,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))},X=(e,t,n)=>async(i,r)=>{const{user:{info:{data:o}},subjects:a,dockerDetails:s}=r(),l=Object(F.fromJS)(Object(B.b)(s.toJS())),{shot_id:c}=e,h=Object(b.a)(a).toJS(),{comps:d,validImageIds:u,docker:p,action:f}=await i(((e,t,n,i,r)=>e=>new Promise((function(o,a){const s=[],l=[],c=[];for(let e=0;e<n.length;e+=1)if("Image"!==n[e].type&&"File"!==n[e].type||(l.push(n[e]),null===n[e].content.image_id&&n[e].content.file&&s.push(n[e])),n[e].content&&!n[e].content.comp_id){const t=Object(z.a)();n[e].content.comp_id=t,c.push({hash:n[e].hash,data:{comp_id:t}})}c.length>0&&v.updateContentStateMulti({payload:c},null);const h=[];if(s.length>0){e(Object(j.e)({status:"WAIT",text:"Uploading files and images"}));for(let n=0;n<s.length;n+=1)h.push(e(U(s[n],t)));Promise.all(h).then(()=>{const e=q(l);o({comps:n,validImageIds:e,docker:i})},t=>{console.error(t),a(t),e(Object(j.e)({status:"ERROR",text:"Uploading file or image failed. Please retry"}))})}else{const e=q(l);o({comps:n,validImageIds:e,docker:i,action:r})}})))(o.user_id,c,h,l,t));return i(K(d,u,p,f,e,n))},J=function e(t,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(r,o)=>{var a,s,l,c;const h=i?null===(a=o())||void 0===a?void 0:null===(s=a.edpresso)||void 0===s?void 0:null===(l=s.shots)||void 0===l?void 0:null===(c=l.data)||void 0===c?void 0:c[L.a]:D.B;try{await r(X(t,"all",h)),r(Object(j.e)({status:"SUCCESS",text:"Shot saved successfully"})),r(Object(m.a)("SHOT_SUMMARY_CHANGE")({dirty:!1})),r(v.resetDirtyBit())}catch(p){var d;console.log(p);const i=null===p||void 0===p?void 0:null===(d=p.responseJSON)||void 0===d?void 0:d.errorText;let o="Unable to save";if(p.status===N.c.AlreadyExistsException&&i===N.b.versionOutDatedMessage)r(Y(()=>r(e(t,n,!1))));else{var u;if(null===p||void 0===p?void 0:null===(u=p.responseJSON)||void 0===u?void 0:u.errors){const e=p.responseJSON.errors,t=Object.keys(e);t.length&&e[t[0]]&&(o=e[t[0]])}Object(P.a)(p,r),r(Object(j.e)({status:"ERROR",text:i||p.message||o}))}}}},$=function e(t,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(r,o)=>{var a,s,l,c;const{shot_id:h}=t,d=i?null===(a=o())||void 0===a?void 0:null===(s=a.edpresso)||void 0===s?void 0:null===(l=s.shots)||void 0===l?void 0:null===(c=l.data)||void 0===c?void 0:c[L.a]:D.B;try{await r(X(t,"send_for_review",d)),r(Object(j.e)({status:"WAIT",text:"Submitting shot"})),r(Object(j.e)({status:"SUCCESS",text:"Shot is submitted for review"})),H(h,!0,n)}catch(f){var u;console.log(f);const i=null===f||void 0===f?void 0:null===(u=f.responseJSON)||void 0===u?void 0:u.errorText;let o="Unable to submit";if(f.status===N.c.AlreadyExistsException&&i===N.b.versionOutDatedMessage)r(Y(()=>r(e(t,n,!1))));else{var p;if(null===f||void 0===f?void 0:null===(p=f.responseJSON)||void 0===p?void 0:p.errors){const e=f.responseJSON.errors,t=Object.keys(e);t.length&&e[t[0]]&&(o=e[t[0]])}Object(P.a)(f,r),r(Object(j.e)({status:"ERROR",text:i||f.message||o}))}}}},Z=function e(t,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(r,o)=>{var a,s,l,c;const{shot_id:h}=t,d=i?null===(a=o())||void 0===a?void 0:null===(s=a.edpresso)||void 0===s?void 0:null===(l=s.shots)||void 0===l?void 0:null===(c=l.data)||void 0===c?void 0:c[L.a]:D.B;try{await r(X(t,"publish",d)),r(Object(j.e)({status:"WAIT",text:"Publishing shot"})),r(Object(j.e)({status:"SUCCESS",text:"Shot is now published"}));const{shotSummary:e}=o(),i=e.toJS(),a=i.title?M(i.title):"";H(h,!1,n,a)}catch(f){var u;console.log(f);const n=null===f||void 0===f?void 0:null===(u=f.responseJSON)||void 0===u?void 0:u.errorText;let i="Unable to publish";if(f.status===N.c.AlreadyExistsException&&n===N.b.versionOutDatedMessage)r(Y(()=>r(e(t,!1))));else{var p;if(null===f||void 0===f?void 0:null===(p=f.responseJSON)||void 0===p?void 0:p.errors){const e=f.responseJSON.errors,t=Object.keys(e);t.length&&e[t[0]]&&(i=e[t[0]])}Object(P.a)(f,r),r(Object(j.e)({status:"ERROR",text:n||f.message||i}))}}}},Q=function e(t,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(r,o)=>{var a,s,l,c;const{shot_id:h}=t,d=i?null===(a=o())||void 0===a?void 0:null===(s=a.edpresso)||void 0===s?void 0:null===(l=s.shots)||void 0===l?void 0:null===(c=l.data)||void 0===c?void 0:c[L.a]:D.B;try{await r(X(t,"all",d)),r(Object(j.e)({status:"SUCCESS",text:"Shot saved successfully"})),r(Object(m.a)("SHOT_SUMMARY_CHANGE")({dirty:!1})),r(v.resetDirtyBit()),H(h,!0,n)}catch(f){var u;console.log(f);const n=null===f||void 0===f?void 0:null===(u=f.responseJSON)||void 0===u?void 0:u.errorText;let i="Unable to save";if(f.status===N.c.AlreadyExistsException&&n===N.b.versionOutDatedMessage)r(Y(()=>r(e(t,!1))));else{var p;if(null===f||void 0===f?void 0:null===(p=f.responseJSON)||void 0===p?void 0:p.errors){const e=f.responseJSON.errors,t=Object.keys(e);t.length&&e[t[0]]&&(i=e[t[0]])}Object(P.a)(f,r),r(Object(j.e)({status:"ERROR",text:n||f.message||i}))}}}},ee=(e,t)=>n=>{n(Object(j.b)(R.q,{status:"WAIT",text:"Deleting shot"})),Object(y.l)(e).then(()=>{n(Object(j.e)({status:"SUCCESS",text:"Shot deleted"})),t.push("/create-shot",{isDeleted:!0})}).catch(e=>{console.log(e),Object(P.a)(e,n),n(Object(j.e)({status:"ERROR",text:"Unable to delete"}))})},te=e=>t=>{t(Object(j.b)(R.q,{status:"WAIT",text:"Un-Publishing Shot"})),Object(y.N)(e).then(()=>{t(Object(j.e)({status:"SUCCESS",text:"Shot unpublished"}))}).catch(e=>{console.log(e),Object(P.a)(e,t),t(Object(j.e)({status:"ERROR",text:"Unable to un-publish"}))})},ne=(e,t,n)=>V(e,J,t,n),ie=(e,t,n)=>V(e,$,t,n),re=(e,t,n)=>V(e,Z,t,n),oe=(e,t,n)=>V(e,Q,t,n),ae=(e,t,n)=>V(e,J,t,n),se=function(e,t){let{setPendingAction:n=(()=>{}),routeParams:i}=e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(e,o)=>{"string"===typeof t&&e(Object(m.a)(t)(r)),e(ae(n,i))}},le=(e,t)=>n=>{const i=t.file.name.split(" ").join("-"),r="/api/edpresso/editor/shot/".concat(e,"/containers/").concat(i,"/get_upload_url");return n(Object(A.a)({isLoaded:!1,isLoading:!0})),Object(I.a)({url:r,type:"GET"},!0).then(e=>{let{data:t}=e;return JSON.parse(t)}).then(e=>{let{gcs_object_name:r,container_id:o=-1,blob_upload_url:s,upload_success_url:l,build_status_url:c,tarball_download_url:h,build_log_url:d,rebuild_image_url:u}=e;const p={onUploadSuccess:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.a;return e({url:l,type:"POST",data:{gcs_object_name:r}},!0)},upload:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.a;return e({url:s,type:"POST",data:t.file,processData:!1,contentType:t.file.type})},id:o,buildStatusUrl:c,tarballDownloadUrl:h,buildLogUrl:d,rebuildImageUrl:u},f={name:i,size:t.file.size,awaitingUpload:!0};n(Object(m.a)("SET_DOCKER_FILE")(Object(a.a)({},t,{},p,{file:f}))),n(Object(A.a)({isLoaded:!0,isLoading:!1}))}).catch(e=>{n(Object(A.a)({isLoaded:!1,isLoading:!1}))})},ce=e=>{let{setPendingAction:t,routeParams:n,upload:i=(()=>{}),onUploadSuccess:r=(()=>{})}=e;return e=>(e(Object(m.a)("UPDATE_DOCKER_CONTAINER_BUILD_STATUS")({buildStatus:"UPLOADING"})),i().then(()=>r()).then(e=>JSON.parse(e.data)).then(i=>{let{image_name:r="default_name"}=i;e(se({setPendingAction:t,routeParams:n},"AFTER_DOCKER_FILE_UPLOAD",{imageName:r,buildStatus:"PENDING"})),e(Object(j.b)(R.q,{status:"SUCCESS",text:"Docker Image build has been queued!!"}))}).catch(t=>{e(Object(m.a)("UPDATE_DOCKER_CONTAINER_BUILD_STATUS")({buildStatus:"FAILURE"})),e(Object(j.b)(R.q,{status:"ERROR",text:"Uploading Docker File failed"}))}))};var he=n(485),de=n(648),ue=n(817),pe=n.n(ue),fe=n(182),me=n.n(fe),ge=n(2368),ve=n.n(ge),be=n(1714),ye=n(647),_e=n(1671),xe=n(1674),we=n(1704),Ce=n(256),Se=n(426),Ee=n(857),ke=n(386),Oe=n(253),Te=n(542),Ae=n(174),Ie=n(425),je=n(27),Pe=n(116),Me=n(77),Re=n(52),De=n(2297),Le=n(2191),Ne=n(495),Be=n(1),Fe=n(1785),ze=n(942),He=n(21),Ue=n(18),qe=n(612),We=n(12);const Ve=Be.d.div.withConfig({displayName:"styles__EditorPageSummaryStyled",componentId:"sc-16dnzqt-0"})(["margin-top:20px;margin-right:15px;"]),Ge=Be.d.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-16dnzqt-1"})(["padding:0 5px;margin-bottom:0;input{margin-left:5px;}"]),Ke=Object(Be.d)(e=>{let{borderOnFocus:t,isError:n}=e,i=Object(je.a)(e,["borderOnFocus","isError"]);return l.a.createElement(Fe.a,i)}).withConfig({displayName:"styles__Title",componentId:"sc-16dnzqt-2"})(["margin:0 10px 0 0;font-weight:",";color:",";font-size:",";outline:none;border:none;resize:none;width:100%;"," ",""],He.g,e=>{let{theme:t}=e;return t.palette.common.black},We.a.h3,e=>e.borderOnFocus&&Object(Be.c)(["border:1px solid transparent;border-color:",";padding-left:12px;padding-top:4px;border-radius:",";transition:0.2s;:hover{border-color:",";}:focus{border-color:",";}"],e=>{let{theme:t}=e;return t.palette.grey[200]},Ue.r,e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[300]}),e=>e.isError&&Object(Be.c)(["border:1px solid;border-color:",";:hover,:focus{border-color:",";}"],e=>{let{theme:t}=e;return t.palette.error.main},e=>{let{theme:t}=e;return t.palette.error.main})),Ye=Object(Be.d)(ze.a).withConfig({displayName:"styles__UrlSlug",componentId:"sc-16dnzqt-3"})(["margin:20px 10px 10px 0;color:",";font-size:",";border-radius:",";padding:10px 25px;height:45px;outline:none;border:1px solid ",";resize:none;width:100%;:hover,:focus{border-color:",";}"],e=>{let{theme:t}=e;return t.palette.common.black},We.a.textLarge,Ue.r,e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[300]}),Xe=Object(Be.d)(ze.a).withConfig({displayName:"styles__CanonicalUrl",componentId:"sc-16dnzqt-4"})(["margin:20px 10px 10px 0;color:",";font-size:",";border-radius:",";padding:10px 25px;height:45px;outline:none;border:1px solid ",";resize:none;width:100%;:hover,:focus{border-color:",";}"],e=>{let{theme:t}=e;return t.palette.common.black},We.a.textLarge,Ue.r,e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[300]}),Je=Object(Be.d)(ze.a).withConfig({displayName:"styles__AuthorName",componentId:"sc-16dnzqt-5"})(["margin:20px 10px 10px 0;color:",";font-size:",";border-radius:",";padding:10px 25px;height:45px;outline:none;border:1px solid ",";resize:none;width:100%;:hover,:focus{border-color:",";}"],e=>{let{theme:t}=e;return t.palette.common.black},We.a.textLarge,Ue.r,e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[300]}),$e=Object(Be.d)(ze.a).withConfig({displayName:"styles__PublishedDate",componentId:"sc-16dnzqt-6"})(["margin:20px 10px 10px 0;color:",";font-size:",";border-radius:",";padding:10px 25px;height:45px;outline:none;border:1px solid ",";resize:none;width:100%;:hover,:focus{border-color:",";}"],e=>{let{theme:t}=e;return t.palette.common.black},We.a.textLarge,Ue.r,e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[300]}),Ze=Object(Be.d)(qe.c).attrs({borderOnFocus:!0}).withConfig({displayName:"styles__Description",componentId:"sc-16dnzqt-7"})(["padding-left:10px;width:100%;height:140px;resize:none;margin-top:10px;border:1px solid ",";"],e=>{let{theme:t}=e;return t.palette.grey[200]}),Qe=Object(Be.d)(qe.a).withConfig({displayName:"styles__CharLimitText",componentId:"sc-16dnzqt-8"})(["display:flex;justify-content:flex-end;"]);Be.d.div.withConfig({displayName:"styles__AuthorBlockEditContainer",componentId:"sc-16dnzqt-9"})(["margin-bottom:20px;"]);var et=Ve,tt=n(15);const nt={hasQuickPendingAction:!0,getAuthorProfile:!0,hasCover:!0,showSettingsBtn:!0,setQuickPendingActionOnMount:!0,showAuthor:!0,showDelete:!1,coverImageAction:y.o,blockLocation:e=>{var t;const n=e.pathname.endsWith("/draft"),i=e.pathname.startsWith("/page"),r=null===e||void 0===e?void 0:null===(t=e.state)||void 0===t?void 0:t.isDeleted;return n||i||r},coverImagePath:e=>"/api/author/page/".concat(e.page_id,"/image"),reportSaveEvent:()=>{Object(tt.c)(tt.b.TUTORIAL,tt.a.TUTORIAL_SAVE)},reportPublishEvent:()=>{Object(tt.c)(tt.b.TUTORIAL,tt.a.TUTORIAL_PUBLISH)},loadPageData:(e,t)=>{e(t.page_id)}},it={pageIdAlias:"shot_id",showSettingsBtn:!0,settingsButtonModalType:R.x,blockLocation:e=>{var t;const n=e.pathname.endsWith("/preview"),i=e.pathname.startsWith("/edpresso/"),r=null===e||void 0===e?void 0:null===(t=e.state)||void 0===t?void 0:t.isDeleted;return n||i||r},shouldRenderUnpublishBtn:e=>{const{userInfo:t}=e;return!!(null===t||void 0===t?void 0:t.can_publish_edpresso_shot)},shouldRenderSubmitBtn:e=>{const{userInfo:t}=e;return!(null===t||void 0===t?void 0:t.can_publish_edpresso_shot)},shouldRenderPublishBtn:e=>{const{userInfo:t}=e;return!!(null===t||void 0===t?void 0:t.can_publish_edpresso_shot)},shouldDisableDeleteBtn:e=>{var t;const{userInfo:n,properties:i,contentLoaded:r}=e,o=null===n||void 0===n?void 0:n.can_publish_edpresso_shot,a=null===i||void 0===i?void 0:null===(t=i.data)||void 0===t?void 0:t.status;return!r||!o&&a===D.o.PUBLISHED_INSTANCE},showNavAwayWarning:e=>{var t,n;const i=!!(null===e||void 0===e?void 0:null===(t=e.pageInfoData)||void 0===t?void 0:t.loading),r=!!(null===e||void 0===e?void 0:null===(n=e.pageInfoData)||void 0===n?void 0:n.loaded);return!i&&r},shouldDisableUnpublishBtn:e=>{var t,n;return(null===e||void 0===e?void 0:null===(t=e.properties)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.status)!==D.o.PUBLISHED_INSTANCE},reportSaveEvent:()=>{Object(tt.c)(tt.b.SHOT,tt.a.SHOT_SAVE)},reportPublishEvent:()=>{Object(tt.c)(tt.b.SHOT,tt.a.SHOT_PUBLISH)},loadPageData:(e,t)=>{e(t.shot_id)}},rt={hasCover:!0,loadTestimonials:!0,pageIdAlias:"editor_page_id",coverImageAction:y.w,blockLocation:e=>{var t,n,i;const r=null===e||void 0===e?void 0:null===(t=e.state)||void 0===t?void 0:t.isDeleted,o=null===e||void 0===e?void 0:null===(n=e.state)||void 0===n?void 0:n.isPreview,a=null===e||void 0===e?void 0:null===(i=e.state)||void 0===i?void 0:i.isPublish;return o||r||a},coverImagePath:e=>"/api/page/".concat(e.editor_page_id,"/image/download"),reportSaveEvent:()=>{Object(tt.c)(tt.b.EDITOR_PAGE,tt.a.EDITOR_PAGE_SAVE)},loadPageData:(e,t)=>{e(t.editor_page_id)}},ot={hasCover:!0,pageIdAlias:"editor_page_id",loadTestimonials:!0,coverImageAction:y.w,blockLocation:e=>{var t,n,i;const r=null===e||void 0===e?void 0:null===(t=e.state)||void 0===t?void 0:t.isDeleted,o=null===e||void 0===e?void 0:null===(n=e.state)||void 0===n?void 0:n.isPreview,a=null===e||void 0===e?void 0:null===(i=e.state)||void 0===i?void 0:i.isPublish;return o||r||a},coverImagePath:e=>"/api/page/".concat(e.editor_page_id,"/image/download"),reportSaveEvent:()=>{Object(tt.c)(tt.b.EDITOR_PAGE,tt.a.EDITOR_PAGE_SAVE)},loadPageData:(e,t)=>{e(t.editor_page_id)}},at={maxTags:3,minTagLength:3,maxTagLength:24,title:"title",showMaintainAspectRatio:!1,description:"description",autoCompleteTags:!1,canUserAddCanonicalUrl:()=>!0},st={[D.D.COLLECTION]:Object(a.a)({},at,{},{hasPropsTitle:!0,hideImageAndAuthor:!0}),[D.D.TUTORIAL]:Object(a.a)({},at,{},{pageToc:"pageTocEnabled",hasPricing:!0,hasIsError:!0,hasAuthorBlock:!0}),[D.D.MARKETING_PAGE]:Object(a.a)({},at,{},{title:"marketing_page_title",description:"marketing_page_summary",url:"marketing_page_url",hasAuthorBlock:!0,maxTags:5,defaultFontMarkdown:!0,showMaintainAspectRatio:!0}),[D.D.BLOGS]:Object(a.a)({},at,{},{title:"marketing_page_title",description:"marketing_page_summary",author_name:"author_name",published_date:"published_date",url:"marketing_page_url",canonical_url:"canonical_url",hasNarrowWidth:!0,hasAuthorBlock:!0,showMaintainAspectRatio:!0,maxTags:5,defaultFontMarkdown:!0}),[D.D.SHOT]:Object(a.a)({},at,{},{hasNarrowWidth:!0,defaultFontMarkdown:!0,hasNoDescription:!0,canonical_url:"canonical_url",canUserAddCanonicalUrl:e=>null===e||void 0===e?void 0:e.can_publish_edpresso_shot,maxTags:5,minTagLength:1,autoCompleteTags:!0})},lt={showLastSavedLink:!1,showSettingsBtn:!1,showDelete:!0,settingsButtonModalType:R.b,containerId:"",pageIdAlias:"page_id",hasQuickPendingAction:!1,hasConstructorPageTitle:!1,reportSaveEvent:()=>{},reportPublishEvent:()=>{},shouldRenderUnpublishBtn:()=>!0,shouldRenderSubmitBtn:()=>!1,shouldRenderPublishBtn:()=>!0,shouldDisableDeleteBtn:()=>!1,shouldDisableUnpublishBtn:()=>!1,loadPageData:()=>{},showNavAwayWarning:()=>!0},ct={[D.D.COLLECTION]:Object(a.a)({},lt,{},{showSettingsBtn:!0,showLastSavedLink:!0,showDelete:!1,hasQuickPendingAction:!0,hasConstructorPageTitle:!0,checkPageSize:!0,hasDepletedCover:!0,setQuickPendingActionOnMount:!0,containerId:"handleEditArticleScroll",blockLocation:e=>{const t=e.pathname.endsWith("/draft"),n=e.pathname.endsWith("/versions");return t||n},shouldRenderPublishBtn:()=>!1,loadPageData:(e,t)=>{e(t.author_id,t.collection_id,t.page_id)}}),[D.D.TUTORIAL]:Object(a.a)({},lt,{},nt),[D.D.MARKETING_PAGE]:Object(a.a)({},lt,{},rt),[D.D.BLOGS]:Object(a.a)({},lt,{},ot),[D.D.SHOT]:Object(a.a)({},lt,{},it)};class ht extends s.Component{constructor(e){super(e),this.updateSummary=()=>{const{pageSummary:e,pageTitle:t,handlePageSummaryChange:n}=this.props,{config:i}=this;let{title:r}=i;r=e?e.get(r):"",r=void 0===r||"undefined"===r?"":r,this.title&&(this.title.value=i.hasPropsTitle?t:r);let{description:o}=i;i.description&&(o=e?e.get(o):"",o=void 0===o||"undefined"===o?"":o,this.description&&(this.description.value=o));let{url:a}=i;a&&(a=e?e.get(a):"",a=void 0===a||"undefined"===a?"":a,this.url&&(this.url.value=a));let{canonical_url:s}=i;s&&(s=e?e.get(s):"",s=void 0===s||"undefined"===s?"":s,this.canonical_url&&(this.canonical_url.value=s));let{author_name:l}=i;l&&(l=e?e.get(l):"",l=void 0===l||"undefined"===l?"":l,this.author_name&&(this.author_name.value=l));let{published_date:c}=i;c&&(c=e?e.get(c):"",c=void 0===c||"undefined"===c?"":c,this.published_date&&(this.published_date.value=c));let{pageToc:h}=i;h&&this.pageToc&&(h=!e||e.get(h),h=null==h||h,h!==this.pageToc.checked&&n({pageTocEnabled:h}))},this.handleTitleChange=e=>{const{pageSummary:t,pageTitle:n,handlePageSummaryChange:i}=this.props,{config:r}=this,o=r.title,a=r.hasPropsTitle?n:t.get(o);if(e.target.value!==a)if(r.hasPropsTitle)this.debouncedUpdateArticleTitle(e.target.value);else{i({[o]:e.target.value,dirty:!0})}},this.isError=()=>{const{pageSummary:e,pageTitle:t}=this.props,{config:n}=this,i=n.title,r=n.hasPropsTitle?t:e.get(i);let o=null;return r&&(o={title:!!(r.length>Re.m)}),o},this.handleSummaryChange=e=>{const{pageSummary:t}=this.props,{config:n}=this;if(e.target.value===t.get(n.description))return;const i={[n.description]:e.target.value,dirty:!0};this.debouncedHandlePageSummaryChange(i)},this.onTagsChange=e=>{const{handlePageSummaryChange:t}=this.props;t({tags:e,dirty:!0})},this.setRef=(e,t)=>{this[t]=e},this.handleSlugChange=e=>{const{handlePageSummaryChange:t,pageSummary:n}=this.props,{config:i}=this,r=e.target.value,o=M(r),a=i.url;o!==n.get(a)&&t({[a]:o,dirty:!0})},this.handleCanonicalUrlChange=e=>{const{handlePageSummaryChange:t,pageSummary:n}=this.props;e.target.value!==n.get(this.config.canonical_url)&&t({[this.config.canonical_url]:e.target.value,dirty:!0})},this.handleAuthorNameChange=e=>{const{handlePageSummaryChange:t,pageSummary:n}=this.props,{config:i}=this,r=e.target.value,o=i.author_name;r!==n.get(o)&&t({[o]:r,dirty:!0})},this.handlePublishedDateChange=e=>{const{handlePageSummaryChange:t,pageSummary:n}=this.props,{config:i}=this,r=e.target.value,o=i.published_date;r!==n.get(o)&&t({[o]:r,dirty:!0})},this.handleTocChange=()=>{const{handlePageSummaryChange:e,pageSummary:t}=this.props,{config:n}=this,i=n.pageToc;e({pageTocEnabled:!t.get(i),dirty:!0})},this.genTitleJSX=()=>{const{pageSummary:e,author:t,isDemo:n,saveTempData:i,onToggleMaintainAspectRatio:r,maintainAspectRatio:o,coverImage:a,pageTitle:s}=this.props,{config:c}=this,h=this.isError();let d=null;const u=e.toJS().title?e.toJS().title.length:0,p=s?s.length:0;h&&(d=h.title);const f=l.a.createElement("div",null,l.a.createElement(Ke,{placeholder:"Add Title",maxLength:Re.m,onChange:this.handleTitleChange,inputRef:e=>this.setRef(e,"title"),onKeyPress:this.ignoreEnter,borderOnFocus:!0,isError:d}),l.a.createElement(Qe,null,Re.m-(u||p)));if(!c.hasAuthorBlock)return f;const m=e.toJS()[c.title];return l.a.createElement(Le.a,{authorId:null===t||void 0===t?void 0:t.authorId,authorName:null===t||void 0===t?void 0:t.fullName,coverImage:a,saveTempData:i,onToggleMaintainAspectRatio:r,maintainAspectRatio:o,showMaintainAspectRatio:c.showMaintainAspectRatio,title:m||"",tags:c.hasNoTags&&[]||e.toJS().tags,isFullWidth:!0,showImageAndAuthor:!(c.hideImageAndAuthor||n),isEditorPage:c.editorCover},f)},this.genSummaryJSX=()=>{const{pageSummary:e={},userInfo:t}=this.props,{config:n}=this,{canUserAddCanonicalUrl:i}=n,r=!!n.url,o=!!n.canonical_url,a=!!n.author_name,s=!!n.published_date,c=!!n.pageToc,h=e.toJS(),d=this.genTitleJSX(),u=h.description?h.description.length:0;return l.a.createElement(et,null,d,!n.hasNoDescription&&l.a.createElement("div",null,l.a.createElement(Ze,{rows:"4",ref:e=>this.setRef(e,"description"),placeholder:"Add Summary Here",onChange:this.handleSummaryChange,maxLength:Re.l}),l.a.createElement(Qe,null,Re.l-u)),r&&l.a.createElement(Ye,{placeholder:"Set url slug",onBlur:this.handleSlugChange,ref:e=>this.setRef(e,"url"),onKeyPress:this.ignoreEnter,borderOnFocus:!0,maxLength:Re.n}),o&&i(t)&&l.a.createElement(Xe,{placeholder:"Set Canonical Url",onBlur:this.handleCanonicalUrlChange,ref:e=>this.setRef(e,"canonical_url"),onKeyPress:this.ignoreEnter,borderOnFocus:!0}),a&&l.a.createElement(Je,{placeholder:"Set Author Name",onBlur:this.handleAuthorNameChange,ref:e=>this.setRef(e,"author_name"),onKeyPress:this.ignoreEnter,borderOnFocus:!0,maxLength:Re.a}),s&&l.a.createElement($e,{placeholder:"Published Date (yyyy-mm-dd hh:mm)",onBlur:this.handlePublishedDateChange,ref:e=>this.setRef(e,"published_date"),onKeyPress:this.ignoreEnter,borderOnFocus:!0,maxLength:Re.p}),!n.hasNoTags&&l.a.createElement(De.a,{tags:h.tags,mode:"write",maxTags:n.maxTags,onChange:this.onTagsChange,minTagLength:n.minTagLength,maxTagLength:n.maxTagLength,autoCompleteTags:n.autoCompleteTags}),c&&l.a.createElement(Ge,null,l.a.createElement("label",{htmlFor:"TOC"},"Lesson Table of Content:",l.a.createElement("input",{ref:e=>this.setRef(e,"pageToc"),name:"tocToggle",type:"checkbox",checked:h.pageTocEnabled,onChange:this.handleTocChange}))))};const{handlePageSummaryChange:t,updateArticleTitle:n,type:i}=this.props;this.config=st[i],this.debouncedUpdateArticleTitle=me()(n,250),this.debouncedHandlePageSummaryChange=me()(t,250)}componentDidMount(){this.updateSummary()}componentDidUpdate(){this.updateSummary()}render(){const e=this.props,{type:t,handlePageSummaryChange:n,pageProperties:i,pageSummary:r,pageId:o,authorId:a,collectionId:s,comps:c,default_themes:h,aggressiveComponentSave:d,editToggleComponent:u,removeComponent:p,moveComponent:f,appendTextComponentAtEnd:m,updateContentState:g,addComponent:v,children:b,selectActive:y,unSelectAll:_,selectedHash:x,runPendingAction:w,isDraft:C,popoverContent:S,dispatch:E,userId:k,widgetsData:O,copyWidgetEvent:T,docker:A,userInfo:I,match:{params:j},saveTempData:P,isDemo:M,coverImage:R,author:D,apiKeys:L,properties:N,contentLoaded:B}=e,F=Object(je.a)(e,["type","handlePageSummaryChange","pageProperties","pageSummary","pageId","authorId","collectionId","comps","default_themes","aggressiveComponentSave","editToggleComponent","removeComponent","moveComponent","appendTextComponentAtEnd","updateContentState","addComponent","children","selectActive","unSelectAll","selectedHash","runPendingAction","isDraft","popoverContent","dispatch","userId","widgetsData","copyWidgetEvent","docker","userInfo","match","saveTempData","isDemo","coverImage","author","apiKeys","properties","contentLoaded"]),{config:z}=this,H={user_id:I.data?I.data.user_id:null,page_id:j.page_id||j.editor_page_id||j.shot_id||o};let U=null,q=null,W=null,V=null;if("tutorial"===t||"collection"===t)U=o;else if("marketing_page"===t||"blogs"===t)q=o;else if("shot"===t){var G;W=o,V=null===N||void 0===N?void 0:null===(G=N.data)||void 0===G?void 0:G.creatorId}const K={pageType:t,renderMode:"editor",addComponent:v,pageId:U,editorPageId:q,shotId:W,authorId:a||(null===D||void 0===D?void 0:D.authorId)||V,collectionId:s,pageProperties:i,config:{inEditor:!0},comps:c,default_themes:h,editToggleComponent:u,removeComponent:p,moveComponent:f,appendTextComponentAtEnd:m,updateContentState:g,selectActive:y,unSelectAll:_,selectedHash:x,aggressiveComponentSave:d,runPendingAction:w,isDraft:C,popoverContent:S,widgetsData:O,dispatch:E,userId:k,copyWidgetEvent:T,docker:A,lesson_info:H,apiKeys:L};let Y=F.pageTitle||r.get(z.title||"title")||"Educative | Untitled";Y+=" - Draft";const X=this.genSummaryJSX();return l.a.createElement(Me.j,null,l.a.createElement(Me.f,{hasNarrowWidth:!!z.hasNarrowWidth,defaultFontMarkdown:!!z.defaultFontMarkdown,name:B?"editor-page-loaded":""},l.a.createElement(Pe.a,{title:Y,meta:[{property:"og:title",content:Y}]}),X,l.a.createElement(Ne.a,Object.assign({},K,F)),l.a.createElement("div",{style:{marginBottom:80}}),b))}}ht.defaultProps={handlePageSummaryChange:()=>{},pageSummary:{},updateArticleTitle:null,pageTitle:null,author:null,coverImage:"",saveTempData:()=>{},onToggleMaintainAspectRatio:()=>{},maintainAspectRatio:!1,isDemo:null,scriptsLoadedFailed:null,pageProperties:null,onPagePropertyChange:null,pageId:null,authorId:null,collectionId:null,default_themes:null,aggressiveComponentSave:null,editToggleComponent:null,removeComponent:null,moveComponent:null,appendTextComponentAtEnd:null,updateContentState:null,addComponent:null,children:null,selectActive:null,unSelectAll:null,selectedHash:null,runPendingAction:null,isDraft:null,popoverContent:null,userId:null,docker:{},userInfo:null,match:null,apiKeys:null};var dt=n(443),ut=n(304),pt=n(58);Be.d.div.withConfig({displayName:"ShotEditor",componentId:"sc-1hslbdy-0"})([""]);const ft=Object(Be.d)(pt.a).attrs({danger:!0,small:!0}).withConfig({displayName:"ShotEditor__RemoveButton",componentId:"sc-1hslbdy-1"})(["padding-top:8px;align-self:center;width:200px;margin:10px;"]),mt=Object(Be.d)(pt.a).attrs({small:!0}).withConfig({displayName:"ShotEditor__DockerButton",componentId:"sc-1hslbdy-2"})(["padding-top:8px;align-self:center;width:200px;margin:10px;"]),gt=Object(Be.d)(ft).withConfig({displayName:"ShotEditor__UnpublishButton",componentId:"sc-1hslbdy-3"})([""]),vt=Be.d.div.withConfig({displayName:"ShotEditor__RemoveButtonWrap",componentId:"sc-1hslbdy-4"})(["text-align:center;margin:25px 0 40px;display:flex;"]),bt=Be.d.div.withConfig({displayName:"ShotEditor__DockerContainer",componentId:"sc-1hslbdy-5"})(["max-width:780px;margin:0 auto;"]);var yt=n(2289),_t=n(133),xt=n.n(_t),wt=n(129),Ct=n.n(wt);class St extends l.a.Component{constructor(e){super(e),this.state={pendingAction:null,popoverContent:null,cover_image:{},key:0,maintainAspectRatio:!1,showDockerSettings:!1},this.debouncedPasteWidgetEvent=me()(e=>{const{comps:t,selectedHash:n,addComponent:i}=this.props;try{const r=ve.a.AES.decrypt(e,D.d).toString(ve.a.enc.Utf8),o=Object(a.a)({},JSON.parse(r),{index:t.findIndex(e=>n===e.get("hash"))});"view"===o.data.mode&&i(o)}catch(r){console.warn("No valid widget copied!")}},250),this.copyWidgetEvent=e=>{const{dispatch:t}=this.props;if(e){const n=e.target.nodeName.toLowerCase();if(window.getSelection().toString()||"textarea"===n)return;const i=this.prepareWidgetToCopy();t(Object(ke.a)(i)),e.clipboardData.setData("text/plain",i),e.preventDefault(),this.setPopoverContent("Copied")}else{const e=this.prepareWidgetToCopy();pe()(e),t(Object(ke.a)(e)),this.setPopoverContent("Copied")}},this.pasteWidgetEvent=e=>{const t=e.target.nodeName.toLowerCase();if("textarea"===t||"input"===t)return;e.preventDefault();const n=e.clipboardData.getData("text/plain");this.debouncedPasteWidgetEvent(n)},this.actionAllowed=()=>{const{contentLoaded:e,contentLoading:t}=this.props,{config:{hasQuickPendingAction:n}}=this;let i=!(!e||t);return n&&(i=!(this.quickPendingAction||!e||t)),i},this.setPendingAction=e=>{this.setState({pendingAction:e})},this.resetPendingAction=()=>{this.quickPendingAction=!1,this.setState({pendingAction:null})},this.runPendingAction=()=>{const{pendingAction:e}=this.state,{runAnyAction:t}=this.props;e&&(t(e),this.setPendingAction(null))},this.keydownHandler=e=>{const t=e.metaKey,n=e.ctrlKey,i="s"===e.key,{contentLoaded:r}=this.props;if((t||n)&&i&&!e.shiftKey){e.preventDefault(),document.querySelector("#modal-container")?document.dispatchEvent(new Event("customModalSaveEvent")):r&&this.onSaveBtnClick()}else if(e.keyCode===Ct.a.codes.esc){const{comps:e,selectedHash:t}=this.props,n=document.getElementsByClassName("fullscreen_wrapper").length,i=e.findIndex(e=>t===e.get("hash"));"edit"!==e.get(i).toJS().mode||n||this.props.editToggleComponent({hash:t})}},this.editorPageAction=e=>{var t;if(!this.actionAllowed())return;const{config:{coverImagePath:n,hasCover:i,hasQuickPendingAction:r,hasDepletedCover:o}}=this,{match:{params:a},prepareEditorAction:s,saveAction:l,previewAction:c,publishAction:h,submitAction:d,versionsAction:u,history:p}=this.props,{maintainAspectRatio:f}=this.state;let m=this.state.cover_image;(null===(t=m)||void 0===t?void 0:t.metadata)&&(m=xt()(m,{metadata:{maintainAspectRatio:{$set:f}}}),this.setState({cover_image:m}));const g=!!n&&n(a);let v=null;e===D.n.SAVE?v=l:e===D.n.PREVIEW?v=c:e===D.n.PUBLISH?v=h:e===D.n.SUBMIT?v=d:e===D.n.VERSIONS&&(v=u);let b=[],y=[],_=[];i&&(b=[m,g],y=[this.onUploadCompleteCoverImage]),o&&(b=[{},""],y=[()=>{}]),r&&(_=[this.resetPendingAction]),s(...b,this.setPendingAction,...y,a,v,..._,p)},this.onDiscardBtnClick=()=>{const e=this.props.pageSummary.getIn(["dirty"])||this.props.areSubjectsDirty;if(!this.actionAllowed()||!e)return;const{getUserInfo:t,match:{params:n},getPageInfo:i,handlePageSummaryChange:r}=this.props,{loadPageData:o}=this.config;window.confirm(D.A)&&(t(),o(i,n),this.setState({discarded:!0}),this.updateArticleTitle(this.state.savedTitle),r({dirty:!1}),Object(v.resetDirtyBit)())},this.unpublish=e=>{e&&e.preventDefault();const{config:{pageIdAlias:t}}=this,{match:{params:n},unPublishAction:i}=this.props;i(n[t])},this.onDeleteBtnClick=e=>{e&&e.preventDefault();const{config:{pageIdAlias:t}}=this,{match:{params:n},deleteAction:i,history:r}=this.props;i(n[t],r,!0)},this.onSaveBtnClick=()=>{const{config:{reportSaveEvent:e}}=this,{type:t,pageSummary:n,docker:i}=this.props,{title:r}=n.toJS();this.setState({savedTitle:this.props.pageTitle}),e(),t===D.D.SHOT&&r&&this.uploadDockerFile(i),this.editorPageAction(D.n.SAVE)},this.onSettingsBtnClick=()=>{const{dispatch:e,match:{params:t}}=this.props,{config:{settingsButtonModalType:n}}=this;e(Object(j.b)(n,t))},this.onPublishBtnClick=()=>{const{config:{reportPublishEvent:e}}=this;e(),this.editorPageAction(D.n.PUBLISH)},this.getCustomButtons=()=>{const{isDemo:e}=this.props,t=this.props.pageSummary.getIn(["dirty"])||this.props.areSubjectsDirty,{config:{showLastSavedLink:n,showSettingsBtn:i,shouldRenderSubmitBtn:r,shouldRenderPublishBtn:o}}=this;return[!e&&n&&this.getLastSavedLink(),!e&&i&&{type:"secondary",text:"Settings",method:this.onSettingsBtnClick,icon:l.a.createElement(be.a,{size:20}),key:"Settings Button"},{type:"default",text:"Discard",method:this.onDiscardBtnClick,icon:l.a.createElement(ye.a,{size:20}),key:"Discard Button"},{type:"secondary",text:"Preview",method:()=>this.editorPageAction(D.n.PREVIEW),key:"Preview Button",icon:l.a.createElement(_e.a,{size:20})},{text:t?"Save*":"Save",method:this.onSaveBtnClick,key:"Save Button",icon:l.a.createElement(xe.a,{size:20})},!e&&o(this.props)&&{type:"primary",text:"Publish",key:"Publish Button",method:this.onPublishBtnClick,icon:"globeIcon"},!e&&r(this.props)&&{type:"primary",text:"Submit",key:"Submit Button",method:()=>this.editorPageAction(D.n.SUBMIT),icon:"globeIcon"}].filter(Boolean)},this.getLastSavedLink=()=>{var e;let t=null,n=null;if(null===(e=this.props)||void 0===e?void 0:e.lastModified){const{lastModified:e}=this.props;t=l.a.createElement("span",null,l.a.createElement("span",null,"Saved "),l.a.createElement(ut.a,{timestamp:e,relative:!0,filter:e=>e.toLowerCase(),interval:60})),n=l.a.createElement(we.a,{size:20})}return{type:"link",text:t,method:()=>this.editorPageAction(D.n.VERSIONS),icon:n,key:"Last Saved",to:"#",desktopOnly:!0}},this.onUpdateCoverImage=e=>{const{config:{coverImageAction:t,pageIdAlias:n}}=this,{match:{params:i},handlePageSummaryChange:r}=this.props,{author_id:o,collection_id:a,page_id:s}=i;let l=i[n];if(i.collection_id&&(l={author_id:o,collection_id:a,page_id:s}),!e.cover_image){const t={image:e.cover_thumbnail,file:e.cover_image,updated:!0};return this.setState({cover_image:t}),void r({dirty:!0})}t(l).then(t=>{const n=JSON.parse(t),i={image:e.cover_thumbnail,file:e.cover_image,image_id:n.image_id,metadata:e.metadata,upload_url:n.upload_url,updated:!0};this.setState({cover_image:i,maintainAspectRatio:!1}),r({dirty:!0})})},this.onToggleMaintainAspectRatio=e=>{this.setState({maintainAspectRatio:e})},this.onUploadCompleteCoverImage=e=>{this.setState({cover_image:e})},this.updateArticleTitle=e=>{const{match:{params:{page_id:t}},dispatch:n,handlePageSummaryChange:i}=this.props;n(Object(m.a)("UPDATE_ARTICLE_TITLE")({pageId:t,title:e})),i({dirty:!0})},this.renderContentEditor=()=>{const{config:{pageIdAlias:e,hasCover:t,showAuthor:n}}=this,{key:i,cover_image:r,maintainAspectRatio:o}=this.state,{match:{params:a},handlePageSummaryChange:s,isDemo:c,author:h,pageSummary:d,userInfo:u}=this.props,p=null===u||void 0===u?void 0:u.user_id,f=a[e];let m=null;var g,v;n&&(m={authorId:p,fullName:null===h||void 0===h?void 0:null===(g=h.profile)||void 0===g?void 0:null===(v=g.data)||void 0===v?void 0:v.full_name});return l.a.createElement(ht,Object.assign({},this.state,this.props,{key:i,runPendingAction:this.runPendingAction,copyWidgetEvent:this.copyWidgetEvent,isDraft:!0,userId:p,pageId:f,pageSummary:d,handlePageSummaryChange:s,isDemo:c,coverImage:t&&r.image,saveTempData:t&&this.onUpdateCoverImage,author:m,onToggleMaintainAspectRatio:this.onToggleMaintainAspectRatio,maintainAspectRatio:o}))},this.renderUnpublishBtn=()=>{const{config:{shouldRenderUnpublishBtn:e,shouldDisableUnpublishBtn:t}}=this;return e(this.props)?l.a.createElement(Oe.a,{popoverTitle:D.Q,handleConfirm:this.unpublish,hideOnConfirm:!0,confirmText:"",cancelText:"",danger:!0},l.a.createElement(gt,{danger:!0,small:!0,disabled:t(this.props),id:"unpublish-button"},"UNPUBLISH")):null},this.renderDeleteBtn=()=>{const{config:{shouldDisableDeleteBtn:e}}=this;return l.a.createElement(Oe.a,{popoverTitle:D.m,handleConfirm:this.onDeleteBtnClick,hideOnConfirm:!0,confirmText:"",cancelText:"",danger:!0},l.a.createElement(ft,{danger:!0,small:!0,disabled:e(this.props)},"DELETE"))},this.toggleDockerSettings=()=>{const{showDockerSettings:e}=this.state;this.setState({showDockerSettings:!e})};const{type:t}=this.props;this.config=ct[t],this.config.hasQuickPendingAction&&(this.quickPendingAction=!0),this.config.hasConstructorPageTitle&&(this.pageTitle=null)}getChildContext(){const{isDemo:e}=this.props;return{isDemo:e}}componentDidMount(){const{match:{params:e},dispatch:t,contentLoading:n,contentLoaded:i,getPageInfo:r,executionMetadata:o,userInfo:a}=this.props,{config:{setQuickPendingActionOnMount:s,loadPageData:l}}=this;if(this.setState({savedTitle:this.props.pageTitle}),this.props.type===D.D.SHOT&&t(Object(m.a)("SET_EDITOR_PAGE")({saveAfterAction:this.props.saveAfterAction,setDockerFile:this.props.setShotDockerFile,page:D.D.SHOT,params:{routeParams:e,setPendingAction:this.setPendingAction,shotId:e.shot_id}})),l(r,e),this.config.getAuthorProfile){const e=null===a||void 0===a?void 0:a.user_id;e&&t(Object(Ce.c)(e))}s&&!n&&i&&(this.quickPendingAction=!1),o.loaded||o.loading||t(Object(Se.b)()),this.closeHandler=e=>((this.props.pageSummary.getIn(["dirty"])||this.props.areSubjectsDirty)&&(e.preventDefault(),e.returnValue=D.A),e.returnValue),this.config.loadTestimonials&&t(Object(Ee.b)()),document.addEventListener("copy",this.copyWidgetEvent),document.addEventListener("paste",this.pasteWidgetEvent),document.addEventListener("keydown",this.keydownHandler),window.addEventListener("beforeunload",this.closeHandler)}componentDidUpdate(e){const{config:{hasConstructorPageTitle:t,checkPageSize:n,hasQuickPendingAction:i,loadPageData:r,pageIdAlias:o,hasCover:a}}=this,{match:{params:s},contentLoading:l,contentLoaded:c,pageSize:h,getPageInfo:d,history:u}=this.props,{discarded:p,key:f}=this.state,{cover_image_id:m}=this.props;if(a&&e.cover_image_id!==m){const{match:{params:e}}=this.props;let t=Object(Te.a)(!1,!0,null,e[o],m);e.editor_page_id&&(t=Object(Te.a)(!1,!0,null,null,m,null,null,e[o]));const n={image:this.props.cover_image_id?t:null,image_id:this.props.cover_image_id,metadata:this.props.cover_image_metadata,updated:!1},{cover_image_metadata:i}=this.props;this.setState({cover_image:n,maintainAspectRatio:null===i||void 0===i?void 0:i.maintainAspectRatio})}if(this.config.getAuthorProfile){var g,v,b;const{author:t,dispatch:n}=this.props,i=null===(g=e.userInfo)||void 0===g?void 0:g.user_id,r=null===(v=this.props.userInfo)||void 0===v?void 0:v.user_id;(null===t||void 0===t?void 0:null===(b=t.profile)||void 0===b?void 0:b.loaded)||i===r||n(Object(Ce.c)(r))}const{showNavAwayWarning:y}=this.config;if(y(this.props)&&!this.block&&(this.block=u.block((e,t)=>{const n=this.props.pageSummary.getIn(["dirty"])||this.props.areSubjectsDirty;return!((!this.config.blockLocation(e)||"PUSH"!==t)&&n)||D.A})),n&&!c&&e.pageSize!==h&&1===h&&r(d,s),p&&!l&&this.setState({key:f+1,discarded:!1}),i&&e.contentLoaded!==c&&!1===l&&!0===c&&(this.quickPendingAction=!1),t){const{pageInfoData:e}=this.props,t=e?e.toJS():{};var _,x,w;if(!this.pageTitle&&c)this.pageTitle=null===t||void 0===t?void 0:null===(_=t.instance)||void 0===_?void 0:null===(x=_.details)||void 0===x?void 0:null===(w=x.page_titles)||void 0===w?void 0:w[s.page_id]}}componentWillUnmount(){const{config:{hasQuickPendingAction:e,hasConstructorPageTitle:t}}=this,{clearPage:n,pageSummary:i}=this.props;if(e&&(this.quickPendingAction=!0),t){i.get("titleUpdated")||this.updateArticleTitle(this.pageTitle)}this.block&&this.block(),document.removeEventListener("copy",this.copyWidgetEvent),document.removeEventListener("paste",this.pasteWidgetEvent),document.removeEventListener("keydown",this.keydownHandler),window.removeEventListener("beforeunload",this.closeHandler),n()}prepareWidgetToCopy(){const{comps:e,selectedHash:t}=this.props,n=e.findIndex(e=>t===e.get("hash")),i=e.get(n);let r={index:0,data:Object(a.a)({},i.toJS(),{mode:"view"}),parentHash:"0"};return r=xt()(r,{data:{content:{comp_id:{$set:null}}}}),(r.data.iteration||r.data.iteration>=0)&&(r=xt()(r,{data:{$unset:["iteration"]}})),(r.data.hash||r.data.hash>=0)&&(r=xt()(r,{data:{$unset:["hash"]}})),ve.a.AES.encrypt(JSON.stringify(r),D.d)}setPopoverContent(e){this.setState({popoverContent:e}),setTimeout(()=>this.setState({popoverContent:!1}),3e3)}uploadDockerFile(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0===Object.keys(null!==n&&void 0!==n?n:{}).length)return;if(!(null===n||void 0===n?void 0:null===(e=n.container)||void 0===e?void 0:null===(t=e.file)||void 0===t?void 0:t.awaitingUpload))return;const i=Object(a.a)({setPendingAction:this.setPendingAction,routeParams:this.props.match.params},n.container,{},{authorId:this.props.userInfo.user_id,shotId:this.props.match.params.shotId});this.props.uploadDockerFile(i)}render(){const{config:{containerId:e,hasScrollRestoration:t,showDelete:n}}=this,{contentLoading:i,contentLoaded:r,deleteAction:o,unPublishAction:a}=this.props,s=l.a.createElement(Me.j,{id:e},l.a.createElement(Ae.a,{loading:i}),l.a.createElement(Ie.a,{buttons:this.getCustomButtons(),disabled:!r}),this.renderContentEditor(),this.props.type===D.D.SHOT&&l.a.createElement(he.a,null,this.state.showDockerSettings&&l.a.createElement(de.a,{classNames:"runnable",timeout:500},l.a.createElement(bt,null,l.a.createElement(yt.a,{type:D.D.SHOT})))),l.a.createElement(vt,null,this.props.type===D.D.SHOT&&l.a.createElement(mt,{primary:!0,small:!0,onClick:this.toggleDockerSettings},"DOCKER SETTINGS"),a&&this.renderUnpublishBtn(),n&&o&&this.renderDeleteBtn()));let c=s;return t&&(c=l.a.createElement(dt.a,{scrollId:"handleEditArticleScroll",render:()=>s})),c}}St.defaultProps={isDemo:!1,userInfo:{},pageSize:null,contentLoading:null,contentLoaded:null,cover_image_id:null,author:{},apiKeys:null,cover_image_metadata:null,selectedHash:"",getUserInfo:()=>{},lastModified:null,location:{},runAnyAction:()=>{},getPageInfo:()=>{},clearPage:()=>{},prepareEditorAction:()=>{},saveAction:()=>{},previewAction:()=>{},publishAction:()=>{},submitAction:()=>{},versionsAction:()=>{},deleteAction:null,unPublishAction:null,handlePageSummaryChange:()=>{},properties:{}};var Et=Object(h.f)(St),kt=n(439);n.d(t,"connector",(function(){return Tt})),n.d(t,"EditorPageDecoratorWithComments",(function(){return At}));const Ot=e=>t=>l.a.createElement(e,t),Tt=Object(c.b)(e=>{var t,n,i,r;let{user:{info:o,widgetsData:a},author:{collectionArticle:s,collection:l,page:c},editorPages:{editorPage:h},edpresso:{shots:d,properties:u},loader:p,author:f,subjects:m,pageSummary:g,editorPageSummary:v,shotSummary:y,selectedWidget:_,aggressiveComponentSave:x,executionMetadata:w,testimonials:C,ajaxMode:{enabled:S},dockerDetails:E}=e,k=null;if(!s.loading&&s.loaded){const{data:e}=s;k=e.lastModified}const O=null===h||void 0===h?void 0:null===(t=h.data)||void 0===t?void 0:null===(n=t.page_cover_image)||void 0===n?void 0:n.image_id,T=null===h||void 0===h?void 0:null===(i=h.data)||void 0===i?void 0:null===(r=i.page_cover_image)||void 0===r?void 0:r.metadata;return{loading:p.isLoading,userInfo:o,collection:l,userId:o?o.user_id:0,selectedHash:_.get("selectedHash"),comps:Object(b.a)(m),aggressiveComponentSave:x,widgetsData:a,pageSummary:g,executionMetadata:w,author:f,lastModified:k,areSubjectsDirty:m.get("dirty"),testimonials:C,pageSize:m.size,collectionProperties:!1===s.loading&&!0===s.loaded?s.data.pageProperties:{pageAlign:"center"},collectionContentLoading:s.loading,collectionContentLoaded:s.loaded,isDemo:!S,pageProperties:!c.loading&&c.loaded?c.data.pageProperties:{pageAlign:"center"},pageContentLoading:c.loading,pageContentLoaded:c.loaded,page_cover_image_id:!c.loading&&c.loaded?c.data.cover_image_id:null,page_cover_image_metadata:!c.loading&&c.loaded?c.data.cover_image_metadata:null,editorPage:h,editorPageSummary:v,editorPageProperties:!h.loading&&h.loaded&&{pageAlign:"center"},editorContentLoading:h.loading,editorContentLoaded:h.loaded,editor_cover_image_id:!h.loading&&h.loaded?O:null,editor_cover_image_metadata:!h.loading&&h.loaded?T:null,shots:d,properties:u,shotSummary:y,shotProperties:!d.loading&&d.loaded?d.data.shotProperties:{pageAlign:"center"},shotContentLoading:d.loading||u.loading,shotContentLoaded:d.loaded&&u.loaded,dockerDetails:E}},(e,t)=>Object(a.a)({},Object(d.bindActionCreators)(Object(a.a)({getUserInfo:p.c},v,{},f,{pagePropertyChange:y.z,getCollectionPage:(e,n,i)=>r=>r(w.c(e,n,i)).then(()=>r(Object(u.c)({author_id:e,collection_id:n,page_id:i,editorPageProps:!0,isDraft:!0,resetWidgetUserData:!1,history:t.history}))),clearCollectionPage:()=>e=>{e(w.a()),e(Object(u.a)())}},_,{},x,{getAuthorPage:C.c,clearArticlePage:C.a,getEditorPage:S.c,clearEditorPage:S.a},T,{},i,{getEdpressoShot:E.b,clearEdpressoShot:E.a},o,{},r),e),{dispatch:e}),(e,t,n)=>{const{type:i,match:{params:r}}=n,o=()=>{const t=e.collection;let n={};var i,r;t&&t.getIn(["instance","details","CodeThemes"])&&(n={Code:t.getIn(["instance","details","CodeThemes","Code"]),Markdown:t.getIn(["instance","details","CodeThemes","Markdown"]),RunJS:t.getIn(["instance","details","CodeThemes","RunJS"]),SPA:t.getIn(["instance","details","CodeThemes","SPA"]),isForced:null!==(i=null===(r=t.getIn(["instance","details","CodeThemes","isForced"]))||void 0===r?void 0:r.toJS())&&void 0!==i?i:kt.a});return n},s=()=>{const t=e.dockerDetails;return t?t.toJS():{}},l=e=>{const{match:{params:{page_id:i}}}=n,{dispatch:r}=t;r(Object(m.a)("UPDATE_ARTICLE_TITLE")({pageId:i,title:e})),r(Object(m.a)("PAGE_SUMMARY_CHANGE")({dirty:!0}))},c={aggressiveComponentSave:e.aggressiveComponentSave,comps:e.comps,areSubjectsDirty:e.areSubjectsDirty,executionMetadata:e.executionMetadata,selectedHash:e.selectedHash,userId:e.userId,userInfo:e.userInfo,widgetsData:e.widgetsData,testimonials:e.testimonials},h={addComponent:t.addComponent,default:t.default,dispatch:t.dispatch,editToggleComponent:t.editToggleComponent,getUserInfo:t.getUserInfo,moveComponent:t.moveComponent,removeComponent:t.removeComponent,runAnyAction:t.runAnyAction,selectActive:t.selectActive,unSelectAll:t.unSelectAll,updateContentState:t.updateContentState,updateContentStateMulti:t.updateContentStateMulti};let d=null,u=null;var p,f,g,v,b;i===D.D.COLLECTION?(d=Object(a.a)({},c,{contentLoading:e.collectionContentLoading,contentLoaded:e.collectionContentLoaded,lastModified:e.lastModified,loading:e.loading,pageInfoData:e.collection,pageProperties:e.pageProperties,pageSize:e.pageSize,pageSummary:e.pageSummary,default_themes:o(),authorId:r.author_id,collectionId:r.collection_id,docker:s(),pageTitle:null===(p=e.collection)||void 0===p?void 0:null===(f=p.toJS())||void 0===f?void 0:null===(g=f.instance)||void 0===g?void 0:null===(v=g.details)||void 0===v?void 0:null===(b=v.page_titles)||void 0===b?void 0:b[r.page_id],updateArticleTitle:l}),u=Object(a.a)({},h,{clearPage:t.clearCollectionPage,deleteAction:t.deleteSingleArticle,getPageInfo:t.getCollectionPage,handlePageSummaryChange:t.handlePageSummaryChange,pagePropertyChange:t.pagePropertyChange,prepareEditorAction:t.prepareToRunPageEditorAction,versionsAction:t.previewArticleVersionHistory,previewAction:t.previewCollectionArticle,saveAction:t.saveCollectionArticle})):i===D.D.TUTORIAL?(d=Object(a.a)({},c,{contentLoading:e.pageContentLoading,contentLoaded:e.pageContentLoaded,cover_image_id:e.page_cover_image_id,cover_image_metadata:e.page_cover_image_metadata,isDemo:e.isDemo,author:e.author,pageProperties:e.pageProperties,pageSummary:e.pageSummary}),u=Object(a.a)({},h,{clearPage:t.clearArticlePage,deleteAction:t.deleteSingleArticle,getPageInfo:t.getAuthorPage,handlePageSummaryChange:t.handlePageSummaryChange,pagePropertyChange:t.pagePropertyChange,prepareEditorAction:t.prepareToRunPageEditorAction,previewAction:t.previewPage,publishAction:t.publishPage,saveAction:t.savePage})):i===D.D.EDITOR_PAGE?(d=Object(a.a)({},c,{contentLoading:e.editorContentLoading,contentLoaded:e.editorContentLoaded,cover_image_id:e.editor_cover_image_id,cover_image_metadata:e.editor_cover_image_metadata,pageInfoData:e.editorPage,pageProperties:e.pageProperties,pageSummary:e.editorPageSummary}),u=Object(a.a)({},h,{clearPage:t.clearEditorPage,deleteAction:t.deleteSingleEditorPage,getPageInfo:t.getEditorPage,handlePageSummaryChange:t.handleEditorPageSummaryChange,prepareEditorAction:t.prepareToRunEditorPageEditorAction,unPublishAction:t.unPublishSingleEditorPage,previewAction:t.previewEditorPage,publishAction:t.publishEditorPage,saveAction:t.saveEditorPage})):i===D.D.SHOT&&(d=Object(a.a)({},c,{contentLoading:e.shotContentLoading,contentLoaded:e.shotContentLoaded,pageInfoData:e.shots,pageProperties:e.shotProperties,pageSummary:e.shotSummary,properties:e.properties,docker:s()}),u=Object(a.a)({},h,{clearPage:t.clearEdpressoShot,deleteAction:t.deleteSingleShot,getPageInfo:t.getEdpressoShot,handlePageSummaryChange:t.handleShotSummaryChange,prepareEditorAction:t.prepareToRunShotEditorAction,submitAction:t.submitShot,unPublishAction:t.unpublishSingleShot,previewAction:t.previewShot,publishAction:t.publishShot,saveAction:t.saveShot,saveAfterAction:t.saveAfterAction,setShotDockerFile:t.setShotDockerFile,uploadDockerFile:t.uploadDockerFile}));let y=i;"m"===r.pageType?y=D.D.MARKETING_PAGE:"blog"!==r.pageType&&"enterprise"!==r.pageType||(y=D.D.BLOGS);const _=Object(a.a)({},n,{type:y});return Object(a.a)({},d,{},u,{},_)});t.default=Object(h.f)(Tt(Ot(Et)));const At=Object(h.f)(Tt(Ot(Object(g.a)(Et))))},1077:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(153),a=n(30),s=n(426),l=n(1669),c=n(48),h=n(77),d=n(157),u=n(37),p=n(495),f=n(969),m=n(35),g=n(998),v=n(186),b=e=>{var t,n;let{comp:i=null,tags:o=[],content:a=[],shotId:s=null,authorId:l=null,isPreview:d=!1,url:b="",isLoggedIn:y=!1,shotLoaded:_=!1,title:x,isBookmarked:w,executionMetadata:C,docker:S={},user:E={},shotLikes:k,isLiked:O,savedShotsIconRef:T=null}=e,A=null;const I=null===E||void 0===E?void 0:null===(t=E.info)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.user_id;if(o&&o.length>0){A=("string"===typeof o?o.split(","):o).map(e=>r.a.createElement(f.a,{to:{pathname:"/edpresso",tagToSearch:e.toLowerCase()},key:e,isShot:!0},e))}return r.a.createElement(h.g,null,!d&&_&&r.a.createElement(g.a,{isBookmarked:w,isLiked:O,shotLikes:k,url:b,isLoggedIn:y,shotId:s,savedShotsIconRef:T}),r.a.createElement(v.o,null,x),r.a.createElement(c.G,{isShot:!0},A),r.a.createElement(p.a,{renderMode:"viewer",comps:u.fromJS(a),updateContentState:()=>{},shotId:s,executionMetadata:C,docker:S,pageType:m.D.SHOT,userId:I,isDraft:d,authorId:l,userApiKeys:E.userApiKeys}))},y=n(151),_=n(445),x=n(423);const w=Object(a.b)(e=>{let{edpresso:{relatedCourses:t}}=e;return{relatedCourses:t.loaded&&!t.loading?t.data.courses:[]}});class C extends i.Component{render(){const{relatedCourses:e,title:t}=this.props;let n=null;return e&&e.length>0&&(n=[r.a.createElement(v.i,{key:"edpresso_related_courses_heading"},r.a.createElement(v.f,null),r.a.createElement(v.n,{isRelated:!0},t)),r.a.createElement(y.e,{style:{display:"flex",justifyContent:"center",flex:"inherit"},restrictMaxWidths:!0,key:"edpresso_related_courses_grid"},r.a.createElement(x.a,{alignAtTop:!0,horizontal:!0,key:"1",showGradient:!1},e.map((e,t)=>r.a.createElement(_.a,{data:e,key:t,containedWidth:!0}))))]),n}}C.defaultProps={title:"Related Courses"};var S=Object(o.f)(w(C)),E=n(574);const k=Object(a.b)(e=>{let{edpresso:{relatedShots:t}}=e;return{relatedShots:t.loaded&&!t.loading?t.data.shots:[]}});class O extends i.Component{render(){const{relatedShots:e,title:t}=this.props;let n=null;return e&&e.length>0&&(n=[r.a.createElement(v.j,{key:"shot_title"},r.a.createElement(v.f,null),r.a.createElement(v.n,{isRelated:!0,isShot:!0},t)),r.a.createElement(E.a,{isViewer:!0,isRelated:!0,shots:e,key:"shot_contents"})]),n}}O.defaultProps={title:"Keep Exploring"};var T=Object(o.f)(k(O)),A=n(52),I=n(2187),j=n(588);var P=e=>{let{attributions:t}=e;const n=t.length?r.a.createElement(j.e,null,r.a.createElement(j.d,null,"Attributions:"),r.a.createElement(j.c,null,t.map((e,t)=>{let n="";return e.attributionLink&&(n=e.attributionLink.startsWith("http://")||e.attributionLink.startsWith("https://")?e.attributionLink:"//".concat(e.attributionLink)),r.a.createElement("li",{key:"".concat(e.attributionTitle,"_").concat(t)},r.a.createElement("span",null,n?r.a.createElement(j.b,{id:"attribution-".concat(t),href:n,target:"_blank"}," ",e.attributionTitle," by ",e.attributionAuthor):r.a.createElement("div",null,e.attributionTitle," by ",e.attributionAuthor)))}))):r.a.createElement("div",null);return r.a.createElement(j.g,null,n)};function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var D=r.a.createElement("g",{transform:"translate(-293 -626)",fill:"none"},r.a.createElement("g",{className:"coffee-beans"},r.a.createElement("path",{d:"M469.011 933.514l151.157 109.58c18.545 13.445 22.68 39.378 9.236 57.923l-109.58 151.157c-13.445 18.545-39.377 22.68-57.923 9.236l-151.157-109.58c-18.545-13.444-22.68-39.377-9.236-57.923l109.58-151.157c13.445-18.545 39.378-22.68 57.923-9.236z",fill:"#8D7047",opacity:.084}),r.a.createElement("path",{d:"M541.097 1076.706c-9.112 2.303-19.152-6.336-22.426-19.293-3.274-12.958 1.456-25.328 10.567-27.631l11.859 46.924zm3.52-.89c9.11-2.303 13.842-14.673 10.565-27.63-3.276-12.958-13.314-21.595-22.423-19.294l11.859 46.925zm-2.18 49.362c-5.926-7.293-2.321-20.038 8.05-28.468 10.37-8.43 23.585-9.347 29.511-2.054l-37.56 30.522zm2.29 2.807c5.927 7.294 19.152 6.373 29.51-2.054s13.978-21.174 8.052-28.468l-37.561 30.522z",fill:"#5A4528",opacity:.617})),r.a.createElement("rect",{height:141,width:141,fill:"#8D7047",opacity:.084,rx:21.678,transform:"rotate(35.94 553.5 716.5)",x:483,y:646}));const L=e=>{let{svgRef:t,title:n}=e,i=R(e,["svgRef","title"]);return r.a.createElement("svg",M({height:644,width:351,className:"beansBoxes",ref:t},i),n?r.a.createElement("title",null,n):null,D)},N=r.a.forwardRef((e,t)=>r.a.createElement(L,M({svgRef:t},e)));n.p;function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var z=r.a.createElement("g",{transform:"translate(-5 -21)",fill:"none"},r.a.createElement("path",{d:"M236.886 36.239l99.133 71.905c27.452 19.906 33.573 58.295 13.674 85.751l-71.853 99.197c-19.903 27.462-58.3 33.59-85.761 13.687a41.981 41.981 0 01-.013-.01l-99.124-71.918c-27.451-19.906-33.573-58.295-13.674-85.751l71.854-99.197c19.902-27.461 58.299-33.59 85.76-13.686l.013.009zM54.269 51.238l37.72 27.357c6.029 4.372 7.373 12.803 3.003 18.833L67.65 135.166c-4.371 6.032-12.804 7.378-18.836 3.006 0 0-.002 0-.003-.002l-37.717-27.359C5.064 106.44 3.72 98.008 8.09 91.978L35.432 54.24c4.372-6.032 12.805-7.378 18.836-3.006l.003.002zM122.142 23.174l11.264 8.17a8.253 8.253 0 011.837 11.525L127.08 54.14a8.253 8.253 0 01-11.528 1.838l-11.262-8.172a8.253 8.253 0 01-1.837-11.524l8.163-11.271a8.253 8.253 0 0111.526-1.84l.002.002z",fill:"#8D7047",opacity:.08}),r.a.createElement("ellipse",{cx:217.408,cy:174.672,fill:"#DBD2C6",rx:91.021,ry:91.046}),r.a.createElement("path",{d:"M104.522 206.272l27.38-10.554c5.122-1.973 10.873.579 12.847 5.7v.002l.006.024c1.973 5.121-.58 10.872-5.7 12.846l-27.38 10.555c-5.121 1.974-10.873-.578-12.847-5.7v-.002l-.006-.024c-1.972-5.121.58-10.872 5.7-12.845z",fill:"#DBD2C6"}),r.a.createElement("ellipse",{cx:214.875,cy:167.5,fill:"#FFF",rx:91.021,ry:91.046}),r.a.createElement("ellipse",{cx:214.875,cy:167.5,fill:"#37240C",opacity:.533,rx:74.635,ry:74.656}),r.a.createElement("ellipse",{cx:215.466,cy:166.685,fill:"#5A4528",opacity:.964,rx:66.758,ry:66.776}),r.a.createElement("path",{d:"M202.728 232.233c-36.19-7.036-59.827-42.087-52.792-78.288 7.034-36.2 42.076-59.85 78.27-52.809",fill:"#968875",opacity:.496}),r.a.createElement("path",{d:"M101.989 199.097l27.38-10.554c5.121-1.973 10.873.578 12.847 5.7v.002l.006.024c1.973 5.121-.58 10.872-5.7 12.846l-27.38 10.555c-5.121 1.973-10.873-.578-12.847-5.7v-.002l-.006-.024c-1.972-5.121.58-10.872 5.7-12.846z",fill:"#FFF"}));const H=e=>{let{svgRef:t,title:n}=e,i=F(e,["svgRef","title"]);return r.a.createElement("svg",B({height:298,width:357,className:"cup",ref:t},i),n?r.a.createElement("title",null,n):null,z)},U=r.a.forwardRef((e,t)=>r.a.createElement(H,B({svgRef:t},e)));n.p;var q=n(829),W=n(425),V=n(162),G=()=>r.a.createElement(V.a,{height:596,width:681,speed:1,primaryColor:"#f3f3f3",secondaryColor:"#E6E6E6"},r.a.createElement("rect",{width:"611",height:"38",rx:"4"}),r.a.createElement("rect",{x:"27",y:"119",width:"654",height:"21",rx:"4"}),r.a.createElement("rect",{x:"27",y:"150",width:"654",height:"21",rx:"4"}),r.a.createElement("rect",{x:"27",y:"179",width:"654",height:"21",rx:"4"}),r.a.createElement("rect",{x:"27",y:"513",width:"654",height:"21",rx:"4"}),r.a.createElement("rect",{x:"27",y:"544",width:"654",height:"21",rx:"4"}),r.a.createElement("rect",{x:"27",y:"575",width:"534",height:"21",rx:"4"}),r.a.createElement("rect",{x:"27",y:"179",width:"654",height:"21",rx:"4"}),r.a.createElement("rect",{x:"27",y:"179",width:"654",height:"21",rx:"4"}),r.a.createElement("rect",{x:"27",y:"208",width:"325",height:"21",rx:"4"}),r.a.createElement("rect",{x:"51",y:"254",width:"161",height:"21",rx:"4"}),r.a.createElement("rect",{x:"51",y:"282",width:"161",height:"21",rx:"4"}),r.a.createElement("rect",{x:"51",y:"310",width:"161",height:"21",rx:"4"}),r.a.createElement("rect",{x:"156",y:"358",width:"405",height:"116",rx:"4"}),r.a.createElement("rect",{x:"212",y:"47",width:"140",height:"33",rx:"4"}),r.a.createElement("rect",{x:"9",y:"47",width:"90",height:"33",rx:"4"}),r.a.createElement("rect",{x:"111",y:"47",width:"90",height:"33",rx:"4"})),K=()=>r.a.createElement(V.a,{height:571,width:342,speed:1,primaryColor:"#f3f3f3",secondaryColor:"#E6E6E6"},r.a.createElement("rect",{width:"342",height:"33",rx:"4"}),r.a.createElement("rect",{y:"42",width:"342",height:"33",rx:"4"}),r.a.createElement("rect",{x:"52",y:"86",width:"89",height:"33",rx:"4"}),r.a.createElement("rect",{x:"147",y:"86",width:"64",height:"33",rx:"4"}),r.a.createElement("rect",{x:"217",y:"86",width:"83",height:"33",rx:"4"}),r.a.createElement("rect",{x:"90",y:"125",width:"154",height:"33",rx:"4"}),r.a.createElement("rect",{x:"19",y:"197",width:"302",height:"20",rx:"4"}),r.a.createElement("rect",{x:"19",y:"225",width:"302",height:"20",rx:"4"}),r.a.createElement("rect",{x:"19",y:"253",width:"302",height:"20",rx:"4"}),r.a.createElement("rect",{x:"19",y:"281",width:"203",height:"20",rx:"4"}),r.a.createElement("rect",{x:"19",y:"309",width:"302",height:"20",rx:"4"}),r.a.createElement("rect",{x:"20",y:"337",width:"203",height:"20",rx:"4"}),r.a.createElement("rect",{x:"20",y:"386",width:"302",height:"20",rx:"4"}),r.a.createElement("rect",{x:"20",y:"414",width:"302",height:"20",rx:"4"}),r.a.createElement("rect",{x:"39",y:"452",width:"265",height:"119",rx:"4"})),Y=n(992),X=n(834),J=n(833),$=n(1),Z=n(5);const Q=$.d.div.withConfig({displayName:"styles__ShotContentStyled",componentId:"sc-1omu9ee-0"})(["margin-top:100px;"]),ee=$.d.div.withConfig({displayName:"styles__DesktopPlaceholder",componentId:"sc-1omu9ee-1"})(["height:596px;width:681px;@media (max-width:","){display:none;}"],Z.f.pixels),te=$.d.div.withConfig({displayName:"styles__MobilePlaceholder",componentId:"sc-1omu9ee-2"})(["height:571px;width:342px;@media (min-width:","){display:none;}"],Z.f.pixels);$.d.div.withConfig({displayName:"styles__ShotPlaceholderContent",componentId:"sc-1omu9ee-3"})(["width:680px;margin-top:20px;margin-left:-50px;@media (max-width:","){width:300px;margin-left:-10px;}@media (min-width:",") and (max-width:","){width:600px;margin-left:-110px;margin-top:25px;}"],Z.f.pixels,Z.f.pixels,Z.m.pixels);var ne=Q,ie=n(116),re=n(341),oe=n(141),ae=n(14),se=n(29),le=n(856),ce=n(547),he=n(389),de=n(150);const ue={fetchOnCompDidUpdate:!0,shotView:!1,hasUrl:!1,clearShot:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t=>{t(e?ce.a():le.a()),t(he.a()),t(X.a()),t(J.a())}}},pe={param:"shot_url",shotView:!0,isPreview:!1,dataAlias:"edpressoShotView",hasUrl:!0,bookmarkedCheck:!0,hasHelmet:!0,likesCheck:!0,likedCheck:!0,showEdpressoHeader:!0,loadShot:e=>(t,n)=>t(le.c(e)).then(()=>{var e,i,r,o,a;const{edpressoShotView:s}=n();if("undefined"!==typeof s.error)throw new Error("SHOT_NOT_LOADED");const l=null===s||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.shotId;if(!l)throw new Error("SHOT_CLEARED");const c=!!(null===(i=n())||void 0===i?void 0:null===(r=i.user)||void 0===r?void 0:null===(o=r.info)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.user_id);return(null===s||void 0===s?void 0:s.data)&&ce.d(s.data,l,c).then(e=>{t(Object(se.a)("SET_DOCKER_OBJECT")(e.docker))}),t(he.c(l))}).catch(e=>{const t=null===e||void 0===e?void 0:e.message;"SHOT_CLEARED"!==t&&"SHOT_NOT_LOADED"!==t&&Object(de.b)(e)}),loadInView:!0},fe={param:"shot_id",fetchOnCompDidUpdate:!1,isPreview:!0,dataAlias:"shots",hasButtonsPanel:!0,loadShot:e=>(t,n)=>t(ce.c(e)).then(()=>{var i,r,o,a;const{edpresso:{shots:s}}=n();if("undefined"!==typeof s.error)throw new Error("SHOT_NOT_LOADED");const l=!!(null===(i=n())||void 0===i?void 0:null===(r=i.user)||void 0===r?void 0:null===(o=r.info)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.user_id);return(null===s||void 0===s?void 0:s.data)&&ce.d(s.data,e,l).then(e=>{t(Object(se.a)("SET_DOCKER_OBJECT")(e.docker))}),t(he.c(e,!1))}).then(()=>{t(X.c(e,!0)),t(J.c(e,!0))}).catch(e=>{"SHOT_NOT_LOADED"!==(null===e||void 0===e?void 0:e.message)&&Object(de.b)(e)}),loadInView:!1};var me,ge,ve={[m.R.VIEW]:Object(ae.a)({},ue,{},pe),[m.R.PREVIEW]:Object(ae.a)({},ue,{},fe)};n.d(t,"EdpressoShotWithComments",(function(){return ye}));const be=Object(a.b)(e=>{let{edpresso:{properties:t,relatedCourses:n,relatedShots:i,shots:r},edpressoShotView:o,executionMetadata:a,user:s}=e;return{user:s,edpressoShotView:o,executionMetadata:a,shotProperties:t.loaded?t:null,relatedCourses:n,relatedShots:i,shots:r}})((ge=me=class extends i.Component{constructor(e){super(e),this.savedShotsIconRef=r.a.createRef(),this.loadEdpressoShot=()=>{const{executionMetadata:e,edpressoShotView:t}=this.props,{loadShot:n,shotView:i,param:r}=this.config;e.loaded||e.loading||this.props.dispatch(Object(s.b)());const{params:o}=this.props.match;i&&(t.loaded||t.loading)||this.props.dispatch(n(o[r]))},this.goToEdit=()=>{const{shot_id:e}=this.props.match.params,t="/shoteditor/".concat(e);this.props.history.push(t)};const{view_type:t}=this.props;this.config=ve[t]}componentDidMount(){this.loadEdpressoShot()}componentDidUpdate(){this.config.fetchOnCompDidUpdate&&this.loadEdpressoShot()}componentWillUnmount(){const{clearShot:e}=this.config;this.props.dispatch(e(this.config.isPreview))}getCustomButtons(){return[{type:"primary",text:"Edit",method:this.goToEdit,icon:r.a.createElement(l.a,{size:20}),key:"Edit Button"}]}render(){var e,t,n,i,o,a;const{relatedShots:s,relatedCourses:l,dispatch:u,userInfo:p,shotProperties:f,executionMetadata:m,user:g}=this.props,{dataAlias:y,hasUrl:_,bookmarkedCheck:x,likedCheck:w,likesCheck:C,hasButtonsPanel:E,hasHelmet:k,showEdpressoHeader:O,isPreview:M,loadInView:R}=this.config,D=this.props[y],L=D.loaded?D.data.content:[],B=D.loaded?D.data.title:"",F=D.loaded?D.data.tags:[],z=D.loaded?D.data.shotId:null,H=D.loaded?D.data.docker:{};let q=null;_&&(q=D.loaded&&D.data.url);const V=null===f||void 0===f?void 0:null===(e=f.data)||void 0===e?void 0:e.creatorId,$=null===f||void 0===f?void 0:null===(t=f.data)||void 0===t?void 0:t.creatorName,Z=(null===f||void 0===f?void 0:null===(n=f.data)||void 0===n?void 0:n.attributions)||[];let Q;Q=V?"/profile/view/".concat(V):"/";let ae=null,se=null,le=null,ce=null;ae=null===f||void 0===f?void 0:f.loaded,x&&(se=null===f||void 0===f?void 0:null===(i=f.data)||void 0===i?void 0:i.isBookmarkedByReader),w&&(le=null===f||void 0===f?void 0:null===(o=f.data)||void 0===o?void 0:o.isLikedByReader),C&&(ce=null===f||void 0===f?void 0:null===(a=f.data)||void 0===a?void 0:a.shotLikes);const he=R?r.a.createElement(r.a.Fragment,null,z&&r.a.createElement(re.a,{triggerOnce:!0,onChange:e=>{e&&!s.loaded&&u(Object(J.c)(z))}},r.a.createElement(T,null)),z&&r.a.createElement(re.a,{triggerOnce:!0,onChange:e=>{e&&!l.loaded&&u(Object(X.c)(z))}},r.a.createElement(S,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(S,null)),de=r.a.createElement(h.j,{bringToFront:!0},k&&r.a.createElement(ie.a,{title:B||oe.i,meta:[{property:"og:title",content:B||oe.i}]}),O&&r.a.createElement(Y.a,{isEdpressoShot:!0,isView:!0,userInfo:p,savedShotsIconRef:this.savedShotsIconRef}),r.a.createElement(v.q,{isPreview:M},r.a.createElement(N,null),r.a.createElement(U,null)),D.loading?r.a.createElement(ne,null,r.a.createElement(ee,null,r.a.createElement(G,null)),r.a.createElement(te,null,r.a.createElement(K,null))):r.a.createElement(b,{tags:F,title:B,content:L,shotId:z,url:q,isLoggedIn:!!p.user_id,executionMetadata:m,isBookmarked:se,isLiked:le,shotLikes:ce,shotLoaded:ae,docker:H,user:g,isPreview:M,authorId:V,savedShotsIconRef:this.savedShotsIconRef}),ae&&r.a.createElement(v.e,null,D.loaded&&!D.loading&&!(I.a.indexOf(V)>-1)&&r.a.createElement(v.d,null,r.a.createElement(v.n,{className:"italics"},"Contributor:"),r.a.createElement(c.e,{fullWidth:!0},r.a.createElement(v.k,{to:Q,className:"italics"},$))),r.a.createElement(P,{attributions:Z}),r.a.createElement(j.f,{id:"shot-license"},"License:"," ",r.a.createElement(j.i,{target:"_blank",rel:"noopener noreferrer",href:A.g},A.f))),r.a.createElement(v.p,null,he),r.a.createElement(d.a,{noTopPadding:!0}));return E?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{buttons:this.getCustomButtons()}),de):de}},me.defaultProps={edpressoShotView:null},ge));t.default=Object(o.f)(be);const ye=Object(q.a)(Object(o.f)(be))},1080:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(330),a=n(334),s=n(63),l=n(14),c=n(30),h=n(153),d=n(2286),u=n(28),p=n(31),f=n(246),m=n(1994),g=n(1),v=n(5),b=n(18),y=n(12),_=n(415);const x=g.d.div.withConfig({displayName:"styles__WidgetsPanelStyled",componentId:"l1rinq-0"})(["position:absolute;top:100%;left:0;width:auto;max-width:100%;white-space:nowrap;z-index:2;max-height:0;height:auto;transform:translate3d(0,0,0);transition:all 0.3s linear;overflow:hidden;background-color:",";box-shadow:0px 0px 10px ",";border-radius:",";margin-top:-100px;padding-left:10px;display:none;",";",";",";@media (min-width:","){",";}"],e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.alphas.black2},b.m,e=>{let{showPanel:t}=e;return t&&Object(g.c)(["max-height:700px;overflow-y:auto;border:1px solid ",";display:flex;"],e=>{let{theme:t}=e;return t.palette.grey[200]})},e=>{let{showAll:t,defCount:n}=e;return!t&&Object(g.c)(["margin-top:-50px;max-width:"," * ("," + "," * 2) + ",";"],n,"90px","4px","60px")},e=>{let{position:t}=e;if("bottom"===t)return Object(g.c)(["top:46px;"])},v.m.pixels,e=>{let{showPanel:t}=e;return t&&Object(g.c)(["max-height:700px;"])}),w=g.d.ul.withConfig({displayName:"styles__List",componentId:"l1rinq-1"})(["display:flex;justify-content:flex-start;flex-wrap:wrap;margin:0;padding:0;list-style:none;li{display:inline-flex;cursor:pointer;width:70px;flex-direction:column;justify-content:center;align-items:center;margin:0 ",";padding:5px 0 5px;.header-icon,.code-icon,.question-icon,.paint-brush-icon,.table-icon,.screen-icon,.font-icon{width:22px;height:22px;}.list-icon{width:22px;height:22px;fill:",";transform:rotate(90deg);}}.b-some-with-icon-icon{display:block;height:22px;color:",";}.text,.b-some-with-icon-text{font-size:",";text-align:center;color:",";text-transform:capitalize;}"],"4px",e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.main},y.a.textMedium,e=>{let{theme:t}=e;return t.palette.primary.main}),C=g.d.span.withConfig({displayName:"styles__ButtonText",componentId:"l1rinq-2"})(["text-align:center;font-size:",";"],y.a.textMedium),S=Object(g.d)(a.a).withConfig({displayName:"styles__PanelButton",componentId:"l1rinq-3"})(["text-transform:capitalize;font-size:",";max-width:",";"],y.a.textMedium,"60px"),E=Object(g.d)(_.a).withConfig({displayName:"styles__Loader",componentId:"l1rinq-4"})(["display:inline-flex;cursor:pointer;width:70px;flex-direction:column;justify-content:center;align-items:center;margin:0 4px;padding:5px 0 5px;"]);var k=x;const O=Object(c.b)(e=>{let{user:{info:t}}=e;return{userInfo:t}});class T extends i.Component{constructor(){super(...arguments),this.state={showAll:!1,defCount:Object(m.d)().length,allWidgets:Object(m.a)(),widgetBeingAdded:""},this.handleAddClick=async(e,t)=>{if(t.preventDefault(),t.stopPropagation(),this.state.widgetBeingAdded)return;this.setState({widgetBeingAdded:e.type});const{defaultVal:n}=await Object(m.c)(e.type),{index:i,addComponent:r,togglePanel:o}=this.props;"MarkdownPaste"===e.type?this.props.dispatch(Object(u.b)(p.l,{index:i})):r({parentHash:"0",data:n,index:i}),this.setState({widgetBeingAdded:""}),o()},this.onPanelClicked=e=>{e.stopPropagation()},this.onShowMoreClick=e=>{this.setState({showAll:!this.state.showAll})},this.isClickOutsidePanel=e=>{if(!this.props.showPanel)return;if(this.state.widgetBeingAdded)return;const t=document.getElementById("add-widget-button-".concat(this.props.index));Object(f.a)(t,e.target)||Object(f.a)(this.panelRef,e.target)||this.setState({showAll:!1},this.props.togglePanel())}}componentDidMount(){document.addEventListener("click",this.isClickOutsidePanel)}componentWillUnmount(){document.removeEventListener("click",this.isClickOutsidePanel)}render(){const{match:{params:e,url:t}}=this.props,{isDemo:n}=this.context,{showPanel:i,position:o,isEditorPage:a}=this.props,{showAll:s,defCount:c,allWidgets:h}=this.state,u=s?h:h.slice(0,c),p=["Carousel","Recruiting Cost Calculator","ActiveCampaign Form","Button Link","Testimonials",Boolean("undefined"!==typeof window&&document.getElementById("videoRecorderWidget"))&&"Video Recorder"].filter(Boolean),f=e.author_id&&e.collection_id&&e.page_id&&t.startsWith("/pageeditor"),m=e.shot_id&&t.startsWith("/shoteditor"),g=u.filter(e=>{let{disableInDemo:t}=e;return!(n&&t)}).map((e,t)=>{if(e.type===this.state.widgetBeingAdded)return r.a.createElement(E,{key:t});if(p.includes(e.title)&&!a)return!1;let n=()=>null;return"questionIcon"===e.icon?n=d.a.quizIcon:e.img&&(n=d.a[e.img.replace(".png","Icon").replace("-","")]),(f||"Android (Beta)"!==e.title)&&(f||m||"Terminal"!==e.title)&&(f||"Live App"!==e.title)?(e=Object(l.a)({},e,{customStyles:Object(l.a)({},e.customStyles,{opacity:this.state.widgetBeingAdded?"0.5":"1"})}),r.a.createElement("li",{key:t,onClick:this.handleAddClick.bind(this,e),style:e.customStyles},r.a.createElement(n,null)," ",r.a.createElement(C,null,e.title))):null}),v=s?"Less":"More";return r.a.createElement(k,{showPanel:i,showAll:s,defCount:c,position:o,ref:e=>this.panelRef=e,onClick:this.onPanelClicked},r.a.createElement(w,null,g),r.a.createElement(S,{link:!0,onClick:this.onShowMoreClick,text:v}))}}var A=Object(h.f)(O(T));var I=g.d.div.withConfig({displayName:"styles__AddWidgetButtonStyled",componentId:"sc-1enscww-0"})(["width:100%;background-color:"," !important;svg{width:20px;height:20px;}.btn-add{background-color:"," !important;color:gray;fill:gray;position:absolute;outline:none;box-shadow:0px 0px 8px ",";border-radius:",";padding:6px;.close-icon{fill:",";background-color:",";margin-bottom:1px;}.thin-plus-icon{fill:",";background-color:",";margin-bottom:1px;}&:hover,&:active,&.active,&:focus{background:",";.close-icon{fill:",";}.thin-plus-icon{fill:",";}}}"],e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.alphas.black2},b.q,e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.main});n.d(t,"default",(function(){return j}));class j extends i.Component{constructor(){super(...arguments),this.state={showPanel:!1},this.showHidePanelButtonClicked=e=>{e.stopPropagation(),this.setState({showPanel:!this.state.showPanel})},this.togglePanel=()=>{this.setState({showPanel:!this.state.showPanel})}}render(){const e={display:this.props.showButton?"block":"none"},{text:t,index:n,addComponent:i,panelPosition:l,isEditorPage:c}=this.props,{showPanel:h}=this.state;let d=s.thinPlus1;return h&&(d=s.closeIcon1),r.a.createElement(I,{style:e},r.a.createElement(a.a,{onClick:this.showHidePanelButtonClicked,className:"btn-add",id:"add-widget-button-".concat(n)},r.a.createElement(o.a,{icon:d,text:t})),r.a.createElement(A,{showPanel:h,index:n,position:l,addComponent:i,togglePanel:this.togglePanel,isEditorPage:c}))}}j.defaultProps={text:"",isEditorPage:!1}},1087:function(e,t,n){"use strict";n.r(t);var i=n(14),r=n(0),o=n.n(r),a=n(30),s=n(21),l=n(647),c=n(2178),h=n(2292),d=n(153);const u=Object(a.b)((e,t)=>{var n,i;let{edpresso:{properties:r}}=e;const o=((null===t||void 0===t?void 0:null===(n=t.location)||void 0===n?void 0:n.pathname)||"").match(/\/shoteditor\/(\d+)/),a=(null===r||void 0===r?void 0:null===(i=r.data)||void 0===i?void 0:i.attributions)||[];return{shotId:o&&o.length>1?parseInt(o[1],10):null,attributions:a}});class p extends r.Component{constructor(e){var t;super(e),t=this,this.getFormFieldsFromAttributions=e=>{let t=[];return e.forEach((e,n)=>{const i=n+1,r=this.makeForm(i,e.attributionTitle,e.attributionAuthor,e.attributionLink);t=t.concat(r)}),t},this.makeForm=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const a=[{name:"attributionLabel_".concat(e),type:"label",value:"Attribution",customStyle:{display:"flex",width:"100%",alignItems:"flex-end",justifyContent:"space-between",marginTop:e>1?"10%":"5%",fontWeight:s.g},icon:{iconDiv:o.a.createElement(l.a,{id:"delete-attribution-".concat(e),onClick:()=>t.deleteAttributionFields(e)})}},{name:"attributionTitle_".concat(e),type:"text",placeholder:"Attribution Title (Required)",optional:!1,initialValue:n},{name:"attributionAuthor_".concat(e),type:"text",placeholder:"Attribution Author (Required)",optional:!1,initialValue:i},{name:"attributionLink_".concat(e),type:"text",placeholder:"Attribution Link",optional:!0,initialValue:r,validate:e=>e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/)?{validation:!0}:{validation:!1,warning:"Invalid attribution link."}}];return a},this.addAttributionFields=e=>{e.preventDefault();const{formFields:t,attributionsCount:n}=this.state,i=n+1,r=this.makeForm(i);this.setState({formFields:t.concat(r),attributionsCount:i})},this.deleteAttributionFields=e=>{const{formFields:t}=this.state;this.setState({formFields:t.map(t=>t.name.endsWith(e.toString())?Object(i.a)({},t,{deleted:!0}):t)})},this.isDeletedField=e=>{const{formFields:t}=this.state;return t.some(t=>t.name.endsWith("_".concat(e))&&t.deleted)},this.onSubmit=e=>{const{shotId:t,dispatch:n}=this.props,i=new Array(this.state.attributionsCount).fill(void 0).map((t,n)=>!this.isDeletedField(n+1)&&{attribution_title:e["attributionTitle_".concat(n+1)],attribution_author:e["attributionAuthor_".concat(n+1)],attribution_link:e["attributionLink_".concat(n+1)]}).filter(Boolean);return n(Object(c.c)(t,i))},this.addButtonAndFilterDeletedFields=()=>{const{formFields:e}=this.state;let t=0,n=e.filter(e=>!e.deleted);n=n.map(e=>"label"===e.type?(t+=1,Object(i.a)({},e,{value:"".concat(e.value," ").concat(t)})):e);const r={name:"Add Attribution Button",type:"button",value:"Add Attribution",onClick:this.addAttributionFields,optional:!0};return[...n,r]},this.addInitialEmptyLabel=e=>{if(!e.some(e=>"text"===e.type&&!e.deleted)){return[{name:"InitialText",type:"label",value:"There are not any attributions, add one.",customStyle:{marginBottom:"-10px",marginTop:"10px"},icon:{}},...e]}return e};const{attributions:n}=e;this.state={formFields:this.getFormFieldsFromAttributions(n),attributionsCount:n.length}}render(){const{closeIcon:e,shotId:t}=this.props,n=this.addButtonAndFilterDeletedFields(),i=this.addInitialEmptyLabel(n);return o.a.createElement(h.a,{formControlId:"shot-settings-".concat(t),title:"Settings for the Edpresso Shot",formFields:i,closeIcon:e,submitText:"UPDATE",onSubmit:this.onSubmit,showSubmitStatus:!0,submitSuccessMessage:"Successfully saved the attributions info",submitErrorMessage:"An error occurred while saving the attributions info"})}}t.default=Object(d.f)(u(p))},1088:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(52),a=n(30),s=n(127),l=n(28),c=n(2004);const h=Object(a.b)(e=>{let{modals:t}=e;return{modals:t}});class d extends i.Component{constructor(){super(...arguments),this.state={submittedResult:null,waitingForAnswer:!1},this.inputRef=r.a.createRef(),this.handleClose=()=>{const{dispatch:e}=this.props;e(Object(l.a)())},this.handleSubmit=()=>{if(!this.inputRef.current)return;const{params:e}=this.props,t=this.inputRef.current.value;e.onSubmitClick(t).then(()=>{this.afterSubmit({text:"Course has been submitted for review",status:"success"})}).catch(()=>{this.afterSubmit({text:"Could not submit course for review",status:"error"})})},this.afterSubmit=e=>{const{dispatch:t}=this.props;this.setState({waitingForAnswer:!1,submittedResult:e},()=>setTimeout(()=>{t(Object(l.a)())},1e3))}}render(){const{submittedResult:e,waitingForAnswer:t}=this.state;return r.a.createElement(c.f,null,e?r.a.createElement(c.c,{success:"success"===e.status},e.text):null,e?null:[r.a.createElement(c.e,null,"Add comments or feedback"),r.a.createElement(c.a,{id:"submit_for_review_form",onSubmit:e=>e.preventDefault()},r.a.createElement(c.d,{maxLength:o.k,minLength:0,name:"message",placeholder:"Comments",required:!0,resizable:!0,inputRef:this.inputRef})),r.a.createElement(s.a,null,r.a.createElement(s.h,{onClick:this.handleSubmit,disabled:t},"Submit"),r.a.createElement(s.b,{onClick:this.handleClose,disabled:t},"Cancel")),r.a.createElement(c.b,null,"Your email will be shared with the reviewer.")])}}t.default=h(d)},1091:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(116),a=n(30),s=n(174),l=n(157),c=n(343),h=n(233),d=n(2166),u=n(85),p=n(271),f=n(141),m=n(15),g=n(81),v=n(2186),b=n(543),y=n(77),_=n(153),x=n(1688);const w=Object(a.b)(e=>({searchString:e.search.searchString}));class C extends i.Component{constructor(){super(...arguments),this.state={filterValue:null,currentTileView:this.props.cookies.get("authorDashboardView")||g.a.DEFAULT},this.onCreateCollection=()=>{Object(m.c)(m.b.CREATE,m.a.CREATE_NEW_COURSE),Object(p.d)().then(e=>{const{author_id:t,collection_id:n}=JSON.parse(e);this.props.history.push("/collectioneditor/".concat(t,"/").concat(n))})},this.onCreateArticle=()=>{Object(m.c)(m.b.CREATE,m.a.CREATE_NEW_TUTORIAL),Object(u.c)().then(e=>{const{page_id:t}=JSON.parse(e);this.props.history.push("/pageeditor/".concat(t))})},this.onFilterArticles=e=>{const t=e.target.value;this.setState({filterValue:t})},this.onTileViewChange=e=>{this.props.cookies.set("authorDashboardView",e),this.setState({currentTileView:e})}}renderPageStatusControl(){const{children:e}=this.props;return 1===r.a.Children.count(e)&&e.type===s.a?e:null}render(){const{filterValue:e}=this.state;let{currentTileView:t}=this.state;const{loading:n,userInfo:i,searchString:a}=this.props;let s=function(e,t){return t.filter(t=>!e||(null!==t.title&&t.title.toLowerCase().indexOf(e)>-1||null!==t.summary&&t.summary.toLowerCase().indexOf(e)>-1))}(a,this.props.articles);s=function(e,t){switch(e){case"drafts":return t.filter(e=>!e.is_published);case"published":return t.filter(e=>e.is_published);case"paid":return t.filter(e=>e.is_priced);case"free":return t.filter(e=>!e.is_priced);default:return t}}(e,s);const u=this.renderPageStatusControl();let p=[r.a.createElement(d.a,{tileView:t,type:"course",onClick:this.onCreateCollection,key:"create_course_button",responsiveListView:!0},"CREATE NEW COURSE"),r.a.createElement(d.a,{tileView:t,type:"tutorial",onClick:this.onCreateArticle,key:"create_tutorial_button",responsiveListView:!0},"CREATE NEW TUTORIAL")];return t===g.a.LIST&&(p=r.a.createElement(v.a,{responsiveListView:!0},p)),this.props.loaded?r.a.createElement(y.j,null,r.a.createElement(o.a,{title:f.k,meta:[{property:"og:title",content:f.k}]}),u,r.a.createElement(c.a,{mode:"author",filterArticles:this.onFilterArticles,tileView:t,onTileViewChange:this.onTileViewChange}),r.a.createElement(h.a,{mode:"write",articles:s,userInfo:i,courseCompletion:{},createCollection:this.onCreateCollection,createArticle:this.onCreateArticle,loading:n,tileView:t},p),r.a.createElement(l.a,null)):null}}t.default=Object(b.a)(!0)(Object(_.f)(Object(x.a)(w(C))))},1107:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(30),a=n(153),s=n(35),l=n(1072),c=n(271),h=n(37),d=n(503),u=n(573),p=n(56),f=n(77);const m=Object(o.b)(e=>{let{author:{collection:t,collectionArticle:n},user:{info:i}}=e;return{collection:t,userInfo:i,pageData:n}});class g extends i.Component{constructor(){super(...arguments),this.isReviewer=()=>"review"===this.props.collection.getIn(["instance","details","collaboration_mode"])}componentDidMount(){const{author_id:e,collection_id:t}=this.props.match.params,{history:n}=this.props;0===this.props.collection.size&&(this.props.dispatch(Object(c.h)({author_id:e,collection_id:t,is_draft_page:!0},n)),this.getCollectionArticle=!0)}componentDidUpdate(e){var t,n;if(!(null===(t=this.props)||void 0===t?void 0:null===(n=t.userInfo)||void 0===n?void 0:n.loaded))return;this.isReviewer()&&this.props.dispatch(createAction("CHANGE_NOTFOUND_STATE")(!0));const{author_id:i,collection_id:r}=this.props.match.params;e.collection.size!==this.props.collection.size&&0===this.props.collection.size&&(this.props.dispatch(Object(c.h)({author_id:i,collection_id:r,is_draft_page:!0},this.props.history)),this.getCollectionArticle=!0)}componentWillUnmount(){this.props.dispatch(Object(c.m)())}render(){var e;const{collection:t,userInfo:n,showSideBar:i,toggleSidebar:o,history:c}=this.props,{author_id:m,collection_id:g,page_id:v}=this.props.match.params,b={author_id:m,is_draft:!1,collection_id:g,collection:t,courseCompletion:{},percentCompleted:0,page_id:v,userInfo:n,noLessons:!1,goBackToCollectionEditor:()=>{c.push("/collectioneditor/".concat(m,"/").concat(g))},resetCollectionCompletionStatus:null,editMode:!0,show:i,toggleSidebar:o,contentLoading:null===(e=this.props.pageData)||void 0===e?void 0:e.loading},y=["instance","details","api_keys"],_=h.Iterable.isIterable(t.getIn(y))?t.getIn(y).toJS():[];return r.a.createElement(f.h,null,this.props.collection&&this.props.collection.size>0&&r.a.createElement(u.a,b),this.getCollectionArticle&&this.props.collection.size>0&&r.a.createElement(d.b,{collectionSideBarVisible:i,isEditor:!0},r.a.createElement(a.a,{exact:!0,path:"/pageeditor/:author_id/:collection_id/:page_id",render:e=>r.a.createElement(p.a,Object.assign({component:l.EditorPageDecoratorWithComments,type:s.D.COLLECTION,key:e.match.url},this.props,e,{isLeavePage:!0,authRequired:!0,apiKeys:_}))})))}}t.default=m(g)},1108:function(e,t,n){"use strict";n.r(t);var i=n(1077);n.d(t,"default",(function(){return i.EdpressoShotWithComments}))},1109:function(e,t,n){"use strict";n.r(t);var i=n(1072);n.d(t,"default",(function(){return i.EditorPageDecoratorWithComments}))},1111:function(e,t,n){"use strict";n.r(t);var i=n(14),r=n(0),o=n.n(r),a=n(1721),s=n(29),l=n(1671),c=n(1674),h=n(31),d=n(232),u=n(35),p=n(83),f=n(28),m=n(37),g=n(181),v=n(175),b=n(1747);const y=["January","February","March","April","May","June","July","August","September","October","November","December"],_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];var w=(e,t)=>{const n=new Date(e),i=t.match(/[^A-Za-z0-9]/gi)[0],r=t.split(i);return r.forEach((e,t)=>{r[t]=function(e,t){const n=e.length,i=e[0].charCodeAt();if(100===i||68===i){if(n<3)return t.getDate();if(n>=3)return x[t.getDay()-1]}if(109===i||77===i){if(n<3)return t.getMonth()+1;if(3===n)return _[t.getMonth()];if(n>=4)return y[t.getMonth()]}if(121===i||89===i){if(2===n)return t.getFullYear().toString().substring(4,2);if(4===n)return t.getFullYear()}return""}(e,n)}),r.join(i)};var C=n(1),S=n(2),E=n.n(S);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var T=function(e){var t=e.color,n=e.size,i=O(e,["color","size"]);return o.a.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),o.a.createElement("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"}))};T.propTypes={color:E.a.string,size:E.a.oneOfType([E.a.string,E.a.number])},T.defaultProps={color:"currentColor",size:"24"};var A=T,I=n(5),j=n(21),P=n(18),M=n(12);const R=C.d.div.withConfig({displayName:"styles__CollectionCommonInfoStyled",componentId:"sc-1e1zb5b-0"})(["display:flex;flex:1 0 auto;flex-direction:column;align-items:center;margin-left:10px;padding:30px;min-height:160px;max-height:230px;max-width:290px;border:1px solid ",";border-radius:",";@media (max-width:","){margin-left:0;margin-top:20px;}"],e=>{let{theme:t}=e;return t.palette.grey[300]},P.m,I.f.pixels),D=C.d.div.attrs({children:o.a.createElement(A,{size:25})}).withConfig({displayName:"styles__StatusIcon",componentId:"sc-1e1zb5b-1"})(["display:flex;justify-content:center;align-items:center;min-width:38px;min-height:38px;border:2px solid ",";border-radius:",";svg{stroke:",";}"],e=>{let{theme:t}=e;return t.palette.grey[300]},P.c,e=>e.success?e=>{let{theme:t}=e;return t.palette.success.main}:e=>{let{theme:t}=e;return t.palette.grey[300]}),L=C.d.span.withConfig({displayName:"styles__Type",componentId:"sc-1e1zb5b-2"})(["margin:10px 0;text-transform:uppercase;font-size:",";font-weight:",";color:",";"],M.a.h4,j.g,e=>{let{theme:t}=e;return t.palette.grey[800]}),N=C.d.span.withConfig({displayName:"styles__Date",componentId:"sc-1e1zb5b-3"})(["align-self:center;display:flex;flex-flow:row nowrap;align-items:baseline;color:",";"],e=>{let{theme:t}=e;return t.palette.grey[800]}),B=C.d.span.withConfig({displayName:"styles__DateTitle",componentId:"sc-1e1zb5b-4"})(["font-weight:",";margin-right:4px;"],j.g);var F=R,z=e=>{let{type:t=null,creationDate:n=null,modifiedDate:i=null,lastPublished:r=null}=e;return o.a.createElement(F,null,o.a.createElement(D,{success:"published"===t}),o.a.createElement(L,null,t),o.a.createElement(N,null,o.a.createElement(B,null,"Created:"," "),w(n,"DD MMMM YYYY")),o.a.createElement(N,null,o.a.createElement(B,null," ","Last modified:"," "),w(i,"DD MMMM YYYY")),r&&o.a.createElement(N,null,o.a.createElement(B,null," ","Published On:"," "),w(r,"DD MMMM YYYY")))},H=n(86),U=n(256),q=n(15),W=n(533),V=n(826),G=n.n(V),K=n(116),Y=n(141),X=n(58),J=n(442),$=n(2189),Z=n(2190),Q=n(650),ee=n(2295),te=n(2176),ne=n(27),ie=n(64),re=n(51);function oe(){const e=Object(ie.a)(["\n.b-select {\n  width: 100%;\n  display: inline-block;\n  background-color: ",";\n  position: relative;\n\n  &:after {\n    position: absolute;\n    content: none;\n    top: 0;\n    right: 0;\n    width: 20px;\n    bottom: 0;\n    background-color: ",";\n    z-index: ",";\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: ",";\n    pointer-events: none;\n  }\n\n  select {\n    background-color: ",";\n    border: none;\n    border-radius: 0;\n    width: 100%;\n    font-size: ",";\n    text-transform: uppercase;\n    color: ",";\n    -webkit-appearance: none;\n    padding-left: 20px;\n    ",";\n\n    &:focus {\n      outline: none;\n    }\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n}\n"]);return oe=function(){return e},e}const ae=Object(C.c)(["background-image:linear-gradient( 45deg,transparent 50%,"," 50% ),linear-gradient( 135deg,"," 50%,transparent 50% );background-position:0px,5px;background-size:5px 5px,5px 5px,1px 1.5em;background-repeat:no-repeat;"],e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.main});var se=Object(C.b)(oe(),e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[200]},re.v,e=>{let{theme:t}=e;return t.palette.success.dark},e=>{let{theme:t}=e;return t.palette.grey[200]},M.a.textMedium,e=>{let{theme:t}=e;return t.palette.success.dark},ae);class le extends r.Component{constructor(){super(...arguments),this.defaultChangeHandler=e=>{var t,n;null===(t=(n=this.props).changeHandler)||void 0===t||t.call(n,e)}}getValue(){return this.props.value}render(){const e=this.props,{changeHandler:t,value:n,options:r=["value"]}=e,a=Object(ne.a)(e,["changeHandler","value","options"]),s=r.map((e,t)=>{const n=e.title||e,i=e.value||n;return o.a.createElement("option",{value:i,key:t},n)}),l=Object(i.a)({},a,{value:n});return o.a.createElement(o.a.Fragment,null,o.a.createElement(se,null),o.a.createElement("div",{className:"b-select"},o.a.createElement("select",Object.assign({onChange:this.defaultChangeHandler},l),s)))}}var ce=n(2297),he=n(997),de=n(831),ue=n(945),pe=n(536),fe=n(2015),me=n(2016),ge=n(52);const ve=["save","preview","publish"];var be=n(85);const ye=C.d.div.withConfig({displayName:"styles__CollectionFormStyled",componentId:"sc-12yfrtf-0"})([".collection-form{margin-bottom:15px;.b-input-with-label{border-bottom:1px solid ",";.control-label{min-width:125px;width:auto;}[class*='focused']{.b-select:after{background-color:",";}}}textarea.form-control{font-size:",";font-weight:",";}.b-select{width:70px;background-color:transparent;select{width:50px;height:50px;background-color:transparent;}}.row .col-xs-6{:first-child{padding-right:0;}:last-child{padding-left:0;}}.paid{.form-control,.form-control:disabled{background-color:",";color:",";}}.feedback_email_2{margin-top:-15px;.form-control{border-left:1px solid "," !important;}}}"],e=>{let{theme:t}=e;return t.palette.primary.lightP2},e=>{let{theme:t}=e;return t.palette.primary.lightP2},M.a.textLarge,j.f,e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.grey[300]}),_e=C.d.div.withConfig({displayName:"styles__Tags",componentId:"sc-12yfrtf-1"})(["margin-top:15px;"]),xe=C.d.div.withConfig({displayName:"styles__DropDown",componentId:"sc-12yfrtf-2"})(["margin-left:10px;.b-select{width:100% !important;}select{margin-right:20px;}"]);var we=ye,Ce=n(30),Se=n(2341);var Ee,ke,Oe=Object(Ce.b)(null,(function(e){return{onTextChange:t=>e(Object(s.a)("UPDATE_COLLECTION_DETAILS")(t))}}))(Se.a);const Te=(Ae="collection",e=>{class t extends r.Component{constructor(){super(...arguments),this.state={errors:[]},this.onSubmitFrom=e=>{e&&e.preventDefault();const t=document.forms[this.props.name],n=t.elements.length,i={};for(let r=0;r<n;r++)t.elements[r].name&&(i[t.elements[r].name]=t.elements[r].value);i.is_priced=this.props.data.is_priced,this.props.data&&(i.details=this.props.data.details||""),this.props.saveFormData(i)},this.saveFieldOnBlur=e=>{const t=e.relatedTarget?e.relatedTarget.textContent:"",n=!!e.relatedTarget&&"BUTTON"===e.relatedTarget.tagName,{name:i}=e.target,{value:r}=e.target;if(r===this.props.data[i]&&"price"!==i)return null;const o={};return o[i]=r,n&&ve.includes(t.toLowerCase())?(this.props.setGlobalAction(t.toLowerCase()),this.props.saveFormData(o),null):(this.cleanErrors(),this.props.saveFormData(o),null)},this.onLicensingChange=e=>{const{name:t}=e.target,n=e.target.value;this.cleanErrors(),this.props.saveFormData({licensing:Object(i.a)({},this.props.data.licensing,{[t]:n})})},this.onTagsChange=e=>{this.cleanErrors(),this.props.saveFormData({tags:e})},this.onCollaboratorsChange=e=>{this.cleanErrors(),this.props.saveFormData({collaborators:e})},this.onCoAuthorsChange=e=>{this.cleanErrors(),this.props.saveFormData({co_authors:e})},this.onReviewersChange=e=>{this.cleanErrors(),this.props.saveFormData({reviewers:e})},this.onPaidChangeToggle=()=>{this.cleanErrors(),this.props.saveFormData({is_priced:!this.props.data.is_priced})},this.onTocChange=e=>{const t="enabled"===e.target.value;this.cleanErrors(),this.props.saveFormData({collection_toc_is_enabled:t})},this.onTargetAudChange=e=>{const t=e.target.value;this.cleanErrors(),this.props.saveFormData({target_audience:t})}}componentDidMount(){document.forms[this.props.name].elements[0].focus()}componentDidUpdate(e){e.globalAction!==this.props.globalAction&&("save"!==this.props.globalAction&&"publish"!==this.props.globalAction&&"preview"!==this.props.globalAction||(this.validateForm()?this.onSubmitFrom():e.resetGlobalAction()))}render(){const t={changePaid:this.onPaidChangeToggle,changeToc:this.onTocChange,changeTargetAud:this.onTargetAudChange,saveFieldOnBlur:this.saveFieldOnBlur,changeTags:this.onTagsChange,changeCollaborators:this.onCollaboratorsChange,changeCoAuthors:this.onCoAuthorsChange,changeReviewers:this.onReviewersChange,saveForm:this.onSubmitFrom,changeLicensing:this.onLicensingChange},n=Object(i.a)({},this.props,{},this.state,{},t);return delete n.saveFormData,delete n.globalAction,o.a.createElement(e,n)}cleanErrors(){this.setState({errors:[]})}validateForm(){const e=[];let t=!0;const n=document.forms[this.props.name],i=n.elements.length,r=this.getValidationRules(),o=n=>{r.forEach(i=>{n.name===i.field&&(i.checker(n.value)||(t&&(n.scrollIntoView({behavior:"smooth"}),t=!1),e.push(i.field)))})};for(let a=0;a<i;a++){const e=n.elements[a];e.name&&o(e)}return this.setState({errors:e}),!e.length}getValidationRules(){return{collection:[{field:"title",checker:e=>!!e&&!(e.length>ge.m)},{field:"summary",checker:e=>!!e&&!(e.length>1024)},{field:"details",checker:e=>e.length<16384},{field:"intro_video_url",checker:e=>!e||Object(me.a)(e,fe.a)},{field:"price",checker:e=>{if(this.props.data.is_priced){if(!e)return!1;if(-1!==e.indexOf("."))return!1}return!0}},{field:"discounted_price",checker:e=>!(this.props.data.is_priced&&e&&parseInt(e,10)>=parseInt(this.props.data.price,10))},{field:"track_price",checker:e=>{if(this.props.data.is_priced&&e){if(parseInt(e,10)>=parseInt(this.props.data.price,10))return!1;if(this.props.data.discounted_price&&parseInt(e,10)>=parseInt(this.props.data.discounted_price,10))return!1}return!0}},{field:"attr_link",checker:e=>!e||!!/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/.test(e)},{field:"feedback_email",checker:e=>!e||!e.trim()||Object(pe.a)("email",e)},{field:"feedback_email_2",checker:e=>!e||!e.trim()||Object(pe.a)("email",e)}]}[Ae]}}return t})((ke=Ee=class extends r.Component{constructor(){super(...arguments),this.mapToTitleValue=e=>({title:e,value:e}),this.getUser=async(e,t)=>{let n="Failed to retrieve user details.";const i={[u.f.COLLABORATOR]:be.q,[u.f.COAUTHOR]:be.t,[u.f.REVIEWER]:be.q}[t];try{n=JSON.parse(await i(e))}catch(a){var r,o;if(null===a||void 0===a?void 0:null===(r=a.responseJSON)||void 0===r?void 0:r.errorText)n={error:null===a||void 0===a?void 0:null===(o=a.responseJSON)||void 0===o?void 0:o.errorText}}return n},this.isEmailAlreadyAddedIn=(e,t)=>{var n,i;return((null===(n=this.props)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i[e])||[]).some(e=>{let{email:n}=e;return n===t})},this.safelyGetCollaborator=async(e,t)=>{const n={[u.f.COLLABORATOR]:"reviewer",[u.f.REVIEWER]:"collaborator"}[t];if(this.isEmailAlreadyAddedIn("".concat(n,"s"),e)){return{error:"".concat(e," is already added as a ").concat(n,".")}}return await this.getUser(e,t)}}isError(e){const{errors:t=[]}=this.props;return-1!==t.indexOf(e)}render(){var e,t,n,i;const{data:r={},name:a="form",mode:s,canManageCollaborators:l}=this.props,c=o.a.createElement(de.a,{checkedText:"PAID",unCheckedText:"FREE",isChecked:!!r.is_priced,onChange:this.props.changePaid});let h="";!r.price&&r.is_priced&&(h="0"),r.price&&r.is_priced&&({price:h}=r);const d=[{title:"enabled",value:"enabled"},{title:"disabled",value:"disabled"}],p=r.collection_toc_is_enabled?d[0]:d[1],f="write"===s?o.a.createElement(le,{changeHandler:this.props.changeToc,name:"collection_toc_is_enabled",value:p.value,options:d}):p.title,m=this.mapToTitleValue(r.target_audience),g=o.a.createElement(le,{changeHandler:this.props.changeTargetAud,name:"target_audience",value:m.value,options:[{title:"beginner",value:"beginner"},{title:"intermediate",value:"intermediate"},{title:"advanced",value:"advanced"}]}),v=(null===r||void 0===r?void 0:null===(e=r.licensing)||void 0===e?void 0:e.license)||ue.a[0],b="write"===s?o.a.createElement(le,{changeHandler:this.props.changeLicensing,name:"license",value:v,options:ue.a}):v,y=(null===r||void 0===r?void 0:r.collaborators)||{},_=(null===r||void 0===r?void 0:r.coAuthors)||{},x=(null===r||void 0===r?void 0:r.reviewers)||{};return o.a.createElement(we,null,o.a.createElement("div",{className:"editor-form"},o.a.createElement("form",{className:"form-horizontal",name:a,onSubmit:this.props.saveFormData},o.a.createElement(ee.a,{label:"Title",help:"Max 65 chars",maxLength:"65",name:"title",placeholder:"Give a name to your Course",disabled:"read"===s,handleBlur:this.props.saveFieldOnBlur,isError:this.isError("title"),required:!0,value:r.title}),o.a.createElement(_e,null,o.a.createElement(ce.a,{tags:r.tags,mode:s,maxTags:5,onChange:this.props.changeTags})),l&&[o.a.createElement(_e,{key:"collection_collaborator_tags"},o.a.createElement(he.a,{tags:Object.values(y),maxTags:2,getUser:this.safelyGetCollaborator,onChange:this.props.changeCollaborators,type:u.f.COLLABORATOR})),o.a.createElement(_e,{key:"collection_coauthors_tags"},o.a.createElement(he.a,{tags:Object.values(_),maxTags:3,getUser:this.getUser,onChange:this.props.changeCoAuthors,type:u.f.COAUTHOR})),o.a.createElement(_e,{key:"collection_reviewers_tags"},o.a.createElement(he.a,{tags:Object.keys(x).map(e=>x[e]),maxTags:3,getUser:this.safelyGetCollaborator,onChange:this.props.changeReviewers,type:u.f.REVIEWER}))],o.a.createElement(ee.a,{type:"textarea",label:"summary",help:"Max 1024 chars",name:"summary",placeholder:"What is this course about?",disabled:"read"===s,isError:this.isError("summary"),required:!0,handleBlur:this.props.saveFieldOnBlur,value:r.summary}),o.a.createElement(ee.a,{type:"textarea",label:"details",help:"Max 1024 chars",placeholder:"Write some details",disabled:"read"===s,name:"details",value:r.details||""},o.a.createElement(Oe,{initialValue:r.details||""})),o.a.createElement($.a,{style:{marginTop:"25px"}},o.a.createElement(Z.a,{xs:4,style:{marginTop:"-15px",paddingRight:"10px"}},o.a.createElement(ee.a,{label:"version",help:"From 0 - Infinity",name:"author_version",mode:s,handleBlur:this.props.saveFieldOnBlur,value:r.author_version})),o.a.createElement(Z.a,{xs:8,style:{border:"1px solid ".concat(this.props.theme.palette.grey[300]),borderRadius:P.h,maxWidth:"700px"}},o.a.createElement(Z.a,{xs:r.is_priced?4:12,style:{padding:"0px"}},o.a.createElement(te.a,{label:c,name:"price",disabled:"read"===s||!r.is_priced,groupClass:"form-group form-group-lg b-input-with-label",type:"number",minPrice:"2",maxPrice:"999",isError:this.isError("price"),onBlur:this.props.saveFieldOnBlur,value:h})),r.is_priced?o.a.createElement(Z.a,{xs:4,style:{paddingLeft:"0px",paddingRight:"0px"}},o.a.createElement("div",{className:"form-group form-group-lg b-input-with-label",style:{borderTop:"0px"}},o.a.createElement(te.a,{placeholder:"Promotional Price",name:"discounted_price",mode:s,minPrice:"0",maxPrice:"999",disabled:"read"===s||!r.is_priced,isError:this.isError("discounted_price"),onBlur:this.props.saveFieldOnBlur,value:null===r.discounted_price?"":0===r.discounted_price?"0":r.discounted_price}))):null,r.is_priced?o.a.createElement(Z.a,{xs:4,style:{paddingLeft:"0px",paddingRight:"0px"}},o.a.createElement("div",{className:"form-group form-group-lg b-input-with-label",style:{borderTop:"0px"}},o.a.createElement(te.a,{placeholder:"Track Price",name:"track_price",mode:s,minPrice:"0",maxPrice:"999",disabled:"read"===s||!r.is_priced,isError:this.isError("track_price"),onBlur:this.props.saveFieldOnBlur,value:null===r.track_price?"":r.track_price}))):null)),o.a.createElement(ee.a,{label:"Video",help:"Introductory Video",placeholder:"Paste a YouTube or Vimeo video link. Only https links are supported!",disabled:"read"===s,name:"intro_video_url",handleBlur:this.props.saveFieldOnBlur,value:r.intro_video_url,isError:this.isError("intro_video_url")}),o.a.createElement(ee.a,{help:"Enable table of\ncontents for\nlessons",label:"TABLE OF CONTENTS",disabled:"read"===s},o.a.createElement("div",{style:{marginLeft:"15px"}},f)),o.a.createElement(ee.a,{help:"Set Target Audience for this Course",label:"Target Audience",disabled:"read"===s},o.a.createElement("div",{style:{marginLeft:"15px"}},g)),o.a.createElement(ee.a,{help:"Select course licensing",label:"LICENSE",disabled:"read"===s},o.a.createElement(xe,null,b)),o.a.createElement(ee.a,{label:"Attribution Title",help:"Source title for attribution",name:"attr_title",disabled:"read"===s,handleBlur:this.props.changeLicensing,value:(null===r||void 0===r?void 0:null===(t=r.licensing)||void 0===t?void 0:t.attr_title)||""}),o.a.createElement(ee.a,{label:"Attribution Author",help:"Author name for attribution",name:"attr_auth",disabled:"read"===s,handleBlur:this.props.changeLicensing,value:(null===r||void 0===r?void 0:null===(n=r.licensing)||void 0===n?void 0:n.attr_auth)||""}),o.a.createElement(ee.a,{label:"Attribution Link",help:"Link of source for attribution",name:"attr_link",disabled:"read"===s,handleBlur:this.props.changeLicensing,value:(null===r||void 0===r?void 0:null===(i=r.licensing)||void 0===i?void 0:i.attr_link)||"",isError:this.isError("attr_link")}),o.a.createElement($.a,{style:{marginTop:"25px"}},o.a.createElement(Z.a,{xs:6,style:{marginTop:"-15px",paddingRight:"10px"}},o.a.createElement(ee.a,{label:"feedback email",help:"Enter Feedback Email",placeholder:"Enter Feedback Email",disabled:"read"===s,name:"feedback_email",handleBlur:this.props.saveFieldOnBlur,value:r.feedback_email,isError:this.isError("feedback_email")})),o.a.createElement(Z.a,{xs:6,style:{marginTop:"-15px"}},o.a.createElement(ee.a,{label:"second feedback email",help:"Enter Second Feedback Email",placeholder:"Enter Second Feedback Email",name:"feedback_email_2",disabled:"read"===s,handleBlur:this.props.saveFieldOnBlur,value:r.feedback_email_2,isError:this.isError("feedback_email_2")}))))))}},Ee.defaultProps={saveFormData:()=>{}},ke));var Ae,Ie=Object(Q.a)(Te),je=n(1667),Pe=n(1666),Me=n(1872),Re=n(44);const De=C.d.div.withConfig({displayName:"styles__CollectionCategoryEditStyled",componentId:"knvmim-0"})(["position:relative;margin-bottom:15px;",":last-child{margin-bottom:0;}"],e=>e.isDragging&&Object(C.c)(["opacity:0.4;"])),Le=C.d.div.withConfig({displayName:"styles__Footer",componentId:"knvmim-1"})(["text-align:right;min-height:20px;.b-btn{width:165px;height:38px;font-size:",";}"],M.a.textMedium),Ne=C.d.ul.withConfig({displayName:"styles__List",componentId:"knvmim-2"})(["padding:0;list-style:none;margin:25px 0 15px 0;"]),Be=C.d.li.withConfig({displayName:"styles__ListItem",componentId:"knvmim-3"})(["margin-bottom:15px;:last-child{margin-bottom:0;}"]),Fe=C.d.div.withConfig({displayName:"styles__Header",componentId:"knvmim-4"})(["margin-top:10px;margin-bottom:25px;position:relative;padding:7px 0 0 15px;"]),ze=C.d.div.withConfig({displayName:"styles__Heading",componentId:"knvmim-5"})([""]),He=Object(C.d)(Re.a).attrs({variant:"h4",m:0,mr:2}).withConfig({displayName:"styles__Title",componentId:"knvmim-6"})(["position:relative;color:",";display:inline-block;vertical-align:middle;"],e=>{let{theme:t}=e;return t.palette.grey.A200}),Ue=C.d.i.withConfig({displayName:"styles__IconWrap",componentId:"knvmim-7"})(["display:inline-flex;justify-content:center;align-items:center;vertical-align:middle;cursor:pointer;margin-left:8px;border:1px solid ",";border-radius:",";padding:2px;"],e=>{let{theme:t}=e;return t.palette.grey[800]},P.c),qe=C.d.div.withConfig({displayName:"styles__Drag",componentId:"knvmim-8"})(["position:absolute;width:42px;height:42px;bottom:0;left:0;display:flex;justify-content:center;align-items:center;transition:0.2s;:hover{cursor:move;}@media (min-width:850px){top:0;left:-42px;}"]);var We=De,Ve=e=>{let{mode:t,addArticle:n,contentLoading:i,children:o}=e;return r.createElement(We,null,o,"write"===t&&r.createElement(Le,null,r.createElement(X.a,{success:!0,small:!0,onClick:n,disabled:i},"Add Lesson")))},Ge=n(1656),Ke=n(1499),Ye=n(42),Xe=n(114),Je=n(415),$e=n(253),Ze=n(245),Qe="category",et="article";const tt={beginDrag:rt,canDrag:it},nt={beginDrag:rt,canDrag:it};function it(e,t){return"write"===e.mode}function rt(e){return{parentIndex:e.parentIndex,index:e.index}}var ot=n(88);const at={hover:function(e,t,n){const i=t.getItem().index,r=e.index,{parentIndex:o}=t.getItem(),a=t.getItemType(),s=e.type;if(a===s){if(!lt(n,t,i,r))return;e.moveItem({itemIndex:i},{itemIndex:r}),t.getItem().index=r}if("undefined"!==typeof o&&o!==r&&!e.data.pages.length){const n={parentIndex:o,itemIndex:i},a={parentIndex:r};e.moveItem(n,a),t.getItem().index=0,t.getItem().parentIndex=a.parentIndex}}},st={hover:function(e,t,n){const i=t.getItem().index,r=e.index,o=e.parentIndex,a=t.getItem().parentIndex;if(o===a){if(!lt(n,t,i,r))return;const a={parentIndex:o,itemIndex:i},s={parentIndex:o,itemIndex:r};e.moveItem(a,s),t.getItem().index=r}else{if(!lt(n,t,i,r,!1))return;const s={parentIndex:a,itemIndex:i},l={parentIndex:o,itemIndex:r};e.moveItem(s,l),t.getItem().index=r,t.getItem().parentIndex=o}}};function lt(e,t,n,i){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r&&n===i)return!1;const o=Object(ot.findDOMNode)(e).getBoundingClientRect(),a=(o.bottom-o.top)/3,s=o.bottom-o.top-a,l=t.getClientOffset(),c=l.y-o.top;return!(n<i&&c<s)&&!(n>i&&c>a)}var ct=n(620),ht=n(649);C.d.div.withConfig({displayName:"styles__TitleEditorStyled",componentId:"sc-1v7kh3v-0"})([""]);const dt=C.d.form.withConfig({displayName:"styles__Form",componentId:"sc-1v7kh3v-1"})(["position:relative;input:-webkit-autofill,input:-webkit-autofill:hover,input:-webkit-autofill:focus textarea:-webkit-autofill,textarea:-webkit-autofill:hover textarea:-webkit-autofill:focus,select:-webkit-autofill,select:-webkit-autofill:hover,select:-webkit-autofill:focus{-webkit-box-shadow:0 0 0px 1000px "," inset !important;transition:background-color 5000s ease-in-out 0s !important;}.form-group{margin-bottom:0;}.form-control{padding:0;font-size:",";height:26px;line-height:26px;color:",";min-width:340px !important;padding-right:20px;width:100%;::-webkit-input-placeholder{font-size:",";}:-moz-placeholder{font-size:",";}::-moz-placeholder{font-size:",";}:-ms-input-placeholder{font-size:",";}}.btn[type='submit']{visibility:hidden;height:0;width:0;padding:0;position:absolute;}"],e=>{let{theme:t}=e;return t.palette.common.white},M.a.h4,e=>{let{theme:t}=e;return t.palette.common.black},M.a.h4,M.a.h4,M.a.h4,M.a.h4),ut=Object(C.d)(o.a.forwardRef((e,t)=>{let{isArticle:n}=e,i=Object(ne.a)(e,["isArticle"]);return o.a.createElement(ht.a,Object.assign({ref:t},i))})).withConfig({displayName:"styles__TitleFormControl",componentId:"sc-1v7kh3v-2"})(["",""],e=>{let{isArticle:t}=e;return t&&Object(C.c)(["font-size:"," !important;background:",";height:32px;::-webkit-input-placeholder{font-size:"," !important;}:-moz-placeholder{font-size:"," !important;}::-moz-placeholder{font-size:"," !important;}:-ms-input-placeholder{font-size:"," !important;}"],M.a.textLarge,e=>{let{theme:t}=e;return t.palette.grey[100]},M.a.textLarge,M.a.textLarge,M.a.textLarge,M.a.textLarge)});class pt extends r.Component{constructor(e){super(e),this.inputRef=o.a.createRef(),this.onSubmitHandler=e=>{e.preventDefault(),this.props.saveTitle(this.state.title)},this.onChangeHandler=e=>{this.setState({title:e.target.value.trim()})},this.state={title:e.title}}componentDidMount(){var e;null===(e=this.inputRef.current)||void 0===e||e.focus()}render(){return o.a.createElement(dt,{onSubmit:this.onSubmitHandler},o.a.createElement(ut,{maxLength:ge.m,isArticle:this.props.article,placeholder:"Type the Title here...",name:"cat_art_name",inputRef:this.inputRef,defaultValue:this.state.title,onChange:this.onChangeHandler,onBlur:this.onSubmitHandler}),o.a.createElement(ct.a,{type:"submit"}))}}pt.defaultProps={article:!1};const ft=C.d.div.withConfig({displayName:"styles__CollectionArticleStyled",componentId:"dfy70w-0"})(["display:flex;"]),mt=Object(C.d)(o.a.forwardRef((e,t)=>{let{AddLessonBelow:n,Enabled:i,EditMode:r}=e,a=Object(ne.a)(e,["AddLessonBelow","Enabled","EditMode"]);return o.a.createElement(Ye.b,Object.assign({ref:t},a))})).withConfig({displayName:"styles__LinkButton",componentId:"dfy70w-1"})(["display:inline-flex;justify-content:center;align-items:center;width:35px;border-radius:",";transition:0.2s;cursor:pointer;"," "," ",""],P.c,e=>e.AddLessonBelow&&Object(C.c)(["padding:8px;"]),e=>e.Enabled&&Object(C.c)(["color:",";"],e=>{let{theme:t}=e;return t.palette.primary.main}),e=>e.EditMode&&Object(C.c)(["border:1px solid ",";"],e=>{let{theme:t}=e;return t.palette.primary.main})),gt=C.d.div.withConfig({displayName:"styles__Article",componentId:"dfy70w-2"})(["display:flex;flex:auto;justify-content:space-between;align-items:center;background-color:",";border-radius:",";padding:0 5px;",""],e=>{let{theme:t}=e;return t.palette.grey[100]},P.m,e=>e.ArticleEdit&&Object(C.c)(["width:15px;height:15px;"])),vt=C.d.div.withConfig({displayName:"styles__Drag",componentId:"dfy70w-3"})(["width:35px;height:35px;vertical-align:top;display:flex;justify-content:center;align-items:center;transition:0.2s;&:hover{cursor:move;}svg{width:24px;height:24px;stroke:",";}"],e=>{let{theme:t}=e;return t.palette.grey[800]}),bt=C.d.div.withConfig({displayName:"styles__ArticleTitle",componentId:"dfy70w-4"})(["display:flex;width:100%;padding-left:10px;align-items:center;"]),yt=Object(C.d)(Re.a).attrs({variant:"h5",m:[1,1,1,0]}).withConfig({displayName:"styles__Title",componentId:"dfy70w-5"})(["text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:","px;"],e=>{let{theme:t}=e;return t.spacing(50)}),_t=C.d.div.withConfig({displayName:"styles__Controls",componentId:"dfy70w-6"})(["display:inline-flex;flex-shrink:0;"]),xt=C.d.i.withConfig({displayName:"styles__IconWrapper",componentId:"dfy70w-7"})(["display:inline-flex;justify-content:center;align-items:center;width:35px;border-radius:",";transition:0.2s;cursor:pointer;border-right:none;border-left:none;&.enabled{svg{stroke:",";}}"],P.c,e=>{let{theme:t}=e;return t.palette.primary.main}),wt=(C.d.div.withConfig({displayName:"styles__ArticleEdit",componentId:"dfy70w-8"})(["width:15px;height:15px;"]),C.d.div.withConfig({displayName:"styles__Enabled",componentId:"dfy70w-9"})(["color:",";"],e=>{let{theme:t}=e;return t.palette.primary.main}),C.d.div.withConfig({displayName:"styles__IconsOrLoader",componentId:"dfy70w-10"})(["display:flex;justify-content:center;align-items:center;width:70px;"]));C.d.div.withConfig({displayName:"styles__ConfirmDeleteButton",componentId:"dfy70w-11"})(["background-color:",";border-color:darken(",",10%);color:",";&:hover{background-color:",";border-color:darken(",",10%);}"],e=>{let{theme:t}=e;return t.palette.error.main},e=>{let{theme:t}=e;return t.palette.error.main},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.error.dark},e=>{let{theme:t}=e;return t.palette.error.dark});var Ct=ft;const St=Object(Ce.b)(),Et=Object(W.DropTarget)(et,st,e=>({connectDropTarget:e.dropTarget()}))(Object(W.DragSource)(et,tt,(e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()}))(class extends r.Component{constructor(e){var t;super(e),t=this,this.onPreviewToggle=()=>{this.props.togglePreview(this.props.data.id)},this.onIsLessonToggle=()=>{this.props.toggleIsLesson(this.props.data.id)},this.onRemove=()=>{this.props.removeArticle(this.props.data.id)},this.onClone=()=>{const{data:e,article_title:t}=this.props;this.props.cloneArticle(e.id,t||e.title)},this.onEditToggle=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.props.toggleEditingArticle&&t.props.toggleEditingArticle(e),t.setState({editMode:e})},this.onSaveTitle=e=>{const{data:t}=this.props;this.props.updateArticle(t.id,e||u.a)},this.onAddLessonBelow=()=>{const{index:e,addArticle:t,contentLoading:n}=this.props;n||(this.setState({loading:!0}),t(e))},this.onAddCategoryBelow=()=>{const{index:e,parentIndex:t,addCategory:n,contentLoading:i}=this.props;i||(this.setState({loading:!0}),n(e,t))},this.state={editMode:e.data.editMode,loading:!1}}componentDidUpdate(e,t){t.editMode===this.state.editMode&&t.editMode!==this.props.data.editMode&&this.setState({editMode:this.props.data.editMode}),!0===e.contentLoading&&!0===t.loading&&!1===this.props.contentLoading&&this.setState({loading:!1})}render(){const{collection_id:e,data:t,draggable:n,connectDragSource:i,connectDropTarget:r,isPreviewable:a,mode:s,is_draft:l,author_id:c}=this.props,{loading:h,editMode:d}=this.state,p=Object(Ze.a)(c,e,t.id,l||"write"===s),f=o.a.createElement("div",null,o.a.createElement(Ct,null,o.a.createElement(gt,{EditMode:!0},n&&o.a.createElement(vt,null,o.a.createElement(Me.a,null)),o.a.createElement(bt,null,this.state.editMode?o.a.createElement(pt,{saveTitle:this.onSaveTitle,title:t.title,article:!0}):[o.a.createElement(yt,{key:1},o.a.createElement(Ye.b,{style:{verticalAlign:"middle"},to:p.viewUrl},t.title||u.a)),o.a.createElement(xt,{ArticleEdit:!0,key:2,role:"none"},o.a.createElement(Xe.a,{zoomOnHover:!0,icon:"Edit2",onClick:this.onEditToggle,color:this.props.theme.palette.grey[800],size:11}))]),"write"===s&&o.a.createElement(_t,null,o.a.createElement(Ge.a,{placement:"top",trigger:["hover"],overlay:o.a.createElement(Ke.a,{id:"Toggle"},"Toggle Lesson state")},o.a.createElement(mt,{Enabled:void 0===t.is_lesson||!0===t.is_lesson,id:"toggle-lesson-state",onClick:this.onIsLessonToggle},o.a.createElement("span",{style:{fontSize:M.a.textMedium,marginRight:20}},"Lesson"))),o.a.createElement(Ge.a,{placement:"top",trigger:["hover"],overlay:o.a.createElement(Ke.a,{id:"Edit"},"Edit Lesson")},o.a.createElement(mt,{id:"edit-lesson",to:p.editUrl},o.a.createElement(Xe.a,{zoomOnHover:!0,icon:"Edit",color:this.props.theme.palette.grey[800]}))),o.a.createElement(Ge.a,{placement:"top",trigger:["hover"],overlay:o.a.createElement(Ke.a,{id:"Clone"},"Clone Lesson")},o.a.createElement(mt,{id:"clone-this-lesson"},o.a.createElement(Xe.a,{zoomOnHover:!0,icon:"Copy",onClick:this.onClone,color:this.props.theme.palette.grey[800]}))),a&&o.a.createElement(Ge.a,{placement:"top",trigger:["hover"],overlay:o.a.createElement(Ke.a,{id:"Preview"},"Toggle preview state")},o.a.createElement(mt,{Enabled:t.is_preview,id:"toggle-preview-state"},o.a.createElement(Xe.a,{icon:t.is_preview?"Eye":"EyeOff",zoomOnHover:!0,color:this.props.theme.palette.grey[800],onClick:this.onPreviewToggle}))),o.a.createElement($e.a,{popoverTitle:"Permanently delete this lesson?",handleConfirm:this.onRemove,hideOnConfirm:!0,danger:!0},o.a.createElement(Ge.a,{placement:"top",trigger:["hover"],overlay:o.a.createElement(Ke.a,{id:"Delete"},"Delete Lesson")},o.a.createElement(mt,{id:"delete-lesson"},o.a.createElement(Xe.a,{zoomOnHover:!0,danger:!0,icon:"Trash2",color:this.props.theme.palette.grey[800]})))))),h?o.a.createElement(wt,null,o.a.createElement(Je.a,null)):o.a.createElement(wt,null,o.a.createElement(Ge.a,{placement:"top",trigger:["hover"],overlay:o.a.createElement(Ke.a,{id:"Add-Lesson"},"Add lesson below")},o.a.createElement(mt,{AddLessonBelow:!0,id:"add-lesson-below"},o.a.createElement(Xe.a,{zoomOnHover:!0,icon:"lessonPlus",onClick:this.onAddLessonBelow}))),o.a.createElement(Ge.a,{placement:"top",trigger:["hover"],overlay:o.a.createElement(Ke.a,{id:"Add-Category"},"Add category below")},o.a.createElement(mt,{AddLessonBelow:!0,id:"add-category-below"},o.a.createElement(Xe.a,{zoomOnHover:!0,icon:"categoryPlus",onClick:this.onAddCategoryBelow}))))));return d?f:i(r(f))}}));var kt=St(Object(Q.a)(Et)),Ot=n(502);const Tt=Object(W.DropTarget)([Qe,et],at,(e,t)=>({connectDropTarget:e.dropTarget(),canDrop:t.canDrop()}))(Object(W.DragSource)(Qe,nt,(e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()}))(class extends r.Component{constructor(e,t){var n;super(e,t),n=this,this.onUpdateArticle=(e,t)=>{this.props.updateArticle(this.props.data.id,e,t)},this.onAddArticle=e=>{e="object"===typeof e?null:e,this.props.addArticle(this.props.data.id,e)},this.onCloneArticle=(e,t)=>{this.props.cloneArticle(this.props.data.id,e,t)},this.renderHeader=e=>{const t=o.a.createElement(Fe,null,this.state.editMode?o.a.createElement(pt,{saveTitle:this.onSaveTitle,title:e.title}):[o.a.createElement(He,{key:"title"},e.title),o.a.createElement(Ue,{key:"edit",onClick:this.onEditToggle,role:"none"},o.a.createElement(je.a,{size:11,stroke:this.props.theme.palette.grey[800]}))],!e.pages.length&&o.a.createElement(X.a,{danger:!0,small:!0,onClick:this.onRemoveCategory,style:{position:"absolute",top:"8px",right:"6px",padding:"5px",display:"flex"}},o.a.createElement(Pe.a,{size:11})));return"write"===this.props.mode?t:"read"===this.props.mode?o.a.createElement(Fe,null,o.a.createElement(ze,null,e.title)):null},this.onSaveTitle=e=>{e?(this.props.saveTitle(this.props.data.id,e),this.onEditToggle(!1)):this.onEditToggle(!1)},this.onEditToggle=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({editMode:e})},this.toggleEditingArticle=e=>{this.setState({editingArticle:e})},this.onToggleArticlePreview=e=>{this.props.togglePreview(this.props.data.id,e)},this.onToggleIsLesson=e=>{this.props.toggleIsLesson(this.props.data.id,e)},this.onRemoveArticle=e=>{this.props.removeArticle(this.props.data.id,e)},this.onRemoveCategory=()=>{this.props.removeCategory(this.props.data.id)},this.state={editMode:e.data.editMode,editingArticle:!1}}renderPages(e,t,n,i,r,a,s){const l=n.pages.map((n,l,c)=>{const h=i[n.id],d=s[n.id];return r&&!Object(Ot.a)(r,n,h,d)?null:o.a.createElement(Be,{key:l},o.a.createElement(kt,{collection_id:t,data:n,article_title:h,index:l,key:"artucle".concat(l),author_id:e,is_draft:a,isPreviewable:this.props.isPreviewable,mode:this.props.mode,type:"article",parentIndex:this.props.index,moveItem:this.props.moveItem,draggable:(c.length>1||this.props.draggable)&&"write"===this.props.mode,togglePreview:this.onToggleArticlePreview,toggleIsLesson:this.onToggleIsLesson,removeArticle:this.onRemoveArticle,cloneArticle:this.onCloneArticle,updateArticle:this.onUpdateArticle,addArticle:this.onAddArticle,addCategory:this.props.addCategory,contentLoading:this.props.contentLoading,toggleEditingArticle:this.toggleEditingArticle}))});return!!l.length&&o.a.createElement(Ne,null,l)}render(){if(this.props.data.hide)return null;const{author_id:e,collection_id:t,data:n,page_titles:i,page_tags:r,draggable:a,searchString:s,connectDragSource:l,connectDropTarget:c,isDragging:h,mode:d,is_draft:u,contentLoading:p}=this.props,{editMode:f,editingArticle:m}=this.state,g=this.renderPages(e,t,n,i,s,u,r),v=0===n.pages.length,b=o.a.createElement("div",null,o.a.createElement(We,{isDragging:h},a&&o.a.createElement(qe,null,o.a.createElement(Me.a,null)),this.renderHeader(n),g,"write"===d&&o.a.createElement(Le,null,v&&o.a.createElement(X.a,{success:!0,small:!0,onClick:this.onAddArticle,disabled:p,style:{paddingTop:"8px"}}," ","Add Lesson"," "))));return"__default"===n.title?o.a.createElement(Ve,{mode:d,contentLoading:p,addArticle:this.onAddArticle},g):"write"===d?f||m?b:l(c(b)):b}}));var At=Object(Q.a)(Tt),It=n(589),jt=n(77);C.d.div.withConfig({displayName:"styles__CollectionContentEditStyled",componentId:"sw69e-0"})([""]);const Pt=C.d.ul.withConfig({displayName:"styles__List",componentId:"sw69e-1"})(["list-style:none;padding:0;margin-left:0px;margin-bottom:15px;margin-top:15px;"]),Mt=C.d.div.withConfig({displayName:"styles__Buttons",componentId:"sw69e-2"})(["text-align:center;margin-bottom:30px;"]),Rt=C.d.div.withConfig({displayName:"styles__Content",componentId:"sw69e-3"})(["width:100%;.b-status-control{position:absolute;width:100%;bottom:101%;text-align:center;p:last-child{margin-bottom:0;}}.alert{border:none;}.alert-danger{background-color:",";}.alert-success{background-color:",";}"],e=>{let{theme:t}=e;return t.palette.error.main},e=>{let{theme:t}=e;return t.palette.success.main});class Dt extends r.Component{render(){const{collection_id:e,collection:t,contentLoading:n}=this.props,i=(("size"in t?t.toJS():{}).instance||{}).details||{},r=(i.toc||{}).categories||[],a=i.page_titles||[],s=i.page_tags||{},{searchString:l,mode:c,canManageCollaborators:h,author_id:d,is_draft:u}=this.props,p={title:i.title,summary:i.summary,author_version:i.author_version,tags:i.tags,price:i.price,details:i.details,intro_video_url:i.intro_video_url,is_priced:i.is_priced,discounted_price:i.discounted_price,track_price:i.track_price,collection_toc_is_enabled:i.collection_toc_is_enabled,target_audience:i.target_audience,licensing:i.licensing,feedback_email:i.feedback_email,feedback_email_2:i.feedback_email_2,collaborators:i.collaborators,coAuthors:i.co_authors,reviewers:i.reviewers},f=r.map((t,r,h)=>{const p=o.a.createElement(At,{collection_id:e,data:t,key:r,page_titles:a,page_tags:s,index:r,mode:c,contentLoading:n,is_draft:u,author_id:d,type:"category",isPreviewable:i.is_priced,searchString:l,draggable:h.length>1&&"write"===c,saveTitle:this.props.saveTitle,addArticle:this.props.addArticle,addCategory:this.props.addCategory,updateArticle:this.props.updateArticle,cloneArticle:this.props.cloneArticle,togglePreview:this.props.togglePreview,toggleIsLesson:this.props.toggleIsLesson,removeCategory:this.props.removeCategory,removeArticle:this.props.removeArticle,moveItem:this.props.moveItem});return l?Object(It.a)(t,p,l,a,s):p});let m=i.title?i.title:Y.j;return m+=Y.b,o.a.createElement(W.DndProvider,{backend:G.a},o.a.createElement(jt.j,null,o.a.createElement(Rt,null,o.a.createElement(K.a,{title:m,meta:[{property:"og:title",content:m}]}),this.props.children,o.a.createElement(Ie,{data:p,name:"form",canManageCollaborators:h,mode:c,resetGlobalAction:this.props.resetGlobalAction,globalAction:this.props.globalAction,saveFormData:this.props.saveFormData,setGlobalAction:this.props.setGlobalAction}),o.a.createElement(J.a,{clean:!0,resetable:!1,placeholder:"Search"}),o.a.createElement(Pt,null,f),"write"===c&&o.a.createElement(Mt,null,o.a.createElement(X.a,{success:!0,onClick:this.props.addCategory,style:{paddingTop:"8px"},zoomOnHover:!0}," ","Add Category"," ")))))}}var Lt=n(420),Nt=(e,t)=>{if(0===e)return"0 Byte";const n=t+1||3,i=Math.floor(Math.log(e)/Math.log(1e3));return"".concat(parseFloat((e/1e3**i).toFixed(n))," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i])},Bt=n(1502),Ft=n(1503);const zt=C.d.div.withConfig({displayName:"ResourceContainer",componentId:"wod3s9-0"})(["margin-top:15px;border:1px solid ",";border-radius:",";padding:15px;"],e=>{let{theme:t}=e;return t.palette.grey[300]},P.h),Ht=C.d.div.withConfig({displayName:"ResourceContainer__Label",componentId:"wod3s9-1"})(["font-size:",";font-weight:",";text-transform:uppercase;color:",";"],M.a.textMedium,j.b,e=>{let{theme:t}=e;return t.palette.grey.A100}),Ut=C.d.div.withConfig({displayName:"ResourceContainer__Description",componentId:"wod3s9-2"})(["font-weight:",";font-size:",";margin-top:13px;"],j.f,M.a.detail),qt=C.d.span.withConfig({displayName:"ResourceContainer__ResourceExample",componentId:"wod3s9-3"})(["color:",";"],e=>{let{theme:t}=e;return t.palette.primary.main}),Wt=C.d.div.withConfig({displayName:"ResourceContainer__DataFilesContainer",componentId:"wod3s9-4"})(["display:flex;padding:7px;margin:10px;border:1px solid ",";border-radius:",";"],e=>{let{theme:t}=e;return t.palette.grey[300]},P.h),Vt=C.d.span.withConfig({displayName:"ResourceContainer__PendingFileName",componentId:"wod3s9-5"})(["color:",";margin-left:10px;"],e=>{let{theme:t}=e;return t.palette.grey[800]}),Gt=C.d.span.withConfig({displayName:"ResourceContainer__UploadedFileName",componentId:"wod3s9-6"})(["flex:1;"]),Kt=C.d.span.withConfig({displayName:"ResourceContainer__PendingFileStatus",componentId:"wod3s9-7"})(["margin-right:15px;margin-left:auto;color:",";"],e=>{let{theme:t}=e;return t.palette.grey[800]}),Yt=(Object(C.d)(X.a).attrs({children:o.a.createElement(Pe.a,{size:11}),danger:!0,small:!0}).withConfig({displayName:"ResourceContainer__RemoveButton",componentId:"wod3s9-8"})(["display:flex;padding:5px;"]),Object(C.d)(X.a).attrs({children:o.a.createElement(Bt.a,{size:11}),small:!0,black:!0}).withConfig({displayName:"ResourceContainer__CopyButton",componentId:"wod3s9-9"})(["display:flex;padding:5px;"]));Object(C.d)(X.a).attrs({children:o.a.createElement(Ft.a,{size:11}),small:!0,black:!0}).withConfig({displayName:"ResourceContainer__DownloadButton",componentId:"wod3s9-10"})(["display:flex;padding:5px;"]);var Xt=zt;const Jt=Xt,$t=Ht,Zt=Ut,Qt=qt,en=Wt,tn=Vt,nn=Kt,rn=C.d.a.withConfig({displayName:"styles__DownloadLink",componentId:"sc-184byjb-0"})(["margin-right:auto;margin-left:auto;"]),on=Object(C.d)(Gt).withConfig({displayName:"styles__UploadedFileName",componentId:"sc-184byjb-1"})(["margin-left:10px;"]),an=Object(C.d)(Je.a).withConfig({displayName:"styles__CodeAjaxLoader",componentId:"sc-184byjb-2"})(["display:flex;margin-left:auto;padding:5px;"]);var sn=Jt;class ln extends r.Component{constructor(){super(...arguments),this.state={removeFile:!1},this.onRemoveImage=()=>{this.setState({removeFile:!0}),this.props.updateImage({file_id:null,file_name:null,file_size:null})},this.afterImageRemoved=()=>{this.setState({removeFile:!1})},this.updateImage=e=>{const{file:t}=e,{name:n}=t,{size:i}=t;i>40*u.p.ONE_MB?this.props.dispatch(Object(f.b)(h.q,{status:"ERROR",text:"Resource file should be at most 40 MB in size"})):n.endsWith(".tar.gz")?this.props.updateImage(e):this.props.dispatch(Object(f.b)(h.q,{status:"ERROR",text:"Resource file should be a gzip(.tar.gz)"}))}}static getComponentDefault(){return{file_id:null,file_name:null,file_size:null}}render(){const{content:e,authorId:t,collectionId:n}=this.props;let i=null;if(e.file_id&&e.updated)i=o.a.createElement(en,null,o.a.createElement(tn,null,"".concat(e.file_name," (").concat(Nt(e.file_size),")")),e.uploadStatus===u.O.UPLOADING&&o.a.createElement(an,null),e.uploadStatus===u.O.UPLOAD_PENDING&&o.a.createElement(nn,null,"will be uploaded on Save"),e.uploadStatus===u.O.UPLOAD_FAILED&&o.a.createElement(nn,null,"File upload failed. Please try saving again!"),o.a.createElement(xt,{title:"Delete"},o.a.createElement(Xe.a,{zoomOnHover:!0,danger:!0,icon:"Trash2",onClick:this.onRemoveImage,color:this.props.theme.palette.grey[800]})));else if(e.file_id){const r="/api/author/".concat(t,"/collection/").concat(n,"/cerf/").concat(e.file_id,"/download");i=o.a.createElement(en,null,o.a.createElement(on,null,"".concat(e.file_name," (").concat(Nt(e.file_size),")")),o.a.createElement(xt,{title:"Download"},o.a.createElement(rn,{href:r,target:"_blank",id:"code-resource-download"},o.a.createElement(Xe.a,{zoomOnHover:!0,icon:"Download",color:this.props.theme.palette.grey[800]}))),o.a.createElement(xt,{title:"Delete"},o.a.createElement(Xe.a,{zoomOnHover:!0,danger:!0,icon:"Trash2",onClick:this.onRemoveImage,color:this.props.theme.palette.grey[800]})))}return o.a.createElement(sn,null,o.a.createElement($t,null,"Code Execution Resource File"),o.a.createElement(Zt,null,"Upload a gzip tarball (max. 40 MB) for code executions. Contents of data.tar.gz will be extracted to the current directory during code executions"),o.a.createElement(Qt,null,"tar -czpf data.tar.gz <file1> <folder1> <file2>"),o.a.createElement("br",null),i,o.a.createElement(Lt.default,{saveChanges:this.updateImage,afterImageRemoved:this.afterImageRemoved,removeFile:this.state.removeFile,hasImage:!!i,nonImageUpload:!0,accept:"application/gzip",isTarBall:!0,id:"upload-exec-file-input",uploaderType:u.u.IMAGE_UPLOADER_SLIM}))}}var cn=Object(Ce.b)()(Object(Q.a)(ln)),hn=n(817),dn=n.n(hn);const un=Xt,pn=Ht,fn=Ut,mn=qt,gn=Wt,vn=Vt,bn=Kt,yn=(Object(C.d)(Yt).withConfig({displayName:"styles__CopyButton",componentId:"b1oe1e-0"})(["margin-left:auto;margin-right:10px;"]),C.d.div.withConfig({displayName:"styles__FileInfo",componentId:"b1oe1e-1"})(["display:flex;align-items:center;flex:1;"])),_n=C.d.div.withConfig({displayName:"styles__FileUploadedWrapper",componentId:"b1oe1e-2"})(["flex:1;display:flex;align-items:center;margin-left:10px;justify-content:space-between;"]),xn=C.d.span.withConfig({displayName:"styles__FileUploaded",componentId:"b1oe1e-3"})(["flex:1;max-width:256px;overflow-x:hidden;text-overflow:ellipsis;"]),wn=C.d.span.withConfig({displayName:"styles__FilePath",componentId:"b1oe1e-4"})(["padding:0 10px;color:",";display:flex;justify-content:flex-end;margin-right:15px;flex:1;max-width:304px;overflow-x:hidden;text-overflow:ellipsis;"],e=>{let{theme:t}=e;return t.palette.primary.main}),Cn=C.d.span.withConfig({displayName:"styles__ErrorText",componentId:"b1oe1e-5"})(["color:",";"],e=>{let{theme:t}=e;return t.palette.error.dark}),Sn=C.d.span.withConfig({displayName:"styles__FilePathWrapper",componentId:"b1oe1e-6"})(["display:flex;"]);var En=un;class kn extends r.Component{constructor(){super(...arguments),this.state={removeFile:!1},this.removeImage=e=>{this.setState({removeFile:!0}),this.props.removeImage(e)},this.afterImageRemoved=()=>{this.setState({removeFile:!1})},this.updateImage=e=>{const{file:t}=e;t.size>u.p.ONE_MB?this.props.dispatch(Object(f.b)(h.q,{status:"ERROR",text:"Resource file should be less than 1 MB."})):this.props.updateImage(e)}}static getComponentDefault(){return{file_id:null,file_name:null,file_size:null}}renderDataFilesView(){let e=null;return e=this.props.dataFiles.map((e,t)=>{let n=null;if(e.file_id&&e.updated)n=o.a.createElement(yn,null,o.a.createElement(vn,null,"".concat(e.file_name," (").concat(Nt(e.file_size),")")),o.a.createElement(bn,null,e.failed?o.a.createElement(Cn,null,"Failed to upload, save to retry"):"will be uploaded on save"),o.a.createElement(Xe.a,{zoomOnHover:!0,danger:!0,icon:"Trash2",onClick:()=>this.removeImage(t),color:this.props.theme.palette.grey[800]}));else if(e.file_id){const i="/udata/".concat(e.file_id,"/").concat(e.file_name);n=o.a.createElement(_n,null,o.a.createElement(xn,null,"".concat(e.file_name," ( ").concat(Nt(e.file_size)," )")),o.a.createElement(Sn,null,o.a.createElement(wn,null,i),o.a.createElement(xt,{title:"Copy"},o.a.createElement(Xe.a,{zoomOnHover:!0,icon:"Copy",onClick:()=>dn()(i),color:this.props.theme.palette.grey[800]})),o.a.createElement(xt,{title:"Delete"},o.a.createElement(Xe.a,{zoomOnHover:!0,danger:!0,icon:"Trash2",onClick:()=>this.removeImage(t),color:this.props.theme.palette.grey[800]}))))}return o.a.createElement(gn,{key:e.file_id},n)}),e}render(){const{mode:e,dataFiles:t}=this.props;return e!==u.y.WRITE?null:o.a.createElement(En,null,o.a.createElement(pn,null," ","COURSE ASSETS"," "),o.a.createElement(fn,null,"Upload useful files ( json, css, Images... ) and reference them in your lessons like this:",o.a.createElement(mn,null,' <img src="/udata/4z5lx6BZ/file.png" loading="lazy" />')),t.length>0&&this.renderDataFilesView(),o.a.createElement(Lt.default,{onChange:this.updateImage,afterImageRemoved:this.afterImageRemoved,removeFile:this.state.removeFile,uploaderType:u.u.COLLECTION_FILES_UPLOADER}))}}var On=Object(Ce.b)()(Object(Q.a)(kn)),Tn=n(129),An=n.n(Tn),In=n(271),jn=n(1785);C.d.span.withConfig({displayName:"styles__ReadMoreLessTextStyled",componentId:"sc-1bnzx25-0"})(["color:",";transition:0.2s;:hover{color:",";}"],e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.dark}),C.d.div.withConfig({displayName:"styles__CollectionTestimonialsStyled",componentId:"sc-1bnzx25-1"})([""]);const Pn=C.d.div.withConfig({displayName:"styles__Container",componentId:"sc-1bnzx25-2"})(["border:1px solid ",";border-radius:",";padding:15px;margin-top:15px;"],e=>{let{theme:t}=e;return t.palette.grey[300]},P.m),Mn=C.d.div.withConfig({displayName:"styles__AddTestimonialContainer",componentId:"sc-1bnzx25-3"})(["border-radius:",";padding:10px 0px;"],P.m),Rn=(C.d.div.withConfig({displayName:"styles__File",componentId:"sc-1bnzx25-4"})(["text-align:left;text-decoration:underline;margin-left:10px;color:",";.attachment-icon{fill:",";height:20px;width:20px;}"],e=>{let{theme:t}=e;return t.palette.secondary.dark},e=>{let{theme:t}=e;return t.palette.success.main}),C.d.div.withConfig({displayName:"styles__TestimonialsContainer",componentId:"sc-1bnzx25-5"})(["border:1px solid ",";border-radius:",";padding:15px;margin-top:15px;"],e=>{let{theme:t}=e;return t.palette.grey[300]},P.m),C.d.div.withConfig({displayName:"styles__Label",componentId:"sc-1bnzx25-6"})(["font-size:",";font-weight:",";color:",";text-transform:uppercase;"],M.a.textMedium,e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.grey.A100})),Dn=C.d.label.withConfig({displayName:"styles__TestimonialsLabel",componentId:"sc-1bnzx25-7"})(["color:",";font-size:",";font-weight:",";",""],e=>{let{theme:t}=e;return t.palette.common.black},M.a.textLarge,j.f,e=>e.error&&Object(C.c)(["color:",";"],e=>{let{theme:t}=e;return t.palette.error.main})),Ln=Object(C.d)(jn.a).withConfig({displayName:"styles__TestimonialsInput",componentId:"sc-1bnzx25-8"})(["width:100%;border:1px solid ",";border-radius:",";",""],e=>{let{theme:t}=e;return t.palette.grey[300]},P.v,e=>e.error&&Object(C.c)(["border:1px solid ",";"],e=>{let{theme:t}=e;return t.palette.error.main}));class Nn extends r.Component{constructor(e){super(e),this.afterImageRemoved=()=>{this.setState({removeFile:!1})},this.updateImage=e=>{if(this.setState({errorPic:!1}),!e.file)return void this.setState({errorPic:!0});const t=e.file.type;if(["image/png","image/jpeg","image/bmp"].indexOf(t)<0)return void this.setState({errorPic:!0});const{file:n}=e,i=this;!function(e,t){const n=new FileReader,i=new Image;n.readAsDataURL(e),n.onload=n=>{i.src=n.target.result,i.onload=function(){const i={thumbnail:n.target.result,metadata:{width:this.width,height:this.height,sizeInBytes:e.size}};return t(i)}}}(n,t=>{const r={file:n,image:t.thumbnail,metadata:t.metadata},{width:o}=t.metadata,{height:a}=t.metadata;100===o&&100===a?i.setState({pic:r,errorPic:!1},()=>{i.getUpdateImageUrl(e)}):this.setState({errorPic:!0})})},this.onRemoveImage=()=>{this.setState({pic:{},errorPic:!1,removeFile:!0})},this.onViewTestmonail=()=>{let e=!1,t=!1,n=!1;if(""===this.state.text&&(e=!0,this.setState({errorText:!0})),""===this.state.name&&(t=!0,this.setState({errorName:!0})),""===this.state.title&&(n=!0,this.setState({errorTitle:!0})),!e&&!t&&!n){const e={text:this.state.text,name:this.state.name,title:this.state.title,pic:this.state.pic};this.props.newTestimonial?this.props.onAddTestimonial(e):this.props.onUpdateTestimonial(this.props.index,e)}},e.newTestimonial?this.state={text:"",name:"",title:"",pic:{},errorText:!1,errorName:!1,errorTitle:!1,errorPic:!1,removeFile:!1}:this.state={text:e.testimonial.text,name:e.testimonial.name,title:e.testimonial.title,pic:e.testimonial.pic,errorText:!1,errorName:!1,errorTitle:!1,errorPic:!1,removeFile:!1}}getUpdateImageUrl(e){Object(In.i)(this.props.authorId,this.props.collectionId).then(t=>{const n=JSON.parse(t),i={file:e.file,image:this.state.pic.image,image_id:n.image_id,image_name:e.file.name,upload_url:n.upload_url,updated:!0};this.setState({pic:i})})}render(){const e=this.state.pic.image_name;let t="No File selected",n=!1;return"undefined"!==typeof e&&""!==e&&(t=e,n=!0),o.a.createElement(Mn,null,o.a.createElement("div",null,o.a.createElement(Dn,{error:this.state.errorText},this.state.errorText?"Testimonial (Enter a testimonial here)":"Testimonial"),o.a.createElement(Ln,{value:this.state.text,error:this.state.errorText,onChange:e=>this.setState({text:e.target.value}),onClick:()=>this.setState({errorText:!1}),maxLength:"280",onKeyDown:e=>{e.keyCode===An.a.codes.enter&&e.preventDefault()}}),o.a.createElement(Dn,{error:this.state.errorName},this.state.errorName?"Name (Enter name here)":"Name"),o.a.createElement(Ln,{value:this.state.name,error:this.state.errorName,onChange:e=>this.setState({name:e.target.value}),onClick:()=>{this.setState({errorName:!1})},maxLength:"32",onKeyDown:e=>{e.keyCode===An.a.codes.enter&&e.preventDefault()}}),o.a.createElement(Dn,{error:this.state.errorTitle},this.state.errorTitle?"Title/Short message (Enter title e.g. Engineer at Google)":"Title/Short message"),o.a.createElement(Ln,{value:this.state.title,error:this.state.errorTitle,onChange:e=>this.setState({title:e.target.value}),onClick:()=>{this.setState({errorTitle:!1})},maxLength:"64",onKeyDown:e=>{e.keyCode===An.a.codes.enter&&e.preventDefault()}}),o.a.createElement(Dn,{error:this.state.errorPic},"Picture (Picture file size should be 100*100 pixels.)"),o.a.createElement("div",{className:"edcomp-toolbar"},o.a.createElement(Lt.default,{saveChanges:this.updateImage,hasImage:!!t,nonImageUpload:!0,accept:"image/*",afterImageRemoved:this.afterImageRemoved,removeFile:this.state.removeFile,uploaderType:u.u.IMAGE_UPLOADER_SLIM}),n&&o.a.createElement(ct.a,{bsSize:"small",onClick:this.onRemoveImage},"Remove File"),o.a.createElement("span",{style:{marginLeft:20}},t))),o.a.createElement(b.m,null,o.a.createElement(b.n,{onClick:this.onViewTestmonail},"Update"),o.a.createElement(b.c,{onClick:this.props.onCancelTestimonial},"Cancel")))}}var Bn=Object(Ce.b)()(Nn),Fn=n(1846),zn=n(986),Hn=e=>{let t,{is_draft:n,collectionId:i,authorId:r,index:a,testimonial:s,onEditable:l,onRemoveTestimonial:c}=e;return t=s.pic.image||s.pic.image_id?n?s.pic.image||"/api/author/".concat(r,"/collection/").concat(i,"/image/").concat(s.pic.image_id):s.pic.image||"/api/collection/".concat(r,"/").concat(i,"/image/").concat(s.pic.image_id):null,o.a.createElement(Mn,null,o.a.createElement(zn.a,{testimonial:s,imageSrc:t}),o.a.createElement(b.m,null,o.a.createElement(b.d,{onClick:l},"Edit"),o.a.createElement(b.d,{onClick:()=>c(a)},"Remove")))};class Un extends o.a.Component{constructor(){super(...arguments),this.state={editable:!1},this.onEditable=()=>{this.setState({editable:!0})},this.onCancelEdit=()=>{this.setState({editable:!1})},this.onUpdateTestimonial=(e,t)=>{this.setState({editable:!1}),this.props.onUpdateTestimonial(e,t)}}render(){const e=this.state.editable?o.a.createElement(Bn,{authorId:this.props.authorId,collectionId:this.props.collectionId,onError:this.props.onError,onCancelTestimonial:this.onCancelEdit,onUpdateTestimonial:this.onUpdateTestimonial,newTestimonial:!1,testimonial:this.props.testimonial,index:this.props.index}):o.a.createElement(Hn,{authorId:this.props.authorId,is_draft:this.props.is_draft,testimonial:this.props.testimonial,collectionId:this.props.collectionId,index:this.props.index,onRemoveTestimonial:this.props.onRemoveTestimonial,onEditable:this.onEditable});return o.a.createElement("div",{className:"list-item"},e)}}var qn=Object(Fn.sortable)(Un);class Wn extends o.a.Component{constructor(e){super(e),this.updateState=e=>{this.setState(e),this.props.onChangeTestimonialOrder(this.props.testimonials)},this.state={draggingIndex:null}}render(){let e="";return this.props.testimonials&&(e=this.props.testimonials.length>0?this.props.testimonials.map((e,t)=>{const n={testimonial:e,collectionId:this.props.collectionId,index:t,onRemoveTestimonial:this.props.onRemoveTestimonial,onUpdateTestimonial:this.props.onUpdateTestimonial,onError:this.props.onError,authorId:this.props.authorId,is_draft:this.props.is_draft},i="testimonial-".concat(t);return o.a.createElement(qn,Object.assign({key:i,updateState:this.updateState,items:this.props.testimonials,draggingIndex:this.state.draggingIndex,sortId:t,outline:"list"},n))},this):""),o.a.createElement("div",{className:"list"},e)}}Wn.defaultProps={testimonials:[],authorId:null};class Vn extends o.a.Component{constructor(){super(...arguments),this.state={addable:!0},this.onAddTestimonial=e=>{this.setState({addable:!1}),this.props.onAddTestimonial(e)},this.onCancelTestimonial=()=>{this.setState({addable:!1})}}componentDidUpdate(e){this.props!==e&&(this.props.testimonials.length<1?this.setState({addable:!0}):this.setState({addable:!1}))}render(){const{testimonials:e}=this.props,t=this.state.addable?o.a.createElement(Bn,{authorId:this.props.authorId,onError:this.props.onError,collectionId:this.props.collectionId,onAddTestimonial:this.onAddTestimonial,onCancelTestimonial:this.onCancelTestimonial,newTestimonial:!0}):o.a.createElement(b.m,null,o.a.createElement(b.b,{onClick:()=>{this.setState({addable:!0})}},"Add New Testimonial"));return o.a.createElement(Pn,null,o.a.createElement(Rn,null,"Testimonials"),o.a.createElement(Wn,{authorId:this.props.authorId,is_draft:this.props.is_draft,onError:this.props.onError,testimonials:e,onChangeTestimonialOrder:this.props.onChangeTestimonialOrder,onRemoveTestimonial:this.props.onRemoveTestimonial,onUpdateTestimonial:this.props.onUpdateTestimonial,collectionId:this.props.collectionId}),t)}}var Gn=n(534),Kn=n(425),Yn=n(2191);const Xn=C.d.div.withConfig({displayName:"styles__ApiKeysStyled",componentId:"sc-14wys5r-0"})(["display:flex;flex:0 1 auto;flex-direction:column;width:100%;margin:15px auto auto auto;border:1px solid ",";border-radius:",";padding:15px;"],e=>{let{theme:t}=e;return t.palette.grey[300]},P.m),Jn=C.d.div.withConfig({displayName:"styles__Container",componentId:"sc-14wys5r-1"})(["display:flex;flex-direction:row;flex:0 0 auto;margin-bottom:10px;@media (max-width:992px){padding:4px;margin:2px;}"]),$n=C.d.div.withConfig({displayName:"styles__Label",componentId:"sc-14wys5r-2"})(["font-size:",";font-weight:",";color:",";text-transform:uppercase;"],M.a.textMedium,j.b,e=>{let{theme:t}=e;return t.palette.grey.A100}),Zn=C.d.div.withConfig({displayName:"styles__HelpText",componentId:"sc-14wys5r-3"})(["font-weight:",";font-size:",";"],j.e,M.a.detail),Qn=C.d.span.withConfig({displayName:"styles__SectionLabel",componentId:"sc-14wys5r-4"})(["font-size:",";font-weight:",";color:",";margin:6px 0px;"],M.a.textLarge,j.f,e=>{let{theme:t}=e;return t.palette.grey[800]}),ei=C.d.div.withConfig({displayName:"styles__KeysContainer",componentId:"sc-14wys5r-5"})(["display:flex;flex-direction:row;flex:1;margin:7px 0px;flex-wrap:wrap;"]),ti=C.d.label.withConfig({displayName:"styles__KeyLabel",componentId:"sc-14wys5r-6"})(["font-size:",";font-weight:",";color:",";margin:8px 0px 5px 10px;"],M.a.textMedium,j.f,e=>{let{theme:t}=e;return t.palette.grey[800]}),ni=C.d.input.withConfig({displayName:"styles__KeyInput",componentId:"sc-14wys5r-7"})(["width:100px;height:35px;border:1px solid ",";border-radius:",";margin-left:10px;outline:none;padding-left:10px;"," "," @media (max-width:","){width:80px;","}"],e=>{let{theme:t}=e;return t.palette.grey[300]},P.v,e=>{let{URL:t}=e;return t&&Object(C.c)(["width:200px;"])},e=>{let{error:t}=e;return t&&Object(C.c)(["border-color:",";"],e=>{let{theme:t}=e;return t.palette.error.main})},I.m.pixels,e=>{let{URL:t}=e;return t&&Object(C.c)(["width:140px;"])}),ii=C.d.div.withConfig({displayName:"styles__Icon",componentId:"sc-14wys5r-8"})(["margin:8px 0px 0px 8px;"]),ri=C.d.label.withConfig({displayName:"styles__DefaultLabel",componentId:"sc-14wys5r-9"})(["font-size:",";font-weight:",";color:",";margin:8px 10px 0px;"],M.a.textMedium,j.f,e=>{let{theme:t}=e;return t.palette.grey[800]});var oi=Xn,ai=n(1673),si=n(414);class li extends r.Component{constructor(e){super(e),this.isKeysEqual=(e,t)=>e.value===t.value&&e.key===t.key&&e.urlText===t.urlText,this.initKey=e=>Object(i.a)({},e,{},{id:e.id||Object(si.a)()}),this.checkErrors=e=>{let t=Object(i.a)({},this.state.errors),n=!1;return e.key&&e.key.match(/^[a-zA-Z][a-zA-Z0-9_]+$/g)||(t=Object(i.a)({},t,{key:!0}),n=!0),e.useAsDefault&&!e.value&&(t=Object(i.a)({},t,{value:!0}),n=!0),this.setState({errors:t}),n},this.onKeySaved=()=>{var e,t,n,r,o,a;const s=Object(i.a)({},this.state.apiKey,{value:null!==(e=null===(t=this.state.apiKey)||void 0===t?void 0:null===(n=t.value)||void 0===n?void 0:n.trim())&&void 0!==e?e:this.state.apiKey.value,urlText:null!==(r=null===(o=this.state.apiKey)||void 0===o?void 0:null===(a=o.urlText)||void 0===a?void 0:a.trim())&&void 0!==r?r:this.state.apiKey.urlText});this.checkErrors(s)||(this.props.checkForDuplicateKeys(s)?this.props.dispatch(Object(f.c)(h.q,{status:"ERROR",text:"Can not add duplicate keys"})):this.onKeySave(this.initKey(s)))},this.onKeySave=e=>{const{collectionId:t,authorId:n}=this.props;this.props.dispatch(Object(In.n)({author_id:n,collection_id:t},"COLLECTION_SAVE_API_KEY",{apiKey:e})),this.props.isEditor&&this.setState({apiKey:{key:"",value:"",urlText:"",useAsDefault:!1}})},this.onKeyRemoved=e=>{const{collectionId:t,authorId:n}=this.props;this.props.dispatch(Object(In.n)({author_id:n,collection_id:t},"COLLECTION_REMOVE_API_KEY",{apiKey:e}))},this.state={apiKey:Object(i.a)({},this.props.apiKey),errors:{}}}componentDidUpdate(e){this.isKeysEqual(this.props.apiKey,e.apiKey)||this.setState({apiKey:Object(i.a)({},this.state.apiKey,{},this.props.apiKey)})}onParamChange(e){return t=>{let{target:n}=t;const{errors:r}=this.state,o="checkbox"===n.type?n.checked:n.value,a={[e]:o},s="useAsDefault"===e?"value":e;this.setState({apiKey:Object(i.a)({},this.state.apiKey,{},a),errors:Object(i.a)({},r,{[s]:!1})})}}render(){const{errors:e}=this.state;return this.props.apiKey?o.a.createElement(ei,null,o.a.createElement(Jn,null,o.a.createElement(ti,null,"Key"),o.a.createElement(ni,{id:"key-".concat(this.props.index),value:this.state.apiKey.key,onChange:this.onParamChange("key"),error:e.key}),o.a.createElement(ti,null,"Value"),o.a.createElement(ni,{id:"value-".concat(this.props.index),value:this.state.apiKey.value,error:e.value,onChange:this.onParamChange("value")})),o.a.createElement(Jn,null,o.a.createElement(ti,null,"URL/TEXT"),o.a.createElement(ni,{URL:!0,id:"url/text-".concat(this.props.index),value:this.state.apiKey.urlText,onChange:this.onParamChange("urlText")}),o.a.createElement(ri,null,"Use as default","  ",o.a.createElement("input",{id:"use-as-default-1".concat(this.props.index),type:"checkbox",onChange:this.onParamChange("useAsDefault"),checked:this.state.apiKey.useAsDefault})),o.a.createElement(ii,null,o.a.createElement(c.a,{id:"save-".concat(this.props.index),size:18,onClick:()=>this.onKeySaved(this.state.apiKey)})),this.props.apiKey.id&&o.a.createElement($e.a,{popoverTitle:"Remove this Api key?",handleConfirm:()=>this.onKeyRemoved(this.state.apiKey),hideOnConfirm:!0,danger:!0},o.a.createElement(ii,null,o.a.createElement(Pe.a,{size:18,id:"delete-".concat(this.props.index)}))),this.props.isEditor&&o.a.createElement(ii,{id:"reset-".concat(this.props.index),onClick:()=>{this.setState({apiKey:{key:"",value:"",urlText:"",useAsDefault:!1}})}},o.a.createElement(ai.a,{size:18})))):o.a.createElement("div",null)}}li.defaultProps={apiKey:{}};class ci extends r.PureComponent{constructor(){super(...arguments),this.checkForDuplicateKeys=e=>{const{apiKeys:t}=this.props;return t.filter(t=>e.key!==t.key||e.id===t.id).length!==t.length}}render(){var e;return o.a.createElement(oi,null,o.a.createElement($n,null,"Api Keys"),o.a.createElement(Zn,null,"Define API keys that will be used in the course. Add all the keys that the learners can automatically replace or extract in executable widgets."),o.a.createElement(Qn,null,"Environment Variables"),o.a.createElement("div",null,(null!==(e=this.props.apiKeys)&&void 0!==e?e:[]).map((e,t)=>o.a.createElement(li,{index:t,checkForDuplicateKeys:this.checkForDuplicateKeys,apiKey:this.props.apiKeys[t],authorId:this.props.authorId,collectionId:this.props.collectionId,dispatch:this.props.dispatch,key:this.props.apiKeys.key||t}))),o.a.createElement(li,{index:-1,checkForDuplicateKeys:this.checkForDuplicateKeys,authorId:this.props.authorId,collectionId:this.props.collectionId,dispatch:this.props.dispatch,isEditor:!0}))}}C.d.div.withConfig({displayName:"styles__EditCollectionPageStyled",componentId:"eg1va6-0"})([""]);const hi=C.d.div.withConfig({displayName:"styles__HeaderArea",componentId:"eg1va6-1"})(["display:flex;flex-flow:row;padding:45px 20px 20px 20px;justify-content:space-between;align-self:center;max-width:1180px;width:100%;@media (max-width:","){flex-direction:column;align-items:center;}"],I.f.pixels);var di=n(2289),ui=n(946),pi=n(153);function fi(e){return JSON.parse(JSON.stringify(e))}class mi extends r.Component{constructor(e){super(e),this.isReviewer=()=>"review"===this.props.collection.getIn(["instance","details","collaboration_mode"]),this.onRemoveCategory=e=>{const{author_id:t,collection_id:n}=this.props;this.props.dispatch(Object(In.n)({author_id:t,collection_id:n},"REMOVE_CATEGORY",{id:e}))},this.onSaveCategoryTitle=(e,t)=>{const{author_id:n,collection_id:i}=this.props;this.props.dispatch(Object(In.n)({author_id:n,collection_id:i},"UPDATE_CATEGORY_TITLE",{id:e,title:t}))},this.onAddArticle=(e,t)=>{const{author_id:n,collection_id:i}=this.props;this.props.dispatch(Object(In.a)({author_id:n,collection_id:i,category_id:e,index:t}))},this.onUpdateArticle=(e,t,n)=>{const{author_id:i,collection_id:r}=this.props;this.props.dispatch(Object(In.n)({author_id:i,collection_id:r},"UPDATE_ARTICLE_TITLE",{categoryId:e,pageId:t,title:n}))},this.onCloneArticle=(e,t,n)=>{const{author_id:i,collection_id:r}=this.props;this.props.dispatch(Object(In.c)({author_id:i,collection_id:r,category_id:e,src_article_id:t,src_article_title:n}))},this.onAddCategory=(e,t)=>{const{author_id:n,collection_id:i}=this.props;this.props.dispatch(Object(In.n)({author_id:n,collection_id:i},"ADD_CATEGORY",{index:e,parentIndex:t}))},this.onAddTestimonial=e=>{let{text:t,name:n,title:i,pic:r}=e;this.props.dispatch(Object(In.b)({testimonial:{text:t,name:n,title:i,pic:r}}))},this.onUpdateTestimonial=(e,t)=>{this.props.dispatch(Object(s.a)("UPDATE_TESTIMONIAL")({index:e,testimonial:t}))},this.onChangeTestimonialOrder=e=>{this.props.dispatch(Object(s.a)("CHANGE_TESTIMONIAL_ORDER")({testimonials:e}))},this.onRemoveTestimonial=e=>{this.props.dispatch(Object(s.a)("REMOVE_TESTIMONIAL")({index:e}))},this.onError=e=>{const t=Object(H.c)(e);this.statuscontrol&&(null!==t?this.statuscontrol.seterrortext(t):this.statuscontrol.seterror()),this.resetGlobalAction()},this.onRemoveArticle=(e,t)=>{const{author_id:n,collection_id:i}=this.props;this.props.dispatch(Object(In.n)({author_id:n,collection_id:i},"REMOVE_ARTICLE",{category_id:e,article_id:t}))},this.onToggleArticlePreview=(e,t)=>{const{author_id:n,collection_id:i}=this.props;this.props.dispatch(Object(In.n)({author_id:n,collection_id:i},"TOGGLE_ARTICLE_VISIBILITY",{category_id:e,article_id:t}))},this.onToggleIsLesson=(e,t)=>{const{author_id:n,collection_id:i}=this.props;this.props.dispatch(Object(In.n)({author_id:n,collection_id:i},"TOGGLE_IS_LESSON",{category_id:e,article_id:t}))},this.onUpdateCoverImage=e=>{const{author_id:t,collection_id:n}=this.props;if(e.cover_image)Object(In.i)(t,n).then(t=>{const n=JSON.parse(t),i={image:e.cover_thumbnail,file:e.cover_image,image_id:n.image_id,metadata:e.metadata,upload_url:n.upload_url,updated:!0};this.setState({cover_image:i})}),this.props.dispatch(Object(s.a)("SET_DIRTY")(!0));else{this.props.dispatch(Object(s.a)("REMOVE_COVER_IMAGE")());const t={image:e.cover_thumbnail,file:e.cover_image,updated:!0};this.setState({cover_image:t})}},this.onUpdateCodeExecResourceFile=e=>{const{author_id:t,collection_id:n}=this.props;let i=e.file?e.file.name:e.file_name;if(i=i&&i.split(" ").join("-"),e.file)Object(In.g)(t,n,i).then(t=>{const n=JSON.parse(t),r={file:e.file,file_id:n.image_id,file_name:i,file_size:e.file.size,upload_url:n.upload_url,upload_success_url:n.upload_success_url,gcs_object_name:n.gcs_object_name,updated:!0,uploadStatus:u.O.UPLOAD_PENDING};this.props.dispatch(Object(s.a)("UPDATE_CODE_EXEC_RESOURCE_FILE")(r)),this.props.dispatch(Object(s.a)("SET_DIRTY")(!0))});else{const t={file_id:e.file_id,file_name:i,file_size:e.file_size,updated:!0,uploadStatus:u.O.UPLOAD_PENDING};this.props.dispatch(Object(s.a)("UPDATE_CODE_EXEC_RESOURCE_FILE")(t))}},this.onUpdateDataFile=(e,t)=>{const{author_id:n,collection_id:i}=this.props;e.file&&Object(In.j)(n,i).then(n=>{const i=JSON.parse(n),r={file:e.file,file_id:i.udata_id,file_name:e.file.name,file_size:e.file.size,upload_url:i.upload_url,updated:!0,failed:void 0!==t};void 0!==t?this.props.dispatch(Object(s.a)("UPDATE_USER_DATA_RESOURCE_FILE")({payload:r,index:t})):this.props.dispatch(Object(s.a)("ADD_USER_DATA_RESOURCE_FILE")(r))})},this.onRemoveDataFile=e=>{this.props.dispatch(Object(s.a)("REMOVE_USER_DATA_RESOURCE_FILE")({index:e}))},this.onChangeThemes=(e,t)=>{const{author_id:n,collection_id:i}=this.props,r={type:e,value:t};this.props.dispatch(Object(In.n)({author_id:n,collection_id:i},"SET_DEFAULT_CODE_THEMES",r))},this.onChangeForce=(e,t)=>{const{author_id:n,collection_id:i}=this.props,r={type:e,value:t};this.props.dispatch(Object(In.n)({author_id:n,collection_id:i},"SET_FORCE_CODE_THEMES",r))},this.onSaveFormData=e=>{-1!==["save","publish","preview"].indexOf(this.state.globalAction)?this.saveCollection(e):(this.props.dispatch(Object(s.a)("UPDATE_COLLECTION_DETAILS")(e)),this.statuscontrol&&this.statuscontrol.reset())},this.onDiscard=()=>{const{originalCollection:e}=this.state,{cover_image:t,codeExecResourceFile:n}=this.props;this.props.dispatch(Object(s.a)("DISCARD_CHANGES")({originalCollection:e})),this.setState({cover_image:fi(t),codeExecResourceFile:fi(n)})},this.onMoveItem=(e,t)=>{const{dispatch:n}=this.props,i="undefined"===typeof e.parentIndex&&e.parentIndex===t.parentIndex,r=e.parentIndex===t.parentIndex;i?n(Object(s.a)("MOVE_CATEGORY")({from:e,to:t})):"undefined"===typeof t.itemIndex?n(Object(s.a)("MOVE_ARTICLE_TO_EMTY_CATEGORY")({from:e,to:t})):n(r?Object(s.a)("MOVE_ARTICLE_WITHIN_ORIGIN")({from:e,to:t}):Object(s.a)("MOVE_ARTICLE_TO_NOT_EMPTY_CATEGORY")({from:e,to:t}))},this.setGlobalAction=e=>{this.setState({globalAction:e})},this.resetGlobalAction=()=>{this.setState({globalAction:null})},this.getCollaborators=()=>{var e,t;const{collection:n}=this.props,i="size"in n?n.toJS():{};return(null===i||void 0===i?void 0:null===(e=i.instance)||void 0===e?void 0:null===(t=e.details)||void 0===t?void 0:t.collaborators)||{}},this.getCoAuthors=()=>{var e,t;const{collection:n}=this.props,i="size"in n?n.toJS():{};return(null===i||void 0===i?void 0:null===(e=i.instance)||void 0===e?void 0:null===(t=e.details)||void 0===t?void 0:t.co_authors)||{}},this.getReviewers=()=>{var e,t;const{collection:n}=this.props,i="size"in n?n.toJS():{};return(null===i||void 0===i?void 0:null===(e=i.instance)||void 0===e?void 0:null===(t=e.details)||void 0===t?void 0:t.reviewers)||{}},this.isString=e=>"string"===typeof e||e instanceof String,this.state={originalCollection:e.collection,cover_image:e.cover_image,globalAction:null}}componentDidMount(){var e=this;this.block=this.props.history.block((e,t)=>{var n;const i=e.pathname.startsWith("/collection"),r=null===e||void 0===e?void 0:null===(n=e.state)||void 0===n?void 0:n.isDeleted,o=this.props.collection.getIn(["instance","dirty"]);return!(!i&&!r&&o)||u.A}),this.props.dispatch(Object(s.a)("SET_EDITOR_PAGE")({saveAfterAction:function(){e.props.dispatch(Object(In.n)(...arguments))},setDockerFile:function(){e.props.dispatch(Object(In.p)(...arguments))},page:u.D.COLLECTION,params:{author_id:this.props.author_id,collection_id:this.props.collection_id}})),this.closeHandler=e=>(e.preventDefault(),!this.props.collection.getIn(["instance","dirty"])||(e.returnValue=u.A)),window.addEventListener("beforeunload",this.closeHandler)}componentDidUpdate(e){if(this.isReviewer()&&this.props.dispatch(Object(s.a)("CHANGE_NOTFOUND_STATE")(!0)),e.cover_image!==this.props.cover_image&&this.setState({cover_image:this.props.cover_image}),this.props.collection.getIn(["instance","details","author_id"])!==e.collection.getIn(["instance","details","author_id"])&&this.props.dispatch(Object(U.c)(this.props.collection.getIn(["instance","details","author_id"]))),e.author_id===this.props.author_id&&e.collection_id===this.props.collection_id||this.props.dispatch(Object(s.a)("SET_EDITOR_PAGE_PARAMS")({author_id:this.props.author_id,collection_id:this.props.collection_id})),e.collection.size&&!a.a(e.collection,this.props.collection)&&"save"!==this.state.globalAction){const t=["instance","dirty"],n=e.collection.getIn(t)!==this.props.collection.getIn(t),i=["instance","details","code_exec_resource_metadata"],r=e.collection.getIn(i)!==this.props.collection.getIn(i);this.props.collection.getIn(t)||n||r||this.props.dispatch(Object(s.a)("SET_DIRTY")(!0))}}componentWillUnmount(){window.removeEventListener("beforeunload",this.closeHandler),this.block()}shouldComponentUpdate(e,t){return"save"!==this.state.globalAction||"save"!==t.globalAction}getCustomButtons(){const{collection:e}=this.props,t=!!e&&e.getIn(["instance","dirty"]),n=e.get("is_published"),i=e.getIn(["instance","details","can_publish"]);return[{type:"secondary",text:"Preview",method:()=>this.setGlobalAction("preview"),icon:o.a.createElement(l.a,{size:20}),key:"Preview Button"},{type:i?"secondary":"primary",text:t?"Save*":"Save",method:()=>{Object(q.c)(q.b.COURSE,q.a.COURSE_SAVE),this.setGlobalAction("save")},icon:o.a.createElement(c.a,{size:20}),key:"Save Button"},i&&{type:"primary",text:n?"UPDATE":"CREATE",method:()=>{Object(q.c)(q.b.COURSE,q.a.COURSE_PUBLISH),this.setGlobalAction("publish")},icon:"globeIcon",key:"Publish Button"}].filter(Boolean)}goToPreview(){const{author_id:e,collection_id:t,history:n}=this.props,i="/collection/".concat(e,"/").concat(t,"/draft");n.push(i)}goToPublish(){const{author_id:e,collection_id:t,history:n}=this.props,i="/collection/".concat(e,"/").concat(t);n.push(i)}performActionAfterSaving(e){const{author_id:t,collection_id:n}=this.props;switch(e){case"publish":const e=this.props.collection.get("is_published"),i=e?"Updating course":"Creating course",r=e?"Updated course":"Created course";this.props.dispatch(Object(In.l)(t,n,i,r,()=>this.goToPublish()));break;case"preview":this.goToPreview()}}uploadUserDataFiles(){const e=this.getUserDataFiles().filter(e=>{let{file:t,updated:n}=e;return t&&n}).map((e,t)=>Object(be.P)(e).then(()=>{const n=Object(i.a)({},e,{file:null,upload_url:null,updated:!1});this.props.dispatch(Object(s.a)("UPDATE_USER_DATA_RESOURCE_FILE")({payload:n,index:t}))}).catch(n=>{throw this.onUpdateDataFile(e,t),n}));return e.length>0?(this.props.dispatch(Object(f.c)(h.q,{status:"WAIT",text:"Uploading course assets"})),Promise.all(e).then(()=>{this.props.dispatch(Object(f.c)(h.q,{status:"SUCCESS",text:"Uploaded course assets"}))}).catch(e=>{if(e.status===d.c.serverError)throw d.a.AssetUploadFailedException;throw e})):Promise.resolve()}uploadTestimonialImages(){const e=this.getTestimonials().filter(e=>{let{pic:t}=e;return(null===t||void 0===t?void 0:t.file)&&t.updated}).map((e,t)=>Object(be.P)(e.pic).then(e=>{const n=JSON.parse(e),r=n?Object(i.a)({},n,{updated:!1,image_name:n.file_name,image:"/api/author/".concat(this.props.author_id,"/collection/").concat(this.props.collection_id,"/image/").concat(n.image_id),image_id:n.image_id}):n;this.props.dispatch(Object(s.a)("UPDATE_TESTIMONIAL_IMAGE")({payload:r,index:t}))}).catch(e=>console.log("failed",e)),this);return Promise.all(e).then(()=>console.log("Uploaded testimonial images.")).catch(e=>{console.error("Failed to upload testimonial images.",e)})}uploadDockerFile(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0===Object.keys(null!==n&&void 0!==n?n:{}).length)return;const r=n.toJS();if(!(null===r||void 0===r?void 0:null===(e=r.container)||void 0===e?void 0:null===(t=e.file)||void 0===t?void 0:t.awaitingUpload))return void console.log("no docker file to upload");const o=Object(i.a)({},r.container,{},{authorId:this.props.author_id,collectionId:this.props.collection_id});this.props.dispatch(Object(In.r)(o))}getUserDataFilesPayload(){const e=this.getUserDataFiles().map(e=>{let{file_id:t}=e;return t});return JSON.stringify(e)}uploadCoverImage(e,t,n){return this.props.dispatch(Object(f.c)(h.q,{status:"WAIT",text:"Uploading course cover"})),Object(be.P)(n).then(r=>{const o=JSON.parse(r),a=o?Object(i.a)({},n,{updated:!1,file_name:o.file_name,image:"/api/author/".concat(e,"/collection/").concat(t,"/image/").concat(o.image_id),image_id:o.image_id}):n;this.setState({cover_image:a})}).catch(e=>{this.props.dispatch(Object(f.e)({status:"ERROR",text:"Uploading course cover failed"})),this.onError(e)})}async saveCollection(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{cover_image:r}=this.state,{author_id:o,collection_id:a,collection:l,codeExecResourceFile:c,dockerDetails:m}=this.props,b=this.getTestimonials(),y=null!==(t=null===b||void 0===b?void 0:b.map(e=>{var t;let{pic:n,name:i,text:r,title:o}=e;return{name:i,text:r,title:o,pic:n.image_id?{file:n.file,image:"",image_id:n.image_id,image_name:null===n||void 0===n?void 0:null===(t=n.file)||void 0===t?void 0:t.name,upload_url:null===n||void 0===n?void 0:n.upload_url,updated:!1}:{},image_id:n.image_id?n.image_id:""}}))&&void 0!==t?t:[],_=JSON.stringify(y),x=JSON.stringify({categories:l.getIn(["instance","details","toc","categories"])}),w=JSON.stringify(Object(v.b)(m.toJS())),C=JSON.stringify({apiKeys:l.getIn(["instance","details","api_keys"]).toJS()}),S=r.metadata?JSON.stringify(r.metadata):"",E=JSON.stringify({code_themes:l.getIn(["instance","details","CodeThemes"])}),k=l.getIn(["instance","details","collection_toc_is_enabled"]),O=l.getIn([p.a]),T=JSON.stringify({licensing:l.getIn(["instance","details","licensing"])}),A=this.getCollaborators(),I=JSON.stringify(Object.values(A).map(e=>e.author_id)),j=this.getCoAuthors(),P=JSON.stringify(Object.values(j).map(e=>e.author_id)),M=this.getReviewers(),R=JSON.stringify(Object.values(M).map(e=>e.author_id)),D={title:e.title||"",summary:e.summary||"",is_priced:e.is_priced||!1,price:0===e.price?null:e.price,discounted_price:e.discounted_price?e.discounted_price:null,track_price:e.track_price?e.track_price:null,author_version:e.author_version,tags:e.tags,details:"<p><br></p>"===e.details?"":e.details,intro_video_url:e.intro_video_url,cover_image_id:r.image_id||null,cover_image_metadata:S,categories_json_string:x,testimonials_string:_,docker:w,api_keys_string:C,user_data_file_ids_string:this.getUserDataFilesPayload(),code_exec_resource_file_id:c.file_id||null,default_themes_json_string:E,collection_toc_is_enabled:k,licensing_json_string:T,feedback_email:e.feedback_email,feedback_email_2:e.feedback_email_2,target_audience:e.target_audience,collaborators_json_string:I,co_authors_json_string:P,reviewers_json_string:R};this.props.dispatch(Object(g.a)({isLoading:!0})),this.props.dispatch(Object(f.b)(h.q,{status:"WAIT",text:"Saving course"}));try{const e=await Object(In.o)(o,a,D,n?u.B:O),t=null===e||void 0===e?void 0:e.xhr;this.props.dispatch(Object(s.a)("UPDATE_ETAG")(t.getResponseHeader(p.a))),this.props.dispatch(Object(s.a)("UPDATE_COLLECTION_DETAILS")(D)),this.uploadDockerFile(m),c.file&&c.updated&&(this.props.dispatch(Object(s.a)("UPDATE_CODE_EXEC_RESOURCE_FILE")(Object(i.a)({},c,{uploadStatus:u.O.UPLOADING}))),Object(In.q)(this.props.dispatch,c).catch(e=>{this.props.dispatch(Object(s.a)("UPDATE_CODE_EXEC_RESOURCE_FILE")(Object(i.a)({},c,{uploadStatus:u.O.UPLOAD_FAILED}))),this.props.dispatch(Object(f.e)({status:"ERROR",text:"Uploading code execution resource file failed"})),this.onError(e)})),!r.file&&r.updated&&this.setState({cover_image:r});const l=[r.file&&r.updated&&this.uploadCoverImage(o,a,r),this.uploadUserDataFiles(),this.uploadTestimonialImages()];await Promise.all(l),this.props.dispatch(Object(s.a)("SET_DIRTY")(!1)),"save"!==this.state.globalAction&&"preview"!==this.state.globalAction||this.props.dispatch(Object(f.e)({status:"SUCCESS",text:"Course saved successfully"})),this.performActionAfterSaving(this.state.globalAction),this.resetGlobalAction()}catch(L){return void(L===d.a.AssetUploadFailedException?(this.props.dispatch(Object(f.e)({status:"ERROR",text:"Uploading course asset(s) failed"})),this.resetGlobalAction()):L.status===d.c.AlreadyExistsException?(this.props.dispatch(Object(f.a)()),this.props.dispatch(Object(f.b)(h.e,{onConfirm:()=>this.saveCollection(e,!0),onCancel:this.resetGlobalAction,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))):(this.props.dispatch(Object(f.e)({status:"ERROR",text:"Unable to Save Changes"})),this.resetGlobalAction()))}finally{this.props.dispatch(Object(g.a)({isLoading:!1}))}}getTestimonials(){const{collection:e}=this.props;return((("size"in e?e.toJS():{}).instance||{}).details||{}).testimonials||[]}getApiKeys(){const{collection:e}=this.props;return m.Iterable.isIterable(e.getIn(["instance","details","api_keys"]))?e.getIn(["instance","details","api_keys"]).toJS():[]}getUserDataFiles(){const{collection:e}=this.props;return((("size"in e?e.toJS():{}).instance||{}).details||{}).udata_files||[]}render(){var e,t,n,i,r,a,s,l,c,h,d,p,f,m,g,v,y,_,x,w,C,S;const{globalAction:E,cover_image:k}=this.state,{searchString:O,is_draft:T,collection:A,author_id:I,collection_id:j,userInfo:P,contentLoaded:M,contentLoading:R,codeExecResourceFile:D,profile:L,history:N}=this.props;if(!I)return null;const B=this.getTestimonials(),F=this.getUserDataFiles(),H=null===(e=A.toJS())||void 0===e?void 0:null===(t=e.instance)||void 0===t?void 0:null===(n=t.details)||void 0===n?void 0:n.ref_author_name,U=null===(i=A.toJS())||void 0===i?void 0:null===(r=i.instance)||void 0===r?void 0:null===(a=r.details)||void 0===a?void 0:a.ref_author_id,W=I,V=null===P||void 0===P?void 0:P.user_id,G=null===L||void 0===L?void 0:null===(s=L.data)||void 0===s?void 0:s.full_name;let K=null===(l=A.toJS())||void 0===l?void 0:null===(c=l.instance)||void 0===c?void 0:null===(h=c.details)||void 0===h?void 0:h.tags;this.isString(K)&&(K=K.split(","));const Y=V&&I.toString()===V.toString();return o.a.createElement(jt.j,null,o.a.createElement(Kn.a,{disabled:!M||R,buttons:this.getCustomButtons()}),o.a.createElement(jt.e,null,o.a.createElement(hi,null,o.a.createElement(Yn.a,{authorId:U||W,authorName:H||G,coverImage:k.image,saveTempData:this.onUpdateCoverImage,title:null===(d=A.toJS())||void 0===d?void 0:null===(p=d.instance)||void 0===p?void 0:null===(f=p.details)||void 0===f?void 0:f.title,showImageAndAuthor:!0}),o.a.createElement(z,{creationDate:null===(m=A.toJS())||void 0===m?void 0:m.creation_time,modifiedDate:null===(g=A.toJS())||void 0===g?void 0:null===(v=g.instance)||void 0===v?void 0:null===(y=v.details)||void 0===y?void 0:y.modified_time,lastPublished:null===(_=A.toJS())||void 0===_?void 0:null===(x=_.instance)||void 0===x?void 0:null===(w=x.details)||void 0===w?void 0:w.published_time,type:null===(C=A.toJS())||void 0===C?void 0:null===(S=C.instance)||void 0===S?void 0:S.type})),o.a.createElement(Dt,{collection_id:j,author_id:I,collection:A,canManageCollaborators:Y,mode:"write",contentLoading:R,is_draft:T,searchString:O,saveFormData:this.onSaveFormData,globalAction:E,saveTitle:this.onSaveCategoryTitle,addArticle:this.onAddArticle,updateArticle:this.onUpdateArticle,cloneArticle:this.onCloneArticle,addCategory:this.onAddCategory,togglePreview:this.onToggleArticlePreview,toggleIsLesson:this.onToggleIsLesson,removeCategory:this.onRemoveCategory,removeArticle:this.onRemoveArticle,resetGlobalAction:this.resetGlobalAction,setGlobalAction:this.setGlobalAction,moveItem:this.onMoveItem},o.a.createElement(Gn.a,{ref:e=>{this.statuscontrol=e},waitingcontent:"Proceeding",errorcontent:"Something went wrong.",successcontent:"Success",closeIcon:!0})),o.a.createElement(On,{mode:"write",dataFiles:F,collectionId:this.props.collection_id,updateImage:this.onUpdateDataFile,removeImage:this.onRemoveDataFile}),o.a.createElement(cn,{content:D,authorId:I,collectionId:j,updateImage:this.onUpdateCodeExecResourceFile}),o.a.createElement(di.a,{type:u.D.COLLECTION}),o.a.createElement(ci,{authorId:W,collectionId:j,apiKeys:this.getApiKeys(),dispatch:this.props.dispatch}),o.a.createElement(Vn,{authorId:I,is_draft:T,onError:this.onError,collectionId:this.props.collection_id,onAddTestimonial:this.onAddTestimonial,onChangeTestimonialOrder:this.onChangeTestimonialOrder,onRemoveTestimonial:this.onRemoveTestimonial,onUpdateTestimonial:this.onUpdateTestimonial,testimonials:B}),V&&W.toString()===V.toString()&&o.a.createElement(b.l,null,o.a.createElement($e.a,{popoverTitle:"Permanently delete this Course?",hideOnConfirm:!0,danger:!0,handleConfirm:()=>{Object(q.c)(q.b.COURSE,q.a.COURSE_DELETE),Object(In.e)(I,j).then(()=>N.push("/teach",{isDeleted:!0})).catch(this.onError)}},o.a.createElement(b.k,{danger:!0,small:!0},"DELETE COURSE")))))}}mi.defaultProps={author_id:null,collection_id:null};t.default=Object(ui.a)("write",!0)(Object(pi.f)(mi))},1113:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(30),a=n(28),s=n(31),l=n(15),c=n(341);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createElement("defs",null,r.a.createElement("style",null,".a1{fill:#4951f5;}")),p=r.a.createElement("g",{transform:"translate(637.354 -416.16)"},r.a.createElement("g",{transform:"translate(-565.869 444.712)"},r.a.createElement("g",{transform:"translate(0)"},r.a.createElement("path",{className:"a1",d:"M-461.7,485.724a1.492,1.492,0,0,1,1.492,1.492v6.9a1.492,1.492,0,0,1-1.492,1.492,1.492,1.492,0,0,1-1.492-1.492v-6.9A1.492,1.492,0,0,1-461.7,485.724Z",transform:"translate(463.192 -485.724)"}))),r.a.createElement("g",{transform:"translate(-569.346 448.162)"},r.a.createElement("g",{transform:"translate(0)"},r.a.createElement("path",{className:"a1",d:"M-470.169,494.13h6.9a1.492,1.492,0,0,1,1.492,1.492,1.492,1.492,0,0,1-1.492,1.492h-6.9a1.492,1.492,0,0,1-1.492-1.492A1.492,1.492,0,0,1-470.169,494.13Z",transform:"translate(471.661 -494.13)"}))),r.a.createElement("g",{transform:"translate(-573.722 417.63)"},r.a.createElement("g",{transform:"translate(0 0)"},r.a.createElement("circle",{className:"a1",cx:2.259,cy:2.259,r:2.259}))),r.a.createElement("g",{transform:"translate(-607.255 482.088)"},r.a.createElement("g",{transform:"translate(0 0)"},r.a.createElement("path",{className:"a1",d:"M-562.531,576.786a1.492,1.492,0,0,1,1.492,1.492v6.9a1.492,1.492,0,0,1-1.492,1.492,1.492,1.492,0,0,1-1.492-1.492v-6.9A1.492,1.492,0,0,1-562.531,576.786Z",transform:"translate(564.023 -576.786)"}))),r.a.createElement("g",{transform:"translate(-610.731 485.539)"},r.a.createElement("g",{transform:"translate(0)"},r.a.createElement("path",{className:"a1",d:"M-571,585.192h6.9a1.492,1.492,0,0,1,1.492,1.492,1.492,1.492,0,0,1-1.492,1.492H-571a1.492,1.492,0,0,1-1.492-1.492A1.492,1.492,0,0,1-571,585.192Z",transform:"translate(572.492 -585.192)"}))),r.a.createElement("g",{transform:"translate(-544.588 448.016)"},r.a.createElement("g",{transform:"translate(0 0)"},r.a.createElement("circle",{className:"a1",cx:2.259,cy:2.259,r:2.259}))),r.a.createElement("g",{transform:"translate(-627.49 438.537)"},r.a.createElement("g",{transform:"translate(0 0)"},r.a.createElement("path",{className:"a1",d:"M-611.831,470.68a1.492,1.492,0,0,1,1.492,1.492v6.9a1.492,1.492,0,0,1-1.492,1.492,1.492,1.492,0,0,1-1.492-1.492v-6.9A1.492,1.492,0,0,1-611.831,470.68Z",transform:"translate(613.323 -470.68)"}))),r.a.createElement("g",{transform:"translate(-630.967 441.988)"},r.a.createElement("g",{transform:"translate(0)"},r.a.createElement("path",{className:"a1",d:"M-620.3,479.087h6.9a1.492,1.492,0,0,1,1.492,1.492,1.492,1.492,0,0,1-1.492,1.492h-6.9a1.492,1.492,0,0,1-1.492-1.492A1.492,1.492,0,0,1-620.3,479.087Z",transform:"translate(621.792 -479.087)"}))),r.a.createElement("g",{transform:"translate(-610.224 416.16)"},r.a.createElement("g",{transform:"translate(0)"},r.a.createElement("circle",{className:"a1",cx:2.259,cy:2.259,r:2.259}))),r.a.createElement("g",{transform:"translate(-637.354 471.388)"},r.a.createElement("g",{transform:"translate(0 0)"},r.a.createElement("circle",{className:"a1",cx:2.259,cy:2.259,r:2.259}))),r.a.createElement("g",{transform:"translate(-580.681 468.041)"},r.a.createElement("rect",{className:"a1",width:15.597,height:152.687,rx:2.081,transform:"matrix(0.747, -0.665, 0.665, 0.747, 0, 10.371)"})),r.a.createElement("g",{transform:"translate(-603.186 442.543)"},r.a.createElement("path",{className:"a1",d:"M-529.575,518.07a1.025,1.025,0,0,1-.767-.344l-22.484-25.255a4.93,4.93,0,0,1-1.272-2.912,3.406,3.406,0,0,1,1.071-2.811l6.188-5.51c1.506-1.341,4.045-.953,5.662.862l22.484,25.255a1.026,1.026,0,0,1-.084,1.448,1.026,1.026,0,0,1-1.449-.084l-22.484-25.254c-.85-.954-2.116-1.272-2.765-.694l-6.188,5.51a1.4,1.4,0,0,0-.389,1.141,2.915,2.915,0,0,0,.758,1.685l22.484,25.254a1.026,1.026,0,0,1-.084,1.449A1.022,1.022,0,0,1-529.575,518.07Z",transform:"translate(554.108 -480.439)"})),r.a.createElement("g",{transform:"translate(-599.931 450.746)"},r.a.createElement("path",{className:"a1",d:"M-524.954,525.161a1.023,1.023,0,0,1-.767-.344l-20.2-22.685a1.026,1.026,0,0,1,.084-1.448,1.026,1.026,0,0,1,1.449.084l20.2,22.685a1.026,1.026,0,0,1-.084,1.449A1.024,1.024,0,0,1-524.954,525.161Z",transform:"translate(546.177 -500.424)"})));const f=e=>{let{svgRef:t,title:n}=e,i=d(e,["svgRef","title"]);return r.a.createElement("svg",h({width:169.852,height:176.292,viewBox:"0 0 169.852 176.292",ref:t},i),n?r.a.createElement("title",null,n):null,u,p)},m=r.a.forwardRef((e,t)=>r.a.createElement(f,h({svgRef:t},e)));n.p;var g=n(819),v=n(1529),b=()=>{const e={config:{},userThemes:null,docker:{},index:0,allowWidgetUserData:!0,isDraft:!1,mode:"view",type:"Code",hash:"1",className:"widget",content:{title:"",content:'package main\r\nimport "fmt"\r\n\r\nfunc main() {\r\n    fmt.Printf("Hello World")\r\n}',entryFileName:"main.go",selectedIndex:0,caption:"",language:"go",evaluateLanguage:null,theme:"default",runnable:!0,timeLimit:30,judge:!1,judgeContent:null,judgeHints:null,allowDownload:!1,treatOutputAsHTML:!1,enableHiddenCode:!1,enableStdin:!1,evaluateWithoutExecution:!1,showSolution:!1,version:"7.0",specialInput:"no-input",codeReplaced:!1,onlyCodeChanged:!1,hasSnapshot:!1,dirty:!1,dockerExecutionContext:null},executionMetadata:{loaded:!0,loading:!1,data:{}},comps:{},updateContentState:()=>{},fullScreen:!1,fullscreenIconToggle:()=>{},toggleFullScreen:()=>{}};return r.a.createElement(g.w,null,r.a.createElement(g.d,null,r.a.createElement(g.q,null,r.a.createElement(g.p,null,r.a.createElement(g.o,null,"The magic of text"),r.a.createElement(g.v,null,"All our courses are text-based. That means no fiddling with cameras, no expensive studio equipment, no video editing skills to master... it's just you, your keyboard, and your ideas.")),r.a.createElement(g.r,{mobileCenter:!0,mobileMarginBottom:"40px"},r.a.createElement(m,null))),r.a.createElement(g.q,{marginTop:!0},r.a.createElement(g.p,null,r.a.createElement(g.o,null,"Simple but powerful tools"),r.a.createElement(g.v,null,"Educative's powerful WYSIWYG editor lets you create functional coding playgrounds, animations, and more with the click of a few buttons."),r.a.createElement(g.b,null,r.a.createElement(v.default,e)),r.a.createElement(g.c,null,r.a.createElement("p",null,"Execute code for dozens of programming languages, right in the browser."))))))},y=n(1),_=n(2195),x=n(1661),w=n(2),C=n.n(w);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var k=function(e){var t=e.color,n=e.size,i=E(e,["color","size"]);return r.a.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.a.createElement("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),r.a.createElement("line",{x1:"1",y1:"10",x2:"23",y2:"10"}))};k.propTypes={color:C.a.string,size:C.a.oneOfType([C.a.string,C.a.number])},k.defaultProps={color:"currentColor",size:"24"};var O=k,T=n(21),A=n(5),I=n(51),j=n(18),P=n(12);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var D=r.a.createElement("defs",null,r.a.createElement("style",null,".a{fill:#4951f5;}.b{fill:#fff;}")),L=r.a.createElement("g",{transform:"matrix(0.998, 0.07, -0.07, 0.998, 4.457, 0)"},r.a.createElement("path",{className:"a",d:"M528.709,181.892H435V118h93.709Zm-6.6-6.511v-47.31c-1.038.815-1.8,1.4-2.556,2.009q-17.2,13.836-34.4,27.673c-2.988,2.4-3.6,2.4-6.655-.06q-17.311-13.913-34.611-27.84c-.7-.566-1.439-1.091-2.352-1.782v47.31Zm-74.655-50.836,34.4,27.684,34.4-27.684Z",transform:"translate(-435 -118)"}),r.a.createElement("path",{className:"b",d:"M527.838,184.226H447.26v-47.31c.913.691,1.648,1.216,2.352,1.782q17.308,13.917,34.611,27.84c3.056,2.456,3.667,2.46,6.655.06q17.208-13.829,34.4-27.673c.753-.605,1.519-1.194,2.556-2.009Z",transform:"translate(-440.732 -126.844)"}),r.a.createElement("path",{className:"b",d:"M458.385,130.294h68.806l-34.4,27.684Z",transform:"translate(-445.934 -123.748)"}));const N=e=>{let{svgRef:t,title:n}=e,i=R(e,["svgRef","title"]);return r.a.createElement("svg",M({width:97.937,height:70.273,viewBox:"0 0 97.937 70.273",ref:t},i),n?r.a.createElement("title",null,n):null,D,L)},B=r.a.forwardRef((e,t)=>r.a.createElement(N,M({svgRef:t},e)));n.p;const F=()=>Object(y.c)(["display:flex;height:175px;width:175px;border-radius:",";box-shadow:1px 1px 9px ",";align-items:center;justify-content:center;margin-bottom:30px;margin-top:40px;background:",";"],j.c,e=>{let{theme:t}=e;return t.palette.alphas.white1},e=>{let{theme:t}=e;return t.palette.common.white}),z=(y.d.div.withConfig({displayName:"styles__HowItWorksStyled",componentId:"q6qnow-0"})(["display:flex;flex:1;flex-direction:row;align-items:center;justify-content:center;@media (max-width:","){flex-direction:column;}"],A.f.pixels),Object(y.d)(B).withConfig({displayName:"styles__EmailImg",componentId:"q6qnow-1"})(["position:absolute;right:0;"]));y.d.div.withConfig({displayName:"styles__Step",componentId:"q6qnow-2"})(["display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;text-align:center;font-size:",";color:",";position:relative;width:210px;margin:0px 40px 30px 40px;@media (max-width:","){margin:0px 20px 30px 20px;}"],P.a.textLarge,e=>{let{theme:t}=e;return t.palette.common.white},A.m.pixels),y.d.div.attrs(e=>{let{theme:t}=e;return{children:r.a.createElement(_.a,{size:55,color:t.palette.common.black})}}).withConfig({displayName:"styles__SendIcon",componentId:"q6qnow-3"})(["",""],F),y.d.div.attrs(e=>{let{theme:t}=e;return{children:r.a.createElement(x.a,{size:55,color:t.palette.common.black})}}).withConfig({displayName:"styles__EditIcon",componentId:"q6qnow-4"})(["",""],F),y.d.div.attrs(e=>{let{theme:t}=e;return{children:r.a.createElement(O,{size:55,color:t.palette.common.black})}}).withConfig({displayName:"styles__CardIcon",componentId:"q6qnow-5"})(["",""],F),y.d.div.withConfig({displayName:"styles__Heading",componentId:"q6qnow-6"})(["font-size:",";font-weight:",";"],P.a.h4,T.g),y.d.div.withConfig({displayName:"styles__Number",componentId:"q6qnow-7"})(["display:flex;height:45px;width:45px;border-radius:",";align-items:center;justify-content:center;background:",";color:",";position:absolute;align-self:flex-start;z-index:",";font-weight:",";font-size:",";margin-top:-100px;margin-left:15px;"],j.c,e=>{let{theme:t}=e;return t.palette.success.main},e=>{let{theme:t}=e;return t.palette.common.white},I.d,T.g,P.a.h4);function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var q=r.a.createElement("defs",null,r.a.createElement("style",null,".a2{fill:#fff;}.b2{fill:#d7f1f9;}.c2{fill:#4951f5;}")),W=r.a.createElement("path",{className:"a2",d:"M11.615,0h92.77A11.615,11.615,0,0,1,116,11.615v13.1A43.285,43.285,0,0,1,72.715,68h-61.1A11.615,11.615,0,0,1,0,56.385V11.615A11.615,11.615,0,0,1,11.615,0Z",transform:"translate(39.946 81.946)"}),V=r.a.createElement("g",{transform:"translate(37.258 49.902)"},r.a.createElement("rect",{className:"b2",width:125,height:29,transform:"translate(-0.312 0.045)"})),G=r.a.createElement("g",{transform:"translate(37.859 49.663)"},r.a.createElement("path",{className:"c2",d:"M887.428,226.085H787.407c-2.794-1.949-3.534-4.6-3.52-7.979q.172-43.06,0-86.12c-.013-3.369.721-6.035,3.518-7.985H908.122v81.392Zm-97.713-68.841v63.065h93.574c0-4.269-.023-8.281.006-12.293.035-4.737,1.984-6.716,6.665-6.755,4.1-.034,8.21-.007,12.443-.007v-44.01Zm-.094-5.909H902.432V129.708H789.621Zm99.348,63.7,7.8-8.094h-7.8Z",transform:"translate(-783.887 -124)"})),K=r.a.createElement("g",{transform:"translate(37.247 49.663)"},r.a.createElement("path",{className:"c2",d:"M787.132,124c-2.8,1.95-3.531,4.616-3.518,7.985q.167,43.06,0,86.12c-.014,3.375.726,6.031,3.52,7.979H783Q783,175.043,783,124Z",transform:"translate(-783 -124)"})),Y=r.a.createElement("g",{transform:"translate(53.353 89.832)"},r.a.createElement("path",{className:"c2",d:"M806.35,182.236h93.393v27.3H877.88v22.03H806.35Zm21.672,5.536h-16.19V203.9h16.19Zm22.061.012H833.917v16.1h16.166Zm5.937-.049v16.124h16.109V187.735Zm38.222.04H878.058V203.9h16.184Zm-82.48,38.188h16.25v-16.1h-16.25Zm38.421-16.089H833.934v16.074h16.249Zm5.727,16.089h16.249v-16.1H855.91Z",transform:"translate(-806.35 -182.236)"})),X=r.a.createElement("g",{transform:"translate(60.695 61.388)"},r.a.createElement("path",{className:"c2",d:"M821.871,141a4.823,4.823,0,1,1-4.877,4.813A4.878,4.878,0,0,1,821.871,141Z",transform:"translate(-816.994 -141)"})),J=r.a.createElement("g",{transform:"translate(128.291 61.388)"},r.a.createElement("path",{className:"c2",d:"M919.871,141a4.823,4.823,0,1,1-4.877,4.813A4.878,4.878,0,0,1,919.871,141Z",transform:"translate(-914.994 -141)"})),$=r.a.createElement("path",{className:"c2",d:"M826.946,247.892a97.946,97.946,0,1,1,97.946-97.946A98.057,98.057,0,0,1,826.946,247.892Zm0-188.994a91.048,91.048,0,1,0,91.048,91.048A91.152,91.152,0,0,0,826.946,58.9Z",transform:"translate(-729 -52)"}),Z=r.a.createElement("g",{transform:"translate(38.546 17.599)"},r.a.createElement("rect",{className:"c2",width:191.911,height:6.897,transform:"translate(0 157.701) rotate(-55.259)"}));const Q=e=>{let{svgRef:t,title:n}=e,i=U(e,["svgRef","title"]);return r.a.createElement("svg",H({width:195.892,height:195.892,viewBox:"0 0 195.892 195.892",ref:t},i),n?r.a.createElement("title",null,n):null,q,W,V,G,K,Y,X,J,$,Z)},ee=r.a.forwardRef((e,t)=>r.a.createElement(Q,H({svgRef:t},e)));n.p;function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ie=r.a.createElement("defs",null,r.a.createElement("style",null,".a6{fill:#4951f5;}.b6{fill:#fff;}.c6{fill:#d7f1f9;}")),re=r.a.createElement("path",{className:"a6",d:"M0,138.969a43.189,43.189,0,0,1,1.08-5.347c2.83-8.513,5.765-16.992,8.669-25.48,1.823-5.329,3.111-5.956,8.413-4.478,3.207.894,6.485,1.537,9.715,2.353a9.2,9.2,0,0,0,9.905-3.22c2.486-2.98,5.4-5.938,6.784-9.437,3.78-9.586,6.91-19.432,10.148-29.224a22.42,22.42,0,0,0,.7-5.8c.521-9.958-1.132-12.663-10.206-16.765-2.094-.947-4.254-1.747-6.372-2.641-3.4-1.434-4.31-3.3-3.119-6.849Q40.441,18.01,45.3,3.99C46.607.208,48.6-.713,52.518.5c1.977.613,3.9,1.433,5.894,1.952,15.945,4.142,23.274,15.458,24.4,30.9A109.938,109.938,0,0,1,81.5,59.037c-3.076,18.6-9.387,36.263-17.771,53.148-6.208,12.5-14.146,23.621-26.1,31.375l-1.859.913a8.4,8.4,0,0,0-1.353.176c-11.93,3.522-23.029.749-33.812-4.441ZM63.058,8.956c-3.33,9.817-6.533,19.152-9.606,28.53a3.074,3.074,0,0,0,.714,2.61c4.335,4.106,5.953,9.382,5.768,15A85.87,85.87,0,0,1,43.55,103.283c-3.357,4.673-7.926,7.947-14.023,8.461a2.729,2.729,0,0,0-1.921,1.476c-3.3,9.4-6.489,18.844-9.811,28.582,7.559,1.792,13.953-.034,19.889-4.013,7.006-4.7,12.309-11.034,16.567-18.183a175.836,175.836,0,0,0,23.9-69.572,82.189,82.189,0,0,0-.833-21.871C76.044,19.8,71.664,13,63.058,8.956ZM48.088,36.711,58.183,7.5,50.808,4.917,40.817,34.155Zm-32.9,71.1L5.138,137.379l7.347,2.355,10.3-28.96Z",transform:"translate(42.752 63.778) rotate(17)"}),oe=r.a.createElement("path",{className:"b6",d:"M45.263,0C53.869,4.043,58.249,10.843,59.52,19.206a82.188,82.188,0,0,1,.833,21.871,175.836,175.836,0,0,1-23.9,69.572c-4.259,7.15-9.561,13.487-16.567,18.183-5.936,3.98-12.33,5.805-19.889,4.013,3.321-9.737,6.512-19.179,9.811-28.582a2.729,2.729,0,0,1,1.921-1.476c6.1-.514,10.666-3.788,14.023-8.461A85.87,85.87,0,0,0,42.139,46.142c.184-5.619-1.433-10.9-5.768-15a3.074,3.074,0,0,1-.714-2.61C38.73,19.152,41.933,9.817,45.263,0Z",transform:"translate(57.151 77.545) rotate(17)"}),ae=r.a.createElement("path",{className:"c6",d:"M7.27,31.794,0,29.238,9.991,0l7.375,2.585Z",transform:"translate(80.348 80.413) rotate(17)"}),se=r.a.createElement("path",{className:"c6",d:"M10.046,0l7.6,2.958-10.3,28.96L0,29.563Z",transform:"translate(16.143 168.385) rotate(17)"}),le=r.a.createElement("g",{transform:"translate(66.457 15.023)"},r.a.createElement("g",{transform:"translate(167.223 113.14)"},r.a.createElement("path",{className:"a6",d:"M255.636,147.724a1.827,1.827,0,0,1,1.827,1.828v8.454a1.828,1.828,0,0,1-3.655,0v-8.454A1.828,1.828,0,0,1,255.636,147.724Z",transform:"translate(-253.808 -147.724)"})),r.a.createElement("g",{transform:"translate(162.964 117.367)"},r.a.createElement("path",{className:"a6",d:"M247.167,156.13h8.454a1.828,1.828,0,0,1,0,3.656h-8.454a1.828,1.828,0,1,1,0-3.656Z",transform:"translate(-245.339 -156.13)"})),r.a.createElement("g",{transform:"translate(157.602 79.961)"},r.a.createElement("circle",{className:"a6",cx:2.767,cy:2.767,r:2.767})),r.a.createElement("g",{transform:"translate(116.52 158.93)"},r.a.createElement("path",{className:"a6",d:"M154.8,238.786a1.828,1.828,0,0,1,1.828,1.827v8.454a1.828,1.828,0,1,1-3.655,0v-8.454A1.827,1.827,0,0,1,154.8,238.786Z",transform:"translate(-152.977 -238.786)"})),r.a.createElement("g",{transform:"translate(112.262 163.157)"},r.a.createElement("path",{className:"a6",d:"M146.335,247.192h8.455a1.828,1.828,0,0,1,0,3.655h-8.455a1.828,1.828,0,0,1,0-3.655Z",transform:"translate(-144.508 -247.192)"})),r.a.createElement("g",{transform:"translate(193.295 117.187)"},r.a.createElement("circle",{className:"a6",cx:2.767,cy:2.767,r:2.767,transform:"translate(0 0)"})),r.a.createElement("g",{transform:"translate(91.73 105.575)"},r.a.createElement("path",{className:"a6",d:"M105.5,132.68a1.828,1.828,0,0,1,1.828,1.828v8.454a1.828,1.828,0,0,1-3.656,0v-8.454A1.828,1.828,0,0,1,105.5,132.68Z",transform:"translate(-103.677 -132.68)"})),r.a.createElement("g",{transform:"translate(87.471 109.802)"},r.a.createElement("path",{className:"a6",d:"M97.036,141.087h8.454a1.828,1.828,0,1,1,0,3.655H97.036a1.828,1.828,0,1,1,0-3.655Z",transform:"translate(-95.208 -141.087)"})),r.a.createElement("g",{transform:"translate(112.884 78.16)"},r.a.createElement("circle",{className:"a6",cx:2.767,cy:2.767,r:2.767,transform:"translate(0)"})),r.a.createElement("g",{transform:"translate(79.646 145.821)"},r.a.createElement("circle",{className:"a6",cx:2.767,cy:2.767,r:2.767}))),ce=r.a.createElement("g",{transform:"translate(8.635 -132.68)"},r.a.createElement("g",{transform:"translate(111.597 178.912)"},r.a.createElement("path",{className:"a6",d:"M154.56,238.786a1.584,1.584,0,0,1,1.584,1.583V247.7a1.584,1.584,0,1,1-3.167,0v-7.326A1.583,1.583,0,0,1,154.56,238.786Z",transform:"translate(-152.977 -238.786)"})),r.a.createElement("g",{transform:"translate(107.907 182.574)"},r.a.createElement("path",{className:"a6",d:"M146.091,247.192h7.326a1.584,1.584,0,0,1,0,3.167h-7.326a1.584,1.584,0,0,1,0-3.167Z",transform:"translate(-144.508 -247.192)"})),r.a.createElement("g",{transform:"translate(90.117 132.68)"},r.a.createElement("path",{className:"a6",d:"M105.261,132.68a1.584,1.584,0,0,1,1.584,1.584v7.326a1.584,1.584,0,0,1-3.168,0v-7.326A1.584,1.584,0,0,1,105.261,132.68Z",transform:"translate(-103.677 -132.68)"})),r.a.createElement("g",{transform:"translate(86.427 136.343)"},r.a.createElement("path",{className:"a6",d:"M96.792,141.087h7.326a1.584,1.584,0,1,1,0,3.167H96.792a1.584,1.584,0,1,1,0-3.167Z",transform:"translate(-95.208 -141.087)"})),r.a.createElement("g",{transform:"translate(79.646 167.553)"},r.a.createElement("circle",{className:"a6",cx:2.398,cy:2.398,r:2.398,transform:"translate(0 0)"}))),he=r.a.createElement("g",{transform:"translate(66.457 15.023)"},r.a.createElement("g",{transform:"translate(167.223 113.14)"},r.a.createElement("path",{className:"a6",d:"M255.636,147.724a1.827,1.827,0,0,1,1.827,1.828v8.454a1.828,1.828,0,0,1-3.655,0v-8.454A1.828,1.828,0,0,1,255.636,147.724Z",transform:"translate(-253.808 -147.724)"})),r.a.createElement("g",{transform:"translate(162.964 117.367)"},r.a.createElement("path",{className:"a6",d:"M247.167,156.13h8.454a1.828,1.828,0,0,1,0,3.656h-8.454a1.828,1.828,0,1,1,0-3.656Z",transform:"translate(-245.339 -156.13)"})),r.a.createElement("g",{transform:"translate(157.602 79.961)"},r.a.createElement("circle",{className:"a6",cx:2.767,cy:2.767,r:2.767})),r.a.createElement("g",{transform:"translate(116.52 158.93)"},r.a.createElement("path",{className:"a6",d:"M154.8,238.786a1.828,1.828,0,0,1,1.828,1.827v8.454a1.828,1.828,0,1,1-3.655,0v-8.454A1.827,1.827,0,0,1,154.8,238.786Z",transform:"translate(-152.977 -238.786)"})),r.a.createElement("g",{transform:"translate(112.262 163.157)"},r.a.createElement("path",{className:"a6",d:"M146.335,247.192h8.455a1.828,1.828,0,0,1,0,3.655h-8.455a1.828,1.828,0,0,1,0-3.655Z",transform:"translate(-144.508 -247.192)"})),r.a.createElement("g",{transform:"translate(193.295 117.187)"},r.a.createElement("circle",{className:"a6",cx:2.767,cy:2.767,r:2.767,transform:"translate(0 0)"})),r.a.createElement("g",{transform:"translate(91.73 105.575)"},r.a.createElement("path",{className:"a6",d:"M105.5,132.68a1.828,1.828,0,0,1,1.828,1.828v8.454a1.828,1.828,0,0,1-3.656,0v-8.454A1.828,1.828,0,0,1,105.5,132.68Z",transform:"translate(-103.677 -132.68)"})),r.a.createElement("g",{transform:"translate(87.471 109.802)"},r.a.createElement("path",{className:"a6",d:"M97.036,141.087h8.454a1.828,1.828,0,1,1,0,3.655H97.036a1.828,1.828,0,1,1,0-3.655Z",transform:"translate(-95.208 -141.087)"})),r.a.createElement("g",{transform:"translate(112.884 78.16)"},r.a.createElement("circle",{className:"a6",cx:2.767,cy:2.767,r:2.767,transform:"translate(0)"})),r.a.createElement("g",{transform:"translate(79.646 145.821)"},r.a.createElement("circle",{className:"a6",cx:2.767,cy:2.767,r:2.767}))),de=r.a.createElement("g",{transform:"translate(8.635 -132.68)"},r.a.createElement("g",{transform:"translate(111.597 178.912)"},r.a.createElement("path",{className:"a6",d:"M154.56,238.786a1.584,1.584,0,0,1,1.584,1.583V247.7a1.584,1.584,0,1,1-3.167,0v-7.326A1.583,1.583,0,0,1,154.56,238.786Z",transform:"translate(-152.977 -238.786)"})),r.a.createElement("g",{transform:"translate(107.907 182.574)"},r.a.createElement("path",{className:"a6",d:"M146.091,247.192h7.326a1.584,1.584,0,0,1,0,3.167h-7.326a1.584,1.584,0,0,1,0-3.167Z",transform:"translate(-144.508 -247.192)"})),r.a.createElement("g",{transform:"translate(90.117 132.68)"},r.a.createElement("path",{className:"a6",d:"M105.261,132.68a1.584,1.584,0,0,1,1.584,1.584v7.326a1.584,1.584,0,0,1-3.168,0v-7.326A1.584,1.584,0,0,1,105.261,132.68Z",transform:"translate(-103.677 -132.68)"})),r.a.createElement("g",{transform:"translate(86.427 136.343)"},r.a.createElement("path",{className:"a6",d:"M96.792,141.087h7.326a1.584,1.584,0,1,1,0,3.167H96.792a1.584,1.584,0,1,1,0-3.167Z",transform:"translate(-95.208 -141.087)"})),r.a.createElement("g",{transform:"translate(79.646 167.553)"},r.a.createElement("circle",{className:"a6",cx:2.398,cy:2.398,r:2.398,transform:"translate(0 0)"})));const ue=e=>{let{svgRef:t,title:n}=e,i=ne(e,["svgRef","title"]);return r.a.createElement("svg",te({width:265.287,height:227.899,viewBox:"0 0 265.287 227.899",ref:t},i),n?r.a.createElement("title",null,n):null,ie,re,oe,ae,se,le,ce,he,de)},pe=r.a.forwardRef((e,t)=>r.a.createElement(ue,te({svgRef:t},e)));n.p;function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ge=r.a.createElement("defs",null,r.a.createElement("style",null,".a3{fill:#4849ff;}.b3{fill:#4b49ff;}.c3{fill:#d7f1f9;}.d3{fill:#4951f5;}.e3{fill:#fff;}")),ve=r.a.createElement("path",{className:"a3",d:"M338,302.48c20.22,6.206,40.591,11.921,60.942,17.69,1.583.449,4.076.516,5.015-.4.9-.878.784-3.4.32-4.966-1.8-6.069-3.911-12.045-5.911-18.054q-5.434-16.334-10.874-32.661c1.009-.746,1.693-1.206,2.326-1.728,5.508-4.542,6.832-9.859,4.388-17.55-2.629-8.271-6.9-12.28-14.278-12.349-3.06-.028-3.566-1.611-4.267-3.723-5.353-16.135-10.685-32.277-16.166-48.368-.646-1.9-2.15-3.506-3.257-5.248-1.824,1.2-4.1,2.027-5.4,3.643-13.271,16.469-26.32,33.116-39.619,49.561a15.831,15.831,0,0,1-6.672,4.688c-10.667,3.818-21.479,7.232-32.218,10.851-17.161,5.784-27.694,22.838-24.89,40.215,2.924,18.113,18.33,30.78,37.018,30.759a8.239,8.239,0,0,1,5.645,2.739c7.428,9.179,14.459,18.68,21.862,27.881a22.727,22.727,0,0,0,7.144,6c6.554,3.3,14.746,1.227,19.473-4.371,4.9-5.8,5.143-13.689.326-20.317-5.362-7.38-10.952-14.594-16.76-22.3C327.662,301.568,332.376,300.753,338,302.48Zm58.366,9.754c-1.97-.439-3.511-.7-5-1.128-17.74-5.108-35.456-10.3-53.222-15.313-2.8-.791-4.445-1.968-5.4-4.922-5.626-17.418-11.529-34.747-17.2-52.15-.494-1.517-.679-3.9.157-4.97,12.457-15.982,25.111-31.811,38.382-48.51Zm-69.4-16.99c-1.612.537-3.127,1.048-4.647,1.546-9.973,3.268-19.935,6.573-29.926,9.788a29.52,29.52,0,0,1-19.2-55.827c10.985-3.906,22.115-7.407,33.185-11.072a13.529,13.529,0,0,1,1.994-.262ZM312.64,307.225a4.722,4.722,0,0,1,4.026,1.376c5.843,7.417,11.575,14.928,17.1,22.582a9.135,9.135,0,0,1-1.624,12.89c-3.881,3.181-9.863,3.361-13.1-.558-8.086-9.794-15.71-19.97-23.969-30.569C301.627,310.765,307.077,308.8,312.64,307.225Zm67.006-67.774c4.592-.413,6.264,2.3,7.4,5.479,1.429,3.977,3.364,8.106-1.551,12.1Z",transform:"translate(-246.992 -175.123)"}),be=r.a.createElement("path",{className:"b3",d:"M258.506,231.791c4.5,14.785,1.9,31.876-9.413,47.5a11.464,11.464,0,0,1-4.621,3.24c-.494.221-2.43-1.149-2.445-1.818a7.6,7.6,0,0,1,1.225-4.456A49.56,49.56,0,0,0,253.485,243.1c-1.171-21.3-14.66-38.471-35.146-45.009-1.583-.506-3.515-.491-4.724-1.435-1.314-1.027-1.971-2.893-2.914-4.393,1.51-.654,3.374-2.233,4.474-1.813,7.107,2.712,14.5,5.119,20.941,9.031C246.894,206.026,253.362,216.3,258.506,231.791Z",transform:"translate(-66.662 -175.123)"}),ye=r.a.createElement("path",{className:"b3",d:"M263.93,235.734c3.5,11.23,1.143,21.888-6.389,31.383-1.036,1.306-4.045,2.542-5.2,1.957-2.744-1.39-1.517-3.719-.049-5.859,8.251-12.029,8.644-22.712,1.435-33.4-4.048-6-9.862-9.246-16.692-11.012-2.395-.619-5.447-.987-4.483-4.581.944-3.518,3.809-2.463,6.2-1.859C251.164,215.5,259.615,223,263.93,235.734Z",transform:"translate(-93.247 -175.123)"}),_e=r.a.createElement("path",{className:"c3",d:"M294.216,185.241,336.5,312.234c-1.97-.439-3.511-.7-5-1.128-17.74-5.108-35.456-10.3-53.222-15.313-2.8-.791-4.445-1.968-5.4-4.922-5.626-17.418-11.529-34.747-17.2-52.15-.494-1.517-.679-3.9.157-4.97C268.291,217.769,280.945,201.94,294.216,185.241Z",transform:"translate(-187.123 -175.123)"}),xe=r.a.createElement("path",{className:"d3",d:"M383.9,239.711c-12.428,4.115-24.924,8.045-37.256,12.43-16.83,5.985-25.908,24.757-20.348,41.411a33.314,33.314,0,0,0,41.9,21.265c11.217-3.609,22.4-7.32,33.6-10.989,1.707-.559,3.407-1.133,5.217-1.736l-20.871-62.676A15.19,15.19,0,0,0,383.9,239.711Zm-17.047,44.015c1.558-.225,3.364,1.265,5.057,1.979-.838,1.645-1.288,4.249-2.578,4.77a161.762,161.762,0,0,1-18.546,6.207c-1.427.384-3.406-1.288-5.132-2.013,1.042-1.7,1.692-4.1,3.211-4.962,2.7-1.539,5.93-2.153,8.938-3.156C360.814,285.565,363.765,284.173,366.852,283.726ZM362.168,271c1.713-.229,3.652,1.224,5.49,1.919-.9,1.607-1.438,4.13-2.772,4.665a163.279,163.279,0,0,1-18.533,6.171c-1.385.371-3.333-1.367-5.022-2.134.931-1.591,1.485-3.87,2.871-4.628,2.735-1.494,5.929-2.147,8.933-3.147S359.084,271.417,362.168,271Z",transform:"translate(-322.532 -179.332)"}),we=r.a.createElement("path",{className:"e3",d:"M315.913,312.946c6.55-2.181,12-4.151,17.563-5.721A4.722,4.722,0,0,1,337.5,308.6c5.843,7.417,11.575,14.928,17.1,22.582a9.135,9.135,0,0,1-1.624,12.89c-3.881,3.181-9.863,3.361-13.1-.558C331.8,333.721,324.172,323.545,315.913,312.946Z",transform:"translate(-267.828 -175.123)"}),Ce=r.a.createElement("path",{className:"e3",d:"M268.825,257.027l-5.853-17.576c4.592-.413,6.264,2.3,7.4,5.479C271.805,248.907,273.74,253.036,268.825,257.027Z",transform:"translate(-130.318 -175.123)"});const Se=e=>{let{svgRef:t,title:n}=e,i=me(e,["svgRef","title"]);return r.a.createElement("svg",fe({width:193.935,height:177.915,viewBox:"0 0 193.935 177.915",ref:t},i),n?r.a.createElement("title",null,n):null,ge,ve,be,ye,_e,xe,we,Ce)},Ee=r.a.forwardRef((e,t)=>r.a.createElement(Se,fe({svgRef:t},e)));n.p;var ke=()=>r.a.createElement(g.w,null,r.a.createElement(g.s,null,r.a.createElement(g.d,null,r.a.createElement(g.t,null,r.a.createElement(g.p,{relative:!0,topBottomMargin:"20px",marginLeft:"-100px"},r.a.createElement(z,null),r.a.createElement(pe,null)),r.a.createElement(g.r,null,r.a.createElement(g.o,{align:"right"},"Support when you need it"),r.a.createElement(g.v,{align:"right"},"Our dedicated Developer Sales and Success team is available to work with you every step of the way. Need help brainstorming? Want early feedback on your lessons? Troubleshooting a custom environment? We've got you covered. We'll even review your course and pay to proofread your first draft."))))),r.a.createElement(g.g,null,r.a.createElement(g.d,null,r.a.createElement(g.m,null,r.a.createElement(g.p,null,r.a.createElement(g.o,null,"Focus on teaching. Let us worry about marketing."),r.a.createElement(g.v,null,"From the moment you hand it off. Educative's in-house marketing team will be hard at work advertising, writing content, posting on social media, working with influencers and more to help you sell your course.")),r.a.createElement(g.r,{mobileCenter:!0,topBottomMargin:"20px"},r.a.createElement(Ee,null))))),r.a.createElement(g.g,null,r.a.createElement(g.d,null,r.a.createElement(g.m,{reverseSides:!0},r.a.createElement(g.p,{relative:!0,mobileCenter:!0,topBottomMargin:"20px"},r.a.createElement(ee,null)),r.a.createElement(g.r,null,r.a.createElement(g.o,{align:"right"},"No deadlines, no exclusivity... no stress"),r.a.createElement(g.v,{align:"right"},"Write at your own pace. Sell your content elsewhere. Update it after publishing. Do whatever you want, really. You own the course! We're just here to help your content succeed."))))));y.d.div.withConfig({displayName:"styles__BecomeAuthorStyled",componentId:"sc-1mw1fjw-0"})([""]);const Oe=y.d.div.withConfig({displayName:"styles__Question",componentId:"sc-1mw1fjw-1"})(["font-size:",";font-weight:",";margin:20px 0;"],P.a.h4,T.b);var Te=n(486),Ae=n(35),Ie=e=>{let{getStarted:t=(()=>{})}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.e,null,r.a.createElement(g.d,null,r.a.createElement(g.f,null,r.a.createElement(g.o,{mb:4},"FAQS from Fellow Authors"),r.a.createElement(Oe,null,"I'm ready to get started! Do I need to schedule a meeting first?"),r.a.createElement(g.v,{noMarginTop:!0},"If you know what you want to teach, you can get started right away. Just create a free account, read our Author Guide, and start using our tools. If you need support or have questions, email us at"," ",r.a.createElement(g.a,{rel:"noreferrer",href:Ae.s},"authors@educative.io"),"."),r.a.createElement(Oe,null,"I have something that would make an awesome course, but just don't have the time right now. What can I do?"),r.a.createElement(g.v,{noMarginTop:!0},"No problem. If you want, we can take something you've got written and handle the entire course creation process for you through our"," ",r.a.createElement(g.l,{to:Te.a.MBE},"Managed By Educative (MBE) Program.")),r.a.createElement(Oe,null,"I think I have some ideas, but don't know where to start. Can you help?"),r.a.createElement(g.v,{noMarginTop:!0},"Sure thing! Schedule a call anytime and our team will be glad to help you think through possibilities. You're also welcome to check out our"," ",r.a.createElement(g.a,{rel:"noreferrer",href:Te.a.CALL_FOR_AUTHORS},"List of Requested Topics")," ","and then get in touch with us.")))),r.a.createElement(g.w,null,r.a.createElement(g.d,{marginTop:"-85px"},r.a.createElement(g.a,{rel:"noreferrer",href:Ae.s},r.a.createElement(g.k,null,"SCHEDULE A CALL")),r.a.createElement(g.a,{rel:"noreferrer",onClick:t},"Or, get started on your own."))))},je=n(821),Pe=n(44),Me=e=>{let{getStarted:t=(()=>{}),userCount:n=15e4}=e;const i=Math.floor(Math.random()*Math.floor(3)),o=[g.h,g.i,g.j][i];return r.a.createElement(g.w,null,r.a.createElement(g.n,null,r.a.createElement(g.d,null,r.a.createElement(o,null),r.a.createElement(Pe.a,{variant:"h1"},"Earn passive income teaching what you love"),r.a.createElement(Pe.a,{variant:"h4"},"Easy-to-use tools let you create awesome text-based courses with interactivity built right in."),r.a.createElement(g.a,{rel:"noreferrer",href:Ae.s},r.a.createElement(g.k,null,"SCHEDULE A CALL"))," ",r.a.createElement(g.a,{rel:"noreferrer",onClick:t},"Or, get started on your own."))),r.a.createElement(je.a,{authorsPage:!0}))},Re=n(157);const De=y.d.div.withConfig({displayName:"styles__AuthorPageStyled",componentId:"sc-1t1he24-0"})(["width:100%;"]);y.d.div.withConfig({displayName:"styles__TestimonialSection",componentId:"sc-1t1he24-1"})(["margin-top:40px;"]);var Le=De,Ne=n(843),Be=n(153);const Fe=Object(o.b)(e=>{let{educativeStats:t}=e;return{educativeStats:t}});class ze extends i.Component{constructor(){super(...arguments),this.redirectGetStarted=e=>{const{userInfo:t,dispatch:n,history:i}=this.props;null===e||void 0===e||e.target.blur(),t.user_id?i.push("/teach"):(Object(l.c)(l.b.SIGNUP,l.a.SIGNUP_INIT_AUTHOR_LANDING,"GetStarted"),n(Object(a.b)(s.y,{ru:"/authors"})))}}componentDidMount(){window.scrollTo(0,0)}shouldComponentUpdate(e){if(e.educativeStats.users_count===this.props.educativeStats.users_count)return!1}render(){var e,t;const n=null===(e=this.props)||void 0===e?void 0:null===(t=e.educativeStats)||void 0===t?void 0:t.users_count;return r.a.createElement(Le,null,r.a.createElement(Me,{getStarted:this.redirectGetStarted,userCount:n}),r.a.createElement(c.a,null,e=>{let{inView:t,ref:n}=e;return r.a.createElement(g.u,{ref:n},r.a.createElement(Ne.a,{inView:t,isAuthorsPage:!0}))}),r.a.createElement(b,null),r.a.createElement(ke,null),r.a.createElement(Ie,{getStarted:this.redirectGetStarted}),r.a.createElement(Re.a,null))}}t.default=Object(Be.f)(Fe(ze))},1115:function(e,t,n){"use strict";n.r(t);var i=n(14),r=n(0),o=n.n(r),a=n(30),s=n(157),l=n(174),c=n(647),h=n(1674),d=n(425),u=e=>{let{discard:t,save:n}=e;return o.a.createElement(d.a,{buttons:[{type:"secondary",text:"Discard",method:t,icon:o.a.createElement(c.a,{size:20}),key:"Discard Button"},{type:"primary",text:"Save",method:n,icon:o.a.createElement(h.a,{size:20}),key:"Save Button"}]})},p=n(991),f=n(995),m=n(42),g=n(28),v=n(15),b=n(31),y=n(2295),_=n(1811),x=n(1732),w=n(1),C=n(2),S=n.n(C);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var O=function(e){var t=e.color,n=e.size,i=k(e,["color","size"]);return o.a.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),o.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),o.a.createElement("circle",{cx:"12",cy:"7",r:"4"}))};O.propTypes={color:S.a.string,size:S.a.oneOfType([S.a.string,S.a.number])},O.defaultProps={color:"currentColor",size:"24"};var T=O,A=n(1714),I=n(58),j=n(21),P=n(5),M=n(12),R=n(146);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var N=function(e){var t=e.color,n=e.size,i=L(e,["color","size"]);return o.a.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),o.a.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),o.a.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}))};N.propTypes={color:S.a.string,size:S.a.oneOfType([S.a.string,S.a.number])},N.defaultProps={color:"currentColor",size:"24"};var B=N,F=n(1682),z=n(970),H=n(971),U=n(429),q=n(972),W=n(973);const V=w.d.div.withConfig({displayName:"styles__ProfileForm",componentId:"sc-1pi5wh9-0"})(["position:relative;width:100%;margin-bottom:15px;margin-top:90px;.b-input-with-label{border-top:1px solid ",";}"],e=>{let{theme:t}=e;return t.palette.grey[300]}),G=w.d.form.withConfig({displayName:"styles__InputForm",componentId:"sc-1pi5wh9-1"})([""]),K=w.d.span.withConfig({displayName:"styles__ProfileIcon",componentId:"sc-1pi5wh9-2"})(["margin-right:6px;"]),Y=Object(w.d)(K).attrs({children:o.a.createElement(T,{size:12,strokeWidth:3})}).withConfig({displayName:"styles__PersonalInfoIcon",componentId:"sc-1pi5wh9-3"})([""]),X=Object(w.d)(K).attrs({children:o.a.createElement(A.a,{size:12,strokeWidth:3})}).withConfig({displayName:"styles__SettingsIcon",componentId:"sc-1pi5wh9-4"})([""]),J=w.d.div.withConfig({displayName:"styles__Label",componentId:"sc-1pi5wh9-5"})(["position:absolute;margin-top:-32px;display:flex;font-weight:",";left:50%;transform:translateX(-50%);"],j.g),$=w.d.span.withConfig({displayName:"styles__LabelText",componentId:"sc-1pi5wh9-6"})(["white-space:nowrap;"]),Z=Object(w.d)(J).attrs({children:[o.a.createElement(Y,{key:"PersonalInfoIcon"}),o.a.createElement($,{key:"LabelText"},"Personal Information")]}).withConfig({displayName:"styles__PersonalInformationLabel",componentId:"sc-1pi5wh9-7"})(["color:",";"],e=>{let{theme:t}=e;return t.palette.common.black}),Q=Object(w.d)(J).attrs({children:[o.a.createElement(X,{key:"SettingsIcon"}),o.a.createElement("span",{key:"settingsText"}," Settings")]}).withConfig({displayName:"styles__SettingsLabel",componentId:"sc-1pi5wh9-8"})(["margin-top:-38px;"]),ee=w.d.div.withConfig({displayName:"styles__SettingsContainer",componentId:"sc-1pi5wh9-9"})(["border-top:1px solid ",";margin-top:90px;padding-top:11px;width:100%;display:flex;justify-content:center;flex-flow:row wrap;@media (max-width:","){justify-content:space-evenly;}"],e=>{let{theme:t}=e;return t.palette.grey[300]},P.m.pixels),te=Object(w.d)(I.a).attrs({small:!0}).withConfig({displayName:"styles__OptionsButton",componentId:"sc-1pi5wh9-10"})(["margin-top:15px;margin-right:20px;width:170px;@media (max-width:","){margin-right:0px;}"],P.m.pixels),ne=w.d.div.withConfig({displayName:"styles__CharLimit",componentId:"sc-1pi5wh9-11"})(["text-align:end;font-size:",";color:",";",""],M.a.textSmall,e=>{let{theme:t}=e;return t.palette.grey[800]},e=>e.exceeded>0&&Object(w.c)(["color:",";"],e=>{let{theme:t}=e;return t.palette.error.main})),ie=w.d.div.withConfig({displayName:"styles__SocialMediaLinks",componentId:"sc-1pi5wh9-12"})(["min-height:160px;margin-top:30px;.slideButtons-enter{margin-right:23px;transition:0.5s ease;}.slideButtons-exit-active{margin-right:23px;}"]),re=w.d.div.withConfig({displayName:"styles__EmptySpace",componentId:"sc-1pi5wh9-13"})(["height:12px;"]),oe=w.d.span.attrs({children:"Social Media Links"}).withConfig({displayName:"styles__Title",componentId:"sc-1pi5wh9-14"})(["font-size:",";color:",";font-weight:",";"],M.a.textLarge,e=>{let{theme:t}=e;return t.palette.common.black},j.g),ae=w.d.span.attrs({children:o.a.createElement(B,{size:12,strokeWidth:3})}).withConfig({displayName:"styles__Icon",componentId:"sc-1pi5wh9-15"})(["margin-right:6px;"]),se=w.d.div.attrs({children:[o.a.createElement(ae,{key:"Icon"}),o.a.createElement(oe,{key:"Title"})]}).withConfig({displayName:"styles__ProfileLabel",componentId:"sc-1pi5wh9-16"})(["position:absolute;display:flex;align-items:center;justify-content:center;white-space:nowrap;left:50%;transform:translateX(-50%);"]),le=(Object(w.d)(R.a).attrs({children:o.a.createElement(F.a,null)}).withConfig({displayName:"styles__AddLinkButton",componentId:"sc-1pi5wh9-17"})(["position:absolute;right:0;margin-right:20px;margin-top:12px;color:",";:hover,:focus{color:",";}"],e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.dark}),Object(w.d)(R.a).withConfig({displayName:"styles__SocialMediaButton",componentId:"sc-1pi5wh9-18"})(["position:absolute;right:0;margin-top:16px;padding:9px;box-shadow:0px 0px 6px ",";svg{path{fill:",";}width:16px;height:16px;}:hover{box-shadow:0px 0px 9px ",";svg path{fill:",";}}"],e=>{let{theme:t}=e;return t.palette.grey[600]},e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.grey[600]},e=>{let{fill:t,theme:n}=e;return t||n.palette.common.black})),ce=Object(w.d)(le).attrs({children:o.a.createElement(W.a,null)}).withConfig({displayName:"styles__Github",componentId:"sc-1pi5wh9-19"})(["margin-right:80px;"]),he=Object(w.d)(le).attrs(e=>{let{theme:t}=e;return{children:o.a.createElement(q.a,null),fill:t.palette.external.linkedIn}}).withConfig({displayName:"styles__LinkedIn",componentId:"sc-1pi5wh9-20"})(["margin-right:","px;"],135),de=Object(w.d)(le).attrs(e=>{let{theme:t}=e;return{children:o.a.createElement(H.a,null),fill:t.palette.external.tweet}}).withConfig({displayName:"styles__Twitter",componentId:"sc-1pi5wh9-21"})(["margin-right:","px;"],190),ue=Object(w.d)(le).attrs(e=>{let{theme:t}=e;return{children:o.a.createElement(z.a,null),fill:t.palette.external.facebook}}).withConfig({displayName:"styles__Facebook",componentId:"sc-1pi5wh9-22"})(["margin-right:","px;"],245),pe=Object(w.d)(le).attrs(e=>{let{theme:t}=e;return{children:o.a.createElement(U.a,null),fill:t.palette.primary.main}}).withConfig({displayName:"styles__Website",componentId:"sc-1pi5wh9-23"})(["margin-right:","px;"],300),fe=[{value:"",name:"twitter",label:"twitter",type:"text",id:"twitter",errors:{},icon:o.a.createElement(de,null),validators:[{name:"max",validator:x.b.max(0,_.g)},{name:"url",validator:x.b.url}]},{value:"",name:"github",label:"github",type:"text",id:"github",errors:{},icon:o.a.createElement(ce,null),validators:[{name:"max",validator:x.b.max(0,_.g)},{name:"url",validator:x.b.url}]},{value:"",name:"linkedin",label:"linkedin",type:"text",id:"linkedin",errors:{},icon:o.a.createElement(he,null),validators:[{name:"max",validator:x.b.max(0,_.g)},{name:"url",validator:x.b.url}]},{value:"",name:"facebook",label:"facebook",type:"text",id:"facebook",errors:{},icon:o.a.createElement(ue,null),validators:[{name:"max",validator:x.b.max(0,_.g)},{name:"url",validator:x.b.url}]},{value:"",name:"website",label:"website",type:"text",id:"website",errors:{},icon:o.a.createElement(pe,null),validators:[{name:"max",validator:x.b.max(0,_.g)},{name:"url",validator:x.b.url}]}],me=[{value:"",name:"full_name",label:"full name",type:"text",id:"full_name",placeholder:"Add your full name",errors:{},limit:_.b,validators:[{name:"required",validator:x.b.required},{name:"min",validator:x.b.min(_.c,_.b)},{name:"max",validator:x.b.max(_.c,_.b)}]},{value:"",name:"short_bio",label:"short bio",type:"textarea",id:"short_bio",placeholder:"What defines you",help:"A few words about yourself",errors:{},limit:_.f,showLimit:!0,validators:[{name:"max",validator:x.b.max(0,_.f)}]},{value:"",name:"full_bio",label:"full bio",type:"textarea",id:"full_bio",placeholder:"Share Your Story",help:"Write more about you",errors:{},limit:_.a,showLimit:!0,validators:[{name:"max",validator:x.b.max(0,_.a)}]}];class ge extends r.Component{constructor(){super(...arguments),this.state=me.reduce((e,t)=>{const n="".concat(t.name,"_length");return Object(i.a)({},e,{[n]:0})},{}),this.formRef=o.a.createRef(),this.handlePassChange=e=>{null===e||void 0===e||e.target.blur(),Object(v.c)(v.b.INTERACTION,v.a.INTERACTION_CHANGE_PASSWORD_INIT),this.props.dispatch(Object(g.b)(b.c))},this.handlePayoutMethods=e=>{null===e||void 0===e||e.target.blur(),Object(v.c)(v.b.INTERACTION,v.a.INTERACTION_PAYOUT_METHODS_INIT),this.props.dispatch(Object(g.b)(b.o))},this.handlePaymentInfo=e=>{null===e||void 0===e||e.target.blur(),Object(v.c)(v.b.INTERACTION,v.a.INTERACTION_PAYMENT_INFO_INIT),this.props.dispatch(Object(g.b)(b.n))},this.getFields=e=>me.reduce((t,n)=>Object(i.a)({},t,{[n.id]:Object(i.a)({},n,{value:e[n.id]})}),{}),this.getLinks=e=>fe.reduce((t,n)=>Object(i.a)({},t,{[n.id]:Object(i.a)({},n,{value:e[n.id]})}),{}),this.onChange=(e,t)=>{this.props.onChange(e,t);const n=Object(x.f)(me,{fields:this.getFields(this.props.data)}),i=Object(x.f)(fe,{fields:this.getLinks(this.props.data)});this.props.errorHandler([...n,...i]),this.setState({["".concat(e,"_length")]:t.length})}}componentDidMount(){var e;null===(e=this.formRef.current)||void 0===e||e.querySelector("input").focus()}render(){const{name:e,data:t}=this.props,n=me.map(e=>o.a.createElement("div",{key:e.name},o.a.createElement(y.a,{name:e.name,label:e.label,type:e.type,placeholder:e.placeholder,help:e.help,value:t[e.id],onChange:this.onChange,isError:Object.prototype.hasOwnProperty.call(this.props.errors,e.id),errorMsg:this.props.errors[e.id],maxLength:e.limit}),e.showLimit&&o.a.createElement(ne,{exceeded:this.state["".concat(e.name,"_length")]-e.limit},e.limit-this.state["".concat(e.name,"_length")])));return o.a.createElement(V,null,o.a.createElement(Z,null),o.a.createElement(G,{className:"form-horizontal",ref:this.formRef,name:e},n,o.a.createElement(ie,null,o.a.createElement(se,null),o.a.createElement(re,null),fe.map(e=>o.a.createElement(y.a,{className:"socialMediaLink",key:e.name,name:e.name,label:e.label,type:e.type,placeholder:"Add a link",help:e.help,value:t[e.id],onChange:this.onChange,isError:Object.prototype.hasOwnProperty.call(this.props.errors,e.id),errorMsg:this.props.errors[e.id]})))),o.a.createElement(ee,null,o.a.createElement(Q,null),o.a.createElement(m.b,{to:"/transactions"},o.a.createElement(te,null,"Purchases")),o.a.createElement(te,{onClick:this.handlePayoutMethods},"Payout Methods"),o.a.createElement(te,{onClick:this.handlePaymentInfo},"Payment Information"),o.a.createElement(te,{onClick:this.handlePassChange},"Change Password")))}}var ve=Object(a.b)()(ge),be=n(85),ye=n(20),_e=n(86),xe=n(232);const we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(ye.a)({url:"/api/author/profile",type:"PUT",data:e})},Ce=()=>Object(ye.a)({url:"/api/author/profile/image/upload/url",type:"GET"});var Se=n(217),Ee=n(256),ke=n(291),Oe=n(974);function Te(e){return e&&""!==e?e.indexOf("http://")>-1||e.indexOf("https://")>-1?e:"http://".concat(e):e}class Ae extends r.Component{constructor(){super(...arguments),this.state={profileData:{},coverImage:{},profileImage:{},errors:{}},this.errorHandler=e=>{const t=e.filter(e=>e.error).reduce((e,t)=>Object(i.a)({},e,{[t.fieldName]:t.error}),{});this.setState({errors:t})},this.onChange=(e,t)=>{const{profileData:n}=this.state;this.setState({profileData:Object(i.a)({},n,{[e]:t})})},this.saveProfile=()=>{const e={full_name:this.state.profileData.full_name,short_bio:this.state.profileData.short_bio,full_bio:this.state.profileData.full_bio,twitter:Te(this.state.profileData.twitter),github:Te(this.state.profileData.github),linkedin:Te(this.state.profileData.linkedin),facebook:Te(this.state.profileData.facebook),website:Te(this.state.profileData.website)};this.collectData(e)},this.discard=()=>{this.props.dispatch(Object(Ee.c)())},this.saveTempData=e=>{if("cover_image"in e){if(!e.cover_image){const t={image:e.cover_thumbnail,file:e.cover_image,updated:!0};return void this.setState({coverImage:t})}Ce().then(t=>{const n=JSON.parse(t),i={image:e.cover_thumbnail,file:e.cover_image,image_id:n.image_id,metadata:e.metadata,upload_url:n.upload_url,updated:!0};this.setState({coverImage:i})})}else if("profile_image"in e){if(!e.profile_image){const t={image:e.profile_thumbnail,file:e.profile_image,updated:!0};return void this.setState({profileImage:t})}Ce().then(t=>{const n=JSON.parse(t),i={image:e.profile_thumbnail,file:e.profile_image,image_id:n.image_id,metadata:e.metadata,upload_url:n.upload_url,updated:!0};this.setState({profileImage:i})})}},this.uploadCoverImage=(e,t)=>{const{coverImage:n}=this.state;n.file&&n.updated?Object(be.P)(n).then(r=>{const o=JSON.parse(r),a=o?Object(i.a)({},n,{file_name:o.file_name,image:"/api/author/profile/image/".concat(o.image_id),image_id:o.image_id,updated:!1}):n;t(Object(i.a)({},e,{coverImage:a}))}).catch(e=>{this.props.dispatch(Object(g.e)({status:"ERROR",text:"Unable to upload Cover Image"}))}):t(Object(i.a)({},e,{coverImage:n}))},this.uploadProfileImage=(e,t)=>{const{profileImage:n}=this.state;n.file&&n.updated?Object(be.P)(n).then(n=>{const r=JSON.parse(n),o=Object(i.a)({},this.state.profileImage,{file_name:r.file_name,image:"/api/author/profile/image/".concat(n.image_id),image_id:r.image_id,updated:!1});t(Object(i.a)({},e,{profileImage:o}))}).catch(e=>{this.props.dispatch(Object(g.e)({status:"ERROR",text:"Unable to upload Profile Image"}))}):t(Object(i.a)({},e,{profileImage:n}))},this.collectData=e=>{const t={data:e};this.props.dispatch(Object(g.b)(b.q,{status:"WAIT",text:"Uploading Images"})),this.uploadCoverImage(t,e=>this.uploadProfileImage(e,e=>this.persistStateOnServer(e)))},this.persistStateOnServer=e=>{const t=e.coverImage.metadata?JSON.stringify(e.coverImage.metadata):"",n=e.profileImage.metadata?JSON.stringify(e.profileImage.metadata):"",r={cover_image_id:e.coverImage.image_id,cover_image_metadata:t,profile_image_id:e.profileImage.image_id,profile_image_metadata:n},o=Object(i.a)({},r,{},e.data);var a,s;this.props.dispatch((a=o,s=()=>{this.props.dispatch(Object(g.e)({status:"SUCCESS",text:"Profile Saved"})),this.props.dispatch(Object(ke.c)()),this.setState({profileData:o})},(e,t)=>{we(a).then(()=>{s()}).catch(t=>{var n;Object(_e.a)(t,e);const i=t.status===xe.c.operationNotAllowedException?null===t||void 0===t?void 0:null===(n=t.responseJSON)||void 0===n?void 0:n.errorText:null;e(Object(g.e)({status:"ERROR",text:i||"Unable to save Profile"}))})}))}}componentDidMount(){this.props.dispatch(Object(Ee.c)())}componentDidUpdate(e){if(this.props.profileData!==e.profileData){var t,n;let e=null;this.props.profileData.cover_image_metadata&&(e=JSON.parse(this.props.profileData.cover_image_metadata));const i={image:this.props.profileData.cover_image_id?"/api/author/profile/image/".concat(this.props.profileData.cover_image_id):null,image_id:this.props.profileData.cover_image_id,metadata:e,updated:!1};let r=null;this.props.profileData.profile_image_metadata&&(r=JSON.parse(this.props.profileData.profile_image_metadata));let o=null===(t=this.props.userInfo)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.profile_image_serving_url;o&&(o="".concat(o,"=s").concat(Se.d));const{profile_image_id:a}=this.props.profileData,s=a?"/api/author/profile/image/".concat(a):null,l={image:o||s,image_id:a,metadata:r,updated:!1};this.setState({profileData:this.props.profileData,profileImage:l,coverImage:i})}}render(){const{profileData:e,coverImage:t,profileImage:n}=this.state;return o.a.createElement(Oe.b,null,o.a.createElement(l.a,{loading:this.props.contentLoading}),o.a.createElement(u,{save:this.saveProfile,discard:this.discard}),o.a.createElement(p.a,{saveTempData:this.saveTempData,mode:"write",coverImage:t.image}),o.a.createElement(f.a,{mode:"write",saveTempData:this.saveTempData,picture:n.image,name:e.full_name}),o.a.createElement(Oe.a,null,o.a.createElement(ve,{hasProfileImage:Boolean(n.image),hasCoverImage:Boolean(t.image),data:e,onChange:this.onChange,name:"user_profile",errors:this.state.errors,errorHandler:this.errorHandler})),o.a.createElement(s.a,null))}}const Ie=Object(a.b)((function(e){let{user:{info:t},author:{profile:n}}=e;return{userInfo:t,profileData:!1===n.loading&&!0===n.loaded?n.data:{},contentLoading:n.loading}}));t.default=Ie(Ae)},1116:function(e,t,n){"use strict";n.r(t);var i=n(27),r=n(0),o=n.n(r),a=n(533),s=n(826),l=n.n(s),c=n(777),h=n(1994),d=n(14),u=n(805),p=n(1064),f=n(1964),m=n.n(f),g=n(2105),v=n.n(g),b=n(35),y=n(12),_=n(1080),x=n(1656),w=n(1499),C=n(1676),S=n(1675),E=n(1669),k=n(1671),O=n(1502),T=n(2),A=n.n(T);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var P=function(e){var t=e.color,n=e.size,i=j(e,["color","size"]);return o.a.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),o.a.createElement("path",{d:"M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"}),o.a.createElement("polyline",{points:"8 10 12 14 16 10"}))};P.propTypes={color:A.a.string,size:A.a.oneOfType([A.a.string,A.a.number])},P.defaultProps={color:"currentColor",size:"24"};var M=P,R=n(1666),D=n(253),L=n(330),N=n(334),B=n(1),F=n(51);const z=B.d.div.withConfig({displayName:"styles__ComponentControlsStyled",componentId:"o0eewk-0"})(["position:absolute;right:0px;top:-33px;transition:opacity 0.2s;z-index:",";",""],F.T,e=>e.show&&Object(B.c)(["display:",";"],e.show)),H=B.d.div.withConfig({displayName:"styles__List",componentId:"o0eewk-1"})(["svg{fill:transparent !important;stroke:"," !important;width:22px;height:20px;transition:0.2s;background:transparent;}.move-icon{height:28px;fill:",";}.b-btn{background-color:transparent;height:30px;width:50px;padding:0;.eye-icon,.edit-icon,.clone-icon,.trash-icon{width:18px;height:18px;fill:",";}&:hover,&:active,&.active,&.active:focus{.move-icon,.edit-icon,.eye-icon,.clone-icon,.trash-icon{fill:",";}svg{stroke:"," !important;}}&:focus{outline:none;}}"],e=>{let{theme:t}=e;return t.palette.grey.A400},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.primary.main});var U=z;class q extends r.Component{constructor(){super(...arguments),this.controlButtons=[{title:"Move up",payload:"up",icon:r.createElement(C.a,null),onClick:()=>this.props.moveWidget("up"),isVisible:e=>-1===e.indexOf("up"),setIsVisibleNeededValue:"hideArrow"},{title:"Move down",payload:"down",icon:r.createElement(S.a,null),onClick:()=>this.props.moveWidget("down"),isVisible:e=>-1===e.indexOf("down"),setIsVisibleNeededValue:"hideArrow"},{title:e=>e?"Edit":"View",payload:"edit/preview",icon:e=>e?r.createElement(E.a,{id:"toggle-widget-to-edit-mode"}):r.createElement(k.a,{id:"toggle-widget-to-view-mode"}),onClick:()=>this.props.editToggleComponent(),isVisible:!0,active:e=>e},{title:"Copy",payload:"copy",icon:r.createElement(O.a,null),onClick:this.props.copyWidget,isVisible:e=>e,setIsVisibleNeededValue:"showCopy"},{title:"Paste Below",payload:"paste",icon:r.createElement(M,null),onClick:()=>this.props.pasteWidgetFromRedux(),isVisible:e=>e,setIsVisibleNeededValue:"copiedWidget"},{title:"Remove",payload:"remove",icon:r.createElement(R.a,null),onClick:()=>this.props.removeComponent(),isVisible:!0}]}setFocusOnMoveDown(e,t,n,i){e(),n||"down"!==t&&"up"!==t||setTimeout(()=>{i.current.scrollIntoView({block:"center",behavior:"smooth"})},5)}render(){const{customControls:e,noControls:t,mode:n,show:i,divRef:o}=this.props,a="view"===n;let s=r.createElement(H,null,this.controlButtons.map(e=>("function"===typeof e.isVisible?e.isVisible(this.props[e.setIsVisibleNeededValue]):e.isVisible)?"Remove"===e.title?r.createElement(D.a,{key:e.title,popoverTitle:"Are you sure you want to delete this widget?",handleConfirm:e.onClick,danger:!0},r.createElement(x.a,{trigger:["hover"],placement:"top",overlay:r.createElement(w.a,{id:"".concat(e.title,"button")},"function"===typeof e.title?e.title(a):e.title)},r.createElement(N.a,{name:e.payload,active:!!e.active&&e.active(a)},r.createElement(L.a,{icon:"function"===typeof e.icon?e.icon(a):e.icon})))):r.createElement(x.a,{key:e.title,trigger:["hover"],placement:"top",overlay:r.createElement(w.a,{id:"".concat(e.title,"button")},"function"===typeof e.title?e.title(a):e.title)},r.createElement(N.a,{onClick:()=>{this.setFocusOnMoveDown(e.onClick,e.payload,t,o)},active:!!e.active&&e.active(a),name:e.payload},r.createElement(L.a,{icon:"function"===typeof e.icon?e.icon(a):e.icon}))):null));return t&&(s=null),r.createElement(U,{show:i?"block":"none"},e||s)}}var W=n(21),V=n(18);const G=B.d.div.withConfig({displayName:"styles__ComponentPanelStyled",componentId:"sc-1wwu6cd-0"})(["position:relative;padding:10px 10px 20px 10px;margin:60px 15px 0 0;margin-top:60px !important;transition:0.2s;"," &:hover{box-shadow:0px 0px 15px ",";border-radius:",";}.medium-editor-placeholder:after{font-size:",";color:",";font-weight:",";}.textEditor{margin-left:0;margin-right:0;}.textViewer{min-height:27px;display:inline-block;}.widget-name,.add-widget-wrapper{opacity:0;transition:opacity 0.2s;}:hover{.widget-name,.add-widget-wrapper{opacity:1;}}@media (max-width:769px){.add-widget-wrapper{opacity:1;}}"],e=>e.active&&Object(B.c)(["margin-top:2.5em;margin-bottom:2.5em;box-shadow:0px 0px 15px ",";border-radius:",";:hover{box-shadow:0px 0px 15px "," !important;}"],e=>{let{theme:t}=e;return t.palette.alphas.primary3},V.m,e=>{let{theme:t}=e;return t.palette.alphas.primary3}),e=>{let{theme:t}=e;return t.palette.alphas.white1},V.m,y.a.textLarge,e=>{let{theme:t}=e;return t.palette.grey[700]},W.f),K=B.d.div.withConfig({displayName:"styles__Content",componentId:"sc-1wwu6cd-1"})(["overflow:inherit;"]),Y=B.d.div.withConfig({displayName:"styles__AddWidgetWrap",componentId:"sc-1wwu6cd-2"})(["position:absolute;margin-left:-10px;width:100%;bottom:-5px;z-index:10;"]),X=B.d.div.withConfig({displayName:"styles__WidgetName",componentId:"sc-1wwu6cd-3"})(["position:absolute;bottom:3.5px;right:15px;font-size:",";color:",";transition:0.2s;"],y.a.textSmall,e=>{let{theme:t}=e;return t.palette.grey[700]});var J=G;class $ extends r.PureComponent{constructor(){super(...arguments),this.state={removed:!1,showPanel:!1},this.divRef=o.a.createRef(),this.pasteWidgetFromRedux=()=>{const{copiedWidget:e}=this.props.widgetsData&&this.props.widgetsData.toJS();if(e){const t=JSON.parse(m.a.decrypt(e,b.d).toString(v.a));this.props.addComponent(Object(d.a)({},t,{index:this.props.comps&&this.props.comps.findIndex(e=>this.props.selectedHash===e.get("hash"))}))}},this.copyWidget=()=>{this.props.copyWidgetEvent&&this.props.copyWidgetEvent()},this.moveWidget=e=>{const{moveComponent:t,id:n}=this.props;t({type:e,id:n})},this.hideArrow=()=>{const{comps:e,index:t}=this.props;return[(1===e.size||t===e.size-1)&&"down",(1===e.size||t!==e.size-1&&0===t)&&"up"].filter(Boolean)}}render(){const{mode:e,customControls:t,editToggleComponent:n,removeComponent:i,selectActive:r,addComponent:a,id:s,default_themes:l,hash:c,children:h,isSelected:d,index:f,title:m,popoverContent:g,widgetsData:v,isEditorPage:b}=this.props,{removed:x}=this.state;if(x)return null;let w=!1;d||(w=!0);let C=null;const S={addComponent:a,editToggleComponent:()=>n(c),removeComponent:()=>i(c),pasteWidgetFromRedux:this.pasteWidgetFromRedux},E=this.hideArrow(),{copiedWidget:k}=v&&v.toJS(),O="Terminal"!==this.props.title&&"Video Recorder"!==this.props.title;return C=o.a.createElement(q,Object.assign({customControls:t,noControls:w,show:d,mode:e,default_themes:l,moveWidget:this.moveWidget,hideArrow:E,showCopy:O,copiedWidget:!!k,copyWidget:this.copyWidget,divRef:this.divRef},S)),o.a.createElement(J,{ref:this.divRef,id:"component_panel_container_wrapper_".concat(s),onClick:()=>{"view"===e&&r(c)},active:d},C,o.a.createElement(K,null,h),o.a.createElement(Y,{className:"add-widget-wrapper"},o.a.createElement(_.default,{showButton:!0,index:f,addComponent:a,default_themes:l,isEditorPage:b})),d?null:o.a.createElement(X,{className:"widget-name"},m),d&&o.a.createElement(u.a,{show:!!g,target:this,placement:"top",container:this},o.a.createElement(p.a,{id:"widget-popover",style:{fontSize:y.a.textLarge,marginLeft:"35%",marginTop:"15px"}},g)))}}t.default=Object(r.memo)(e=>{let{comp:t,moveComponent:n,docker:r,editToggleComponent:s,addComponent:d,removeComponent:u,selectActive:p,updateContentState:f,default_themes:m,unSelectAll:g,index:v,selectedHash:b,lesson_info:y,popoverContent:_,isEditorPage:x}=e,w=Object(i.a)(e,["comp","moveComponent","docker","editToggleComponent","addComponent","removeComponent","selectActive","updateContentState","default_themes","unSelectAll","index","selectedHash","lesson_info","popoverContent","isEditorPage"]);const C=t.get("hash"),S=b===t.get("hash"),E=Object(h.e)(t.get("type"));return o.a.createElement(a.DndProvider,{backend:l.a},o.a.createElement($,{isSelected:S,selectActive:p,key:"CPC".concat(C),hash:C,id:C,default_themes:m,unSelectAll:g,mode:t.get("mode"),editToggleComponent:()=>s({hash:C}),addComponent:d,widgetsData:w.widgetsData,selectedHash:b,comps:w.comps,copyWidgetEvent:w.copyWidgetEvent,removeComponent:()=>u({hash:C}),index:v,title:E,isEditorPage:x,moveComponent:n,popoverContent:_},o.a.createElement(c.b,Object.assign({},w,{comp:t,index:v,editToggleComponent:()=>s({hash:C}),addComponent:()=>d({parentHash:C}),removeComponent:()=>u({hash:C}),updateContentState:(e,t)=>f({hash:C,data:e},t),mode:t.get("mode"),lesson_info:y,iteration:t.get("iteration"),default_themes:m,docker:r,key:"EDC".concat(C)}))))})},1118:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(30),a=n(31),s=n(28),l=n(35),c=n(157),h=n(1),d=n(5),u=n(12),p=n(77),f=n(58),m=n(44);const g=Object(h.d)(p.j).withConfig({displayName:"styles__StudentPackStyled",componentId:"sc-9vpftk-0"})([""]),v=Object(h.d)(p.e).withConfig({displayName:"styles__PageContent",componentId:"sc-9vpftk-1"})(["padding:0 90px !important;display:flex;flex:0 0 auto;flex-direction:column;.save-button{display:none;}@media (max-width:","){padding:0 40px !important;}@media (max-width:","){padding:0 15px !important;}",""],d.m.pixels,d.f.pixels,e=>e.lessPadding&&Object(h.c)(["margin-bottom:20px;"])),b=Object(h.d)(m.a).attrs({variant:"h1",m:5}).withConfig({displayName:"styles__Heading",componentId:"sc-9vpftk-2"})(["@media (max-width:","){margin:",";}"],d.f.pixels,e=>{let{theme:t}=e;return t.spacing(3)}),y=h.d.div.withConfig({displayName:"styles__MarginContainer",componentId:"sc-9vpftk-3"})([""," ",""],e=>e.top&&Object(h.c)(["margin-top:30px;"]),e=>e.bottom&&Object(h.c)(["margin-bottom:30px;"])),_=h.d.div.withConfig({displayName:"styles__TextAndImage",componentId:"sc-9vpftk-4"})(["display:flex;align-items:center;justify-content:space-between;margin:35px 0 25px;"," @media (max-width:","){flex-direction:column;}"],e=>e.margin&&Object(h.c)(["margin:",";"],e.margin),d.f.pixels),x=h.d.div.withConfig({displayName:"styles__Text",componentId:"sc-9vpftk-5"})(["font-size:",";color:",";a{cursor:pointer;color:",";:hover{color:",";}}"],u.a.h4,e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.dark}),w=h.d.img.withConfig({displayName:"styles__Image",componentId:"sc-9vpftk-6"})(["width:320px;"," @media (max-width:","){margin-right:0px;}"],e=>e.marginRight&&Object(h.c)(["margin-right:",";"],e.marginRight),d.f.pixels),C=Object(h.d)(f.a).attrs({purple:!0}).withConfig({displayName:"styles__OfferButton",componentId:"sc-9vpftk-7"})(["align-self:center;padding:12px 45px 10px;"," ",""],e=>e.marginTop&&Object(h.c)(["margin-top:","px;"],e.marginTop),e=>e.marginBottom&&Object(h.c)(["margin-bottom:","px;"],e.marginBottom)),S=h.d.div.withConfig({displayName:"styles__About",componentId:"sc-9vpftk-8"})(["display:flex;flex:0 0 auto;align-items:center;width:100%;flex-direction:column;background:",";"],e=>{let{theme:t}=e;return t.palette.primary.lightP2}),E=h.d.div.withConfig({displayName:"styles__VideoContainer",componentId:"sc-9vpftk-9"})(["display:flex;flex:0 0 auto;align-items:center;width:100%;flex-direction:column;"]),k=h.d.div.withConfig({displayName:"styles__PurpleBg",componentId:"sc-9vpftk-10"})(["width:100%;height:80px;background:",";"],e=>{let{theme:t}=e;return t.palette.primary.lightP2}),O=h.d.div.withConfig({displayName:"styles__Video",componentId:"sc-9vpftk-11"})(["width:100%;width:60vw;height:34vw;margin:-50px 0 20px;align-self:center;border:1px solid;box-shadow:0px 0px 10px ",";@media (max-width:","){width:80vw;height:45vw;}@media (min-width:","){width:850px;height:475px;}"],e=>{let{theme:t}=e;return t.palette.alphas.black1},d.f.pixels,d.b.pixels),T=h.d.div.withConfig({displayName:"styles__End",componentId:"sc-9vpftk-12"})(["padding:60px 10px;font-size:",";text-align:center;transition:0.2s;line-height:40px;width:100%;a{cursor:pointer;color:",";:hover{color:",";}}"],u.a.h4,e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.dark});var A=g;var I=()=>{const e=Object(i.useContext)(z);return r.a.createElement(v,{style:{marginBottom:"20px"}},r.a.createElement(b,null,"Get 6 months of Educative free with GitHub for ",e.type,"s."),r.a.createElement("img",{src:"/static/imgs/educative_githubV4.png",alt:"".concat(e.pack.toLowerCase()," at educative")}),r.a.createElement(_,null,r.a.createElement(x,null,r.a.createElement(y,{bottom:!0},"We\u2019re proud to announce we\u2019ve partnered with GitHub to be part of the"," ",r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.pack),"."),e.type===l.t.EDUCATOR&&r.a.createElement(y,{bottom:!0},"Why? Tech changes fast. The landscape students are facing today is very different from what it looked like just a few years ago. To equip your students to tackle the latest in tech, it never hurts for you to keep brushing up and learning new things yourself."),"As a member of the ",e.pack,", you will get"," ",r.a.createElement("strong",null,"6 free months")," of 60+ Educative courses covering in-demand topics such as Machine Learning, Web Development, Python, Kubernetes, and then some -- a value of over",r.a.createElement("strong",null," $2,000"),"."),r.a.createElement(w,{marginRight:"-60px",src:"/static/imgs/".concat(e.image,".png"),alt:"".concat(e.pack.toLowerCase(),"'s ").concat(e.image)})))},j=n(1529);var P=e=>{let{getUserToken:t=(()=>{})}=e;const n={config:{},userThemes:null,docker:{},index:0,allowWidgetUserData:!0,isDraft:!1,mode:"view",type:"Code",hash:"1",className:"widget",content:{title:"",content:'#include <iostream>\nusing namespace std;\n\nint main() {\n  // your code goes here\n  cout << "Code snippets, exercises and more, embedded in every course.";\n  return 0;\n}',entryFileName:"main.cpp",selectedIndex:0,caption:"",language:"c++",evaluateLanguage:null,theme:"default",runnable:!0,timeLimit:30,judge:!1,judgeContent:null,judgeHints:null,allowDownload:!1,treatOutputAsHTML:!1,enableHiddenCode:!1,enableStdin:!1,evaluateWithoutExecution:!1,showSolution:!1,version:"7.0",specialInput:"no-input",codeReplaced:!1,onlyCodeChanged:!1,hasSnapshot:!1,dirty:!1,dockerExecutionContext:null},executionMetadata:{loaded:!0,loading:!1,data:{}},comps:{},updateContentState:()=>{},fullScreen:!1,fullscreenIconToggle:()=>{},toggleFullScreen:()=>{}};return r.a.createElement(S,null,r.a.createElement(C,{onClick:t,marginTop:-22,marginBottom:40,"aria-label":"verify-status"},"Claim the offer"),r.a.createElement(v,{lessPadding:!0},r.a.createElement(_,{margin:"0"},r.a.createElement(x,null,r.a.createElement(m.a,{variant:"h3"},"Why Educative?"),r.a.createElement("br",null),r.a.createElement(y,{bottom:!0},"Programming courses have yet to catch up to the way developers actually learn. Most involve some guy talking, you watching them explain how to code, and then trying to go off and reproduce it later."),"Educative\u2019s courses were made to help you learn faster, and get your hands dirty along the way."),r.a.createElement(w,{src:"/static/imgs/flip_book.png",style:{width:"380px"},alt:"flip book"})),r.a.createElement(x,null,r.a.createElement(y,{top:!0,bottom:!0},r.a.createElement("strong",null,"1. Learn at your own pace.")),"Our courses are text-based, so you can skim along (or double back) at your own speed, not someone else\u2019s."),r.a.createElement(x,{style:{marginBottom:"30px"}},r.a.createElement(y,{top:!0,bottom:!0},r.a.createElement("strong",null,"2. We handle the setup. You focus on learning.")),"Each course is loaded with pre-configured coding environments to let you practice as you learn. No set-up, ever."),r.a.createElement(j.default,n),r.a.createElement(x,null,r.a.createElement(y,{top:!0,bottom:!0},r.a.createElement("strong",null,"3. There\u2019s something for everyone.")),"Educative\u2019s courses cover a range of topics for all skill levels. You\u2019re sure to find something you can sink your teeth into.")))},M=n(554),R=n.n(M),D=n(486);var L=e=>{let{getUserToken:t=(()=>{})}=e;const n=Object(i.useContext)(z);return r.a.createElement(E,null,r.a.createElement(k,null),r.a.createElement(v,null,r.a.createElement(O,null,r.a.createElement(R.a,{className:"react-player",width:"100%",height:"100%",url:D.a.FEATURE_VIDEO,controls:!0})),r.a.createElement(x,null,r.a.createElement(m.a,{variant:"h3"},r.a.createElement("strong",null,"Got questions? We\u2019ve got answers.")),r.a.createElement("br",null),r.a.createElement(y,{bottom:!0},r.a.createElement("strong",null,"How do I qualify for Educative\u2019s offer in the ",n.pack,"?")),"If you\u2019re part of the"," ",r.a.createElement("a",{href:n.url,target:"_blank",rel:"noopener noreferrer"},n.pack),", then all you have to do is create an Educative account (if you don\u2019t have one already), and verify your ",n.type," status through GitHub by pressing the button below. The offer will be automatically applied to your account."),r.a.createElement(C,{marginTop:30,marginBottom:40,onClick:t,"aria-label":"verify-status"},"Verify ",n.type.toLowerCase()," status"),r.a.createElement(x,null,r.a.createElement(y,{top:!0,bottom:!0},r.a.createElement("strong",null,"Do I need a credit card to redeem the offer?")),"Nope!"),r.a.createElement(x,null,r.a.createElement(y,{top:!0,bottom:!0},r.a.createElement("strong",null,"I already have an Educative account. Can I still upgrade?")),"Yup. Just click the button above to verify your"," ",n.type.toLowerCase()," status through GitHub. Your existing Educative account will be automatically associated with the"," ",r.a.createElement("a",{href:n.url,target:"_blank",rel:"noopener noreferrer"},n.pack),".")))};n.d(t,"GithubPageIntentContext",(function(){return z}));const N=["Amanda","Cameron","Celeste","Elly"],B={type:l.t.EDUCATOR,pack:"GitHub Teacher Toolbox",image:"toolbox",url:"https://education.github.com/teachers"},F={type:l.t.STUDENT,pack:"GitHub Student Developer Pack",image:"backpack",url:"https://education.github.com/pack"},z=r.a.createContext(F);z.displayName="GithubPageIntentContext";t.default=e=>{let{githubEducators:t=!1}=e;const n=Object(o.d)(),{info:i}=Object(o.e)(e=>e.user),l=t?B:F,h=e=>{var t;e.preventDefault(),(null===i||void 0===i?void 0:null===(t=i.data)||void 0===t?void 0:t.user_id)?window.location.href="/authorize?user_type=".concat(l.type):n(Object(s.b)(a.j,{ru:"/github-".concat(l.type.toLowerCase(),"s")}))},d=N[Math.floor(Math.random()*N.length)];return r.a.createElement(z.Provider,{value:l},r.a.createElement(A,null,r.a.createElement(I,null),r.a.createElement(P,{getUserToken:h}),r.a.createElement(L,{getUserToken:h}),r.a.createElement(S,null,r.a.createElement(T,null,r.a.createElement("strong",null,"Anything else you\u2019d like to ask?"),r.a.createElement("br",null),"We\u2019re happy to chat. Reach out to"," ",r.a.createElement("a",{href:"mailto:github-students@educative.io"},d),".")),r.a.createElement(c.a,{noTopPadding:!0})))}},1119:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(2308),a=n.n(o),s=n(2309),l=n.n(s),c=n(1946),h=n.n(c),d=(n(2310),n(58)),u=n(1);const p=u.d.div.withConfig({displayName:"styles__SheetGridStyled",componentId:"sc-1y80igp-0"})(["padding:20px;text-align:center;overflow:auto;table{margin:0 auto;.data-grid td.cell{height:25px;min-width:80px;> input{height:25px;width:80px;}}}"]);u.d.div.withConfig({displayName:"styles__GridUpdate",componentId:"sc-1y80igp-1"})(["width:25%;margin-top:20px;"]);var f=p;class m extends i.Component{constructor(){super(...arguments),this.state={grid:new Array(+this.props.row).fill(new Array(+this.props.col).fill({value:""}))},this.gridUpdate=()=>{const{grid:e}=this.state;if(!e)return;const t=e.map(e=>e.map(e=>e.value));this.props.tableUpdate(t)}}componentDidUpdate(e){this.props!==e&&this.setState({grid:new Array(+this.props.row).fill(new Array(+this.props.col).fill({value:""}))})}render(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(f,null,r.a.createElement(h.a,{data:this.state.grid,valueRenderer:e=>e.value,onChange:(e,t,n,i)=>this.setState({grid:this.state.grid.map(t=>t.map(t=>t===e?{value:i}:t))})})),r.a.createElement(d.a,{purple:!0,onClick:this.gridUpdate},"OK"))}}var g=n(282),v=n(28),b=n(1737),y=n(332),_=n(283),x=n(18),w=n(12);const C={Csv:u.d.div.withConfig({displayName:"styles__Csv",componentId:"sc-1m96n6m-0"})(["display:flex;flex-direction:column;align-items:center;position:relative;padding:20px;"]),CsvTextarea:u.d.textarea.withConfig({displayName:"styles__CsvTextarea",componentId:"sc-1m96n6m-1"})(["width:100%;margin:10px;padding:10px;resize:none;border-radius:",";border:1px solid ",";outline:none;"],x.i,e=>{let{theme:t}=e;return t.palette.grey[300]}),CsvUpdate:u.d.div.withConfig({displayName:"styles__CsvUpdate",componentId:"sc-1m96n6m-2"})(["width:25%;"]),Simple:u.d.div.withConfig({displayName:"styles__Simple",componentId:"sc-1m96n6m-3"})(["display:block;.b-modal-header{background-color:",";}.b-modal-header__title{color:",";}.b-modal-footer{background-color:",";}"],e=>{let{theme:t}=e;return t.palette.success.dark},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.common.white}),Table:u.d.div.withConfig({displayName:"styles__Table",componentId:"sc-1m96n6m-4"})(["padding:20px;label{margin-right:10px;}input{width:50px;padding:5px;margin:0 10px;}"]),TableSize:u.d.div.withConfig({displayName:"styles__TableSize",componentId:"sc-1m96n6m-5"})(["margin-left:30px;display:flex;align-items:center;float:right;input{width:50px;margin:0 10px;border-radius:",";border:1px solid ",";padding:5px;}"],x.i,e=>{let{theme:t}=e;return t.palette.grey[300]}),TableType:u.d.div.withConfig({displayName:"styles__TableType",componentId:"sc-1m96n6m-6"})(["display:flex;justify-content:flex-start;align-items:center;flex-wrap:wrap;padding:15px;.table-type-radio{width:150px;padding:0 20px;input{margin:0 7px;}}"]),Text:u.d.div.withConfig({displayName:"styles__Text",componentId:"sc-1m96n6m-7"})(["padding:10px;font-size:",";"],w.a.textMedium)};n.d(t,"default",(function(){return S}));class S extends i.Component{constructor(){super(...arguments),this.state={selectedOption:"csv",textareaValue:"",colValue:2,rowValue:2,showGrid:!1},this.handleOptionChange=e=>{this.setState({selectedOption:e.target.value})},this.handleTextareaChange=e=>{this.setState({textareaValue:e.target.value})},this.handleInputChange=(e,t)=>{let{value:n}=e.target;n&&!/^\d+$/.test(n)||("colValue"===t&&n>20&&(n=20),"rowValue"===t&&n>50&&(n=50),this.setState({[t]:n}))},this.tableUpdate=e=>{const{onUpdate:t,text:n,cursorPosition:i,dispatch:r,isSpellCheckEnabled:o,textAreaCursor:s}=this.props.params;let c;c=Array.isArray(e)?l()(e):a()(e,",",!0);const h=Object(b.c)(n,o?s:i,c);t({mdText:h,mdHtml:Object(g.b)(h),cursorPosition:i,reFocus:!0}),r(Object(v.a)())},this.getFooterHelpers=()=>{const{prevModalType:e}=this.props,{dispatch:t}=this.props.params;return e?[{method:()=>{t(Object(v.b)(e))},linkText:"Go Back"}]:[]}}render(){const{closeIcon:e}=this.props,{selectedOption:t,colValue:n,rowValue:i}=this.state,o=r.a.createElement(C.TableSize,null,r.a.createElement("label",null,"Col",r.a.createElement("input",{type:"text",value:this.state.colValue,onChange:e=>this.handleInputChange(e,"colValue")})),r.a.createElement("label",null,"Row",r.a.createElement("input",{type:"text",value:this.state.rowValue,onChange:e=>this.handleInputChange(e,"rowValue")}))),a=r.a.createElement(C.Csv,null,r.a.createElement(C.CsvTextarea,{value:this.state.textareaValue,onChange:this.handleTextareaChange,rows:10}),r.a.createElement(d.a,{purple:!0,onClick:()=>this.tableUpdate(this.state.textareaValue)},"OK")),s=r.a.createElement(m,{col:n,row:i,tableUpdate:this.tableUpdate});return r.a.createElement(C.Simple,null,e,r.a.createElement(y.a,{title:"Choose the type of data",roundEdges:!0}),r.a.createElement("div",{className:"b-modal__body"},r.a.createElement(C.TableType,null,r.a.createElement("div",{className:"table-type-radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"csv",checked:"csv"===t,onChange:this.handleOptionChange}),"CSV")),r.a.createElement("div",{className:"table-type-radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"table",checked:"table"===t,onChange:this.handleOptionChange}),"Table")),"table"===t&&o),"csv"===t&&a,"table"===t&&n&&i&&s),r.a.createElement(_.a,{helpers:this.getFooterHelpers(),roundEdges:!0}))}}},1122:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(646),a=n(30),s=n(29),l=n(852),c=n(1506),h=n(647),d=n(1658),u=n(650),p=n(1),f=n(21),m=n(12);const g=p.d.div.withConfig({displayName:"styles__StatsComponent",componentId:"mznv36-0"})([".title{font-size:",";margin-top:0.3em;margin-bottom:0.3em;margin-left:0;margin-right:0;font-weight:",";color:",";}.sub_title{margin-bottom:20px;}table thead{background:",";}table thead tr th{text-align:center !important;}tr td{text-align:center !important;}.wdth_20{width:21% !important;}.sales_table{overflow-x:scroll;margin-bottom:40px;}@media only screen and (min-width:260px) and (max-width:767px){.sales_table{margin-bottom:20px;}}"],m.a.h2,f.g,e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.primary.lightP2});var v=Object(u.a)(e=>{let{salesData:t,salesError:n,theme:i}=e,o=null;if(t&&t.length>0){const e=t.map((e,t)=>{let n="",o="",a="",s="";return e.created&&(n=new Date(e.created).toDateString(),o=new Date(e.created).getHours(),a=new Date(e.created).getMinutes()),e.visitor_country&&(s=e.visitor_country),r.a.createElement("tr",{key:t},r.a.createElement("td",null,n," - ",(o<10?"0":"")+o," :"," ",(a<10?"0":"")+a),r.a.createElement("td",null,s),r.a.createElement("td",null,"$".concat((e.author_payout||0).toFixed(2))),r.a.createElement("td",null,e.affiliate?r.a.createElement(c.a,{color:i.palette.success.main}):r.a.createElement(h.a,null)))});o=r.a.createElement("div",null," ",r.a.createElement(d.a,{bordered:!0,condensed:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date/Time"),r.a.createElement("th",null,"Country"),r.a.createElement("th",null,"Author Payout"),r.a.createElement("th",null,"Affiliate Sale"))),r.a.createElement("tbody",null,e)))}else t?o=r.a.createElement("div",{style:{textAlign:"center",marginTop:"30px"}},r.a.createElement("p",null,"No sales to show at this point")):n&&(o=r.a.createElement("div",{style:{textAlign:"center",marginTop:"30px",color:i.palette.error.main}},r.a.createElement("p",null,"Unable to fetch latest course sales data")));return r.a.createElement(g,null,o)}),b=n(851),y=n(63),_=n(415),x=n(1863),w=n(1786);var C=e=>{let{params:t}=e;const n=Object(a.e)(e=>{var t,n,i,r,o,a,s,l,c;const h=(null===e||void 0===e?void 0:null===(t=e.author)||void 0===t?void 0:null===(n=t.catalog)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i[0])||{},d=!!(null===e||void 0===e?void 0:null===(r=e.author)||void 0===r?void 0:null===(o=r.catalog)||void 0===o?void 0:o.loading);return{contentLoaded:!!(null===e||void 0===e?void 0:null===(a=e.author)||void 0===a?void 0:null===(s=a.catalog)||void 0===s?void 0:s.loaded),contentLoading:d,catalogData:h,error:!!(null===e||void 0===e?void 0:null===(l=e.author)||void 0===l?void 0:null===(c=l.catalog)||void 0===c?void 0:c.error)}},a.c),[o,s]=Object(i.useState)(),[l,c]=Object(i.useState)(),h=Object(a.d)();Object(i.useEffect)(()=>{const e=null===t||void 0===t?void 0:t.user_id,n=null===t||void 0===t?void 0:t.collection_id;e&&n&&o&&l&&h(Object(b.c)(e,n,{start_date:o,end_date:l}))},[o,l]),Object(i.useEffect)(()=>()=>{h(Object(b.a)())},[]);const{catalogData:d,contentLoading:u,contentLoaded:p,error:f}=n;let m=[];d.monthly_data&&(m=Object.values(d.monthly_data)||[]);let g=null===d||void 0===d?void 0:d.subscription_payout_data;if(u&&!p)return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.j,null,r.a.createElement(y.statsPlaceholder,null)),r.a.createElement(w.q,null,r.a.createElement(y.statsPlaceholderMobile,null)));let v=0,C=0,S=0,E=0,k=0,O=0,T=null===g||void 0===g?void 0:g.error;m.forEach(e=>{v+=null===e||void 0===e?void 0:e.sales_count,C+=null===e||void 0===e?void 0:e.total_sales,S+=null===e||void 0===e?void 0:e.returns_count,E+=null===e||void 0===e?void 0:e.returns,k+=null===e||void 0===e?void 0:e.number_of_feedbacks}),O=null===g||void 0===g?void 0:g.payout,isNaN(v)&&(v="N/A"),C=isNaN(C)?"N/A":C.toFixed(2),isNaN(S)&&(S="N/A"),E=isNaN(E)?"N/A":E.toFixed(2),isNaN(k)&&(k="N/A"),O=isNaN(O)?"N/A":O.toFixed(2);const A=new Date(o),I=new Date,j=["January","February","March","April","May","June","July","August","September","October","November","December"],P=I.getMonth()===A.getMonth()&&I.getFullYear()===A.getFullYear();let M=r.a.createElement(w.c,{key:"sales_stats_for_course"},r.a.createElement(w.f,{margin:"-28px 0px 0px 0px"},r.a.createElement(w.b,null,"Course Sales"),r.a.createElement(w.a,null,r.a.createElement(w.s,null,r.a.createElement(w.v,{id:"sales-count"},v),r.a.createElement("span",null,"Total Number")),r.a.createElement(w.s,null,r.a.createElement(w.v,{id:"total-payout"},"$".concat(C)),r.a.createElement("span",null,"Total Payout")))),r.a.createElement(w.f,{margin:"20px 0px 0px 0px"},r.a.createElement(w.b,null,"Course Returns"),r.a.createElement(w.a,null,r.a.createElement(w.s,null,r.a.createElement(w.u,null,r.a.createElement(w.v,{id:"returns-count"},S),r.a.createElement("span",null,"Total Number"))),r.a.createElement(w.s,null,r.a.createElement(w.v,{id:"total-returns"},"$".concat(E)),r.a.createElement("span",null,"Total Returns")))),r.a.createElement(w.f,{margin:"20px 0px 60px 0px"},r.a.createElement(w.b,null,"Subscription Payouts"),T&&r.a.createElement(w.k,{key:"payouts_error",hide:u||!p},"Subscription payouts not available for ",j[A.getMonth()]," ",A.getFullYear()),!T&&P&&r.a.createElement(w.o,{key:"payouts_info",hide:u||!p},"Estimated amount for ",j[A.getMonth()]," ",A.getFullYear()),!T&&!P&&r.a.createElement(w.o,{key:"payouts_info",hide:u||!p},"Amount for ",j[A.getMonth()]," ",A.getFullYear()),r.a.createElement(w.a,null,r.a.createElement(w.s,null,r.a.createElement(w.v,{id:"total-payout"},"$".concat(O)),r.a.createElement("span",null,"Total Payout")))));return f&&(M=[r.a.createElement(w.k,{key:"sales_stats_error"},"Unable to fetch course sales data"),M]),[(null===d||void 0===d?void 0:d.title)&&(null===d||void 0===d?void 0:d.published_time)&&!isNaN(null===d||void 0===d?void 0:d.page_count)&&r.a.createElement(w.t,{key:"course_content_description"},r.a.createElement(w.n,null,r.a.createElement(w.m,null,d.title),r.a.createElement(w.i,null,"Published: ",d.published_time)),r.a.createElement(w.p,null,y.lessonsIcon,d.page_count," Lessons")),r.a.createElement(w.r,{key:"course_monthly_summary"},"Monthly Summary"),r.a.createElement(w.w,{key:"dropdown_and_feedbacks"},r.a.createElement(x.a,{dropdownStartDate:null===d||void 0===d?void 0:d.first_published_time,onOptionChange:(e,t)=>{s(e),c(t)}}),u&&r.a.createElement(_.a,{size:30,display:{marginTop:10}}),r.a.createElement(w.l,null,r.a.createElement(w.v,null,k),r.a.createElement("span",null,"Feedbacks"))),M,r.a.createElement(w.r,{key:"latest_course_sales"},"Latest Sales ",r.a.createElement("span",null,"(last 30)"))]},S=n(157),E=n(77);const k=Object(a.b)(e=>{let{user:{info:t},author:{sales:n}}=e;return{userInfo:t,salesData:o.a(["data","sales"],n)||null,loaded:!!o.a(["loaded"],n),loading:!!o.a(["loading"],n),error:o.a(["error"],n)}});class O extends i.Component{constructor(){super(...arguments),this.getAuthorNCollectionId=()=>{const{match:{params:e},userInfo:t}=this.props;return t.loaded?{shouldLoad:!0,authorId:Number(e.user_id)===Number(t.data.user_id)?null:e.user_id,collectionId:e.collection_id}:{shouldLoad:!1}}}componentDidMount(){const e=this.getAuthorNCollectionId();if(!e.shouldLoad)return;const{dispatch:t}=this.props,{authorId:n,collectionId:i}=e;t(Object(l.c)(n,i))}componentDidUpdate(){const{dispatch:e,loaded:t,loading:n,error:i}=this.props,r=this.getAuthorNCollectionId();if(i&&403===o.a(["status"],i)&&e(Object(s.a)("CHANGE_NOTFOUND_STATE")(!0)),!r.shouldLoad||t||n||i)return;const{authorId:a,collectionId:c}=r;e(Object(l.c)(a,c))}componentWillUnmount(){const{dispatch:e}=this.props;e(Object(l.a)())}render(){const{salesData:e,error:t,match:{params:n}}=this.props;return r.a.createElement(E.j,null,r.a.createElement(E.e,null,r.a.createElement(C,{params:n}),r.a.createElement(v,{salesData:e,params:n,salesError:!!t})),r.a.createElement(S.a,null))}}t.default=k(O)},1124:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(14),a=n(30),s=n(649),l=n(810),c=n(809),h=n(534),d=n(332),u=n(192),p=n(85),f=n(28),m=n(15),g=n(150),v=n(256),b=n(1732),y=n(1);var _=Object(y.d)(c.a).withConfig({displayName:"styles__PayoutMethodFormGroup",componentId:"sc-1uv74qs-0"})(["padding:0px !important;"]),x=n(153),w=n(133),C=n.n(w);const S=[{value:"",name:"payout_paypal_email_address",type:"text",label:"PayPal Email Address",id:"payout_paypal_email_address",placeholder:"PayPal Email Address",errors:{},validators:[{name:"required",validator:b.b.required},{name:"email",validator:b.b.email}]}],E={paypal:S},k=[...S];const O=Object(a.b)((function(e){var t;let{author:{profile:n}}=e;return{fields:null===n||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.payout_methods}}));class T extends i.Component{constructor(e){super(e),this.setFieldError=e=>(this.setState(t=>{const n=C()(t.fields,{[e.fieldName]:{errors:{[e.errorName]:{$set:e.error}}}});return Object(o.a)({},t,{fields:Object(o.a)({},n,{},{[e.fieldName]:n[e.fieldName]})})}),e),this.onFieldChange=(e,t)=>{let{target:n}=e;this.setState(e=>{const i=C()(e.fields,{[t]:{value:{$set:n.value}}});return Object(o.a)({},e,{fields:Object(o.a)({},i,{},{[t]:i[t]})})})},this.runValidators=()=>Object(b.f)(k,this.state).map(this.setFieldError).filter(e=>!!e.error),this.handlepayoutMethodTypeChange=e=>{this.setState({payoutMethodType:e.target.value})},this.savePayoutMethods=e=>{e.preventDefault(),e.stopPropagation(),this.runValidators().length||(this.statuscontrol&&this.statuscontrol.setwaiting(),Object(p.G)({payout_paypal_email_address:this.state.fields.payout_paypal_email_address.value}).then(()=>{this.statuscontrol&&this.statuscontrol.setsuccess(),Object(m.c)(m.b.INTERACTION,m.a.INTERACTION_PAYOUT_METHODS_SUCCEEDED),this.setState({status:"success",errorField:!1},()=>{this.props.history.push("/profile/edit"),this.props.dispatch(Object(v.c)())})}).catch(e=>{Object(g.b)(e),Object(m.c)(m.b.INTERACTION,m.a.INTERACTION_PAYOUT_METHODS_FAILED,e.status),this.statuscontrol&&this.statuscontrol.seterror()}))},this.render=()=>{const e=E[this.state.payoutMethodType].map(e=>{const t=(t=>{const n=Object.values(t);let i=null;return n.some(t=>!1!==this.state.fields[e.id].errors[t.name]&&(i=this.state.fields[e.id].errors[t.name],!0)),i})(e.validators),n=t?"error":"success";return r.a.createElement(_,{key:e.id,controlId:e.id,validationState:n},r.a.createElement(s.a,{name:e.name,ref:e.name.replace(" ","_"),onChange:t=>this.onFieldChange(t,e.id),value:this.state.fields[e.id].value,type:e.type,placeholder:e.placeholder}),t&&r.a.createElement(l.a,null,t))});return r.a.createElement(u.e,null,r.a.createElement(d.a,{title:"PAYOUT METHODS"}),r.a.createElement(h.a,{ref:e=>{this.statuscontrol=e},waitingcontent:"Updating your Payout Methods",errorcontent:"Unable to update your Payout Methods. Please retry later.",successcontent:"Payout Methods updated successfully"}),"success"===this.state.status?r.a.createElement(u.a.SubmitButton,{onClick:()=>this.props.dispatch(Object(f.a)())}," ","Done"," "):r.a.createElement(u.a.default,{onSubmit:this.savePayoutMethods},r.a.createElement(c.a,{controlId:"payoutmethodselect"},r.a.createElement(u.b,{placeholder:"payout Method",onChange:this.handlepayoutMethodTypeChange},r.a.createElement("option",{value:"paypal"},"Paypal"))),r.a.createElement(c.a,{controlId:"payoutMethodValues"},e),r.a.createElement(u.a.SubmitButton,{type:"submit"}," ","SAVE"," ")))};const t=k.reduce((t,n)=>{var i;const r={[n.id]:n};return(null===e||void 0===e?void 0:null===(i=e.fields)||void 0===i?void 0:i[n.id])&&(r[n.id].value=e.fields[n.id]),Object(o.a)({},t,{},r)},{});this.state={status:null,errorField:!1,payoutMethodType:"paypal",fields:t}}}T.defaultProps={fields:{},dispatch:()=>{}};var A=Object(x.f)(O(T)),I=n(281);t.default=e=>{let{closeIcon:t}=e;return r.a.createElement(I.a,null,t,r.a.createElement(A,null))}},1125:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(30),a=n(192),s=n(2174),l=n(2176),c=n(332),h=n(58),d=n(28),u=n(2177),p=n(566),f=n(831),m=n(253),g=n(536),v=n(15),b=n(1),y=n(12);b.d.div.withConfig({displayName:"styles__ArticleSettingsFormStyled",componentId:"cok96p-0"})([""]);const _=Object(b.d)(a.a.default).withConfig({displayName:"styles__Form",componentId:"cok96p-1"})(["margin-top:40px;input{margin-top:0px;}.form-group{margin-top:30px;position:relative;}.b-input-with-label_simple .form-control{background-color:",";}.b-input-with-label_simple label{background:transparent;line-height:unset;display:flex;padding:0px;position:absolute;margin-top:-19px;margin-left:1px;height:unset;text-transform:uppercase;font-size:",";}.errorField{border:none;}"],e=>{let{theme:t}=e;return t.palette.grey[200]},y.a.textMedium),x=b.d.div.withConfig({displayName:"styles__DeleteTutorial",componentId:"cok96p-2"})(["display:flex;flex-direction:column;align-self:center;margin-top:auto;margin-bottom:30px;padding:0 15px;max-width:361px;width:100%;"]);Object(b.d)(a.a.CheckBox).withConfig({displayName:"styles__CheckBox",componentId:"cok96p-3"})(["align-self:center;margin-bottom:8px;"]);var w=n(153);const C=Object(o.b)(e=>{let{pageSummary:t}=e;return{pageSummary:t}});class S extends i.Component{constructor(e){super(e),this.onPriceBlur=e=>{this.setState({price:e.target.value})},this.onPaidChangeToggle=()=>{let e=null;this.state.is_priced&&(e=0),this.setState({is_priced:!this.state.is_priced,price:e,version:this.refsArray.version.getValue(),feedback_email:this.refsArray.feedback_email.getValue(),second_feedback_email:this.refsArray.second_feedback_email.getValue()})},this.setRefsCol=e=>t=>{t&&e&&(this.refsArray[e]=t)},this.deleteArticle=e=>{e&&e.preventDefault(),Object(v.c)(v.b.TUTORIAL,v.a.TUTORIAL_DELETE),this.props.dispatch(Object(d.a)()),this.props.dispatch(Object(p.deleteSingleArticle)(this.props.params.page_id,this.props.history))},this.saveSettings=e=>{e.preventDefault();let t=null;this.state.is_priced&&(t=this.refsArray.price?this.refsArray.price.getValue():0,null!=t&&""!==t||(t="0"),this.setState({price:t}));const n=t,i=this.refsArray.version.getValue(),{is_priced:r}=this.state,o=this.refsArray.feedback_email.getValue().trim(),a=this.refsArray.second_feedback_email.getValue().trim(),s={feedback_email:!!o&&!Object(g.a)("email",o),second_feedback_email:!!a&&!Object(g.a)("email",a)};this.setState({feedback_email:o,second_feedback_email:a,version:i,errors:s}),s.feedback_email||s.second_feedback_email||(this.props.dispatch(u.handlePageSummaryChange({price:n,version:i,is_priced:r,feedback_email:o,feedback_email_2:a,dirty:!0})),this.props.dispatch(Object(d.a)()))},this.state={is_priced:e.pageSummary.get("is_priced"),price:e.pageSummary.get("price"),version:e.pageSummary.get("version"),feedback_email:e.pageSummary.get("feedback_email"),second_feedback_email:e.pageSummary.get("feedback_email_2"),errors:{}},this.refsArray={}}getPaidField(){return this.props.params.collection_id?null:r.a.createElement(f.a,{isChecked:this.state.is_priced||!1,onChange:this.onPaidChangeToggle,checkedText:"PAID",unCheckedText:"FREE"})}getFields(){return[this.state.is_priced&&!this.props.params.collection_id&&{name:"price",type:"number"},{name:"feedback email",type:"text",validator:g.a},{name:"second feedback email",type:"text"},{name:"version",type:"text"}].filter(Boolean)}render(){const e=this.getPaidField(),t=this.getFields().map((e,t)=>{const n=e.name.replace(/ /g,"_"),i=this.state[n];if("price"===e.name){let o="";return this.state.is_priced&&(o=i||"0"),r.a.createElement(l.a,{key:t,label:e.name,name:"price",ref:this.setRefsCol(n),minPrice:"0",maxPrice:"999",disabled:!this.state.is_priced,onBlur:this.onPriceBlur,value:o})}return r.a.createElement(s.a,{key:t,label:e.name,name:e.name,ref:this.setRefsCol(n),value:i,placeholder:e.name,errorField:this.state.errors[n]})}),n=!this.props.params.collection_id;return r.a.createElement(a.e,null,r.a.createElement(c.a,{title:"SETTINGS"}),r.a.createElement(_,{onSubmit:this.saveSettings},e,t,r.a.createElement(a.a.SubmitButton,{onClick:this.saveSettings},"DONE")),n&&r.a.createElement(x,null,r.a.createElement(m.a,{popoverTitle:"Permanently delete this Article?",handleConfirm:this.deleteArticle,hideOnConfirm:!0,danger:!0},r.a.createElement(h.a,{danger:!0,small:!0,key:"delete article button"}," ","Delete Article"," "))))}}var E=Object(w.f)(C(S)),k=n(281);t.default=e=>{let{closeIcon:t,params:n}=e;return r.a.createElement(k.a,null,t,r.a.createElement(E,{params:n}))}},1131:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(1658),a=n(818),s=n(282),l=n(332),c=n(1),h=n(5),d=n(12);const u=c.d.div.withConfig({displayName:"styles__MarkdownHelpModalStyled",componentId:"sc-67d5t6-0"})(["text-align:left !important;width:100%;height:auto !important;display:block;justify-content:normal !important;",""],e=>e.info&&Object(c.c)(["margin-left:20px;"])),p=c.d.tbody.withConfig({displayName:"styles__Tbody",componentId:"sc-67d5t6-1"})(["display:block;overflow:visible;overflow:scroll;width:100%;max-height:500px;max-width:100%;"]),f=c.d.tr.withConfig({displayName:"styles__Tr",componentId:"sc-67d5t6-2"})(["display:table;table-layout:fixed;width:100%;border-bottom:1px solid ",";"],e=>{let{theme:t}=e;return t.palette.grey[300]}),m=c.d.td.withConfig({displayName:"styles__Td",componentId:"sc-67d5t6-3"})(["text-align:left !important;vertical-align:middle !important;padding:10px 0px 10px 20px !important;overflow-wrap:break-word;.markdownViewer{font-size:",";}.markdownViewer p{margin-top:0px;margin-bottom:0px;}.markdownViewer blockquote{margin:0 0 0px;}.markdownViewer h1,h2{margin:0px !important;padding-bottom:0px !important;}.markdownViewer ul{margin-top:0;margin-bottom:0px;padding-inline-start:16px;}.markdownViewer ol{margin-top:0;margin-bottom:0px;padding-inline-start:16px;}@media (max-width:","){.markdownViewer h1{font-size:",";}}div > div > p > img{height:40px;}"],d.a.textLarge,h.f.pixels,d.a.h2),g=Object(c.d)(m).withConfig({displayName:"styles__TdPre",componentId:"sc-67d5t6-4"})(["white-space:pre;"]),v=(c.d.a.withConfig({displayName:"styles__AnchorTag",componentId:"sc-67d5t6-5"})(["color:blue;"]),["*Italic*","**Bold**","# Heading 1","## Heading 2","[Link](http://educative.io)","![Educative Logo](https://www.educative.io/static/imgs/logos/MainLogoV2.png)","> Blockquote","* List\n* List\n* List","1. List\n2. List\n3. List","Horizontal Rule\n___","`Inline code` with backticks","```\n// code block\n```","#key# Keyword: Meaning #key#","$2^{2x}$","$F_{2x}$","$O(nlog \\space n)$","$\\frac{x}{y}$","$\\sum_{k=1}^n$"]);t.default=e=>{let{closeIcon:t}=e;return r.a.createElement(u,null,t,r.a.createElement(l.a,{title:"Markdown Help",roundEdges:!0}),r.a.createElement(o.a,{bordered:!0,roundEdges:!0},r.a.createElement("thead",null,r.a.createElement(f,null,r.a.createElement("th",{style:{padding:"15px 0px"}},"Type this: "),r.a.createElement("th",{style:{padding:"15px 0px"}},"To get this: "))),r.a.createElement(p,null,v.map((e,t)=>r.a.createElement(f,{key:t},-1!==e.indexOf("\n")?r.a.createElement(g,null,e):r.a.createElement(m,{index:!0},e),r.a.createElement(m,null,r.a.createElement(a.a,{mdHtml:Object(s.b)(e)})))))))}},1132:function(e,t,n){"use strict";n.r(t);var i=n(14),r=n(0),o=n.n(r),a=n(37),s=n(929),l=n.n(s),c=n(30),h=n(247),d=n(28),u=n(1527),p=n(1947),f=n(140),m=n(218),g=n(282),v=n(332),b=n(1),y=n(18),_=n(58);const x={MarkdownLimit:b.d.span.withConfig({displayName:"styles__MarkdownLimit",componentId:"sc-2e5bah-0"})(["color:",";display:block;text-align:right;width:90%;"],e=>{let{theme:t}=e;return t.palette.grey[700]}),MarkdownPaste:Object(b.d)(_.a).withConfig({displayName:"styles__MarkdownPaste",componentId:"sc-2e5bah-1"})(["margin:15px auto;display:block;width:200px;margin-top:0px;"]),MarkdownTextarea:b.d.textarea.withConfig({displayName:"styles__MarkdownTextarea",componentId:"sc-2e5bah-2"})(["display:block;margin:10px auto;width:80%;border-radius:",";height:200px;border-color:",";max-width:600px;min-width:150px;max-height:450px;min-height:30px;"],y.v,e=>{let{theme:t}=e;return t.palette.grey[300]})};const w=Object(c.b)(e=>{let{executionMetadata:t}=e;return{executionMetadata:t}});class C extends o.a.Component{constructor(){super(...arguments),this.state={text:""},this.onTextChange=e=>{this.setState({text:e.target.value})},this.pasteMarkdown=()=>{const{params:e,dispatch:t}=this.props,n=this;let i=e.index;const{text:r}=this.state,o=r.split("\n"),a=function(e){try{const t=(new l.a).use(e=>{e.renderer.render=t=>{e.markdownBlocks=t.filter(e=>{var t;return null===(t=e.map)||void 0===t?void 0:t.length})}});return t.render(e),t.markdownBlocks.map(e=>({type:e.tag,startLine:e.map[0],endLine:e.map[1],content:e.content,info:e.info}))}catch(t){return console.error(t),""}}(r);let s="edit",c=0,h=[];function u(){const e=s;return"edit"===s&&(s="view"),e}function p(){h.length&&(n.addTextBlock(h.join("\n"),u(),i++),h=[])}a.forEach(e=>{switch(e.type){case"code":p();{const t=!e.content.length||"\n"!==e.content.slice(-1)&&"\r"!==e.content.slice(-1)?e.content:e.content.slice(0,-1);n.addCodeBlock(t,e.info,u(),i++)}break;default:c<=e.startLine&&(h=new Array(e.startLine-c).fill(""),h=h.concat(o.slice(e.startLine,e.endLine)))}e.endLine>c&&(c=e.endLine)}),h=h.concat(o.slice(c)),p(),t(Object(d.a)())}}addTextBlock(e,t,n){const{dispatch:r}=this.props,o=Object(i.a)({},u.default.getComponentDefault(),{text:e,mdHtml:Object(g.b)(e)});r(Object(h.addComponent)({data:{type:"MarkdownEditor",mode:t,content:a.fromJS(o)},parentHash:"0",index:n}))}addCodeBlock(e,t,n,r){var o;const{dispatch:s,executionMetadata:l}=this.props,c=null===l||void 0===l?void 0:null===(o=l.data)||void 0===o?void 0:o.languages,d=t&&t in c?t:m.d,u=Object(i.a)({},p.a,{content:e,language:d});s(Object(h.addComponent)({data:{type:"Code",mode:n,content:a.fromJS(u)},parentHash:"0",index:r}))}render(){const{text:e}=this.state,{executionMetadata:t}=this.props;return o.a.createElement("div",null,this.props.closeIcon,o.a.createElement(v.a,{roundEdges:!0,title:"Paste the markdown text:"}),o.a.createElement("div",{className:"b-modal__body"},o.a.createElement(x.MarkdownTextarea,{onChange:this.onTextChange,maxLength:1e4}),o.a.createElement(x.MarkdownLimit,null," ","character count: ".concat(e.length,"/").concat(1e4)," ")),t.loaded?o.a.createElement(x.MarkdownPaste,{purple:!0,secondary:!0,onClick:this.pasteMarkdown},"OK"):o.a.createElement(f.a,{size:10,enlarge:!0}))}}t.default=w(C)},1133:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(192),a=n(15),s=n(20);var l=(e,t,n)=>Object(s.a)({url:"/api/edpresso/editor/recommend-contributor",type:"PUT",data:{email:t,full_name:e,interests:n}}),c=n(2292);n.d(t,"default",(function(){return h}));class h extends i.Component{constructor(){super(...arguments),this.state={submitted:!1},this.getContributorFormFields=()=>[{name:"full_name",type:"text",placeholder:"Name*"},{name:"email",type:"email",placeholder:"Email*"},{name:"interests",type:"textarea",rows:7,placeholder:"Areas of interest for the recommended person (split multiple interests in newlines)",help:"We\u2019ll reach out to the recommended person!",optional:!0,validate:e=>e.length<2||e.length>256?{validation:!1,warning:"Field must be between 2 and 256 characters long."}:{validation:!0}}],this.renderRecommendText=()=>{const{submitted:e}=this.state;return e?r.a.createElement(o.a.Text,null,"Thanks for recommending a fellow Edpresso Community Contributor. We'll reach out to them."):r.a.createElement(o.a.Text,null,"Thanks for being part of the Edpresso Community. Please recommend another contributor below, and we'll reach out to them.")},this.onSubmit=e=>{l(e.full_name,e.email,e.interests),Object(a.c)(a.b.SHOT,a.a.RECOMMEND_CONTRIBUTOR),this.setState({submitted:!0})}}componentDidMount(){Object(a.c)(a.b.SHOT,a.a.RECOMMEND_CONTRIBUTOR_MODAL_OPENED)}render(){const{closeIcon:e}=this.props,{submitted:t}=this.state,n=t?[]:this.getContributorFormFields();return r.a.createElement(c.a,{formControlId:"contributorform",title:"Recommend a fellow contributor",formFields:n,closeIcon:e,beforeForm:this.renderRecommendText(),submitText:"RECOMMEND",onSubmit:this.onSubmit,showSubmit:!t})}}},1139:function(e,t,n){"use strict";n.r(t);var i=n(14),r=n(0),o=n.n(r),a=n(116),s=n(182),l=n.n(s),c=n(30),h=n(174),d=n(2166),u=n(940),p=n(574),f=n(140),m=n(85),g=n(941),v=n(141),b=n(15);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var x=o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("ellipse",{fill:"#BFAC92",cx:507,cy:502.5,rx:507,ry:20.5}),o.a.createElement("path",{d:"M506.975 0C228.302 0 2.15 224.834 0 503c225.111-9.333 394.111-14 507-14 112.433 0 281.416 4.667 506.95 14C1011.798 224.834 785.647 0 506.974 0z",fill:"#2F2E41",fillRule:"nonzero"}),o.a.createElement("circle",{fill:"#F2F2F2",fillRule:"nonzero",cx:480.788,cy:52.544,r:5}),o.a.createElement("circle",{fill:"#F2F2F2",fillRule:"nonzero",cx:323.788,cy:217.544,r:2}),o.a.createElement("circle",{fill:"#F2F2F2",fillRule:"nonzero",cx:618.788,cy:311.544,r:2}),o.a.createElement("circle",{fill:"#F2F2F2",fillRule:"nonzero",cx:97.788,cy:286.544,r:2}),o.a.createElement("circle",{fill:"#F2F2F2",fillRule:"nonzero",cx:877.788,cy:215.544,r:2}),o.a.createElement("circle",{fill:"#F2F2F2",fillRule:"nonzero",cx:235.788,cy:236.544,r:2}),o.a.createElement("circle",{fill:"#F2F2F2",fillRule:"nonzero",cx:563.788,cy:196.544,r:2}),o.a.createElement("circle",{fill:"#F2F2F2",fillRule:"nonzero",cx:629.788,cy:52.544,r:2}),o.a.createElement("path",{fill:"#F2F2F2",fillRule:"nonzero",d:"M211.788 288.544h2v1h-2zM270.788 135.544h2v1h-2zM414.788 249.544h2v1h-2zM796.788 293.544h2v1h-2zM677.788 140.544h2v1h-2z"}),o.a.createElement("path",{fill:"#3F3D56",fillRule:"nonzero",d:"M225.089 363.68h3.519v139.003h-3.519z"}),o.a.createElement("path",{d:"M261.085 339.394c.224 48.606-33.972 88.168-33.972 88.168s-34.56-39.245-34.785-87.85c-.224-48.607 33.973-88.168 33.973-88.168s34.56 39.244 34.784 87.85zM180.61 322.472h4.562v180.211h-4.562z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M227.277 303.438c.29 63.015-44.044 114.305-44.044 114.305s-44.806-50.879-45.096-113.894c-.29-63.016 44.044-114.305 44.044-114.305s44.806 50.879 45.096 113.894z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{fill:"#8D7047",fillRule:"nonzero",d:"M712.089 363.68h3.519v139.003h-3.519z"}),o.a.createElement("path",{d:"M748.085 381.394c.224 48.606-33.972 88.168-33.972 88.168s-34.56-39.245-34.785-87.85c-.224-48.607 33.973-88.168 33.973-88.168s34.56 39.244 34.784 87.85zM141.089 363.68h3.519v139.003h-3.519z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M177.085 339.394c.224 48.606-33.972 88.168-33.972 88.168s-34.56-39.245-34.785-87.85c-.224-48.607 33.973-88.168 33.973-88.168s34.56 39.244 34.784 87.85zM451.089 363.68h3.519v139.003h-3.519z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M487.085 339.394c.224 48.606-33.972 88.168-33.972 88.168s-34.56-39.245-34.785-87.85c-.224-48.607 33.973-88.168 33.973-88.168s34.56 39.244 34.784 87.85zM406.61 322.472h4.562v180.211h-4.562z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M453.277 303.438c.29 63.015-44.044 114.305-44.044 114.305s-44.806-50.879-45.096-113.894c-.29-63.016 44.044-114.305 44.044-114.305s44.806 50.879 45.096 113.894zM367.089 363.68h3.519v139.003h-3.519z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M403.085 339.394c.224 48.606-33.972 88.168-33.972 88.168s-34.56-39.245-34.785-87.85c-.224-48.607 33.973-88.168 33.973-88.168s34.56 39.244 34.784 87.85z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M738.362 428.413l-58.804-54.068c-.158 2.43-.241 4.885-.23 7.366.224 48.606 34.785 87.85 34.785 87.85a162.815 162.815 0 0024.249-41.148z",fill:"#8D7047",fillRule:"nonzero"}),o.a.createElement("path",{d:"M300.644 490.284c2.014 7.448 8.915 12.06 8.915 12.06s3.635-7.462 1.62-14.91c-2.015-7.448-8.916-12.06-8.916-12.06s-3.634 7.462-1.62 14.91z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M303.604 488.683c5.529 5.382 6.204 13.655 6.204 13.655s-8.288-.452-13.817-5.834c-5.528-5.382-6.203-13.655-6.203-13.655s8.288.453 13.816 5.834z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M584.644 490.284c2.014 7.448 8.915 12.06 8.915 12.06s3.635-7.462 1.62-14.91c-2.015-7.448-8.916-12.06-8.916-12.06s-3.634 7.462-1.62 14.91z",fill:"#8D7047",fillRule:"nonzero"}),o.a.createElement("path",{d:"M587.604 488.683c5.529 5.382 6.204 13.655 6.204 13.655s-8.288-.452-13.817-5.834c-5.528-5.382-6.203-13.655-6.203-13.655s8.288.453 13.816 5.834z",fill:"#8D7047",fillRule:"nonzero"}),o.a.createElement("path",{d:"M76.644 490.284c2.014 7.448 8.915 12.06 8.915 12.06s3.635-7.462 1.62-14.91c-2.015-7.448-8.916-12.06-8.916-12.06s-3.634 7.462-1.62 14.91z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M79.604 488.683c5.529 5.382 6.204 13.655 6.204 13.655s-8.288-.452-13.817-5.834c-5.528-5.382-6.203-13.655-6.203-13.655s8.288.453 13.816 5.834z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M387.333 220.707l96.51 145.662a113.626 113.626 0 003.242-26.975c-.109-23.702-8.383-45.175-16.833-60.96l-4.464 1.11 4.199-1.602a155.072 155.072 0 00-17.686-26.398s-2.462 2.85-6.06 7.955c-12.679-41.129-38.06-69.955-38.06-69.955a197.509 197.509 0 00-20.848 31.163z",fill:"#8D7047",fillRule:"nonzero"}),o.a.createElement("path",{d:"M942.617 496.789a2.878 2.878 0 100-5.755h-23.66a6.434 6.434 0 01-2.877 8.632 2.878 2.878 0 002.878 2.878h23.66a2.878 2.878 0 100-5.755z",fill:"#F2F2F2",fillRule:"nonzero",opacity:.1}),o.a.createElement("path",{d:"M886.383 490.851c.405 15.693-9.088 11.693-20.595 11.693-11.508 0-21 2-21.078-11.693-.038-6.742 9.397-8.21 20.905-8.21 11.508 0 20.595 1.47 20.768 8.21z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M913.305 497.053a1.764 1.764 0 00-.596-.192 29.826 29.826 0 01-3.1-.663 6.53 6.53 0 01-2.743-1.526c-.29-.34-.614-.65-.966-.925a1.162 1.162 0 00-1.26-.09.83.83 0 00-.111.105l-.43-.283c-.76-.501-1.526-.997-2.295-1.487l-.03-.02c.021-.12.022-.244.001-.365a1.766 1.766 0 00-.765-.95c.992-.01 1.99-.1 2.975-.204a3.57 3.57 0 002.526-.988.686.686 0 00.176-.408c.002-.31-.319-.514-.606-.631a6.1 6.1 0 00-1.187-.35 6.495 6.495 0 01-.842-.176 4.242 4.242 0 01-.708-.335l-1.466-.807a2.238 2.238 0 01-.568-.394c-.249-.263-.359-.636-.612-.894-.234-.239-1.18-.553-1.315-.064-.053.193.15.406.175.622a9.908 9.908 0 00-1.014-.557c.018-.043.044-.083.06-.127a13.073 13.073 0 01-3.76-4.868c.146.004.291.013.436.012.248.023.496-.038.705-.172a.77.77 0 00.25-.625 2.117 2.117 0 00-.17-.673 5.151 5.151 0 00-.973-1.746 5.841 5.841 0 00-1.426-1.013l-.084-.048c-.036-.108-.068-.217-.111-.322a17.172 17.172 0 00-1.07-1.903 12.452 12.452 0 01-1.222-3.257 4.196 4.196 0 00-.772-1.915c-.764-.842-2.072-.82-3.2-.693-.645.072-1.285.17-1.926.269-.006-.016-.006-.034-.013-.05a1.31 1.31 0 01-.147-.485c.016-.14.046-.276.09-.409a1.003 1.003 0 00-.28-.921l-.079-.082c.07-.167.135-.334.194-.503a.604.604 0 00.141-.456c.116-.41.178-.833.183-1.26a13.788 13.788 0 01-.101-2.84 1.59 1.59 0 00-.25-.657c-.024-.032-.063-.046-.09-.074.195-.258.42-.492.672-.697.492-.38 1.02-.714 1.574-.997.133-.074.318-.126.445-.21.195.033.391.053.589.06a4.489 4.489 0 004.207-6.123c.411-.1.764-.36.98-.723.22-.382.351-.807.385-1.246.07-.34.003-.695-.188-.985a2.201 2.201 0 00-.573-.4 2.195 2.195 0 01-.713-.723c-.127-.208-.217-.436-.33-.652a2.42 2.42 0 00-2.092-1.386c-.42.053-.836.136-1.244.248-1.4.245-2.922-.496-4.22.082-.32.156-.617.354-.884.589-.365.302-.717.62-1.054.953-.293.25-.515.572-.643.935-.176.663.244 1.403-.023 2.035-.092.18-.2.352-.326.511-.295.432.025 2.12-.007 2.641a.979.979 0 00.18.724.61.61 0 00.132.1 58.574 58.574 0 00-6.38 2.711 13.67 13.67 0 00-5.919 5.53c-.351.685-.619 1.41-.937 2.112-.424.936-.937 1.828-1.45 2.719-.624 1.086-1.25 2.175-1.973 3.199a18.335 18.335 0 00-1.142 1.693c-.01.085-.012.171-.008.257a.46.46 0 01-.023.24.372.372 0 01-.273.157l-.017.044c-.164.526-.299 1.06-.406 1.601-.213.86-.553 1.689-.684 2.564a.682.682 0 00.665 1.062c.75.333 1.471.724 2.19 1.117-.01.053-.027.104-.033.158a2.952 2.952 0 001.564 2.733 8.05 8.05 0 003.193.868c.431.052.865.076 1.297.12a8.82 8.82 0 001.999.81c.152.044.31.069.468.073.429-.029.822-.25 1.07-.602a73.86 73.86 0 0011.153-.228 4.08 4.08 0 013.01.467c.805.653.966 1.811 1.564 2.658.434.522.921.998 1.454 1.419a21.67 21.67 0 012.793 3.67 8.24 8.24 0 003.364 3.106c.25-.4.614-.715 1.045-.908.111-.066.217-.144.327-.215.147.239.318.462.51.666.144.155.286.318.42.487-.004 0-.008-.002-.012-.001-.195.03-.26.274-.282.47l-.257 2.249a.837.837 0 00.03.444.786.786 0 00.404.336 6.091 6.091 0 002.219.585c.387.027.777.016 1.164.05.634.082 1.262.207 1.88.375 1.68.383 3.407.518 5.126.402a3.261 3.261 0 001.04-.197c.395-.19.745-.46 1.027-.795.358-.34.624-.766.772-1.237a1.201 1.201 0 00-.443-1.305z",fill:"#3F3D56",fillRule:"nonzero"}),o.a.createElement("path",{d:"M885.64 446.819c.167-.03.33-.075.494-.117a3.605 3.605 0 00-1.565.152c.357.032.717.02 1.072-.035zM888.976 447.957c.114.216.204.444.33.653.179.293.423.54.714.722.211.102.404.237.573.4.191.29.259.645.188.985a2.945 2.945 0 01-.385 1.246c-.216.362-.57.623-.98.723a4.409 4.409 0 01-4.796 6.064c-.127.083-.312.135-.445.209-.554.283-1.082.617-1.574.997-.251.205-.477.439-.671.697.026.028.065.042.089.074.131.198.216.422.25.657-.065.948-.03 1.9.1 2.84-.004.427-.066.85-.182 1.26a.604.604 0 01-.14.456c-.06.169-.125.336-.195.503.027.028.053.057.08.082.244.24.35.587.28.921-.045.133-.075.27-.09.409.016.17.066.335.146.485.007.016.007.034.013.05.64-.1 1.281-.196 1.925-.269.317-.037.636-.058.956-.063a.66.66 0 01-.04-.203c.015-.14.045-.276.09-.409a1.003 1.003 0 00-.28-.921c-.027-.026-.053-.054-.08-.082.07-.167.135-.334.194-.503a.604.604 0 00.141-.456c.116-.41.178-.833.183-1.26a13.788 13.788 0 01-.101-2.84 1.59 1.59 0 00-.25-.657c-.024-.032-.063-.046-.09-.074.195-.258.42-.492.672-.697.492-.38 1.02-.714 1.574-.997.133-.074.318-.126.445-.21.195.033.391.053.589.06a4.489 4.489 0 004.207-6.123c.41-.1.764-.36.98-.723.22-.382.351-.807.385-1.246.07-.34.003-.695-.188-.985a2.201 2.201 0 00-.573-.4 2.195 2.195 0 01-.713-.723c-.127-.208-.217-.436-.331-.652a2.42 2.42 0 00-2.091-1.386c-.42.053-.836.136-1.244.248-.23.036-.461.052-.693.045.436.264.791.642 1.028 1.093zM913.305 497.053a1.764 1.764 0 00-.596-.192 29.826 29.826 0 01-3.1-.663 6.53 6.53 0 01-2.743-1.526c-.29-.34-.614-.65-.966-.925a1.162 1.162 0 00-1.26-.09.83.83 0 00-.111.105l-.43-.283c-.76-.501-1.526-.997-2.295-1.487l-.03-.02c.021-.12.022-.244.001-.365a1.766 1.766 0 00-.765-.95c.992-.01 1.99-.1 2.975-.204a3.57 3.57 0 002.526-.988.686.686 0 00.176-.408c.002-.31-.319-.514-.606-.631a6.1 6.1 0 00-1.187-.35 6.495 6.495 0 01-.842-.176 4.242 4.242 0 01-.708-.335l-1.466-.807a2.238 2.238 0 01-.568-.394c-.249-.263-.359-.636-.612-.894-.234-.239-1.18-.553-1.315-.064-.053.193.15.406.175.622a9.908 9.908 0 00-1.014-.557c.018-.043.044-.083.06-.127a13.073 13.073 0 01-3.76-4.868c.146.004.291.013.436.012.248.023.496-.038.705-.172a.77.77 0 00.25-.625 2.117 2.117 0 00-.17-.673 5.151 5.151 0 00-.973-1.746 5.841 5.841 0 00-1.426-1.013l-.084-.048c-.036-.108-.068-.217-.111-.322a17.172 17.172 0 00-1.07-1.903 12.452 12.452 0 01-1.222-3.257 4.196 4.196 0 00-.772-1.915c-.764-.842-2.072-.82-3.2-.693-.253.028-.503.07-.755.105.365.107.695.31.955.588.413.564.678 1.222.772 1.915a12.452 12.452 0 001.222 3.257c.397.61.754 1.246 1.07 1.903.043.105.075.214.111.322l.084.048a5.841 5.841 0 011.426 1.013c.436.513.767 1.106.974 1.746.093.214.15.441.168.673a.77.77 0 01-.25.625 1.115 1.115 0 01-.704.172c-.145 0-.29-.008-.436-.012a13.073 13.073 0 003.76 4.868c-.016.044-.042.084-.06.127.348.166.687.352 1.014.557-.024-.216-.228-.43-.175-.622.135-.49 1.08-.175 1.315.064.253.258.363.63.613.894.167.16.358.293.567.394l1.466.807c.225.133.462.245.708.335.277.077.558.136.842.175a6.1 6.1 0 011.187.35c.287.118.608.321.606.632a.686.686 0 01-.176.408 3.57 3.57 0 01-2.526.988c-.986.104-1.983.194-2.975.204.36.216.631.552.765.95.02.121.02.245-.002.366l.031.02a184.973 184.973 0 012.725 1.77.83.83 0 01.111-.107c.401-.22.894-.185 1.26.09.352.276.676.586.966.926a6.53 6.53 0 002.743 1.526c1.021.276 2.056.497 3.1.663.208.028.41.093.596.192.407.299.584.82.443 1.305a2.907 2.907 0 01-.772 1.237 3.092 3.092 0 01-1.027.795c-.244.092-.5.149-.76.167.904.08 1.814.09 2.72.03a3.261 3.261 0 001.04-.197c.395-.19.745-.46 1.027-.795.358-.34.624-.766.772-1.237a1.201 1.201 0 00-.443-1.305zM896.669 494.55c.05.044.098.091.149.135-.037-.054-.078-.105-.111-.16l-.038.024zM941.339 486.238c0 10.595-4.724 7.673-10.551 7.673-5.828 0-10.551 2.922-10.551-7.673s10.55-30.694 10.55-30.694 10.552 20.099 10.552 30.694z",fill:"#FF6584",fillRule:"nonzero"}),o.a.createElement("path",{d:"M935.583 490.291c0 4.816-2.147 3.488-4.795 3.488-2.65 0-4.796 1.328-4.796-3.488 0-4.815 4.796-13.951 4.796-13.951s4.795 9.136 4.795 13.951z",fill:"#000",fillRule:"nonzero",opacity:.1}),o.a.createElement("path",{d:"M944.013 457.928s2.192-2.28 2.148-4.515M921.55 438.936s-.916-3.027-2.887-4.083M899.55 397.936s-.916-3.027-2.887-4.083M925.55 452.936s-.916-3.027-2.887-4.083M922.55 403.936s-.916-3.027-2.887-4.083M916.55 421.936s-.916-3.027-2.887-4.083M942.013 488.928s2.192-2.28 2.148-4.515M946.013 471.928s2.192-2.28 2.148-4.515M894.629 477.07l24-8 .316.95-24 8z",fill:"#FF6584",fillRule:"nonzero"}),o.a.createElement("path",{d:"M916.887 470.023c.9 3.52-.612 2.68-1.991 2.965-1.38.286-1.108 1.556-3.005-1.93-1.311-2.412.612-2.68 1.991-2.966 1.38-.285 2.39-.473 3.005 1.931z",fill:"#FF6584",fillRule:"nonzero"}),o.a.createElement("path",{fill:"#F2F2F2",fillRule:"nonzero",opacity:.1,d:"M574.728 277.957l-.001-.001-21.819-20.062-.196.049-8.737-7.943-.422-.123.455-.173-92.919-85.433-89.736-82.509-45.725 24.254-3.74.828 54.797 82.7 207.383 313h244.92z"}),o.a.createElement("circle",{fill:"#F2F2F2",fillRule:"nonzero",cx:334.788,cy:92.544,r:27}));const w=e=>{let{svgRef:t,title:n}=e,i=_(e,["svgRef","title"]);return o.a.createElement("svg",y({width:550,height:310,viewBox:"0 0 1014 523",ref:t},i),n?o.a.createElement("title",null,n):null,x)},C=o.a.forwardRef((e,t)=>o.a.createElement(w,y({svgRef:t},e)));n.p;var S=n(2187),E=n(167),k=n(543),O=n(77),T=n(153);const A=Object(c.b)(e=>({searchString:e.search.searchString}));class I extends r.Component{constructor(){super(...arguments),this.state={loading:!1,searchData:null,filterValue:null},this.xhr=null,this.content=null,this.onSuccess=(e,t)=>{const n=JSON.parse(e),r=t?Object(i.a)({},n,{edpresso_shots:this.state.searchData.edpresso_shots.concat(n.edpresso_shots)}):n;this.setState({searchData:r,loading:!1})},this.loadScroll=()=>{var e,t;const{loading:n}=this.state,i=null===(e=this.content)||void 0===e?void 0:null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.bottom;!n&&i&&i<=window.innerHeight&&this.loadMore()},this.loadMore=()=>{const{more:e,cursor:t,shots:n,searchString:i,getShots:r,filterType:o}=this.props,{searchData:a}=this.state;e&&!a?(this.setState({loading:!0}),r(t,n,o)):(null===a||void 0===a?void 0:a.cursor)&&(this.setState({loading:!0}),this.searchShots(i,a.cursor,o))},this.onSubmitSearch=()=>{const{searchString:e,filterType:t}=this.props;this.searchShots(e,"",t)},this.onCreateShot=()=>{Object(b.c)(b.b.CREATE,b.a.CREATE_NEW_SHOT),Object(m.m)().then(e=>{const{shot_id:t}=JSON.parse(e);this.props.history.push("/shoteditor/".concat(t))})},this.onFilterShots=e=>{const t=e.target.value;this.setState({filterValue:t})},this.filterShots=(e,t)=>{switch(e){case"new":return t.filter(e=>!e.url);case"published":return t.filter(e=>e.url);case"external-new":return t.filter(e=>-1===S.a.indexOf(e.creatorId)&&!e.url);case"external-published":return t.filter(e=>-1===S.a.indexOf(e.creatorId)&&e.url);default:return t}},this.setContentRef=e=>{this.content=e},this.renderCreateNewShotBtn=()=>o.a.createElement(d.a,{type:"shot",onClick:this.onCreateShot},"CREATE NEW SHOT"),this.renderDashboardContent=(e,t,n,i)=>o.a.createElement("div",{ref:this.setContentRef},o.a.createElement(p.a,{shots:e,createShot:this.onCreateShot,loading:t},i),n&&o.a.createElement(f.a,{isShot:!0,enlarge:!0})),this.renderNoResult=(e,t)=>o.a.createElement(E.i,null,o.a.createElement(E.f,null,o.a.createElement(C,null)),o.a.createElement(E.j,null,o.a.createElement(E.k,null,"There are no shots for ",o.a.createElement("strong",null,e),"!"),t))}componentDidMount(){var e=this;this.searchShots=l()((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.xhr&&e.xhr.abort(),t?e.xhr=Object(g.a)(n,t,"",e.onSuccess,i):e.setState({searchData:null})}),200),this.isMobile||window.addEventListener("scroll",this.loadScroll,!0)}shouldComponentUpdate(e){return this.props.searchString===e.searchString||(this.searchShots(e.searchString,"",this.props.filterType),!1)}componentDidUpdate(e){const{shots:t,userInfo:n,history:i}=this.props;e.shots!==t&&this.setState({loading:!1});const r=n.can_publish_edpresso_shot,o=n.can_edit_edpresso_shot;!n.user_id||r||o||i.push("/learn")}componentWillUnmount(){window.removeEventListener("scroll",this.loadScroll,!0)}renderPageStatusControl(){const{children:e}=this.props;return 1===o.a.Children.count(e)&&e.type===h.a?e:null}render(){const{searchData:e,loading:t,filterValue:n}=this.state,{searchString:i,userInfo:r,loading:s}=this.props,l=e?e.edpresso_shots:this.props.shots,c=r.can_publish_edpresso_shot,h=this.filterShots(n,l),d=this.renderPageStatusControl(),p=this.renderCreateNewShotBtn();return this.props.loaded?r.user_id?o.a.createElement(O.j,null,o.a.createElement(a.a,{title:v.h,meta:[{property:"og:title",content:v.h}]}),d,o.a.createElement(u.a,{submitSearch:this.onSubmitSearch,contentLoading:s,filterShots:this.onFilterShots,filter:!0,canPublishShots:c,match:this.props.match}),h.length<1&&i.length>0&&!s?this.renderNoResult(i,p):this.renderDashboardContent(h,s,t,p)):(this.props.history.push("/login"),null):null}}t.default=Object(k.a)(!1,!0,!1)(Object(T.f)(A(I)))},1140:function(e,t,n){"use strict";n.r(t);var i=n(14),r=n(0),o=n.n(r),a=n(182),s=n.n(a),l=n(116),c=n(30),h=n(174),d=n(233),u=n(343),p=n(2166),f=n(157),m=n(85),g=n(20);var v=(e,t,n,i,r)=>{Object(g.a)({url:"/api/".concat("page/editor/all","/").concat(n,"/").concat(e,"?searchString=").concat(encodeURIComponent(t),"&filter_type=").concat(encodeURIComponent(r)),type:"GET"}).then(t=>i(t,e)).catch(e=>console.log(e.responseJSON))},b=n(141),y=n(15),_=n(151),x=n(543),w=n(77),C=n(153);const S={m:5001,blog:5002,enterprise:5003},E=Object(c.b)(e=>({searchString:e.search.searchString}));class k extends r.Component{constructor(){var e;super(...arguments),e=this,this.state={filterValue:null,searchData:null},this.onCreateEditorPage=()=>{var e,t,n;Object(y.c)(y.b.CREATE,y.a.CREATE_NEW_EDITOR_PAGE);const i=null===(e=this.props)||void 0===e?void 0:null===(t=e.match)||void 0===t?void 0:null===(n=t.params)||void 0===n?void 0:n.pageType,r=S[i];Object(m.i)(r).then(e=>{const{page_id:t}=JSON.parse(e);this.props.history.push("/editor-page/".concat(i,"/").concat(t))})},this.onFilterArticles=e=>{var t,n,i;const r=e.target.value,o=null===(t=this.props)||void 0===t?void 0:null===(n=t.match)||void 0===n?void 0:null===(i=n.params)||void 0===i?void 0:i.pageType,a=S[o];this.props.getEditorPages("",[],a,r),this.setState({filterValue:r})},this.searchArticles=function(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.searchPages(t,i,n||"")},this.renderPageStatusControl=()=>{const{children:e}=this.props;return 1===o.a.Children.count(e)&&e.type===h.a?e:null},this.loadMore=()=>{var e,t,n;const{editorPages:i,moreEditorPages:r,editorPagesCursor:o,searchString:a,getEditorPages:s}=this.props,{filterValue:l}=this.state,c=null===(e=this.props)||void 0===e?void 0:null===(t=e.match)||void 0===t?void 0:null===(n=t.params)||void 0===n?void 0:n.pageType,h=S[c];!this.state.searchData&&r?(s(o,i,h,l),this.props.setCompletion(!0)):this.state.searchData&&this.state.searchData.cursor&&this.searchArticles(a,l,this.state.searchData.cursor)},this.onSubmitSearch=()=>{const{searchString:e}=this.props;this.searchPages(e)},this.onSuccess=(e,t)=>{const n=JSON.parse(e),r=t?Object(i.a)({},n,{pages:this.state.searchData.pages.concat(n.pages)}):n;this.setState({searchData:r})}}componentDidMount(){var e=this;this.searchPages=s()((function(t){var n,i,r;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e.xhr&&e.xhr.abort(),!t)return void e.setState({searchData:null});const s=null===(n=e.props)||void 0===n?void 0:null===(i=n.match)||void 0===i?void 0:null===(r=i.params)||void 0===r?void 0:r.pageType,l=S[s];e.xhr=v(o,t,l,e.onSuccess,a)}),200)}shouldComponentUpdate(e,t){return this.props.searchString===e.searchString&&this.state.filterValue===t.filterValue||(this.searchArticles(e.searchString,t.filterValue),!1)}componentDidUpdate(){const{userInfo:e,history:t}=this.props;Object.keys(e).length&&!(e.can_create_marketing_pages||e.can_create_all_editor_pages||e.can_create_blogs)&&t.push("/learn")}render(){var e,t,n;const{userInfo:i,loading:r,loaded:a}=this.props,{moreEditorPages:s}=this.props,c=null===(e=this.props)||void 0===e?void 0:null===(t=e.match)||void 0===t?void 0:null===(n=t.params)||void 0===n?void 0:n.pageType,{searchData:h}=this.state,m=h?h.pages:this.props.editorPages,g=this.renderPageStatusControl(),v=h?h.cursor:s;return o.a.createElement(w.j,null,o.a.createElement(l.a,{title:b.c,meta:[{property:"og:title",content:b.c}]}),g,o.a.createElement(u.a,{mode:"author",filterArticles:this.onFilterArticles,submitSearch:this.onSubmitSearch,isEditorPage:!0}),o.a.createElement(d.a,{mode:"write",editorPages:m,userInfo:i,createEditorPage:this.onCreateEditorPage,loading:r},o.a.createElement(p.a,{type:"course",id:a?"create_marketing_page_enabled":"create_marketing_page_disabled",onClick:this.onCreateEditorPage},"CREATE NEW"," ","m"===c?"MARKETING PAGE":"blog"===c?"BLOG":"ENTERPRISE BLOG")),v&&!r&&o.a.createElement(_.d,{onClick:this.loadMore},"SHOW MORE"),o.a.createElement(f.a,null))}}k.defaultProps={editorPages:[],userInfo:{}};t.default=Object(x.a)(!1,!1,!1,!0)(Object(C.f)(E(k)))},1527:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(0),r=n.n(i),o=n(50),a=n(182),s=n.n(a),l=n(818),c=n(1868),h=n(1869),d=n(1775);const u=Object(o.a)({resolved:{},chunkName:()=>"author",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(28)]).then(n.bind(null,1862)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 1862}},{fallback:r.a.createElement("div",null,"Loading...")});class p extends r.a.Component{constructor(){super(...arguments),this.state={isSpellCheckEnabled:!0},this.onMarkdownUpdated=s()(e=>{if(!e)return;const{mdText:t,mdHtml:n,cursorPosition:i,reFocus:r=null}=e;void 0!==t&&"edit"===this.props.mode&&this.props.updateContentState({text:t,mdHtml:n,cursorPosition:i},()=>{var e,t,n;r&&(null===(e=this.inEdit)||void 0===e||null===(t=e.textAreaElemRef)||void 0===t||null===(n=t.current)||void 0===n||n.focus())})},50),this.getMDHtml=()=>{let{mdHtml:e}=this.props.content;return!!this.props.config&&this.props.config.inEditor&&(null!==e&&""!==e||(e="".concat('<p style="font-size:16px;color:#ddd"><i>').concat(this.props.placeholder,"</i></p>"))),e},this.saveWidgetsData=e=>{this.props.saveWidgetUserData(e,{compId:this.props.content.comp_id,reset:!1})},this.toggleSpellCheck=()=>{this.setState({isSpellCheckEnabled:!this.state.isSpellCheckEnabled})},this.getViewerBackgroundColor=e=>{let t=null;const n=e.match(/<!--backgroundColor:'([\s\S]*?)'-->/);return n&&(t=n[1]),t}}static getComponentDefault(){return h.a}saveComponent(){const{text:e,mdHtml:t,cursorPosition:n}=this.props.content;this.props.updateContentState({text:e,mdHtml:t,cursorPosition:n})}render(){const{config:e,mode:t,content:n,fullScreen:i,toggleFullScreen:o,fullscreenIconToggle:a,comps:s,index:h,hash:p}=this.props,{text:f,mdHtml:m,cursorPosition:g}=n,v=!!e&&e.inEditor,b=i?d.a:d.g;if("edit"!==t){const{location:e}=this.props,t=Object(c.a)(e),n=this.getViewerBackgroundColor(m);return r.a.createElement(l.a,{highlightsAvailable:t||this.props.highlights,authorId:this.props.authorId,collectionId:this.props.collectionId,saveHighlights:this.saveWidgetsData,default_themes:this.props.default_themes,contentSnapshot:this.props.contentSnapshot,docker:this.props.docker,mdHtml:this.getMDHtml(),logWidgetInteraction:this.props.logWidgetInteraction,isShot:this.props.isShot,userThemes:this.props.userThemes,backgroundColor:n,positionedLeft:this.props.positionedLeft,isUsedInColumn:this.props.highlights,widthOfComp:this.props.widthOfComp,widthOfOtherComp:this.props.widthOfOtherComp})}const y=(s&&s.size-1)===h;return r.a.createElement(b,null,r.a.createElement(u,{ref:e=>this.inEdit=e,fullScreen:i,fullscreenIconToggle:a,text:f,mdHtml:m,cursorPosition:g,isSpellCheckEnabled:this.state.isSpellCheckEnabled,toggleSpellCheck:this.toggleSpellCheck,onUpdate:this.onMarkdownUpdated,onExpand:o,getMDHtml:this.getMDHtml,default_themes:this.props.default_themes,placeholder:this.props.placeholder,dispatch:this.props.dispatch,isDraft:this.props.isDraft,pageId:this.props.pageId,authorId:this.props.authorId,collectionId:this.props.collectionId,shotId:this.props.shotId,editorPageId:this.props.editorPageId,setFocus:v,userId:this.props.userId,docker:this.props.docker,index:h,hash:p,isLastWidgetOnPage:y}))}}p.defaultProps={placeholder:"Write here ...",docker:{},logWidgetInteraction:()=>null,userThemes:null,highlights:!1,positionedLeft:null,widthOfComp:50,widthOfOtherComp:50}},1528:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(0),r=n.n(i),o=n(50),a=n(182),s=n.n(a),l=n(1752),c=n(1797),h=n(1878);const d=Object(o.a)({resolved:{},chunkName:()=>"author",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(28)]).then(n.bind(null,1859)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 1859}},{fallback:r.a.createElement("div",null,"Loading...")});class u extends i.Component{constructor(e,t){super(e),this.updateConfigCallback=s()(e=>{e&&this.props.updateContentState({config:e})},50),this.updateChartTypeCallback=e=>{const t=Object(c.b)(e);this.props.updateContentState({config:t,type:e})},this.updateConfigCallback=this.updateConfigCallback.bind(this)}static getComponentDefault(){return c.a}saveComponent(){const{config:e,type:t}=this.props.content;this.props.updateContentState({config:e,type:t})}render(){const{config:e,type:t}=this.props.content;return r.a.createElement(l.f,{showBorder:this.props.showBorder},"edit"===this.props.mode&&r.a.createElement(d,{updateChartTypeCallback:this.updateChartTypeCallback,chartType:t}),r.a.createElement(h.a,{inView:this.props.inView,config:e,chartType:t,mode:this.props.mode,updateConfigCallback:this.updateConfigCallback}))}}u.defaultProps={showBorder:!0}},1529:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var i=n(14),r=n(0),o=n.n(r),a=n(1721),s=n(35),l=n(1737),c=n(83),h=n(837),d=n(218),u=n(1843),p=n(1870),f=n(1953),m=n(175),g=n(1816),v=n(1947),b=n(1730),y=n(1992),_=n(1996),x=n(1993),w=n(133),C=n.n(w);const S={prependCode:"\n\n",appendCode:"\n\n",codeSelection:"prependCode"},E=function(e){var t,n,r;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=null===a||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.languages;return Object(i.a)({title:e.title,content:e.content||(null===l||void 0===l?void 0:null===(n=l[e.language])||void 0===n?void 0:n.hello_world),entryFileName:e.entryFileName||(null===l||void 0===l?void 0:null===(r=l[e.language])||void 0===r?void 0:r.entry_filename),additionalContent:e.additionalContent||[],selectedIndex:e.selectedIndex||0,caption:e.caption,language:e.language,evaluateLanguage:e.evaluateLanguage,theme:e.theme,runnable:e.runnable||!1,timeLimit:e.timeLimit||s.l,judge:e.judge||!1,judgeContent:e.judgeContent,judgeHints:e.judgeHints||null,judgeContentPrepend:e.judgeContentPrepend||"\n\n\n",allowDownload:e.allowDownload||!1,treatOutputAsHTML:e.treatOutputAsHTML||!1,transformOutput:e.transformOutput||!1,enableHiddenCode:e.enableHiddenCode||!1,enableStdin:e.enableStdin||!1,evaluateWithoutExecution:e.evaluateWithoutExecution||!1,showSolution:e.showSolution||!1,solutionContent:e.solutionContent||"\n\n\n",hiddenCodeContent:e.hiddenCodeContent||S,highlightedLines:e.highlightedLines,version:e.version,dockerJob:e.dockerJob||{},specialInput:e.specialInput||c.d,outputTransformCode:e.outputTransformCode||h.a,selectedApiKeys:e.selectedApiKeys||{},selectedEnvVars:e.selectedEnvVars||{}},o)};class k extends r.Component{static getComponentDefault(){return v.a}constructor(e,t){var n;super(e,t),n=this,this.updateContentState=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.setState({onlyCodeChanged:t},()=>n.props.updateContentState(e))},this.updateSpecialInputData=e=>{let{specialInputData:t}=e;this.setState({specialInputData:t})},this.handleAllowDownloadChange=e=>{this.updateContentState({allowDownload:e})},this.handleCaptionChange=e=>{this.updateContentState({caption:e})},this.handleEditorChange=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{selectedIndex:o,additionalContent:a}=n.state;if(0===o||void 0===o){const o=Object(l.a)(e);if("edit"===n.props.mode){const a=n.state.dirty||n.props.content.content!==e;n.setState(Object(i.a)({onlyCodeChanged:!0,dirty:a},t,{entryFileLimit:o}),r),n.props.updateContentState({content:e})}else{const a=n.state.dirty||n.state.content!==e;n.setState(Object(i.a)({content:e,onlyCodeChanged:!0,dirty:a,entryFileLimit:o},t),r)}}else if(a.length>0){const s=n.state.dirty||a[o-1].content!==e,c=C()(a,{[o-1]:{content:{$set:e}}}),h=Object(l.d)(c);"edit"===n.props.mode?(n.setState(Object(i.a)({onlyCodeChanged:!0,dirty:s},t,{additionalFilesLimit:h}),r),n.props.updateContentState({additionalContent:c})):n.setState(Object(i.a)({additionalContent:c,onlyCodeChanged:!0,dirty:s},t,{additionalFilesLimit:h}),r)}},this.handleSimpleEditorChange=e=>{this.handleEditorChange(e,{})},this.handleSelectedIndexChange=e=>{this.setState({selectedIndex:e,onlyCodeChanged:!1})},this.handleJudgeChange=e=>{this.updateContentState({judge:e,enableHiddenCode:!1,evaluateWithoutExecution:!1,evaluateLanguage:null})},this.handleJudgeContentChange=(e,t,n)=>{let i=!1;this.props.content.judgeContent&&(e.edCode!==this.props.content.judgeContent.edCode||e.version!==this.props.content.judgeContent.version||t||(i=!0));const r=n||this.props.content.content;this.updateContentState({judgeContent:e,content:r},i)},this.handleJudgeHintsChange=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.setState(t=>Object(i.a)({},t,{content:Object(i.a)({},t.content,{judgeHints:e})})),n.updateContentState({judgeHints:e},t)},this.handleJudgeContentPrependChange=e=>{this.updateContentState({judgeContentPrepend:e},!0)},this.handleHiddenCodeContentChange=(e,t)=>{this.updateContentState({hiddenCodeContent:e},!t)},this.handleShowSolutionChange=e=>{this.updateContentState({showSolution:e})},this.handleSolutionContentChange=e=>{this.updateContentState({solutionContent:e})},this.handleLanguageSelect=e=>{var t,n,i;const{executionMetadata:r}=this.props,o=null===r||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.languages,a=null===o||void 0===o?void 0:null===(n=o[e])||void 0===n?void 0:n.static_entry_name,s=null===o||void 0===o?void 0:null===(i=o[e])||void 0===i?void 0:i.entry_filename;this.updateContentState({entryFileName:s,staticEntryName:a,language:e,evaluateLanguage:this.props.content.evaluateWithoutExecution?this.props.content.evaluateLanguage:e})},this.handleSpecialInputSelect=e=>{const t=e.target.value,{content:n}=this.props,i=t!==c.e&&n.enableStdin;this.updateContentState({specialInput:t,enableStdin:i})},this.handleApiKeySelection=e=>{this.updateContentState({selectedApiKeys:e})},this.handleEnvVarSelection=e=>{this.updateContentState({selectedEnvVars:e})},this.handleMultiChange=e=>{this.updateContentState(Object(i.a)({},e)),void 0!==e.selectedIndex&&this.setState({selectedIndex:e.selectedIndex})},this.handleRunnableChange=e=>{this.updateContentState({runnable:e})},this.handleThemeSelect=e=>{this.updateContentState({theme:e})},this.handleTreatOutputAsHTMLChange=e=>{this.updateContentState({treatOutputAsHTML:e})},this.handleTransformOutputChange=e=>{this.updateContentState({transformOutput:e})},this.handleEnableHiddenCodeChange=e=>{this.updateContentState({enableHiddenCode:e})},this.handleEnableStdinChange=e=>{const{content:t}=this.props,n=!t.enableStdin,i=n&&t.specialInput===c.e?c.d:t.specialInput;this.updateContentState({specialInput:i,enableStdin:n})},this.handleEvaluateWithoutExecutionChange=e=>{this.props.updateContentState({evaluateWithoutExecution:e})},this.handleEvaluateLanguageChange=e=>{this.updateContentState({evaluateLanguage:e})},this.handleHighlightedLinesChange=e=>{const{additionalContent:t=[]}=this.props.content,{selectedIndex:n}=this.state;if(0===n||void 0===n)this.updateContentState({highlightedLines:e});else if(t.length>0){const i=C()(t,{[n-1]:{highlightedLines:{$set:e}}});this.updateContentState({additionalContent:i})}},this.handleTimeLimitChange=e=>{this.updateContentState({timeLimit:e})},this.getHighlightedLines=()=>{const{additionalContent:e=[],highlightedLines:t}=this.props.content,{selectedIndex:n}=this.state;return 0===n||void 0===n?t:e.length>0?e[n-1].highlightedLines:[]},this.handleSaveUserData=e=>{let{reset:t=!1}=e;if(!t&&this.props.userId&&!this.state.dirty)return;const n=this.props.content.comp_id,i=t?null:this.getContentState(!0);this.props.saveWidgetUserData(i,{compId:n,reset:t}),this.setState({dirty:!1})},this.handleResetUserData=()=>{this.props.userId&&this.state.hasSnapshot&&this.handleSaveUserData({reset:!0}),this.setState({onlyCodeChanged:!1,dirty:!1}),this.setState(Object(i.a)({},this.getDefaultContentState()))},this.keydownSaveHandler=e=>{if(!this.props.allowWidgetUserData)return;const t=e.metaKey,n=e.ctrlKey,i="s"===e.key;(t||n)&&i&&(e.preventDefault(),this.handleSaveUserData({reset:!1}))},this.handleStdinChange=e=>{this.setState({stdin:e.target.value})},this.getAdditionalContent=()=>{let e={};const{specialInputData:t}=this.state,n="edit"!==this.props.mode?this.state:this.props.content,{additionalContent:r,specialInput:o}=n;return r&&(e=r.reduce((e,t)=>Object(i.a)({},e,{[t.fileName]:t.content}),e)),[c.b,c.f].includes(o)&&t?e=Object(i.a)({},e,{"__ed_input.png":{encoding:"base64",content:t.split(",")[1]}}):o===c.e&&(e=Object(i.a)({},e,{"__ed_input.txt":{encoding:"utf8",content:this.state.stdin}})),e},this.replaceApiKeys=(e,t)=>{let{content:n="",additionalContent:r=[]}=t;return{content:Object(g.b)(n,e),additionalContent:r.map(t=>Object(i.a)({},t,{content:Object(g.b)(t.content,e)}))}},this.findUnReplacedKeys=(e,t)=>{let{sourceCode:n="",additionalContent:i=[]}=e;const r=new Set([]);return Object.keys(t).forEach(e=>{[n,...Object.values(i)].forEach(n=>{if(r.has(e))return;const i=t[e];Object(g.a)(n,e,i)||r.add(e)})}),[...Object.keys(t).filter(e=>!r.has(e))]},this.migrated=!1;const r=Boolean(e.contentSnapshot),o=r?e.contentSnapshot.toJS():e.content,a=this.replaceApiKeys(e.apiKeysToReplace,o),s="view"!==e.mode?E(o,null,e.executionMetadata):E(this.props.content,a,e.executionMetadata);this.state=Object(i.a)({},s,{onlyCodeChanged:!1,hasSnapshot:r,dirty:!1,dockerExecutionContext:Object(m.a)(this.props.docker,s.dockerJob),additionalFilesLimit:Object(l.d)(s.additionalContent),entryFileLimit:Object(l.a)(s.content),specialInputData:"",stdin:""})}componentDidMount(){var e,t;const{executionMetadata:n,updateContentState:i,content:r,docker:o}=this.props;if(!this.migrated&&(null===n||void 0===n?void 0:n.loaded)){var s;const e=null===n||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.languages;i(Object(p.b)(r,o,e)),this.migrated=!0}if(null===(e=this.props)||void 0===e?void 0:null===(t=e.docker)||void 0===t?void 0:t.loaded){var l,c,h,d,u,f,m;const e=(null===(l=this.props)||void 0===l?void 0:null===(c=l.docker)||void 0===c?void 0:c.jobs)||[],t=null===(h=this.state)||void 0===h?void 0:null===(d=h.dockerJob)||void 0===d?void 0:d.name,n=!(null===e||void 0===e?void 0:e.some(e=>{var t;return a.a(e,null===(t=this.state)||void 0===t?void 0:t.dockerJob)})),i=""===(null===(u=this.props)||void 0===u?void 0:null===(f=u.docker)||void 0===f?void 0:null===(m=f.container)||void 0===m?void 0:m.imageName);t&&(n||i)&&this.handleDockerJobChanged()}}componentDidUpdate(e){var t,n;if(!a.a(this.props,e)){const e=Boolean(this.props.contentSnapshot),t=e?this.props.contentSnapshot.toJS():this.props.content;let n={};if("view"!==this.props.mode)n=E(t,null,this.props.executionMetadata);else if(this.state.dirty){const e=this.replaceApiKeys(this.props.apiKeysToReplace,this.state);n=E(this.props.content,e,this.props.executionMetadata)}else{const e=this.replaceApiKeys(this.props.apiKeysToReplace,t);n=E(this.props.content,e,this.props.executionMetadata)}this.setState(Object(i.a)({},n,{selectedIndex:this.state.selectedIndex,onlyCodeChanged:!1,hasSnapshot:e,dockerExecutionContext:Object(m.a)(this.props.docker,n.dockerJob)}))}const{executionMetadata:r,updateContentState:o,content:s,docker:l}=this.props;if(!this.migrated&&(null===r||void 0===r?void 0:r.loaded)){var c;const e=null===r||void 0===r?void 0:null===(c=r.data)||void 0===c?void 0:c.languages;o(Object(p.b)(s,l,e)),this.migrated=!0}if(null===(t=this.props)||void 0===t?void 0:null===(n=t.docker)||void 0===n?void 0:n.loaded){var h,d,u,f,g,v,b;const e=(null===(h=this.props)||void 0===h?void 0:null===(d=h.docker)||void 0===d?void 0:d.jobs)||[],t=null===(u=this.state)||void 0===u?void 0:null===(f=u.dockerJob)||void 0===f?void 0:f.name,n=!(null===e||void 0===e?void 0:e.some(e=>{var t;return a.a(e,null===(t=this.state)||void 0===t?void 0:t.dockerJob)})),i=""===(null===(g=this.props)||void 0===g?void 0:null===(v=g.docker)||void 0===v?void 0:null===(b=v.container)||void 0===b?void 0:b.imageName);t&&(n||i)&&this.handleDockerJobChanged()}}getContentState(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return E(e?this.state:this.props.content,null,this.props.executionMetadata)}getDefaultContentState(){return E(this.props.content,null,this.props.executionMetadata)}saveComponent(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.props.updateContentState(this.getContentState(!0))}handleDockerJobChanged(e){var t,n;const{language:r}=this.props.content,{executionMetadata:o}=this.props,a=null===o||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.languages,s=Object(i.a)({},e),l=Object(m.a)(this.props.docker,s);let c=null===l||void 0===l?void 0:null===(n=l.job)||void 0===n?void 0:n.inputFileName;var h;e||(c=null===a||void 0===a?void 0:null===(h=a[r])||void 0===h?void 0:h.entry_filename);this.props.updateContentState({dockerExecutionContext:l,dockerJob:s,entryFileName:c})}getCodeTheme(){return"view"===this.props.mode&&this.props.userThemes?this.props.userThemes:"default"===this.state.theme&&this.props.default_themes||this.props.default_themes&&this.props.default_themes.isForced.Code?this.props.default_themes.Code:this.state.theme}getUserDataActions(){return o.a.createElement(u.a,{isContentDirty:this.state.dirty,hasSnapshot:this.state.hasSnapshot,saveUserData:this.handleSaveUserData,resetUserData:this.handleResetUserData,compId:this.props.content.comp_id})}render(){var e,t,n,r,a=this;const s="edit"!==this.props.mode,l=!!this.props.config&&this.props.config.inEditor,c=null===(e=this.props.executionMetadata)||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.languages;let h,u=s?this.state:this.props.content;const p=null===c||void 0===c?void 0:null===(n=c[u.language])||void 0===n?void 0:n.hello_world,m=null===c||void 0===c?void 0:null===(r=c[u.language])||void 0===r?void 0:r.entry_filename;void 0===u.content&&(u=Object(i.a)({},u,{content:p})),void 0===u.entryFileName&&(u=Object(i.a)({},u,{entryFileName:m}));const{additionalFilesLimit:g,entryFileLimit:v}=this.state;let w=u.content;if(u.runnable&&u.enableHiddenCode){const{prependCode:e,appendCode:t}=u.hiddenCodeContent||S;w="".concat(e,"\n").concat(w,"\n").concat(t,"\n")}const C={specialInputData:this.state.specialInputData,additionalContent:this.getAdditionalContent(),stdin:this.state.stdin,language:u.judge&&u.evaluateLanguage||u.language,usercodeLanguage:u.language,sourceCode:w,entryFileName:u.entryFileName,timeLimit:u.timeLimit,comp_id:u.judge&&this.props.content.comp_id||u.comp_id,outputTransformCode:u.outputTransformCode,transformOutput:u.transformOutput,dockerExecutionContext:u.dockerExecutionContext||{},specialInput:u.specialInput},E={authorId:this.props.authorId,collectionId:this.props.collectionId,pageId:this.props.pageId,isDraft:this.props.isDraft};s||(h=o.a.createElement(d.a,{key:"options",highlightedLines:this.getHighlightedLines(),specialInput:u.specialInput,runnable:u.runnable,judge:u.judge,mainFileSelected:0===this.state.selectedIndex,allowDownload:u.allowDownload,treatOutputAsHTML:u.treatOutputAsHTML,enableHiddenCode:u.enableHiddenCode,enableStdin:u.enableStdin,evaluateWithoutExecution:u.evaluateWithoutExecution,showSolution:u.showSolution,onLanguageSelect:this.handleLanguageSelect,onEvaluateLanguageSelect:this.handleEvaluateLanguageChange,onThemeSelect:this.handleThemeSelect,onRunnableChange:this.handleRunnableChange,onJudgeChange:this.handleJudgeChange,onMultiChange:this.handleMultiChange,onAllowDownloadChange:this.handleAllowDownloadChange,onTreatOutputAsHTMLChange:this.handleTreatOutputAsHTMLChange,onTransformOutputChange:this.handleTransformOutputChange,onEnableHiddenCodeChange:this.handleEnableHiddenCodeChange,onEnableStdinChange:this.handleEnableStdinChange,onEvaluateWithoutExecutionChange:this.handleEvaluateWithoutExecutionChange,onShowSolutionChange:this.handleShowSolutionChange,onHighlightedLinesChange:this.handleHighlightedLinesChange,onTimeLimitChange:this.handleTimeLimitChange,docker:this.props.docker,selectedDockerJob:u.dockerJob,onDockerJobChanged:function(){return a.handleDockerJobChanged(...arguments)},executionMetadata:this.props.executionMetadata,onSpecialInputSelect:this.handleSpecialInputSelect,updateOutputTransformCode:e=>{this.props.updateContentState({outputTransformCode:e})},dispatch:this.props.dispatch,editMode:!0,apiKeys:this.props.apiKeys,selectedApiKeys:u.selectedApiKeys,selectedEnvVars:u.selectedEnvVars,handleApiKeySelection:this.handleApiKeySelection,handleEnvVarSelection:this.handleEnvVarSelection,executionConfig:C,lessonParams:E}));const k=Object(i.a)({},u,{additionalContent:u.additionalContent||[],selectedIndex:this.state.selectedIndex,theme:this.getCodeTheme(),vimMode:this.props.vimMode});return o.a.createElement("div",{className:"code-container",onKeyDown:this.keydownSaveHandler},o.a.createElement(f.a,null),h,o.a.createElement(x.a,{inView:this.props.inView,readOnly:s,isEditMode:"edit"===this.props.mode,codeContent:k,onlyCodeChanged:this.state.onlyCodeChanged,onEditorChange:this.handleSimpleEditorChange,onSelectedIndexChange:this.handleSelectedIndexChange,handleMultiChange:this.handleMultiChange,isDraft:this.props.isDraft,inEditor:l,isShot:!!this.props.shotId}),u.runnable?o.a.createElement(y.a,{collectionId:this.props.collectionId,shotId:this.props.shotId,pageId:this.props.pageId,authorId:this.props.authorId,treatOutputAsHTML:u.treatOutputAsHTML,enableHiddenCode:u.enableHiddenCode,enableStdin:u.enableStdin,hiddenCodeContent:u.hiddenCodeContent,onHiddenCodeContentChange:this.handleHiddenCodeContentChange,onlyCodeChanged:this.state.onlyCodeChanged,mode:this.props.mode,codeTheme:this.getCodeTheme(),isDraft:this.props.isDraft,additionalActions:this.props.allowWidgetUserData&&this.getUserDataActions(),inEditor:this.props.config.inEditor,logWidgetInteraction:this.props.logWidgetInteraction,specialInput:u.specialInput,pageType:this.props.pageType,toggleFullScreen:this.props.toggleFullScreen,fullScreen:this.props.fullScreen,fullscreenIconToggle:this.props.fullscreenIconToggle,additionalFilesLimit:g,entryFileLimit:v,editingApiKeys:this.props.editingApiKeys,renderExtractionWrapper:this.props.renderExtractionWrapper,renderReplacementWrapper:()=>this.props.renderReplacementWrapper(this.findUnReplacedKeys(C,this.props.apiKeysToReplace)),executionConfig:C,updateSpecialInputData:this.updateSpecialInputData,handleStdinChange:this.handleStdinChange}):null,u.judge?o.a.createElement(_.a,{collectionId:this.props.collectionId,shotId:this.props.shotId,pageId:this.props.pageId,judgeContent:u.judgeContent,judgeHints:u.judgeHints,judgeContentPrepend:u.judgeContentPrepend,authorId:this.props.authorId,codeTheme:this.getCodeTheme(),evaluateWithoutExecution:u.evaluateWithoutExecution,showSolution:u.showSolution,solutionContent:u.solutionContent,readOnly:s,onlyCodeChanged:this.state.onlyCodeChanged,onJudgeContentChange:this.handleJudgeContentChange,onJudgeHintsUpdate:this.handleJudgeHintsChange,onJudgeContentPrependChange:this.handleJudgeContentPrependChange,onSolutionContentChange:this.handleSolutionContentChange,isDraft:this.props.isDraft,additionalActions:this.props.allowWidgetUserData&&this.getUserDataActions(),logWidgetInteraction:this.props.logWidgetInteraction,specialInput:u.specialInput,pageType:this.props.pageType,toggleFullScreen:this.props.toggleFullScreen,fullScreen:this.props.fullScreen,fullscreenIconToggle:this.props.fullscreenIconToggle,additionalFilesLimit:g,editingApiKeys:this.props.editingApiKeys,entryFileLimit:v,renderExtractionWrapper:this.props.renderExtractionWrapper,renderReplacementWrapper:()=>this.props.renderReplacementWrapper(this.findUnReplacedKeys(C,this.props.apiKeysToReplace)),executionConfig:C,updateSpecialInputData:this.updateSpecialInputData}):null,o.a.createElement(b.a,{key:"caption",caption:u.caption,readOnly:s,onCaptionChange:this.handleCaptionChange}))}}k.defaultProps={config:{},vimMode:!1,logWidgetInteraction:()=>null,apiKeys:[],apiKeysToReplace:{},renderExtractionWrapper:()=>null,renderReplacementWrapper:()=>null,editingApiKeys:!1}},1534:function(e,t,n){"use strict";n.r(t),function(e){var i=n(0),r=n.n(i),o=n(1921);class a extends r.a.Component{constructor(){super(...arguments),this.dialogFrameRef=r.a.createRef(),this.handleSvgData=(e,t)=>{t?alert("error: can not get svg data"):(this.props.updateContentState({svg_string:e}),this.props.contentStateFinalized())}}static getComponentCustom(e){return{version:"1.0",caption:"",width:600,height:600,svg_string:e}}static getComponentDefault(){return{version:"1.0",caption:"",width:600,height:600,svg_string:'<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400"> </svg>'}}componentDidMount(){if("view"===this.props.mode&&!this.dialogFrame.current)return;this.dialogFrame=this.dialogFrameRef.current,this.svgCanvas=new o.a(this.dialogFrame,["*"]);const e=()=>{this.svgCanvas=new o.a(this.dialogFrame,["*"]),this.svgCanvas.setSvgString(this.props.content.svg_string)};this.dialogFrame.attachEvent?this.dialogFrame.attachEvent("onload",e):this.dialogFrame.onload=e}saveComponent(){this.svgCanvas&&this.svgCanvas.getSvgString()(this.handleSvgData)}render(){const t="edit"!==this.props.mode;let n="center";return this.props.pageProperties&&this.props.pageProperties.pageAlign&&(n=this.props.pageProperties.pageAlign),t?r.a.createElement("div",{className:"svg-edit-comp view-mode",style:{textAlign:n}},r.a.createElement("div",{className:"svg-image-container"},r.a.createElement("img",{src:"data:image/svg+xml;base64,".concat(e.from(this.props.content.svg_string).toString("base64")),loading:"lazy",alt:""}))):r.a.createElement("div",{className:"svg-edit-comp edit-mode"},r.a.createElement("div",{className:"svg-edit-dialog"},r.a.createElement("iframe",{title:"method-draw",src:"/static/js/svgedit/editor/svg-editor.html?storagePrompt=false",width:"100%",height:"600px",ref:this.dialogFrameRef})))}}t.default=a}.call(this,n(1729).Buffer)},1538:function(e,t,n){"use strict";n.r(t);var i=n(14),r=n(0),o=n.n(r),a=n(1967),s=n(21),l=n(649),c=n(531),h=n(816),d=n(330);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var f=o.a.createElement("path",{d:"M747 1521q74 32 140 32 376 0 376-335 0-114-41-180-27-44-61.5-74t-67.5-46.5-80.5-25-84-10.5-94.5-2q-73 0-101 10 0 53-.5 159t-.5 158q0 8-1 67.5t-.5 96.5 4.5 83.5 12 66.5zm-14-746q42 7 109 7 82 0 143-13t110-44.5 74.5-89.5 25.5-142q0-70-29-122.5t-79-82-108-43.5-124-14q-50 0-130 13 0 50 4 151t4 152q0 27-.5 80t-.5 79q0 46 1 69zm-541 889l2-94q15-4 85-16t106-27q7-12 12.5-27t8.5-33.5 5.5-32.5 3-37.5.5-34v-65.5q0-982-22-1025-4-8-22-14.5t-44.5-11-49.5-7-48.5-4.5-30.5-3l-4-83q98-2 340-11.5t373-9.5q23 0 68.5.5t67.5.5q70 0 136.5 13t128.5 42 108 71 74 104.5 28 137.5q0 52-16.5 95.5t-39 72-64.5 57.5-73 45-84 40q154 35 256.5 134t102.5 248q0 100-35 179.5t-93.5 130.5-138 85.5-163.5 48.5-176 14q-44 0-132-3t-132-3q-106 0-307 11t-231 12z"});const m=e=>{let{svgRef:t,title:n}=e,i=p(e,["svgRef","title"]);return o.a.createElement("svg",u({className:"bold-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?o.a.createElement("title",null,n):null,f)},g=o.a.forwardRef((e,t)=>o.a.createElement(m,u({svgRef:t},e)));n.p;function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var y=o.a.createElement("path",{d:"M384 1662l17-85q6-2 81.5-21.5t111.5-37.5q28-35 41-101 1-7 62-289t114-543.5 52-296.5v-25q-24-13-54.5-18.5t-69.5-8-58-5.5l19-103q33 2 120 6.5t149.5 7 120.5 2.5q48 0 98.5-2.5t121-7 98.5-6.5q-5 39-19 89-30 10-101.5 28.5t-108.5 33.5q-8 19-14 42.5t-9 40-7.5 45.5-6.5 42q-27 148-87.5 419.5t-77.5 355.5q-2 9-13 58t-20 90-16 83.5-6 57.5l1 18q17 4 185 31-3 44-16 99-11 0-32.5 1.5t-32.5 1.5q-29 0-87-10t-86-10q-138-2-206-2-51 0-143 9t-121 11z"});const _=e=>{let{svgRef:t,title:n}=e,i=b(e,["svgRef","title"]);return o.a.createElement("svg",v({className:"italic-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?o.a.createElement("title",null,n):null,y)},x=o.a.forwardRef((e,t)=>o.a.createElement(_,v({svgRef:t},e)));n.p;function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var S=o.a.createElement("path",{d:"M1760 896q14 0 23 9t9 23v64q0 14-9 23t-23 9h-1728q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h1728zm-1277-64q-28-35-51-80-48-97-48-188 0-181 134-309 133-127 393-127 50 0 167 19 66 12 177 48 10 38 21 118 14 123 14 183 0 18-5 45l-12 3-84-6-14-2q-50-149-103-205-88-91-210-91-114 0-182 59-67 58-67 146 0 73 66 140t279 129q69 20 173 66 58 28 95 52h-743zm507 256h411q7 39 7 92 0 111-41 212-23 55-71 104-37 35-109 81-80 48-153 66-80 21-203 21-114 0-195-23l-140-40q-57-16-72-28-8-8-8-22v-13q0-108-2-156-1-30 0-68l2-37v-44l102-2q15 34 30 71t22.5 56 12.5 27q35 57 80 94 43 36 105 57 59 22 132 22 64 0 139-27 77-26 122-86 47-61 47-129 0-84-81-157-34-29-137-71z"});const E=e=>{let{svgRef:t,title:n}=e,i=C(e,["svgRef","title"]);return o.a.createElement("svg",w({className:"strike-through-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?o.a.createElement("title",null,n):null,S)},k=o.a.forwardRef((e,t)=>o.a.createElement(E,w({svgRef:t},e)));n.p;function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var A=o.a.createElement("path",{d:"M176 223q-37-2-45-4l-3-88q13-1 40-1 60 0 112 4 132 7 166 7 86 0 168-3 116-4 146-5 56 0 86-2l-1 14 2 64v9q-60 9-124 9-60 0-79 25-13 14-13 132 0 13 .5 32.5t.5 25.5l1 229 14 280q6 124 51 202 35 59 96 92 88 47 177 47 104 0 191-28 56-18 99-51 48-36 65-64 36-56 53-114 21-73 21-229 0-79-3.5-128t-11-122.5-13.5-159.5l-4-59q-5-67-24-88-34-35-77-34l-100 2-14-3 2-86h84l205 10q76 3 196-10l18 2q6 38 6 51 0 7-4 31-45 12-84 13-73 11-79 17-15 15-15 41 0 7 1.5 27t1.5 31q8 19 22 396 6 195-15 304-15 76-41 122-38 65-112 123-75 57-182 89-109 33-255 33-167 0-284-46-119-47-179-122-61-76-83-195-16-80-16-237v-333q0-188-17-213-25-36-147-39zm1488 1409v-64q0-14-9-23t-23-9h-1472q-14 0-23 9t-9 23v64q0 14 9 23t23 9h1472q14 0 23-9t9-23z"});const I=e=>{let{svgRef:t,title:n}=e,i=T(e,["svgRef","title"]);return o.a.createElement("svg",O({className:"underline-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?o.a.createElement("title",null,n):null,A)},j=o.a.forwardRef((e,t)=>o.a.createElement(I,O({svgRef:t},e)));n.p;var P=n(1965),M=n(64),R=n(1),D=n(12),L=n(1750),N=n(334);function B(){const e=Object(M.a)(["\n  .canvas-text-toolbar-styled {\n    margin: 0 5px;\n    display: inline-block;\n    vertical-align: middle;\n\n    &:first-child {\n      margin-left: 0;\n    }\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n"]);return B=function(){return e},e}const F=R.d.div.withConfig({displayName:"styles__CavasTextStyled",componentId:"d4j4gt-0"})([".canvas-wrapper{padding-top:0;}textarea.form-control{padding:5px;color:",";}"],e=>{let{theme:t}=e;return t.palette.common.black}),z=R.d.div.withConfig({displayName:"styles__CanvasTextToolbarStyled",componentId:"d4j4gt-1"})(["background-color:",";border:1px solid ",";padding:5px;margin-bottom:5px;.form-control{font-size:",";}"],e=>{let{theme:t}=e;return t.palette.grey[100]},e=>{let{theme:t}=e;return t.palette.grey[200]},D.a.textLarge),H=R.d.div.withConfig({displayName:"styles__Group",componentId:"d4j4gt-2"})(["margin:0 5px;display:inline-block;vertical-align:middle;&:first-child{margin-left:0;}&:last-child{margin-right:0;}"]),U=Object(R.b)(B()),q=Object(R.d)(N.a).withConfig({displayName:"styles__CanvasButton",componentId:"d4j4gt-3"})(["font-size:",";height:auto;padding:5px 8px;line-height:1;color:",";border:1px solid transparent;.bold-icon,.italic-icon,.strike-through-icon,.underline-icon{width:18px;height:18px;fill:",";}&.active,&:active{background-color:",";border:1px solid ",";color:",";}&:hover{border-color:",";color:",";}&:focus{outline:none;}"],D.a.body,e=>{let{theme:t}=e;return t.palette.grey.A400},e=>{let{theme:t}=e;return t.palette.grey.A400},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey.A400},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey.A400}),W=Object(R.d)(N.a).withConfig({displayName:"styles__Button2",componentId:"d4j4gt-4"})(["font-size:",";height:auto;padding:5px 8px;line-height:1;color:",";border:1px solid transparent;.bold-icon,.italic-icon,.strike-through-icon,.underline-icon{width:18px;height:18px;fill:",";}&.active,&:active{background-color:",";border:1px solid ",";color:",";}&:hover{border-color:",";color:",";}&:focus{outline:none;}margin:0 5px;display:inline-block;vertical-align:middle;&:first-child{margin-left:0;}&:last-child{margin-right:0;}"],D.a.body,e=>{let{theme:t}=e;return t.palette.grey.A400},e=>{let{theme:t}=e;return t.palette.grey.A400},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey.A400},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey.A400}),V=(Object(R.d)(L.a).withConfig({displayName:"styles__CanvasColorPicker",componentId:"d4j4gt-5"})([".b-some-with-icon-icon:after{content:'';position:absolute;left:0;}.font-icon{width:18px;height:18px;fill:",";z-index:1;}&.text-color .b-some-with-icon-icon:after{bottom:-3px;width:100%;height:3px;background-color:",";}&.back-color .b-some-with-icon-icon:after{top:-1px;left:-1px;right:-1px;bottom:-1px;background-color:",";}.sp-replacer{border:none;padding:0;background-color:transparent;margin-left:2px;}.sp-preview{height:23px;}.sp-dd{padding-top:4px;}"],e=>{let{theme:t}=e;return t.palette.grey.A400},e=>{let{theme:t}=e;return t.palette.success.dark},e=>{let{theme:t}=e;return t.palette.success.main}),Object(R.d)(L.a).withConfig({displayName:"styles__ColorPicker2",componentId:"d4j4gt-6"})([".b-some-with-icon-icon:after{content:'';position:absolute;left:0;}.font-icon{width:18px;height:18px;fill:",";z-index:1;}&.text-color .b-some-with-icon-icon:after{bottom:-3px;width:100%;height:3px;background-color:",";}&.back-color .b-some-with-icon-icon:after{top:-1px;left:-1px;right:-1px;bottom:-1px;background-color:",";}.sp-replacer{border:none;padding:0;background-color:transparent;margin-left:2px;}.sp-preview{height:23px;}.sp-dd{padding-top:4px;}margin:0 5px;display:inline-block;vertical-align:middle;&:first-child{margin-left:0;}&:last-child{margin-right:0;}"],e=>{let{theme:t}=e;return t.palette.grey.A400},e=>{let{theme:t}=e;return t.palette.success.dark},e=>{let{theme:t}=e;return t.palette.success.main}));var G=z;const K={arial:"Arial",helvetica:"Helvetica","myriad pro":"Myriad Pro",delicious:"Delicious",verdana:"Verdana",georgia:"Georgia",courier:"Courier","comic sans ms":"Comic Sans MS",impact:"Impact",monaco:"Monaco",optima:"Optima","hoefler text":"Hoefler Text",plaster:"Plaster",engagement:"Engagement"},Y={10:"10",12:"12",14:"14",16:"16",18:"18",20:"20",22:"22",24:"24",28:"28",36:"36",48:"48",72:"72"};class X extends r.Component{constructor(){super(...arguments),this.onFontFamilyChange=e=>{this.props.setActiveProp("fontFamily",e.target.value)},this.onFontSizeChange=e=>{this.props.setActiveProp("fontSize",e.target.value)},this.onTextColorChange=e=>{this.props.setActiveProp("textColor",e)},this.onBackgroundColorChange=e=>{this.props.setActiveProp("textBackgroundColor",e)},this.onFontWeightChange=e=>{const t=!this.props.bold;this.props.setActiveProp("bold",t)},this.onFontStyleChange=e=>{const t=!this.props.italic;this.props.setActiveProp("italic",t)},this.onTextDecorationChange=e=>{const t="linethrough"===e?!this.props.linethrough:!this.props.underline;this.props.setActiveProp(e,t)},this.onTextAlignmentChange=e=>{this.props.setActiveProp("textAlign",e)},this.handleLinethroughClick=()=>this.onTextDecorationChange("linethrough"),this.handleUnderlineClick=()=>this.onTextDecorationChange("underline"),this.handleLeftAlign=()=>this.onTextAlignmentChange("left"),this.handleCenterAlign=()=>this.onTextAlignmentChange("center"),this.handleRightAlign=()=>this.onTextAlignmentChange("right")}render(){return o.a.createElement(G,null,o.a.createElement(U,null),o.a.createElement(l.a,{groupClassName:"canvas-text-toolbar-styled",className:"input-sm fg-black75",componentClass:"select",value:this.props.fontFamily,onChange:this.onFontFamilyChange},Object.keys(K).map(e=>o.a.createElement("option",{key:e,value:e},K[e]))),o.a.createElement(l.a,{groupClassName:"canvas-text-toolbar-styled",className:"input-sm fg-black75",componentClass:"select",value:this.props.fontSize,onChange:this.onFontSizeChange},Object.keys(Y).map(e=>o.a.createElement("option",{key:e,value:e},Y[e]))),o.a.createElement(V,{value:this.props.textColor,onChange:this.onTextColorChange},o.a.createElement(d.a,{icon:o.a.createElement(P.a,null)})),o.a.createElement(V,{value:this.props.textBackgroundColor,onChange:this.onBackgroundColorChange},o.a.createElement(d.a,{icon:o.a.createElement(P.a,null)})),o.a.createElement(W,{default:!0,active:this.props.bold,onClick:this.onFontWeightChange},o.a.createElement(d.a,{icon:o.a.createElement(g,null)})),o.a.createElement(W,{default:!0,active:this.props.italic,onClick:this.onFontStyleChange},o.a.createElement(d.a,{icon:o.a.createElement(x,null)})),o.a.createElement(H,null,o.a.createElement(q,{default:!0,active:this.props.linethrough,onClick:this.handleLinethroughClick},o.a.createElement(d.a,{icon:o.a.createElement(k,null)})),o.a.createElement(q,{default:!0,active:this.props.underline,onClick:this.handleUnderlineClick},o.a.createElement(d.a,{icon:o.a.createElement(j,null)}))),o.a.createElement(H,null,o.a.createElement(q,{default:!0,active:"left"===this.props.textAlign,onClick:this.handleLeftAlign},o.a.createElement(c.a,{icon:h.b})),o.a.createElement(q,{default:!0,active:"center"===this.props.textAlign,onClick:this.handleCenterAlign},o.a.createElement(c.a,{icon:h.a})),o.a.createElement(q,{default:!0,active:"right"===this.props.textAlign,onClick:this.handleRightAlign},o.a.createElement(c.a,{icon:h.c}))),o.a.createElement(H,null,o.a.createElement(q,{default:!0,onClick:this.props.clearStyles},o.a.createElement(c.a,{icon:h.m}))))}}var J={version:"2.0",text_json:'{"type":"i-text","originX":"left","originY":"top","left":200,"top":133.33,"width":87.13,"height":20.97,"fill":"#000000","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"text":"lorem ipsum","fontSize":16,"fontWeight":"normal","fontFamily":"helvetica","fontStyle":"","lineHeight":1.16,"textDecoration":"","textAlign":"left","textBackgroundColor":"","styles":{}}'};function $(e,t){return e.getSelectionStyles&&e.isEditing?e.getSelectionStyles()[0][t]:e[t]}function Z(e,t,n,i){e.setSelectionStyles&&e.isEditing&&!i?e.setSelectionStyles({[t]:n}):e[t]=n}n.d(t,"default",(function(){return Q}));class Q extends o.a.Component{constructor(){super(...arguments),this.state={canvas:null,fabricObj:null},this.canvasRef=o.a.createRef(),this.clearStyles=()=>{const e=this.state.fabricObj.text;this.state.canvas.remove(this.state.fabricObj);const t=new a.fabric.IText(e,{fontSize:"16",opacity:1,fontFamily:"helvetica"});this.setupTextObjectOnCanvas(t,this.state.canvas),this.saveUpdates(t)},this.setActiveProp=(e,t)=>{const n=this.state.fabricObj||this.state.canvas.getActiveObject();if(n){if("bold"===e){Z(n,"fontWeight","bold"===$(n,"fontWeight")?"":"bold")}else if("italic"===e){Z(n,"fontStyle","italic"===$(n,"fontStyle")?"":"italic")}else if("textColor"===e)Z(n,"fill",t);else if("linethrough"===e){Z(n,"linethrough",!(!0===$(n,"linethrough")))}else if("underline"===e){Z(n,"underline",!(!0===$(n,"underline")))}else"textAlign"===e?Z(n,e,t,!0):Z(n,e,t);this.state.canvas.renderAll(),this.saveUpdates()}}}static createTextComponent(e,t,n){if("1.0"===e.content.version){let r={fontSize:e.content.fontSize,opacity:1,fontStyle:e.content.italic?"italic":"",fontFamily:e.content.fontFamily,textBackgroundColor:e.content.textBackgroundColor,fill:e.content.textColor,fontWeight:e.content.bold?s.a:s.f};!0===e.content.linethrough&&(r=Object(i.a)({},r,{linethrough:!0})),!0===e.content.overline&&(r=Object(i.a)({},r,{overline:!0})),!0===e.content.underline&&(r=Object(i.a)({},r,{underline:!0})),""!==e.content.strokeWidth&&(r=Object(i.a)({},r,{strokeWidth:e.content.strokeWidth})),""!==e.content.strokeColor&&(r=Object(i.a)({},r,{stroke:e.content.strokeColor}));const o=new a.fabric.IText(e.content.text,r);return n?t(o,n,e):t(o,e)}if("2.0"===e.content.version){const i=JSON.parse(e.content.text_json);a.fabric.util.enlivenObjects([i],i=>{const r=i[0];return n?t(r,n,e):t(r,e)})}return null}static getComponentDefault(){return J}componentDidMount(){"edit"===this.props.mode&&this.createCanvasAddText()}componentDidUpdate(){this.props.mode}createCanvasAddText(){if(null===this.state.canvas){const e=600,t=400;let n=new a.fabric.Canvas(this.canvasRef.current,{width:e,height:t});if("1.0"===this.props.content.version){let e={fontSize:this.props.content.fontSize,fontStyle:this.props.content.italic?"italic":"",fontFamily:this.props.content.fontFamily,textBackgroundColor:this.props.content.textBackgroundColor,fill:this.props.content.textColor,fontWeight:this.props.content.bold?s.a:s.f};!0===this.props.content.linethrough&&(e=Object(i.a)({},e,{linethrough:!0})),!0===this.props.content.overline&&(e=Object(i.a)({},e,{overline:!0})),!0===this.props.content.underline&&(e=Object(i.a)({},e,{underline:!0})),""!==this.props.content.strokeWidth&&(e=Object(i.a)({},e,{strokeWidth:!0})),""!==this.props.content.strokeColor&&(e=Object(i.a)({},e,{stroke:this.state.strokeColor}));let t=new a.fabric.IText(this.props.content.text,e);this.setupTextObjectOnCanvas(t,n)}else if("2.0"===this.props.content.version){const e=JSON.parse(this.props.content.text_json);a.fabric.util.enlivenObjects([e],e=>{let t=e[0];this.setupTextObjectOnCanvas(t,n)})}}}getToolbarProps(){if(!this.state.fabricObj)return{mode:this.props.mode,setActiveProp:this.setActiveProp,clearStyles:this.clearStyles,fontFamily:"helvetica",fontSize:"16",textColor:null,italic:!1,bold:!1,underline:!1,linethrough:!1,textBackgroundColor:null,textAlign:"left"};const e=!function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(this.state.fabricObj.getSelectionStyles())&&this.state.fabricObj.isEditing?this.state.fabricObj.getSelectionStyles()[0]:this.state.fabricObj;return{mode:this.props.mode,setActiveProp:this.setActiveProp,clearStyles:this.clearStyles,fontFamily:e.fontFamily,fontSize:e.fontSize,textColor:e.fill,italic:"italic"===e.fontStyle,bold:e.fontWeight===s.a,underline:!0===e.underline,linethrough:!0===e.linethrough,textBackgroundColor:e.textBackgroundColor,textAlign:this.state.fabricObj.textAlign}}onTextChange(e){this.setActiveProp("text",e.target.value)}saveComponent(){this.saveUpdates(),this.props.contentStateFinalized&&this.props.contentStateFinalized()}saveUpdates(e){this.props.updateContentState({version:"2.0",text_json:JSON.stringify(e||this.state.fabricObj)})}setupTextObjectOnCanvas(e,t){e.on("selection:changed",()=>{}),e.set({left:t.width/4,top:10}),t.add(e),t.setActiveObject(e),e.enterEditing(),e.hiddenTextarea.focus(),t.renderAll(),this.setState({fabricObj:e,canvas:t})}render(){const e=this.getToolbarProps();return o.a.createElement(F,null,o.a.createElement("div",null,o.a.createElement(X,e),o.a.createElement("div",{className:"canvas-wrapper"},o.a.createElement("canvas",{ref:this.canvasRef}))))}}},1726:function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},1727:function(e,t,n){var i=n(1729),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),a.prototype=Object.create(r.prototype),o(r,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"===typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},1730:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(649),a=n(1),s=n(5),l=n(18),c=n(12);const h=a.d.div.withConfig({displayName:"styles__CaptionStyled",componentId:"sc-142nki3-0"})(["display:flex;margin-top:10px;align-items:center;justify-content:center;@media (max-width:","){justify-content:",";}"],s.f.pixels,e=>e.inCode&&"flex-start"),d=a.d.span.withConfig({displayName:"styles__Text",componentId:"sc-142nki3-1"})(["display:flex;text-align:center;font-size:",";color:",";background:",";padding:5px 20px;border-radius:",";:focus{outline:none;}"],c.a.textMedium,e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.grey[100]},l.r),u=a.d.span.withConfig({displayName:"styles__Caption",componentId:"sc-142nki3-2"})(["margin-top:5px;.form-control{text-align:center;color:",";background:",";width:100%;font-size:",";margin:0 auto;height:28px;border-radius:",";&:focus{border:1px solid ",";}}.form-group{margin-bottom:0px;&::-webkit-input-placeholder{font-size:",";}&:-moz-placeholder{font-size:",";}&::-moz-placeholder{font-size:",";}&:-ms-input-placeholder{font-size:",";}}"],e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.grey[100]},c.a.textMedium,l.r,e=>{let{theme:t}=e;return t.palette.primary.main},c.a.body,c.a.body,c.a.body,c.a.body);var p=h;n.d(t,"a",(function(){return f}));class f extends r.a.Component{constructor(){super(...arguments),this.inputFieldRef={current:null},this.handleChange=()=>{this.inputFieldRef.current&&this.props.onCaptionChange(this.inputFieldRef.current.value)}}componentDidMount(){!this.props.readOnly&&this.inputFieldRef.current&&(this.inputFieldRef.current.value=this.props.caption||null)}componentDidUpdate(){!this.props.readOnly&&this.inputFieldRef.current&&(this.inputFieldRef.current.value=this.props.caption||null)}render(){let e=null;if(this.props.readOnly){(this.props.caption?this.props.caption.trim():"").length>0&&(e=r.a.createElement(p,{inCode:this.props.inCode},r.a.createElement(d,null,this.props.caption)))}else e=r.a.createElement(u,null,r.a.createElement(o.a,{id:"caption-component",placeholder:"Caption Text",inputRef:e=>this.inputFieldRef.current=e,className:"cmcomp-caption",onBlur:this.handleChange,onChange:!0===this.props.hookOnChangeEvent?this.handleChange:()=>{}}));return e}}f.defaultProps={inCode:!1}},1731:function(e,t,n){(function(t){e.exports=function(){var e=e||function(e,i){var r;if("undefined"!==typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!==typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!==typeof t&&t.crypto&&(r=t.crypto),!r)try{r=n(2030)}catch(v){}var o=function(){if(r){if("function"===typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(v){}if("function"===typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(v){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},l=s.lib={},c=l.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},h=l.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=a<<24-(i+o)%4*8}else for(o=0;o<r;o+=4)t[i+o>>>2]=n[o>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new h.init(t,e)}}),d=s.enc={},u=d.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new h.init(n,t/2)}},p=d.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new h.init(n,t)}},f=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},m=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,i=this._data,r=i.words,o=i.sigBytes,a=this.blockSize,s=o/(4*a),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,c=e.min(4*l,o);if(l){for(var d=0;d<l;d+=a)this._doProcessBlock(r,d);n=r.splice(0,l),i.sigBytes-=c}return new h.init(n,c)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(l.Hasher=m.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math);return e}()}).call(this,n(191))},1732:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return W}));const i=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)[a-z0-9]+([-.]{1}[a-z0-9]+)*(\.)*[a-z]{2,5}(:[0-9]{1,5})?(\/(courses\/[a-z0-9]+([-]+[a-z0-9]+)*|collection\/\d+\/\d+))?$/,r=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)[a-z0-9]+([-.]{1}[a-z0-9]+)*(\.)*[a-z]{2,5}(:[0-9]{1,5})?(\/track\/\S+)?$/,o=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/,a=/http(?:s)?:\/\/(?:www\.)?twitter\.com\/([a-zA-Z0-9_]+)\/status\/([0-9]+)/,s=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1}[a-z0-9]+)*(\.)*[a-z]{2,5}(:[0-9]{1,5})?(\/collection\/[0-9]{5,16}\/[0-9]{5,16})?$/,l=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1}[a-z0-9]+)*(\.)*[a-z]{2,5}(:[0-9]{1,5})?(\/courses\/[a-z0-9]+([-]+[a-z0-9]+)*)?$/,c=/^[a-z\d-]+$/,h=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,d=/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s./0-9]*$/,u=/^[0-9]+([,.][0-9]+)?$/,p=/^([3-7][0-9]{3}|[8][0-7][0-9]{2}|[9][3-9][0-9]{2}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/,f=/^([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))$/,m=/^([12]\d{3}-(0[1-9]|1[0-2]))$/,g=/^[a-z1-9-_+#]+$/,v=/^[a-zA-Z0-9-_\n]{1,65536}$/,b=/(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]/,y=/^\d*[1-9]\d*/,_=/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,x=e=>"".concat(e," can't be blank."),w=(e,t,n)=>"".concat(e.replace(" *","")," field must be between ").concat(t," and ").concat(n," characters long"),C=(e,t,n)=>"".concat(e.replace(" *","")," field must be between ").concat(t," and ").concat(n," characters long"),S=(e,t)=>"".concat(e," and ").concat(t," did not match!"),E=e=>"".concat(e," must be a valid URL."),k=e=>"".concat(e," must be a valid tweet URL."),O=e=>"".concat(e," must be a valid email address."),T=e=>"".concat(e," can only contain a-z, 0-9 and -"),A=e=>"".concat(e," is not valid."),I=e=>"".concat(e," must be in range 3000-8799 or 9300-65535"),j=e=>"".concat(e," is not an integer."),P=e=>"".concat(e," must be a number."),M=(e,t,n)=>"".concat(e," must be between ").concat(t," and ").concat(n),R=e=>"".concat(e," must be in yyyy-mm-dd format."),D=e=>"".concat(e," must be in yyyy-mm format."),L=e=>"".concat(e.replace(" *","")," must be selected."),N=e=>"".concat(e," can only contain a-z 1-9 - _ + #"),B=e=>"".concat(e," must be a valid uuidV4."),F=e=>"".concat(e," can only contain a-z 1-9 - _"),z=()=>"Please enter valid courses url",H=e=>"".concat(e," must be a valid domain"),U=()=>"A job with the same name already exists",q={required:(e,t,n)=>!e.length&&x(n[t].label),min:(e,t)=>(n,i,r)=>!!n.length&&n.length<e&&w(r[i].label,e,t),max:(e,t)=>(n,i,r)=>!!n.length&&n.length>t&&C(r[i].label,e,t),eqlTo:e=>(t,n,i)=>t!==i[e].value.trim()&&S(i[n].label,i[e].label),url:(e,t,n)=>!!e.length&&!o.test(e)&&E(n[t].label),twitterUrl:(e,t,n)=>!!e.length&&!a.test(e)&&k(n[t].label),friendlyCourseUrl:(e,t,n)=>!!e.length&&!l.test(e)&&E(n[t].label),legacyCourseUrl:(e,t,n)=>!!e.length&&!s.test(e)&&E(n[t].label),courseUrl:(e,t,n)=>!!e.length&&!i.test(e)&&E(n[t].label),trackUrl:(e,t,n)=>!!e.length&&!r.test(e)&&E(n[t].label),email:(e,t,n)=>!!e.length&&!h.test(e)&&O(n[t].label),slug:(e,t,n)=>!!e.length&&!c.test(e)&&T(n[t].label),phone:(e,t,n)=>!!e.length&&!d.test(e)&&A(n[t].label),port:(e,t,n)=>!!e.length&&!p.test(e)&&I(n[t].label),integer:(e,t,n)=>!Number.isInteger(Number(e))&&j(n[t].label),number:(e,t,n)=>!!e.length&&!u.test(e)&&P(n[t].label),int_min:(e,t)=>(n,i,r)=>n<e&&M(r[i].label,e,t),int_max:(e,t)=>(n,i,r)=>n>t&&M(r[i].label,e,t),date:(e,t,n)=>!!e.length&&!f.test(e)&&R(n[t].label),month:(e,t,n)=>!!e.length&&!m.test(e)&&D(n[t].label),id:(e,t,n)=>!!e.length&&!g.test(e)&&N(n[t].label),uuidV4:(e,t,n)=>!!e.length&&!_.test(e)&&B(n[t].label),select:(e,t,n)=>(!e.length||"select"===e||""===e)&&L(n[t].label),transaction_ids:(e,t,n)=>!!e.length&&!v.test(e)&&F(n[t].label),courseUrlList:(e,t,n,r)=>{if(!r)return!1;if(e){if(JSON.parse(e).courses.some(e=>!(e=>e&&i.test(e))(e)))return z()}return!1},domain:(e,t,n)=>!!e.length&&!b.test(e)&&H(n[t].label),jobName:e=>t=>!!e.filter(e=>e.get("name")===t).size&&U(),naturalNumber:e=>y.test(e),isFriendlyCourseUrl:e=>l.test(e),isLegacyCourseUrl:e=>s.test(e)};function W(e,t){return e.reduce((e,n)=>e.concat(...n.validators.map(e=>{let{name:i,validator:r}=e;const o=t.fields[n.id],a=r((o.value||"").trim(),n.id,t.fields,o.validate);return{fieldName:n.id,errorName:i,error:a}}).filter(Boolean)),[])}t.b=q},1735:function(e,t,n){(function(e){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a=n(2062).Buffer}catch(S){}function s(e,t,n){for(var i=0,r=Math.min(e.length,n),o=t;o<r;o++){var a=e.charCodeAt(o)-48;i<<=4,i|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return i}function l(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&r++,16===t?this._parseHex(e,r):this._parseBase(e,t,r),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(i("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,r,o=0;for(n=e.length-6,i=0;n>=t;n-=6)r=s(e,n,n+6),this.words[i]|=r<<o&67108863,this.words[i+1]|=r>>>26-o&4194303,(o+=24)>=26&&(o-=26,i++);n+6!==t&&(r=s(e,t,n+6),this.words[i]|=r<<o&67108863,this.words[i+1]|=r>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,c=0,h=n;h<s;h+=i)c=l(e,h,h+i,t),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var d=1;for(c=l(e,h,e.length,t),h=0;h<a;h++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function u(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,l=a/67108864|0;n.words[0]=s;for(var c=1;c<i;c++){for(var h=l>>>26,d=67108863&l,u=Math.min(c,t.length-1),p=Math.max(0,c-e.length+1);p<=u;p++){var f=c-p|0;h+=(a=(r=0|e.words[f])*(o=0|t.words[p])+d)/67108864|0,d=67108863&a}n.words[c]=0|d,l=0|h}return 0!==l?n.words[c]=0|l:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<r|o)).toString(16);n=0!==(o=s>>>24-r&16777215)||a!==this.length-1?c[6-l.length]+l+n:l+n,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=h[e],p=d[e];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var m=f.modn(p).toString(e);n=(f=f.idivn(p)).isZero()?m+n:c[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i("undefined"!==typeof a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var a,s,l="le"===t,c=new e(o),h=this.clone();if(l){for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-r;s++)c[s]=0;for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"===typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},o.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var i,r,o,a=e.words,s=t.words,l=n.words,c=0,h=0|a[0],d=8191&h,u=h>>>13,p=0|a[1],f=8191&p,m=p>>>13,g=0|a[2],v=8191&g,b=g>>>13,y=0|a[3],_=8191&y,x=y>>>13,w=0|a[4],C=8191&w,S=w>>>13,E=0|a[5],k=8191&E,O=E>>>13,T=0|a[6],A=8191&T,I=T>>>13,j=0|a[7],P=8191&j,M=j>>>13,R=0|a[8],D=8191&R,L=R>>>13,N=0|a[9],B=8191&N,F=N>>>13,z=0|s[0],H=8191&z,U=z>>>13,q=0|s[1],W=8191&q,V=q>>>13,G=0|s[2],K=8191&G,Y=G>>>13,X=0|s[3],J=8191&X,$=X>>>13,Z=0|s[4],Q=8191&Z,ee=Z>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],le=8191&se,ce=se>>>13,he=0|s[8],de=8191&he,ue=he>>>13,pe=0|s[9],fe=8191&pe,me=pe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(c+(i=Math.imul(d,H))|0)+((8191&(r=(r=Math.imul(d,U))+Math.imul(u,H)|0))<<13)|0;c=((o=Math.imul(u,U))+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(f,H),r=(r=Math.imul(f,U))+Math.imul(m,H)|0,o=Math.imul(m,U);var ve=(c+(i=i+Math.imul(d,W)|0)|0)+((8191&(r=(r=r+Math.imul(d,V)|0)+Math.imul(u,W)|0))<<13)|0;c=((o=o+Math.imul(u,V)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(v,H),r=(r=Math.imul(v,U))+Math.imul(b,H)|0,o=Math.imul(b,U),i=i+Math.imul(f,W)|0,r=(r=r+Math.imul(f,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var be=(c+(i=i+Math.imul(d,K)|0)|0)+((8191&(r=(r=r+Math.imul(d,Y)|0)+Math.imul(u,K)|0))<<13)|0;c=((o=o+Math.imul(u,Y)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(_,H),r=(r=Math.imul(_,U))+Math.imul(x,H)|0,o=Math.imul(x,U),i=i+Math.imul(v,W)|0,r=(r=r+Math.imul(v,V)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,V)|0,i=i+Math.imul(f,K)|0,r=(r=r+Math.imul(f,Y)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,Y)|0;var ye=(c+(i=i+Math.imul(d,J)|0)|0)+((8191&(r=(r=r+Math.imul(d,$)|0)+Math.imul(u,J)|0))<<13)|0;c=((o=o+Math.imul(u,$)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(C,H),r=(r=Math.imul(C,U))+Math.imul(S,H)|0,o=Math.imul(S,U),i=i+Math.imul(_,W)|0,r=(r=r+Math.imul(_,V)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,V)|0,i=i+Math.imul(v,K)|0,r=(r=r+Math.imul(v,Y)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(f,J)|0,r=(r=r+Math.imul(f,$)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,$)|0;var _e=(c+(i=i+Math.imul(d,Q)|0)|0)+((8191&(r=(r=r+Math.imul(d,ee)|0)+Math.imul(u,Q)|0))<<13)|0;c=((o=o+Math.imul(u,ee)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(k,H),r=(r=Math.imul(k,U))+Math.imul(O,H)|0,o=Math.imul(O,U),i=i+Math.imul(C,W)|0,r=(r=r+Math.imul(C,V)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,V)|0,i=i+Math.imul(_,K)|0,r=(r=r+Math.imul(_,Y)|0)+Math.imul(x,K)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(v,J)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,$)|0,i=i+Math.imul(f,Q)|0,r=(r=r+Math.imul(f,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var xe=(c+(i=i+Math.imul(d,ne)|0)|0)+((8191&(r=(r=r+Math.imul(d,ie)|0)+Math.imul(u,ne)|0))<<13)|0;c=((o=o+Math.imul(u,ie)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(A,H),r=(r=Math.imul(A,U))+Math.imul(I,H)|0,o=Math.imul(I,U),i=i+Math.imul(k,W)|0,r=(r=r+Math.imul(k,V)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,V)|0,i=i+Math.imul(C,K)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,Y)|0,i=i+Math.imul(_,J)|0,r=(r=r+Math.imul(_,$)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,$)|0,i=i+Math.imul(v,Q)|0,r=(r=r+Math.imul(v,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(f,ne)|0,r=(r=r+Math.imul(f,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var we=(c+(i=i+Math.imul(d,oe)|0)|0)+((8191&(r=(r=r+Math.imul(d,ae)|0)+Math.imul(u,oe)|0))<<13)|0;c=((o=o+Math.imul(u,ae)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(P,H),r=(r=Math.imul(P,U))+Math.imul(M,H)|0,o=Math.imul(M,U),i=i+Math.imul(A,W)|0,r=(r=r+Math.imul(A,V)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,V)|0,i=i+Math.imul(k,K)|0,r=(r=r+Math.imul(k,Y)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,Y)|0,i=i+Math.imul(C,J)|0,r=(r=r+Math.imul(C,$)|0)+Math.imul(S,J)|0,o=o+Math.imul(S,$)|0,i=i+Math.imul(_,Q)|0,r=(r=r+Math.imul(_,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(v,ne)|0,r=(r=r+Math.imul(v,ie)|0)+Math.imul(b,ne)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(f,oe)|0,r=(r=r+Math.imul(f,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Ce=(c+(i=i+Math.imul(d,le)|0)|0)+((8191&(r=(r=r+Math.imul(d,ce)|0)+Math.imul(u,le)|0))<<13)|0;c=((o=o+Math.imul(u,ce)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(D,H),r=(r=Math.imul(D,U))+Math.imul(L,H)|0,o=Math.imul(L,U),i=i+Math.imul(P,W)|0,r=(r=r+Math.imul(P,V)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(A,K)|0,r=(r=r+Math.imul(A,Y)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,Y)|0,i=i+Math.imul(k,J)|0,r=(r=r+Math.imul(k,$)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,$)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,i=i+Math.imul(_,ne)|0,r=(r=r+Math.imul(_,ie)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(v,oe)|0,r=(r=r+Math.imul(v,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,i=i+Math.imul(f,le)|0,r=(r=r+Math.imul(f,ce)|0)+Math.imul(m,le)|0,o=o+Math.imul(m,ce)|0;var Se=(c+(i=i+Math.imul(d,de)|0)|0)+((8191&(r=(r=r+Math.imul(d,ue)|0)+Math.imul(u,de)|0))<<13)|0;c=((o=o+Math.imul(u,ue)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(B,H),r=(r=Math.imul(B,U))+Math.imul(F,H)|0,o=Math.imul(F,U),i=i+Math.imul(D,W)|0,r=(r=r+Math.imul(D,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,i=i+Math.imul(P,K)|0,r=(r=r+Math.imul(P,Y)|0)+Math.imul(M,K)|0,o=o+Math.imul(M,Y)|0,i=i+Math.imul(A,J)|0,r=(r=r+Math.imul(A,$)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,$)|0,i=i+Math.imul(k,Q)|0,r=(r=r+Math.imul(k,ee)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(S,ne)|0,o=o+Math.imul(S,ie)|0,i=i+Math.imul(_,oe)|0,r=(r=r+Math.imul(_,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,i=i+Math.imul(v,le)|0,r=(r=r+Math.imul(v,ce)|0)+Math.imul(b,le)|0,o=o+Math.imul(b,ce)|0,i=i+Math.imul(f,de)|0,r=(r=r+Math.imul(f,ue)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,ue)|0;var Ee=(c+(i=i+Math.imul(d,fe)|0)|0)+((8191&(r=(r=r+Math.imul(d,me)|0)+Math.imul(u,fe)|0))<<13)|0;c=((o=o+Math.imul(u,me)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(B,W),r=(r=Math.imul(B,V))+Math.imul(F,W)|0,o=Math.imul(F,V),i=i+Math.imul(D,K)|0,r=(r=r+Math.imul(D,Y)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,Y)|0,i=i+Math.imul(P,J)|0,r=(r=r+Math.imul(P,$)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,$)|0,i=i+Math.imul(A,Q)|0,r=(r=r+Math.imul(A,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,i=i+Math.imul(k,ne)|0,r=(r=r+Math.imul(k,ie)|0)+Math.imul(O,ne)|0,o=o+Math.imul(O,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,i=i+Math.imul(_,le)|0,r=(r=r+Math.imul(_,ce)|0)+Math.imul(x,le)|0,o=o+Math.imul(x,ce)|0,i=i+Math.imul(v,de)|0,r=(r=r+Math.imul(v,ue)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,ue)|0;var ke=(c+(i=i+Math.imul(f,fe)|0)|0)+((8191&(r=(r=r+Math.imul(f,me)|0)+Math.imul(m,fe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(B,K),r=(r=Math.imul(B,Y))+Math.imul(F,K)|0,o=Math.imul(F,Y),i=i+Math.imul(D,J)|0,r=(r=r+Math.imul(D,$)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,$)|0,i=i+Math.imul(P,Q)|0,r=(r=r+Math.imul(P,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(A,ne)|0,r=(r=r+Math.imul(A,ie)|0)+Math.imul(I,ne)|0,o=o+Math.imul(I,ie)|0,i=i+Math.imul(k,oe)|0,r=(r=r+Math.imul(k,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,i=i+Math.imul(C,le)|0,r=(r=r+Math.imul(C,ce)|0)+Math.imul(S,le)|0,o=o+Math.imul(S,ce)|0,i=i+Math.imul(_,de)|0,r=(r=r+Math.imul(_,ue)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,ue)|0;var Oe=(c+(i=i+Math.imul(v,fe)|0)|0)+((8191&(r=(r=r+Math.imul(v,me)|0)+Math.imul(b,fe)|0))<<13)|0;c=((o=o+Math.imul(b,me)|0)+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(B,J),r=(r=Math.imul(B,$))+Math.imul(F,J)|0,o=Math.imul(F,$),i=i+Math.imul(D,Q)|0,r=(r=r+Math.imul(D,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,i=i+Math.imul(P,ne)|0,r=(r=r+Math.imul(P,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(A,oe)|0,r=(r=r+Math.imul(A,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,i=i+Math.imul(k,le)|0,r=(r=r+Math.imul(k,ce)|0)+Math.imul(O,le)|0,o=o+Math.imul(O,ce)|0,i=i+Math.imul(C,de)|0,r=(r=r+Math.imul(C,ue)|0)+Math.imul(S,de)|0,o=o+Math.imul(S,ue)|0;var Te=(c+(i=i+Math.imul(_,fe)|0)|0)+((8191&(r=(r=r+Math.imul(_,me)|0)+Math.imul(x,fe)|0))<<13)|0;c=((o=o+Math.imul(x,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(B,Q),r=(r=Math.imul(B,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),i=i+Math.imul(D,ne)|0,r=(r=r+Math.imul(D,ie)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,ie)|0,i=i+Math.imul(P,oe)|0,r=(r=r+Math.imul(P,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(A,le)|0,r=(r=r+Math.imul(A,ce)|0)+Math.imul(I,le)|0,o=o+Math.imul(I,ce)|0,i=i+Math.imul(k,de)|0,r=(r=r+Math.imul(k,ue)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,ue)|0;var Ae=(c+(i=i+Math.imul(C,fe)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(S,fe)|0))<<13)|0;c=((o=o+Math.imul(S,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(B,ne),r=(r=Math.imul(B,ie))+Math.imul(F,ne)|0,o=Math.imul(F,ie),i=i+Math.imul(D,oe)|0,r=(r=r+Math.imul(D,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,i=i+Math.imul(P,le)|0,r=(r=r+Math.imul(P,ce)|0)+Math.imul(M,le)|0,o=o+Math.imul(M,ce)|0,i=i+Math.imul(A,de)|0,r=(r=r+Math.imul(A,ue)|0)+Math.imul(I,de)|0,o=o+Math.imul(I,ue)|0;var Ie=(c+(i=i+Math.imul(k,fe)|0)|0)+((8191&(r=(r=r+Math.imul(k,me)|0)+Math.imul(O,fe)|0))<<13)|0;c=((o=o+Math.imul(O,me)|0)+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(B,oe),r=(r=Math.imul(B,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),i=i+Math.imul(D,le)|0,r=(r=r+Math.imul(D,ce)|0)+Math.imul(L,le)|0,o=o+Math.imul(L,ce)|0,i=i+Math.imul(P,de)|0,r=(r=r+Math.imul(P,ue)|0)+Math.imul(M,de)|0,o=o+Math.imul(M,ue)|0;var je=(c+(i=i+Math.imul(A,fe)|0)|0)+((8191&(r=(r=r+Math.imul(A,me)|0)+Math.imul(I,fe)|0))<<13)|0;c=((o=o+Math.imul(I,me)|0)+(r>>>13)|0)+(je>>>26)|0,je&=67108863,i=Math.imul(B,le),r=(r=Math.imul(B,ce))+Math.imul(F,le)|0,o=Math.imul(F,ce),i=i+Math.imul(D,de)|0,r=(r=r+Math.imul(D,ue)|0)+Math.imul(L,de)|0,o=o+Math.imul(L,ue)|0;var Pe=(c+(i=i+Math.imul(P,fe)|0)|0)+((8191&(r=(r=r+Math.imul(P,me)|0)+Math.imul(M,fe)|0))<<13)|0;c=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(B,de),r=(r=Math.imul(B,ue))+Math.imul(F,de)|0,o=Math.imul(F,ue);var Me=(c+(i=i+Math.imul(D,fe)|0)|0)+((8191&(r=(r=r+Math.imul(D,me)|0)+Math.imul(L,fe)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Re=(c+(i=Math.imul(B,fe))|0)+((8191&(r=(r=Math.imul(B,me))+Math.imul(F,fe)|0))<<13)|0;return c=((o=Math.imul(F,me))+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863,l[0]=ge,l[1]=ve,l[2]=be,l[3]=ye,l[4]=_e,l[5]=xe,l[6]=we,l[7]=Ce,l[8]=Se,l[9]=Ee,l[10]=ke,l[11]=Oe,l[12]=Te,l[13]=Ae,l[14]=Ie,l[15]=je,l[16]=Pe,l[17]=Me,l[18]=Re,0!==c&&(l[19]=c,n.length++),n};function f(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=u),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?u(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,l=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=l;c++){var h=o-c,d=(0|e.words[h])*(0|t.words[c]),u=67108863&d;s=67108863&(u=u+s|0),r+=(a=(a=a+(d/67108864|0)|0)+(u>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):f(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},m.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},m.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),h=0;h<r;h+=s)for(var d=l,u=c,p=0;p<a;p++){var f=n[h+p],m=i[h+p],g=n[h+p+a],v=i[h+p+a],b=d*g-u*v;v=d*v+u*g,g=b,n[h+p]=f+g,i[h+p]=m+v,n[h+p+a]=f-g,i[h+p+a]=m-v,p!==s&&(b=l*d-c*u,u=l*u+c*d,d=b)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},m.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},m.prototype.convert13b=function(e,t,n,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)n[a]=0;i(0===o),i(0===(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),l=new Array(i),c=new Array(i),h=new Array(i),d=new Array(i),u=n.words;u.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,c,i),this.transform(a,o,s,l,i,r),this.transform(c,o,h,d,i,r);for(var p=0;p<i;p++){var f=s[p]*h[p]-l[p]*d[p];l[p]=s[p]*d[p]+l[p]*h[p],s[p]=f}return this.conjugate(s,l,i),this.transform(s,l,u,o,i,r),this.conjugate(u,o,i),this.normalize13b(u,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),f(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"===typeof e),i(e<67108864);for(var t=0,n=0;n<this.length;n++){var r=(0|this.words[n])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new o(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var r=n.sqr();i<t.length;i++,r=r.sqr())0!==t[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(e){i("number"===typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,l=(0|this.words[t])-s<<n;this.words[t]=l|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var r;i("number"===typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,l=n;if(r-=a,r=Math.max(0,r),l){for(var c=0;c<a;c++)l.words[c]=this.words[c];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=r);c--){var d=0|this.words[c];this.words[c]=h<<26-o|d>>>o,h=d&s}return l&&0!==h&&(l.words[l.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;return!(this.length<=n)&&!!(this.words[n]&r)},o.prototype.imaskn=function(e){i("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"===typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"===typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var r,o,a=e.length+n;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+n])+s;var l=(0|e.words[r])*t;s=((o-=67108863&l)>>26)-(l/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)s=(o=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&o;if(0===s)return this.strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),r=e,a=0|r.words[r.length-1];0!==(n=26-this._countBits(a))&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var s,l=i.length-r.length;if("mod"!==t){(s=new o(null)).length=l+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var h=i.clone()._ishlnsubmul(r,1,l);0===h.negative&&(i=h,s&&(s.words[l]=1));for(var d=l-1;d>=0;d--){var u=67108864*(0|i.words[r.length+d])+(0|i.words[r.length+d-1]);for(u=Math.min(u/a|0,67108863),i._ishlnsubmul(r,u,d);0!==i.negative;)u--,i.negative=0,i._ishlnsubmul(r,1,d),i.isZero()||(i.negative^=1);s&&(s.words[d]=u)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},o.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:r,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,n=0,r=this.length-1;r>=0;r--)n=(t*n+(0|this.words[r]))%e;return n},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*t;this.words[n]=r/e|0,t=r%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new o(1),a=new o(0),s=new o(0),l=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var h=n.clone(),d=t.clone();!t.isZero();){for(var u=0,p=1;0===(t.words[0]&p)&&u<26;++u,p<<=1);if(u>0)for(t.iushrn(u);u-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(h),a.isub(d)),r.iushrn(1),a.iushrn(1);for(var f=0,m=1;0===(n.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(n.iushrn(f);f-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(h),l.isub(d)),s.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),r.isub(s),a.isub(l)):(n.isub(t),s.isub(r),l.isub(a))}return{a:s,b:l,gcd:n.iushln(c)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,a=new o(1),s=new o(0),l=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,h=1;0===(t.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var d=0,u=1;0===(n.words[0]&u)&&d<26;++d,u<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(r=0===t.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(e),r},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"===typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new w(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function C(e){w.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):n.strip(),n},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},r(b,v),b.prototype.split=function(e,t){for(var n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var r=e.words[9];for(t.words[t.length++]=4194303&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(4194303&o)<<4|r>>>22,r=o}r>>>=22,e.words[i-10]=r,0===r&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(y,v),r(_,v),r(x,v),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new y;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return g[e]=t,t},w.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},w.prototype._verify2=function(e,t){i(0===(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},w.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},w.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},w.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},w.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},w.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},w.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},w.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},w.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},w.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},w.prototype.isqr=function(e){return this.imul(e,e.clone())},w.prototype.sqr=function(e){return this.mul(e,e)},w.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),l=s.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(l);)h.redIAdd(l);for(var d=this.pow(h,r),u=this.pow(e,r.addn(1).iushrn(1)),p=this.pow(e,r),f=a;0!==p.cmp(s);){for(var m=p,g=0;0!==m.cmp(s);g++)m=m.redSqr();i(g<f);var v=this.pow(d,new o(1).iushln(f-g-1));u=u.redMul(v),d=v.redSqr(),p=p.redMul(d),f=g}return u},w.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},w.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var r=n[0],a=0,s=0,l=t.bitLength()%26;for(0===l&&(l=26),i=t.length-1;i>=0;i--){for(var c=t.words[i],h=l-1;h>=0;h--){var d=c>>h&1;r!==n[0]&&(r=this.sqr(r)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===i&&0===h)&&(r=this.mul(r,n[a]),s=0,a=0)):s=0}l=26}return r},w.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},w.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new C(e)},r(C,w),C.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},C.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},C.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},C.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},C.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(333)(e))},1737:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n(55),r=n(35);function o(e){if(!e)return null;const t=/width="(.*?)pt"/.exec(e);return t&&t[1]?function(e){return Math.ceil(96*e/72)}(t[1]):null}function a(e){return"center"===e?"0 auto":"left"===e?"0 auto auto 0":"right"===e?"0 0 0 auto":"0 auto"}async function s(e){const t=(await Object(i.a)(()=>Promise.all([n.e(0),n.e(174),n.e(45)]).then(n.t.bind(null,1784,7)))).default;try{return{success:!0,svgString:t(e,{format:"svg",engine:"dot"})}}catch(r){return{success:!1,errorMessage:r.message}}}function l(e,t,n){if(null==t)return e;if("number"===typeof t)return[e.slice(0,t),n,e.slice(t)].join("");const{line:i,ch:r}=t,o=e.split(/\r\n|\r|\n/),a=o[i].slice(0,r)+n+o[i].slice(r);return[...o].splice(i,1,a).join("\n")}function c(e,t,n){const i=document.getElementById(t),r=setInterval(()=>{if(i.innerHTML){clearInterval(r);const t=i.getElementsByTagName("svg")[0],o=parseInt(t.width.baseVal.value,10),a=parseInt(t.height.baseVal.value,10),s='<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="'.concat(o,'" height="').concat(a,'" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[').concat(e,"]]></source>").concat(t.innerHTML,"</svg>");n(s)}},50)}function h(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n].content.length;return 1024*r.w-t}function d(e,t){let n=0;for(let r=0;r<t.length;r++){var i,o,a;n+=null!==(i=null===e||void 0===e?void 0:null===(o=e[t[r]])||void 0===o?void 0:null===(a=o.content)||void 0===a?void 0:a.length)&&void 0!==i?i:0}return 1024*r.w-n}function u(e){return 1024*r.x-e.length}},1738:function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},1739:function(e,t,n){"use strict";var i=t,r=n(1735),o=n(1738),a=n(1906);i.assert=o,i.toArray=a.toArray,i.zero2=a.zero2,i.toHex=a.toHex,i.encode=a.encode,i.getNAF=function(e,t,n){var i=new Array(Math.max(e.bitLength(),n)+1);i.fill(0);for(var r=1<<t+1,o=e.clone(),a=0;a<i.length;a++){var s,l=o.andln(r-1);o.isOdd()?(s=l>(r>>1)-1?(r>>1)-l:l,o.isubn(s)):s=0,i[a]=s,o.iushrn(1)}return i},i.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var i=0,r=0;e.cmpn(-i)>0||t.cmpn(-r)>0;){var o,a,s,l=e.andln(3)+i&3,c=t.andln(3)+r&3;if(3===l&&(l=-1),3===c&&(c=-1),0===(1&l))o=0;else o=3!==(s=e.andln(7)+i&7)&&5!==s||2!==c?l:-l;if(n[0].push(o),0===(1&c))a=0;else a=3!==(s=t.andln(7)+r&7)&&5!==s||2!==l?c:-c;n[1].push(a),2*i===o+1&&(i=1-i),2*r===a+1&&(r=1-r),e.iushrn(1),t.iushrn(1)}return n},i.cachedProperty=function(e,t,n){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=n.call(this)}},i.parseBytes=function(e){return"string"===typeof e?i.toArray(e,"hex"):e},i.intFromLE=function(e){return new r(e,"hex","le")}},1740:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(57),a=n.n(o),s=n(133),l=n.n(s);t.a=e=>{let{xs:t,sm:n,lg:i,close:o,block:s,type:c="button",navbar:h,active:d,inverse:u=!1,rounded:p,outlined:f=!1,bsStyle:m="default",onlyOnHover:g,retainBackground:v,disabled:b=!1,onClick:y,className:_,componentClass:x="button",children:w}=e;const C=x;let S={btn:!0,"btn-xs":t,"btn-sm":n,"btn-lg":i,active:d,"btn-block":s,"navbar-btn":h,"btn-inverse":!!v||u,"btn-rounded":p,"btn-outlined":!!u||!!g||!!v||f,"btn-onlyOnHover":g,"btn-retainBg":v},E=null;m.split(",").forEach(e=>{const t="btn-".concat(e.trim());S=l()(S,{[t]:{$set:!0}})}),E=a()(S),o&&(E="close",w=r.a.createElement("span",null,r.a.createElement("span",{"aria-hidden":"true"},"\xd7"),r.a.createElement("span",{className:"sr-only"},"Close")));const k={type:c,onClick:y,role:"button",disabled:b,className:[_,E].join(" ")};return r.a.createElement(C,k,w)}},1744:function(e,t,n){"use strict";var i=n(1738),r=n(1726);function o(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function l(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=r,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var i=0,r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?n[i++]=a:a<2048?(n[i++]=a>>6|192,n[i++]=63&a|128):o(e,r)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),n[i++]=a>>18|240,n[i++]=a>>12&63|128,n[i++]=a>>6&63|128,n[i++]=63&a|128):(n[i++]=a>>12|224,n[i++]=a>>6&63|128,n[i++]=63&a|128)}else for(r=0;r<e.length;r++)n[r]=0|e[r];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",i=0;i<e.length;i++){var r=e[i];"little"===t&&(r=a(r)),n+=l(r.toString(16))}return n},t.zero2=s,t.zero8=l,t.join32=function(e,t,n,r){var o=n-t;i(o%4===0);for(var a=new Array(o/4),s=0,l=t;s<a.length;s++,l+=4){var c;c="big"===r?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],a[s]=c>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),i=0,r=0;i<e.length;i++,r+=4){var o=e[i];"big"===t?(n[r]=o>>>24,n[r+1]=o>>>16&255,n[r+2]=o>>>8&255,n[r+3]=255&o):(n[r+3]=o>>>24,n[r+2]=o>>>16&255,n[r+1]=o>>>8&255,n[r]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,i){return e+t+n+i>>>0},t.sum32_5=function(e,t,n,i,r){return e+t+n+i+r>>>0},t.sum64=function(e,t,n,i){var r=e[t],o=i+e[t+1]>>>0,a=(o<i?1:0)+n+r;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,i){return(t+i>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,i){return t+i>>>0},t.sum64_4_hi=function(e,t,n,i,r,o,a,s){var l=0,c=t;return l+=(c=c+i>>>0)<t?1:0,l+=(c=c+o>>>0)<o?1:0,e+n+r+a+(l+=(c=c+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,i,r,o,a,s){return t+i+o+s>>>0},t.sum64_5_hi=function(e,t,n,i,r,o,a,s,l,c){var h=0,d=t;return h+=(d=d+i>>>0)<t?1:0,h+=(d=d+o>>>0)<o?1:0,h+=(d=d+s>>>0)<s?1:0,e+n+r+a+l+(h+=(d=d+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,n,i,r,o,a,s,l,c){return t+i+o+s+c>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},1745:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1777),void(o.lib.Cipher||function(e){var t=o,n=t.lib,i=n.Base,r=n.WordArray,a=n.BufferedBlockAlgorithm,s=t.enc,l=(s.Utf8,s.Base64),c=t.algo.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:v}return function(t){return{encrypt:function(n,i,r){return e(i).encrypt(t,n,i,r)},decrypt:function(n,i,r){return e(i).decrypt(t,n,i,r)}}}}()}),d=(n.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),u=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=d.CBC=function(){var e=u.extend();function t(e,t,n){var i,r=this._iv;r?(i=r,this._iv=void 0):i=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize;t.call(this,e,n,r),i.encryptBlock(e,n),this._prevBlock=e.slice(n,n+r)}}),e.Decryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,o=e.slice(n,n+r);i.decryptBlock(e,n),t.call(this,e,n,r),this._prevBlock=o}}),e}(),f=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,i=n-e.sigBytes%n,o=i<<24|i<<16|i<<8|i,a=[],s=0;s<i;s+=4)a.push(o);var l=r.create(a,i);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:p,padding:f}),reset:function(){var e;h.reset.call(this);var t=this.cfg,n=t.iv,i=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=i.createEncryptor:(e=i.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(i,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?r.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),i=n.words;return 1398893684==i[0]&&1701076831==i[1]&&(t=r.create(i.slice(2,4)),i.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},v=n.SerializableCipher=i.extend({cfg:i.extend({format:g}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i),o=r.finalize(t),a=r.cfg;return m.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(t.kdf={}).OpenSSL={execute:function(e,t,n,i){i||(i=r.random(8));var o=c.create({keySize:t+n}).compute(e,i),a=r.create(o.words.slice(t),4*n);return o.sigBytes=4*t,m.create({key:o,iv:a,salt:i})}},y=n.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:b}),encrypt:function(e,t,n,i){var r=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize);i.iv=r.iv;var o=v.encrypt.call(this,e,t,r.key,i);return o.mixIn(r),o},decrypt:function(e,t,n,i){i=this.cfg.extend(i),t=this._parse(t,i.format);var r=i.kdf.execute(n,e.keySize,e.ivSize,t.salt);return i.iv=r.iv,v.decrypt.call(this,e,t,r.key,i)}})}()))}()},1746:function(e,t,n){"use strict";n.d(t,"g",(function(){return C})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"u",(function(){return k})),n.d(t,"R",(function(){return O})),n.d(t,"y",(function(){return T})),n.d(t,"f",(function(){return A})),n.d(t,"E",(function(){return I})),n.d(t,"eb",(function(){return j})),n.d(t,"fb",(function(){return P})),n.d(t,"S",(function(){return M})),n.d(t,"N",(function(){return R})),n.d(t,"gb",(function(){return D})),n.d(t,"lb",(function(){return L})),n.d(t,"jb",(function(){return N})),n.d(t,"ib",(function(){return B})),n.d(t,"kb",(function(){return F})),n.d(t,"P",(function(){return z})),n.d(t,"O",(function(){return H})),n.d(t,"D",(function(){return U})),n.d(t,"e",(function(){return q})),n.d(t,"db",(function(){return W})),n.d(t,"w",(function(){return V})),n.d(t,"a",(function(){return G})),n.d(t,"Q",(function(){return K})),n.d(t,"mb",(function(){return Y})),n.d(t,"v",(function(){return X})),n.d(t,"T",(function(){return J})),n.d(t,"cb",(function(){return $})),n.d(t,"bb",(function(){return Z})),n.d(t,"ab",(function(){return Q})),n.d(t,"Z",(function(){return ee})),n.d(t,"Y",(function(){return te})),n.d(t,"X",(function(){return ne})),n.d(t,"F",(function(){return ie})),n.d(t,"H",(function(){return re})),n.d(t,"I",(function(){return oe})),n.d(t,"J",(function(){return ae})),n.d(t,"G",(function(){return se})),n.d(t,"K",(function(){return le})),n.d(t,"L",(function(){return ce})),n.d(t,"M",(function(){return he})),n.d(t,"z",(function(){return de})),n.d(t,"A",(function(){return ue})),n.d(t,"B",(function(){return pe})),n.d(t,"C",(function(){return fe})),n.d(t,"U",(function(){return me})),n.d(t,"W",(function(){return ge})),n.d(t,"V",(function(){return ve})),n.d(t,"h",(function(){return be})),n.d(t,"k",(function(){return ye})),n.d(t,"p",(function(){return _e})),n.d(t,"l",(function(){return xe})),n.d(t,"i",(function(){return we})),n.d(t,"j",(function(){return Ce})),n.d(t,"q",(function(){return Se})),n.d(t,"s",(function(){return Ee})),n.d(t,"r",(function(){return ke})),n.d(t,"t",(function(){return Oe})),n.d(t,"o",(function(){return Te})),n.d(t,"m",(function(){return Ae})),n.d(t,"n",(function(){return Ie})),n.d(t,"hb",(function(){return je})),n.d(t,"x",(function(){return Pe})),n.d(t,"d",(function(){return Me}));var i=n(27),r=n(0),o=n.n(r),a=n(1),s=n(2028),l=n(2108),c=n(1682),h=n(647),d=n(2640),u=n(827),p=n(42),f=n(58),m=n(5),g=n(18),v=n(21),b=n(12),y=n(201);const _=Object(a.c)(["transition:0.2s;cursor:pointer;:hover{color:",";transform:scale(1.1);-ms-transform:scale(1.1);-webkit-transform:scale(1.1);-moz-transform:scale(1.1);}"],e=>{let{theme:t}=e;return t.palette.primary.main}),x=Object(a.c)(["display:flex;flex-wrap:wrap;align-items:center;"]),w=a.d.div.withConfig({displayName:"styles__SpaStyled",componentId:"sc-1u9bz3w-0"})(["display:flex;flex-direction:column;flex:1;",";"],e=>e.isFullScreen&&Object(a.c)(["height:calc(100% - 30px);"])),C=Object(a.d)(y.MultiFiles).withConfig({displayName:"styles__CodeAndFiles",componentId:"sc-1u9bz3w-1"})(["overflow:inherit;flex-wrap:nowrap;",";.right-handle{transition:0.2s;:hover,:active{background:",";}}@media (max-width:","){padding-left:0px;padding-top:5px;}"],e=>e.isFullScreen&&Object(a.c)(["max-height:none;"]),e=>{let{theme:t}=e;return t.palette.grey[100]},m.f.pixels),S=(Object(a.d)(y.FilesList).withConfig({displayName:"styles__FilesList",componentId:"sc-1u9bz3w-2"})([""]),Object(a.d)(y.ControlPanel).withConfig({displayName:"styles__Bar",componentId:"sc-1u9bz3w-3"})(["border-top:none;justify-content:space-between;"])),E=Object(a.d)(y.BtnsWrap).withConfig({displayName:"styles__BtnsWrap",componentId:"sc-1u9bz3w-4"})(["width:auto;"]),k=a.d.div.withConfig({displayName:"styles__CodeWrap",componentId:"sc-1u9bz3w-5"})([""," flex:1;border-left:1px solid ",";position:relative;margin:-1px;overflow:hidden;.cmcomp-editor-container > .CodeMirror{height:100%;}"],e=>Object(a.c)(["height:",";"],e.height),e=>{let{theme:t}=e;return t.palette.grey[300]}),O=a.d.div.withConfig({displayName:"styles__RunWrap",componentId:"sc-1u9bz3w-6"})(["margin:0px 10px;"]),T=Object(a.d)(y.HintBtn).withConfig({displayName:"styles__HintBtn",componentId:"sc-1u9bz3w-7"})([""]),A=a.d.div.withConfig({displayName:"styles__ChevronAndRun",componentId:"sc-1u9bz3w-8"})(["display:flex;flex-direction:row;align-items:center;margin-left:-5px;"]),I=Object(a.d)(s.a).attrs({size:17}).withConfig({displayName:"styles__NewTab",componentId:"sc-1u9bz3w-9"})(["",";"," margin-right:",";"],_,e=>e.disabled&&Object(a.c)(["color:",";cursor:wait;:hover,:focus{cursor:wait;color:",";}"],e=>{let{theme:t}=e;return t.palette.grey[600]},e=>{let{theme:t}=e;return t.palette.grey[600]}),"7px"),j=Object(a.d)(l.a).attrs({size:17}).withConfig({displayName:"styles__SpaMinus",componentId:"sc-1u9bz3w-10"})(["",";margin-right:",";"],_,"7px"),P=Object(a.d)(c.a).attrs({size:17}).withConfig({displayName:"styles__SpaPlus",componentId:"sc-1u9bz3w-11"})(["",";margin-right:",";"],_,"7px"),M=a.d.div.withConfig({displayName:"styles__SaveAndActions",componentId:"sc-1u9bz3w-12"})(["",";@media (max-width:","){justify-content:center;}"],x,m.f.pixels),R=a.d.div.withConfig({displayName:"styles__OtherActions",componentId:"sc-1u9bz3w-13"})(["",";@media (max-width:","){justify-content:center;margin:10px 0;}"],x,m.f.pixels),D=Object(a.d)(h.a).attrs({size:16}).withConfig({displayName:"styles__SpaX",componentId:"sc-1u9bz3w-14"})(["margin:0px 0px -3px 9px;transition:0.2s;cursor:pointer;:hover{color:",";}",""],e=>{let{theme:t}=e;return t.palette.primary.main},e=>e.isFullScreen&&Object(a.c)(["margin:0px 0px -10px 6px !important;"])),L=y.WidgetTabs,N=Object(a.d)(y.WidgetTabList).withConfig({displayName:"styles__TabList",componentId:"sc-1u9bz3w-15"})(["flex-wrap:wrap;"]),B=Object(a.d)(e=>{let{addTerminalBtn:t}=e,n=Object(i.a)(e,["addTerminalBtn"]);return o.a.createElement(y.WidgetTab,n)}).withConfig({displayName:"styles__Tab",componentId:"sc-1u9bz3w-16"})(["",""],e=>e.addTerminalBtn&&Object(a.c)(["border-radius:"," !important;padding:0px 10px !important;border-bottom:1px solid "," !important;min-width:10px;align-self:center;font-size:",";"],g.q,e=>{let{theme:t}=e;return t.palette.grey[200]},b.a.h3)),F=y.WidgetTabPanel,z=a.d.div.withConfig({displayName:"styles__OutputUrl",componentId:"sc-1u9bz3w-17"})(["transition:max-height 0.4s ease-in;word-wrap:break-word;border-top:none !important;border:1px solid ",";border-bottom-right-radius:",";border-bottom-left-radius:",";padding:10px 10px 10px 20px;max-height:100vh;> a{color:blue;:hover{color:blue;text-decoration:underline;}}",""],e=>{let{theme:t}=e;return t.palette.grey[300]},g.m,g.m,e=>e.outputVisible&&Object(a.c)(["border-bottom-right-radius:0px;border-bottom-left-radius:0px;"])),H=a.d.div.withConfig({displayName:"styles__OutputContainer",componentId:"sc-1u9bz3w-18"})(["max-height:0px;transition:max-height 0.4s ease-in;word-wrap:break-word;border-top:none !important;border:1px solid ",";padding:10px 7px 0px 7px;.react-tabs [role='tab']:focus:after{background:transparent;}",""],e=>{let{theme:t}=e;return t.palette.grey[300]},e=>e.outputVisible&&Object(a.c)(["max-height:100vh;transition:max-height 0.4s ease-in;"])),U=a.d.span.withConfig({displayName:"styles__NavIcon",componentId:"sc-1u9bz3w-19"})(["padding-right:8px;"]),q=a.d.div.withConfig({displayName:"styles__CharacterLimitWarning",componentId:"sc-1u9bz3w-20"})(["color:",";margin-left:auto;padding:10px;"],e=>{let{theme:t}=e;return t.palette.error.main}),W=Object(a.d)(p.b).withConfig({displayName:"styles__SpaLink",componentId:"sc-1u9bz3w-21"})(["text-decoration:underline;"]),V=a.d.div.withConfig({displayName:"styles__FolderModeButtons",componentId:"sc-1u9bz3w-22"})(["display:flex;padding:8px 8px 0 8px;"]),G=a.d.span.withConfig({displayName:"styles__BackButton",componentId:"sc-1u9bz3w-23"})(["margin-left:4px;"]);B.tabsRole="Tab";a.d.button.withConfig({displayName:"styles__RunButton",componentId:"sc-1u9bz3w-24"})(["float:right;font-size:",";color:",";background-color:",";border:1px solid ",";cursor:pointer;padding-left:10px;padding-right:10px;&:hover{background-color:",";}&:disabled{color:",";background-color:",";}"],b.a.textLarge,e=>{let{theme:t}=e;return t.palette.success.dark},e=>{let{theme:t}=e;return t.palette.grey[100]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey[200]});const K=a.d.div.withConfig({displayName:"styles__RunButtonInfo",componentId:"sc-1u9bz3w-25"})(["display:inline;margin-left:8px;vertical-align:text-top;svg{height:20px;width:20px;}@media (max-width:","){","}"],m.f.pixels,e=>{let{androidRunClicked:t}=e;return t&&Object(a.c)(["display:none;"])}),Y=a.d.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-1u9bz3w-26"})(["border-radius:",";padding-top:10px;",""],g.m,e=>{let{fullScreen:t}=e;return t&&Object(a.c)(["display:flex;flex-direction:column;height:100%;"])}),X=(a.d.div.withConfig({displayName:"styles__TabWrapper",componentId:"sc-1u9bz3w-27"})(["width:220px;padding:0px 5px 0px;margin:2px;line-height:33px;"]),Object(a.d)(o.a.forwardRef((e,t)=>{let{showFileTree:n}=e,r=Object(i.a)(e,["showFileTree"]);return o.a.createElement(u.Resizable,Object.assign({ref:t},r))})).withConfig({displayName:"styles__FileTree",componentId:"sc-1u9bz3w-28"})(["transition:max-width 0.3s ease-in-out;max-width:100%;min-width:75px;",""],e=>{let{showFileTree:t}=e;return!t&&Object(a.c)(["max-width:0%;min-width:0px;"])})),J=a.d.div.withConfig({displayName:"styles__SpaEditor",componentId:"sc-1u9bz3w-29"})(["",";"],e=>{let{disableEditor:t}=e;return t&&Object(a.c)(["pointer-events:none !important;opacity:0.5 !important;"])}),$=a.d.div.withConfig({displayName:"styles__SpaEditor_OutputContainer",componentId:"sc-1u9bz3w-30"})([".close-icon{stroke:",";width:12px;height:12px;}margin-top:15px;"],e=>{let{theme:t}=e;return t.palette.common.black}),Z=a.d.div.withConfig({displayName:"styles__SpaEditor_OptionsWrapper",componentId:"sc-1u9bz3w-31"})(["font-size:",";margin-bottom:5px;padding:10px;line-height:45px;"],b.a.textLarge),Q=a.d.label.withConfig({displayName:"styles__SpaEditor_OptionsLabel",componentId:"sc-1u9bz3w-32"})(["font-weight:",";padding:5px 10px;display:inline-flex;width:auto;align-items:baseline;margin:3px 15px 3px 3px;.form-group{margin:0;display:inline-block;}.checkbox{margin-top:0px;margin-bottom:0;margin-left:10px;input[type='checkbox']{position:relative;}}.form-control{font-size:",";width:60px;border-radius:",";}&-theme{.form-control{font-size:",";width:130px;margin-left:10px;}}span{margin-right:25px;}"],v.f,b.a.textLarge,g.v,b.a.textLarge),ee=a.d.input.withConfig({displayName:"styles__SpaEditor_FileNameInput",componentId:"sc-1u9bz3w-33"})(["max-width:130px;margin-left:2px;border-radius:",";border:1px solid ",";padding:7px 5px;&:focus{outline:none;}"],g.r,e=>{let{theme:t}=e;return t.palette.grey[300]}),te=a.d.div.withConfig({displayName:"styles__SpaEditor_AddButtonContainer",componentId:"sc-1u9bz3w-34"})(["font-weight:",";display:inline-flex;width:auto;align-items:baseline;line-height:25px;max-width:387px;min-width:300px;margin-right:5px;.form-control{color:",";font-weight:",";border:none;float:none;padding:20px;border-radius:"," !important;font-size:",";widows:100%;}.input-group-btn .btn{z-index:10;text-transform:none;margin-left:7px !important;}"],v.f,e=>{let{theme:t}=e;return t.palette.common.black},v.f,g.r,b.a.textLarge),ne=Object(a.d)(f.a).withConfig({displayName:"styles__SpaEditor_AddButton",componentId:"sc-1u9bz3w-35"})(["display:flex;justify-content:space-between;align-items:center;width:100%;color:",";background:",";position:relative;padding:8px 20px;border-radius:",";border:none;text-transform:none;font-size:"," !important;font-weight:",";&:hover{color:",";background:",";}&.focus{outline:none;background:",";}.fa{font-size:",";}.fa-check{color:",";}.fa-spinner{color:",";}"],e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.common.white},g.q,b.a.textLarge,v.f,e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.common.white},b.a.detail,e=>{let{theme:t}=e;return t.palette.success.dark},e=>{let{theme:t}=e;return t.palette.grey[800]}),ie=a.d.div.withConfig({displayName:"styles__NpmPackages",componentId:"sc-1u9bz3w-36"})(["display:inline-block;margin-right:5px;position:relative;.btn{text-transform:none;height:100%;padding:10px 20px;border:none;color:",";font-weight:",";border-radius:",";margin:5px 0;&:hover,&:focus{background:",";color:",";outline:none;}}#package-list{margin-top:10px;border:none;.arrow{display:none;}.updateNpm{display:block;width:80%;margin:0 auto;border-radius:",";}}.input-group{display:block;input{margin-bottom:5px;padding-left:5px;width:100%;border-radius:"," !important;border:1px solid ",";}}.form-group{margin-bottom:10px;width:100%;}.form-control{color:",";border:1px solid ",";border-radius:",";font-size:",";font-weight:",";padding:4px;}"],e=>{let{theme:t}=e;return t.palette.primary.main},v.g,g.q,e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.common.white},g.q,g.v,e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey.A100},e=>{let{theme:t}=e;return t.palette.grey[400]},g.v,b.a.textLarge,v.f),re=a.d.div.withConfig({displayName:"styles__NpmPackages_Error",componentId:"sc-1u9bz3w-37"})(["font-size:",";height:14px;color:",";margin:8px 4px;"],b.a.textSmall,e=>{let{theme:t}=e;return t.palette.error.main}),oe=a.d.div.withConfig({displayName:"styles__NpmPackages_List",componentId:"sc-1u9bz3w-38"})(["margin:5px 4px;"]),ae=a.d.div.withConfig({displayName:"styles__NpmPackages_ListItem",componentId:"sc-1u9bz3w-39"})(["margin-bottom:5px;display:flex;align-items:flex-end;"]),se=a.d.div.withConfig({displayName:"styles__NpmPackages_Description",componentId:"sc-1u9bz3w-40"})(["font-size:",";line-height:16px;padding:5px 2px;"],b.a.textMedium),le=a.d.div.withConfig({displayName:"styles__NpmPackages_PackageName",componentId:"sc-1u9bz3w-41"})(["font-size:",";color:",";"],b.a.textLarge,e=>{let{theme:t}=e;return t.palette.grey.A100}),ce=a.d.div.withConfig({displayName:"styles__NpmPackages_PackageVersion",componentId:"sc-1u9bz3w-42"})(["flex:1;margin-left:5px;font-size:",";color:",";"],b.a.textMedium,e=>{let{theme:t}=e;return t.palette.success.main}),he=Object(a.d)(h.a).withConfig({displayName:"styles__NpmPackages_RemoveButton",componentId:"sc-1u9bz3w-43"})(["border:none;background-color:",";outline:none;padding:0 5px;cursor:pointer;transition:0.2s;&:hover{stroke:",";}"],e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.error.main}),de=a.d.div.withConfig({displayName:"styles__LoaderOptions",componentId:"sc-1u9bz3w-44"})(["display:inline-block;.dropdown-menu{margin-top:5px;border:none;}"]),ue=Object(a.d)(d.a).withConfig({displayName:"styles__LoaderOptions_DropDownButton",componentId:"sc-1u9bz3w-45"})(["margin:0 10px;text-transform:none;height:100%;border-radius:",";padding:10px 30px;border:",";cursor:pointer;&:hover{color:",";background:",";box-shadow:none;}&:focus{background:",";}&:active{box-shadow:none !important;border:1px solid "," !important;background:"," !important;color:"," !important;}"],g.q,e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.primary.main}),pe=a.d.div.withConfig({displayName:"styles__LoaderOptions_Option",componentId:"sc-1u9bz3w-46"})(["margin:1em;border-bottom:1px solid ",";width:170px;"],e=>{let{theme:t}=e;return t.palette.grey[300]}),fe=a.d.input.withConfig({displayName:"styles__LoaderOptions_OptionCheckbox",componentId:"sc-1u9bz3w-47"})(["float:right;margin:1em !important;"]),me=Object(a.d)(y.WidgetTabPanel).withConfig({displayName:"styles__SpaEditorExerciseTabPanelStyled",componentId:"sc-1u9bz3w-48"})(["border-left:1px solid ",";"],e=>{let{theme:t}=e;return t.palette.grey[300]}),ge=a.d.div.withConfig({displayName:"styles__SpaEditorHintsTabPanelStyled",componentId:"sc-1u9bz3w-49"})(["border-left:1px solid ",";"],e=>{let{theme:t}=e;return t.palette.grey[300]}),ve=a.d.label.withConfig({displayName:"styles__SpaEditorExerciseTabPanelStyledLabel",componentId:"sc-1u9bz3w-50"})(["font-weight:",";padding:5px;display:inline-flex;width:auto;align-items:baseline;margin:5px 10px;.checkbox{margin-top:0px;margin-bottom:0;margin-left:10px;input[type='checkbox']{position:relative;}}"],v.f),be=a.d.div.withConfig({displayName:"styles__CodeTabs",componentId:"sc-1u9bz3w-51"})(["display:flex;flex-flow:column;width:100%;"]),ye=a.d.div.withConfig({displayName:"styles__CodeTabs_CodeWrapper",componentId:"sc-1u9bz3w-52"})(["max-height:85vh;overflow:hidden;display:flex;padding-bottom:1px;> div:last-child{flex:0;}.react-tabs{background-color:",";width:100%;z-index:50;}.ReactTabs__TabPanel{height:100%;}.react-tabs [role='tablist']{margin:0;}"],e=>{let{theme:t}=e;return t.palette.common.white}),_e=Object(a.d)(o.a.forwardRef((e,t)=>{let{showFileTree:n}=e,r=Object(i.a)(e,["showFileTree"]);return o.a.createElement(u.Resizable,Object.assign({ref:t},r))})).withConfig({displayName:"styles__CodeTabs_FileTree",componentId:"sc-1u9bz3w-53"})(["transition:max-width 0.3s ease-in-out;max-width:100%;min-width:210px;",""],e=>{let{showFileTree:t}=e;return!t&&Object(a.c)(["max-width:0%;min-width:0px;"])}),xe=a.d.div.withConfig({displayName:"styles__CodeTabs_EditorSection",componentId:"sc-1u9bz3w-54"})(["overflow:hidden;flex:1;z-index:10;"]),we=a.d.div.withConfig({displayName:"styles__CodeTabs_ActionButtons",componentId:"sc-1u9bz3w-55"})(["display:flex;padding:10px;align-items:center;border:1px solid ",";background:",";& > div{margin-right:10px;}"],e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[100]}),Ce=a.d.div.withConfig({displayName:"styles__CodeTabs_ButtonsWrapper",componentId:"sc-1u9bz3w-56"})(["display:flex;height:45px;align-items:center;min-width:200px;"]),Se=a.d.div.withConfig({displayName:"styles__CodeTabs_MinMaxFullScreen",componentId:"sc-1u9bz3w-57"})(["margin:4px 10px 5px 0px;svg{stroke:",";transition:0.2s;&:hover{stroke:",";}}"],e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.primary.main}),Ee=a.d.div.withConfig({displayName:"styles__CodeTabs_OutputControlButtons",componentId:"sc-1u9bz3w-58"})(["float:right;margin-left:auto;display:flex;svg{&.close-icon{stroke:",";width:12px;height:12px;}}"],e=>{let{theme:t}=e;return t.palette.common.black}),ke=a.d.div.withConfig({displayName:"styles__CodeTabs_OpenInNewTab",componentId:"sc-1u9bz3w-59"})(["width:26px;.b-btn_link{color:",";&:disabled{color:",";cursor:progress;}}svg{fill:",";}"],e=>{let{theme:t}=e;return t.palette.grey.A100},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey.A100}),Oe=a.d.div.withConfig({displayName:"styles__CodeTabs_TabPanel",componentId:"sc-1u9bz3w-60"})(["padding-bottom:3px;position:relative;.cmcomp-editor-container{border:none;border-radius:0;height:100%;max-height:100%;overflow:auto;> .CodeMirror{height:100%;border-radius:0;}}",""],e=>{let{withoutBorder:t}=e;return!t&&Object(a.c)(["border-left:1px solid ",";"],e=>{let{theme:t}=e;return t.palette.grey[300]})}),Te=(a.d.div.withConfig({displayName:"styles__CodeTabs_TabWrapper",componentId:"sc-1u9bz3w-61"})(["width:280px;padding:0px 5px 0px;margin:2px;line-height:30px;.cmcomp-glyphicon-edit{color:",";font-size:",";}.close-icon{fill:"," !important;width:14px;height:14px;}"],e=>{let{theme:t}=e;return t.palette.grey[500]},b.a.textSmall,e=>{let{theme:t}=e;return t.palette.grey[500]}),a.d.div.withConfig({displayName:"styles__CodeTabs_ExerciseWrapper",componentId:"sc-1u9bz3w-62"})(["width:40%;display:flex;margin-left:12px;justify-content:space-between;cursor:pointer;"])),Ae=a.d.div.withConfig({displayName:"styles__CodeTabs_ExerciseText",componentId:"sc-1u9bz3w-63"})(["align-self:center;"]),Ie=a.d.div.withConfig({displayName:"styles__CodeTabs_ExerciseToggle",componentId:"sc-1u9bz3w-64"})(["margin-bottom:-10px;"]),je=a.d.div.withConfig({displayName:"styles__Spa_Container",componentId:"sc-1u9bz3w-65"})(["",""],e=>{let{fullScreen:t}=e;return t&&Object(a.c)(["height:100%;"])}),Pe=a.d.div.withConfig({displayName:"styles__FullScreen_Code",componentId:"sc-1u9bz3w-66"})(["flex:1;"]),Me=a.d.div.withConfig({displayName:"styles__CaptionComponentWrapper",componentId:"sc-1u9bz3w-67"})(["margin-top:15px;"]);t.nb=w},1747:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"k",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"m",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"j",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return x})),n.d(t,"f",(function(){return w})),n.d(t,"i",(function(){return C}));var i=n(1),r=n(649),o=n(21),a=n(18),s=n(12),l=n(58);const c=i.d.div.withConfig({displayName:"CollectionEditor",componentId:"jwtwe-0"})(["display:flex;flex-direction:column;margin:20px 0px 10px 0px;"]),h=Object(i.d)(l.a).attrs({success:!0,small:!0}).withConfig({displayName:"CollectionEditor__AddButton",componentId:"jwtwe-1"})(["padding-top:8px;margin-top:20px;align-self:center;"]),d=Object(i.d)(l.a).attrs({danger:!0,small:!0}).withConfig({displayName:"CollectionEditor__RemoveButton",componentId:"jwtwe-2"})(["padding-top:8px;align-self:center;width:200px;"]),u=Object(i.d)(l.a).attrs({purple:!0,small:!0}).withConfig({displayName:"CollectionEditor__UpdateButton",componentId:"jwtwe-3"})(["padding-top:8px;align-self:center;"]),p=Object(i.d)(l.a).attrs({grey:!0,small:!0}).withConfig({displayName:"CollectionEditor__EditButton",componentId:"jwtwe-4"})(["padding-top:8px;margin:10px 0 0 5px;align-self:center;"]),f=Object(i.d)(l.a).attrs({small:!0}).withConfig({displayName:"CollectionEditor__CancelButton",componentId:"jwtwe-5"})(["padding-top:8px;margin:10px 0 0 5px;align-self:center;"]),m=Object(i.d)(l.a).attrs({small:!0}).withConfig({displayName:"CollectionEditor__AddTestimonialButton",componentId:"jwtwe-6"})(["padding-top:8px;margin-top:20px;align-self:center;"]),g=i.d.div.withConfig({displayName:"CollectionEditor__TestimonialButtonWrap",componentId:"jwtwe-7"})(["text-align:center;"]),v=i.d.div.withConfig({displayName:"CollectionEditor__RemoveButtonWrap",componentId:"jwtwe-8"})(["text-align:center;margin:25px 0 40px;"]),b=i.d.div.withConfig({displayName:"CollectionEditor__LabeledInput",componentId:"jwtwe-9"})(["position:relative;"]),y=Object(i.d)(r.a).withConfig({displayName:"CollectionEditor__FormControlCollection",componentId:"jwtwe-10"})(["border:1px solid "," !important;border-color:"," !important;font-size:"," !important;color:"," !important;border-radius:"," !important;height:30px;"],e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t,data_is_error:n}=e;return n&&t.palette.error.main},s.a.textLarge,e=>{let{theme:t}=e;return t.palette.common.black},a.v),_=i.d.div.withConfig({displayName:"CollectionEditor__FormControl_Head",componentId:"jwtwe-11"})(["display:flex;justify-content:space-between;margin-top:15px;"]),x=i.d.label.withConfig({displayName:"CollectionEditor__FormControl_Label",componentId:"jwtwe-12"})(["color:",";font-size:",";font-weight:",";"],e=>{let{theme:t}=e;return t.palette.grey[800]},s.a.textMedium,o.f),w=i.d.span.withConfig({displayName:"CollectionEditor__FormControl_Error",componentId:"jwtwe-13"})(["color:",";font-size:",";text-align:right;"],e=>{let{theme:t}=e;return t.palette.error.main},s.a.textMedium),C=i.d.span.withConfig({displayName:"CollectionEditor__FormControl_Warning",componentId:"jwtwe-14"})(["color:",";font-size:",";text-align:right;"],e=>{let{theme:t}=e;return t.palette.warning.main},s.a.textMedium);t.o=c},1748:function(e,t,n){var i=n(1727).Buffer,r=n(1800).Transform,o=n(1826).StringDecoder;function a(e){r.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(1726)(a,r),a.prototype.update=function(e,t,n){"string"===typeof e&&(e=i.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var i;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(r){i=r}finally{n(i)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(n){t=n}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var i=this._decoder.write(e);return n&&(i+=this._decoder.end()),i},e.exports=a},1749:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(88),a=n.n(o),s=n(1655),l=n(1);t.a={create:(e,t,n)=>{const i=document.querySelector("body");let o;i.classList.add("modal-open"),i.insertAdjacentHTML("beforeend",'<div class="modal-backdrop fade in"></div><div id="modal-container"></div>'),a.a.render(r.a.createElement(l.a,{theme:n},r.a.createElement(s.a,{theme:n},r.a.createElement(e,{componentToRender:t,ref:e=>{o=e}}))),i.querySelector("#modal-container"),()=>{o.open()})},remove:()=>{document.querySelector("html").style.overflow="";const e=document.querySelector("body");e.style.overflow="",a.a.unmountComponentAtNode(e.querySelector("#modal-container")),e.removeChild(e.querySelector("#modal-container"))},isExist:()=>document.querySelector("#modal-container")}},1750:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1852),a=n(1540),s=n(129),l=n.n(s);const c=["#000000","#434343","#666666","#CCCCCC","#D9D9D9","#FFFFFF","#980000","#FF0000","#FF9900","#FFFF00","#00FF00","#00FFFF","#4A86E8","#0000FF","#9900FF","#FF00FF","#E6B8AF","#F4CCCC","#FCE5CD","#FFF2CC","#D9EAD3","#D0E0E3","#C9DAF8","#CFE2F3","#D9D2E9","#EAD1DC","#DD7E6B","#EA9999","#F9CB9C","#FFE599","#B6D7A8","#A2C4C9","#A4C2F4","#9FC5E8","#B4A7D6","#D5A6BD","#CC4125","#E06666","#F6B26B","#FFD966","#93C47D","#76A5AF","#6D9EEB","#6FA8DC","#8E7CC3","#C27BA0","#A61C00","#CC0000","#E69138","#E6C232","#6AA84E","#45818E","#3C78D8","#3D85C6","#674EA7","#A64D79","#5B0F00","#660000","#783F04","#7F6000","#274E13","#0C343D","#1C4587","#073763","#20124D","#4C1130"];t.a=e=>{let{value:t,onChange:n}=e;t=t||"#000000";const s=Object(i.useRef)(t),h=Object(i.useRef)(null);return r.a.createElement(a.a,{id:"color-picker-dropdown"},r.a.createElement(a.a.Toggle,{style:{backgroundColor:t}}),r.a.createElement(a.a.Menu,{onKeyDown:e=>{e.keyCode===l.a.codes.enter&&h.current&&(e.preventDefault(),h.current.props.onSelect(s.current,e))}},r.a.createElement(o.TwitterPicker,{ref:h,colors:c,onSelect:n,onChange:(e,t)=>{h.current&&("click"===t.type?h.current.props.onSelect(e.hex,t):s.current=e.hex)},color:t})))}},1751:function(e,t,n){"use strict";var i=n(1788),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var o=Object.create(n(1764));o.inherits=n(1726);var a=n(1884),s=n(1825);o.inherits(d,a);for(var l=r(s.prototype),c=0;c<l.length;c++){var h=l[c];d.prototype[h]||(d.prototype[h]=s.prototype[h])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},1752:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}));var i=n(1),r=n(18),o=n(21);const a=i.d.div.withConfig({displayName:"styles__ChartStyled",componentId:"sc-18iq84z-0"})(["display:flex;width:100%;justify-content:center;border:",";border-radius:",";"],e=>e.showBorder?"1px solid ".concat(e=>{let{theme:t}=e;return t.palette.grey[300]}):"none",r.m),s=i.d.div.withConfig({displayName:"styles__ChartWrapper",componentId:"sc-18iq84z-1"})(["display:flex;width:85%;justify-content:center;"]),l=i.d.div.withConfig({displayName:"styles__CustomChart",componentId:"sc-18iq84z-2"})(["display:flex;flex:1;overflow-y:auto;",""],e=>e.left&&Object(i.c)(["max-height:60vh;margin-right:10px;"])),c=i.d.div.withConfig({displayName:"styles__ConfigEditor",componentId:"sc-18iq84z-3"})(["width:100%;",""],e=>e.viewer&&Object(i.c)(["margin-top:30px;margin-bottom:30px;"])),h=i.d.canvas.withConfig({displayName:"styles__Canvas",componentId:"sc-18iq84z-4"})(["",""],e=>{let{error:t}=e;return t&&Object(i.c)(["display:none !important;"])}),d=i.d.label.withConfig({displayName:"styles__ChartTypeSelect",componentId:"sc-18iq84z-5"})(["font-weight:",";cursor:pointer;margin:0 8px 0 0;"],o.f);t.f=a},1753:function(e,t,n){"use strict";(function(t,i){var r=n(1727).Buffer,o=t.crypto||t.msCrypto;o&&o.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var n=r.allocUnsafe(e);if(e>0)if(e>65536)for(var a=0;a<e;a+=65536)o.getRandomValues(n.slice(a,a+65536));else o.getRandomValues(n);if("function"===typeof t)return i.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(191),n(328))},1754:function(e,t,n){var i=n(1727).Buffer;function r(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}r.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=i.from(e,t));for(var n=this._block,r=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var l=a%r,c=Math.min(o-s,r-l),h=0;h<c;h++)n[l+h]=e[s+h];s+=c,(a+=c)%r===0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,r=(n-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},1757:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"k",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return C})),n.d(t,"p",(function(){return S})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return k})),n.d(t,"m",(function(){return O})),n.d(t,"j",(function(){return T})),n.d(t,"l",(function(){return A})),n.d(t,"r",(function(){return I})),n.d(t,"u",(function(){return j})),n.d(t,"t",(function(){return P})),n.d(t,"s",(function(){return M})),n.d(t,"w",(function(){return R})),n.d(t,"v",(function(){return D})),n.d(t,"q",(function(){return L})),n.d(t,"z",(function(){return N})),n.d(t,"g",(function(){return B})),n.d(t,"x",(function(){return F})),n.d(t,"y",(function(){return z}));var i=n(64),r=n(1),o=n(1799),a=n(201),s=n(5),l=n(12),c=n(21),h=n(334);function d(){const e=Object(i.a)(["\n  .runjs-container {\n    &.hide-code-html {\n      .runjs-nav-item-html {\n        filter: alpha(opacity=65);\n        opacity: 0.35;\n        background: ",";\n        background: linear-gradient(\n          ",",\n          ","\n        );\n      }\n      .runjs-pane-html {\n        display: none !important;\n        visibility: hidden;\n      }\n    }\n    &.hide-code-css {\n      .runjs-nav-item-css {\n        filter: alpha(opacity=65);\n        opacity: 0.35;\n        background: ",";\n        background: linear-gradient(\n          ",",\n          ","\n        );\n      }\n      .runjs-pane-css {\n        display: none !important;\n        visibility: hidden;\n      }\n    }\n    &.hide-code-js {\n      .runjs-nav-item-js {\n        filter: alpha(opacity=65);\n        opacity: 0.35;\n        background: ",";\n        background: linear-gradient(\n          ",",\n          ","\n        );\n      }\n      .runjs-pane-js {\n        display: none !important;\n        visibility: hidden;\n      }\n    }\n\n    .runjs-pane-html:before,\n    .html-has-border:before {\n      content: 'html';\n    }\n    .runjs-pane-css:before,\n    .css-has-border:before {\n      content: 'css';\n    }\n    .runjs-pane-js:before,\n    .js-has-border:before {\n      content: 'javascript';\n    }\n    .runjs-pane-result:before {\n      content: 'output';\n    }\n\n    &.html-has-border {\n      border-right: 3px inset ",";\n    }\n    &.css-has-border {\n      border-right: 3px inset ",";\n    }\n\n    .runjs-nav {\n      margin: 0;\n      padding: 0;\n      height: 33px;\n    }\n\n    .runjs-nav-list {\n      position: relative;\n      text-align: center;\n      margin: 0px 0px 10px;\n      border-bottom: 1px solid ",";\n\n      .runjs-nav-item {\n        padding: 0px 5px;\n        margin: 3px 5px 0;\n        border-bottom: 5px solid ",";\n        float: none;\n        cursor: pointer;\n        display: inline-block;\n        width: auto !important;\n        pointer-events: auto;\n        a {\n          color: ",";\n          line-height: 24px;\n        }\n      }\n    }\n\n    .runjs-nav-result {\n      border-top: 1px solid ",";\n    }\n\n    .runjs-pane {\n      position: relative;\n\n      &:before {\n        position: absolute;\n        background: ",";\n        border: 1px solid ",";\n        color: ",";\n        padding: 0px 7px;\n        font-size: ",";\n        height: 18px;\n        line-height: 16px;\n        margin: 3px 5px;\n        right: 13px;\n        z-index: 9;\n        transition: opacity 0.25s ease-in-out;\n        -o-transition: opacity 0.25s ease-in-out;\n        -ms-transition: opacity 0.25s ease-in-out;\n        -moz-transition: opacity 0.25s ease-in-out;\n        -webkit-transition: opacity 0.25s ease-in-out;\n      }\n      &:hover:before {\n        opacity: .2;\n      }\n    }\n\n    .focus-pane:before {\n      opacity: .1;\n    }\n\n    .result-single-pane:before {\n      content: none;\n    }\n\n    .runjs-panes-row {\n      display: table;\n      table-layout: fixed;\n      width: 100%;\n\n      .runjs-pane-cell {\n        display: table-cell;\n        width: 1%;\n        position: relative;\n\n        .cmcomp-editor-container {\n          border: none;\n          border-radius: 0;\n          height: 100%;\n          max-height: 100%;\n          overflow: auto;\n\n          > .CodeMirror {\n            height: 100%;\n            border-radius: 0;\n          }\n        }\n      }\n    }\n\n    .runjs-pane-result {\n      height: 100%;\n      iframe {\n        border: none;\n      }\n    }\n  }\n\n  .dualHeightBorderStyle {\n    border-top: 1px solid ",";\n  }\n\n  .actionButtons {\n    float: right;\n    display: flex;\n    margin-top: -6px;\n\n    & > div {\n      position: relative;\n    }\n  }\n"]);return d=function(){return e},e}function u(){const e=Object(i.a)(["\n  .runjs-container {\n    &.hide-code-html {\n      .runjs-nav-item-html {\n        filter: alpha(opacity=65);\n        opacity: 0.35;\n        background: ",";\n        background: linear-gradient(\n          ",",\n          ","\n        );\n      }\n      .runjs-pane-html {\n        display: none !important;\n        visibility: hidden;\n      }\n    }\n    &.hide-code-css {\n      .runjs-nav-item-css {\n        filter: alpha(opacity=65);\n        opacity: 0.35;\n        background: ",";\n        background: linear-gradient(\n          ",",\n          ","\n        );\n      }\n      .runjs-pane-css {\n        display: none !important;\n        visibility: hidden;\n      }\n    }\n    &.hide-code-js {\n      .runjs-nav-item-js {\n        filter: alpha(opacity=65);\n        opacity: 0.35;\n        background: ",";\n        background: linear-gradient(\n          ",",\n          ","\n        );\n      }\n      .runjs-pane-js {\n        display: none !important;\n        visibility: hidden;\n      }\n    }\n    &.hide-code-result {\n      .runjs-nav-item-result {\n        filter: alpha(opacity=65);\n        opacity: 0.35;\n        background: ",";\n        background: linear-gradient(\n          ",",\n          ","\n        );\n      }\n      .runjs-pane-result {\n        display: none !important;\n        visibility: hidden;\n      }\n    }\n\n    .runjs-pane-html:before,\n    .html-has-border:before {\n      content: 'html';\n    }\n    .runjs-pane-css:before,\n    .css-has-border:before {\n      content: 'css';\n    }\n    .runjs-pane-js:before,\n    .js-has-border:before {\n      content: 'javascript';\n    }\n    .runjs-pane-result:before {\n      content: 'output';\n    }\n\n    &.html-has-border {\n      border-right: 3px inset ",";\n    }\n    &.css-has-border {\n      border-right: 3px inset ",";\n    }\n    &.js-has-border {\n      border-right: 3px inset ",";\n    }\n\n    .runjs-nav-list {\n      position: relative;\n      padding: 0;\n      height: 33px;\n      text-align: center;\n      border-bottom: 1px solid ",";\n\n      .runjs-nav-item {\n        padding: 0px 5px;\n        margin: 3px 5px 0;\n        border-bottom: 5px solid ",";\n        float: none;\n        cursor: pointer;\n        display: inline-block;\n        width: auto !important;\n        pointer-events: auto;\n        a {\n          color: ",";\n          line-height: 24px;\n        }\n      }\n    }\n\n    .focus-pane:before {\n      opacity: 0.1;\n    }\n\n    .result-single-pane:before {\n      content: none;\n    }\n\n    .runjs-panes-row {\n      display: table;\n      table-layout: fixed;\n      width: 100%;\n\n      .runjs-pane {\n        display: table-cell;\n        width: 1%;\n        vertical-align: top;\n        position: relative;\n\n        &:before {\n          position: absolute;\n          background: ",";\n          border: 1px solid ",";\n          color: ",";\n          padding: 0px 7px;\n          font-size: ",";\n          height: 18px;\n          line-height: 16px;\n          margin: 3px 5px;\n          right: 13px;\n          z-index: 9;\n          transition: opacity 0.25s ease-in-out;\n          -o-transition: opacity 0.25s ease-in-out;\n          -ms-transition: opacity 0.25s ease-in-out;\n          -moz-transition: opacity 0.25s ease-in-out;\n          -webkit-transition: opacity 0.25s ease-in-out;\n        }\n        &:hover:before {\n          opacity: 0.2;\n        }\n\n        .cmcomp-editor-container {\n          border: none;\n          border-radius: 0;\n          height: 100%;\n          max-height: 100%;\n          overflow: auto;\n\n          > .CodeMirror {\n            height: 100%;\n            border-radius: 0;\n          }\n        }\n      }\n\n      .runjs-pane-result iframe {\n        border: none;\n      }\n    }\n  }\n\n  .actionButtons {\n    float: right;\n    display: flex;\n    margin-top: -6px;\n    & > div {\n      position: relative;\n    }\n  }\n"]);return u=function(){return e},e}const{Console:p}=a,f=Object(r.d)(a.default).withConfig({displayName:"styles__CodePlaygroundStyled",componentId:"sc-1wihp17-0"})(["border:none;border-image:linear-gradient( to bottom,"," 42px,"," 42px );border-image-slice:1;@media (max-width:","){border-image:linear-gradient( to bottom,"," 168px,"," 168px );}"],e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.grey[300]},s.f.pixels,e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.grey[300]}),m=Object(r.d)(a.ControlPanel).withConfig({displayName:"styles__ControlPanel",componentId:"sc-1wihp17-1"})(["justify-content:space-between;border:none;border-top:1px solid ",";"],e=>{let{theme:t}=e;return t.palette.grey[300]}),g=r.d.div.withConfig({displayName:"styles__ControlPanel_ButtonsContainer",componentId:"sc-1wihp17-2"})(["display:flex;flex-direction:row wrap;button{margin-right:10px;}"]),v=Object(r.d)(a.HintBtn).withConfig({displayName:"styles__HintButton",componentId:"sc-1wihp17-3"})(["margin-left:0px !important;"]),b=Object(r.d)(a.HintBtn).withConfig({displayName:"styles__SolutionButton",componentId:"sc-1wihp17-4"})(["margin-left:0px !important;"]),y=Object(r.d)(o.a).withConfig({displayName:"styles__HintsViewer",componentId:"sc-1wihp17-5"})(["margin-top:70px;"]),_=Object(r.d)(p).withConfig({displayName:"styles__CodeConsole",componentId:"sc-1wihp17-6"})([""]),x=Object(r.d)(a.Console_Heading).withConfig({displayName:"styles__Console_Heading",componentId:"sc-1wihp17-7"})([""]),w=Object(r.d)(a.Console_ClearBtn).withConfig({displayName:"styles__Console_ClearBtn",componentId:"sc-1wihp17-8"})([""]),C=Object(r.d)(a.Console_Output).withConfig({displayName:"styles__Console_Output",componentId:"sc-1wihp17-9"})([""]),S=a.WidgetTabs,E=a.WidgetTabList,k=a.WidgetTabPanel,O=a.WidgetTab,T=r.d.div.withConfig({displayName:"styles__Solution",componentId:"sc-1wihp17-10"})(["margin:20px 10px 10px 10px;"]),A=(r.d.div.withConfig({displayName:"styles__ClickOnTestToEvaluate",componentId:"sc-1wihp17-11"})(["margin-bottom:15px;text-align:center;"]),r.d.div.withConfig({displayName:"styles__StatusControlWrapper",componentId:"sc-1wihp17-12"})(["margin:20px 0;"])),I=(r.d.button.withConfig({displayName:"styles__RunButton",componentId:"sc-1wihp17-13"})(["float:right;font-size:",";color:",";background-color:",";padding:2px 15px;cursor:pointer;&:hover{background-color:",";}"],l.a.detail,e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.dark}),r.d.div.withConfig({displayName:"styles__TestResults",componentId:"sc-1wihp17-14"})([""]),r.d.p.withConfig({displayName:"styles__TestResults_ReasonError",componentId:"sc-1wihp17-15"})(["color:",";font-size:",";font-weight:",";display:inline-block;margin:2px 0 10px 0;"],e=>{let{theme:t}=e;return t.palette.error.dark},l.a.textLarge,c.b)),j=r.d.div.withConfig({displayName:"styles__TestResults_StdErrTitle",componentId:"sc-1wihp17-16"})(["color:",";font-size:",";"],e=>{let{theme:t}=e;return t.palette.error.main},l.a.textLarge),P=r.d.div.withConfig({displayName:"styles__TestResults_StdErrText",componentId:"sc-1wihp17-17"})(["font-weight:",";font-size:",";"],c.f,l.a.textLarge),M=r.d.div.withConfig({displayName:"styles__TestResults_ReasonSuccess",componentId:"sc-1wihp17-18"})(["color:",";font-size:",";font-weight:",";"],e=>{let{theme:t}=e;return t.palette.success.darkN1},l.a.textLarge,c.b),R=r.d.div.withConfig({displayName:"styles__TestResults_StdOutTitle",componentId:"sc-1wihp17-19"})(["color:",";font-size:",";"],e=>{let{theme:t}=e;return t.palette.success.dark},l.a.textLarge),D=r.d.div.withConfig({displayName:"styles__TestResults_StdOutText",componentId:"sc-1wihp17-20"})(["font-weight:",";font-size:",";"],c.f,l.a.textLarge),L=r.d.button.withConfig({displayName:"styles__TestResults_Close",componentId:"sc-1wihp17-21"})(["float:right;border:none;background:",";text-decoration:none;outline:none;svg{stroke:",";width:12px;height:12px;}"],e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.common.black}),N=(r.d.div.withConfig({displayName:"styles__ViewTabs",componentId:"sc-1wihp17-22"})([""]),r.d.div.withConfig({displayName:"styles__ViewTabs_CodeContainer",componentId:"sc-1wihp17-23"})([".cmcomp-editor-container{border:none;border-radius:0;height:100%;max-height:100%;overflow:auto;> .CodeMirror{height:100%;border-radius:0;}}"])),B={Label:r.d.label.withConfig({displayName:"styles__Label",componentId:"sc-1wihp17-24"})(["display:inline-flex;align-items:center;white-space:nowrap;cursor:pointer;margin:3px 15px 3px 3px;.checkbox{margin-top:0;margin-bottom:0;input[type='checkbox']{position:relative;margin-top:6px;}}"]),DownloadLabel:r.d.label.withConfig({displayName:"styles__DownloadLabel",componentId:"sc-1wihp17-25"})(["display:inline-flex;align-items:center;white-space:nowrap;cursor:pointer;margin:3px 15px 3px 3px;.checkbox{margin-top:0;margin-bottom:0;input[type='checkbox']{position:relative;margin-top:6px;}}span{margin-right:10px;}"]),StdinButton:Object(r.d)(h.a).withConfig({displayName:"styles__StdinButton",componentId:"sc-1wihp17-26"})(["width:70px;padding:0;margin-left:5px;&:focus{outline:none;}"])},F=Object(r.b)(u(),e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[50]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[50]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[50]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[50]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.primary.lightP1},e=>{let{theme:t}=e;return t.palette.grey.A100},e=>{let{theme:t}=e;return t.palette.grey[100]},e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[600]},l.a.textSmall),z=Object(r.b)(d(),e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[50]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[50]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[50]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.primary.lightP1},e=>{let{theme:t}=e;return t.palette.grey.A100},e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[100]},e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[600]},l.a.textSmall,e=>{let{theme:t}=e;return t.palette.grey[300]});t.A=f},1759:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l}));const i={WARN:"warn",FAIL:"fail",PASS:"pass"},r={CORRECT:"correct",INCORRECT:"incorrect",UNANSWERED:"unanswered",NONE:"none"},o={SHORT:"short",FULL:"full"},a={CONTINUOUS:"continuous",SLIDE:"slide"},s={ACTIVE:"active",RESULTS:"results"},l={NONE:"none"}},1762:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};var a={readOnly:o.default.bool,key:o.default.string,className:o.default.string,component:o.default.oneOfType([o.default.element,o.default.func]),forceComponent:o.default.bool,disableEvents:o.default.bool,colSpan:o.default.number,rowSpan:o.default.number,width:o.default.oneOfType([o.default.number,o.default.string]),overflow:o.default.oneOf(["wrap","nowrap","clip"]),dataEditor:o.default.func,valueViewer:o.default.func};t.default=a},1763:function(e,t,n){"use strict";var i=n(1726),r=n(1821),o=n(1827),a=n(1828),s=n(1748);function l(e){s.call(this,"digest"),this._hash=e}i(l,s),l.prototype._update=function(e){this._hash.update(e)},l.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new r:"rmd160"===e||"ripemd160"===e?new o:new l(a(e))}},1764:function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(1729).Buffer)},1765:function(e,t,n){(function(t){e.exports=function(e,n){for(var i=Math.min(e.length,n.length),r=new t(i),o=0;o<i;++o)r[o]=e[o]^n[o];return r}}).call(this,n(1729).Buffer)},1766:function(e,t,n){"use strict";var i=n(1744),r=n(1738);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),r(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var r=1;r<n;r++)i[r]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[r++]=0;i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=e>>>24&255,i[r++]=e>>>16&255,i[r++]=e>>>8&255,i[r++]=255&e}else for(i[r++]=255&e,i[r++]=e>>>8&255,i[r++]=e>>>16&255,i[r++]=e>>>24&255,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,o=8;o<this.padLength;o++)i[r++]=0;return i}},1767:function(e,t,n){var i=t;i.bignum=n(1735),i.define=n(2087).define,i.base=n(1768),i.constants=n(1912),i.decoders=n(2092),i.encoders=n(2094)},1768:function(e,t,n){var i=t;i.Reporter=n(2089).Reporter,i.DecoderBuffer=n(1911).DecoderBuffer,i.EncoderBuffer=n(1911).EncoderBuffer,i.Node=n(2090)},1772:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d}));var i=n(14),r=n(1984);function o(e,t){if(e.id===t)return e;if(e.children)for(let n=0;n<e.children.length;n++){const i=o(e.children[n],t);if(i)return i}return null}function a(e){return e.children?Object(i.a)({},e,{children:e.children.map(t=>Object(i.a)({},a(t),{parentId:t.parentId||e.id}))}):e}function s(e,t){return t.parentId&&0!==t.parentId?o(e,t.parentId):null}function l(e,t,n,i){if(e.id===t&&n)n(e,i);else if(e.children)for(let r=0;r<e.children.length;r++)l(e.children[r],t,n,i)}function c(e,t){if(e.children)for(let n=0;n<e.children.length;n++){const i=e.children[n];if(i.id===t)return void e.children.splice(n,1);c(i,t)}}function h(e,t,n){if(e.leaf){n[t+e.module]=e.data.content}else for(let i=0;i<e.children.length;i++){let r="".concat(e.module,"/");t.length&&(r="".concat(t+e.module,"/")),h(e.children[i],r,n)}}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};if(e.children)for(let i=0;i<e.children.length;i++)h(e.children[i],t,n);return n=Object.entries(n).reduce((e,t)=>{let[n,o]=t;return Object(r.c)(n)?Object(i.a)({},e,{[n]:{content:o,encoding:"base64"}}):e},n),n}},1774:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1851),a=n.n(o);var s=n(1).d.div.withConfig({displayName:"styles__ImageWrap",componentId:"sc-1h2l6dw-0"})(["img{border-width:1px !important;}"]);t.a=e=>{let{imageSrc:t,customStyle:n,alt:i}=e;return r.a.createElement(s,null,r.a.createElement(a.a,{image:{src:t,style:n,alt:i},zoomImage:{src:t},shouldReplaceImage:!1,shouldRespectMaxDimension:!0,zoomMargin:0,defaultStyles:{overlay:{cursor:"zoom-out"}}}))}},1775:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f}));var i=n(1),r=n(1785),o=n(18),a=n(12),s=n(5);const l=i.d.div.withConfig({displayName:"styles__MarkdownEditorStyled",componentId:"sc-3mvtlg-0"})([".textEditor-Markdown{position:relative;}.textEditor-Markdown-label{z-index:100;text-align:center;border-bottom:none;background:",";border-radius:",";padding:10px 0;width:100%;&.left{left:-10px;}}@media (max-width:480px){.textEditor-Markdown-label{text-align:left;}}.btn .btn-expand{position:absolute;right:15px;top:5px;border:none;background:transparent;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}&:active,&:hover,&:focus{outline:none;background:transparent;box-shadow:none;}}.btn .btn-close{border:none;background:transparent;padding:0;position:absolute;top:27px;right:30px;z-index:1;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}&:active,&:hover,&:focus{outline:none;background:transparent;box-shadow:none;}& > i{font-size:",";}}.panel{box-shadow:none;border-color:",";margin-bottom:0;height:40px;.b-btn_default{color:",";line-height:0;vertical-align:super;&:hover{color:",";}}.panel-body{padding:0;}.grid-icon{stroke:",";margin:6px 8px 0px 9px;transition:0.2s;cursor:pointer;&:hover{stroke:",";}}.grid-icon-no-right-padding{stroke:",";margin:6px 0px 0px 9px;transition:0.2s;cursor:pointer;&:hover{stroke:",";}}.b-image-slim-uploader{width:35px;height:35px;.image-upload-btn{margin:0;font-size:",";color:",";padding:0;top:2px;&:hover{color:",";}}.form-control[type='file']{width:50px;height:auto;}}.markdown-help-icon{@media (max-width:","){display:none;}}}"],e=>{let{theme:t}=e;return t.palette.grey[100]},o.v,e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.main},a.a.h4,e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey[500]},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.primary.main},a.a.textLarge,e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey[500]},s.f.pixels),c=Object(i.d)(l).withConfig({displayName:"styles__FullScreen",componentId:"sc-3mvtlg-1"})(["padding:20px;overflow-y:auto;.col,.row,.textEditor-Markdown,.cmcomp-editor-container-markdown,.CodeMirror-wrap,.markdownViewer,.viewer-container{height:100%;}.markdownViewer{overflow:auto;}"]),h=i.d.div.withConfig({displayName:"styles__SpellCheckToggle",componentId:"sc-3mvtlg-2"})(["position:absolute;top:10px;right:30px;line-height:0;cursor:pointer;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}.switch{width:34px;height:18px;& .switch-toggle{width:17px;height:16px;}& .on{background:",";.switch-toggle{left:15px;}}}"],e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.grey[400]}),d=Object(i.d)(h).withConfig({displayName:"styles__SpellCheckToggleFullScreen",componentId:"sc-3mvtlg-3"})(["right:53px;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}"],e=>{let{theme:t}=e;return t.palette.primary.main}),u=i.d.div.withConfig({displayName:"styles__PreviewToggle",componentId:"sc-3mvtlg-4"})(["position:absolute;top:11px;right:60px;cursor:pointer;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}"],e=>{let{theme:t}=e;return t.palette.primary.main}),p=Object(i.d)(u).withConfig({displayName:"styles__PreviewToggleFullScreen",componentId:"sc-3mvtlg-5"})(["right:83px;"]),f=Object(i.d)(r.a).withConfig({displayName:"styles__MarkdownTextarea",componentId:"sc-3mvtlg-6"})(["width:98%;border:none;background:transparent;outline:none;resize:none;font-size:",";font-family:Consolas,'Liberation Mono',Menlo,Courier,monospace;"],a.a.detail);t.g=l},1777:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1919),n(1920),function(){var e=o,t=e.lib,n=t.Base,i=t.WordArray,r=e.algo,a=r.MD5,s=r.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,o=r.hasher.create(),a=i.create(),s=a.words,l=r.keySize,c=r.iterations;s.length<l;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var h=1;h<c;h++)n=o.finalize(n),o.reset();a.concat(n)}return a.sigBytes=4*l,a}});e.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)}}(),o.EvpKDF)}()},1783:function(e,t,n){"use strict";t.a=(e,t,n,i,r,o)=>e?"/api/collection/".concat(t,"/").concat(e,"/page/").concat(n,"/image/").concat(i):r?"/api/edpresso/shot/".concat(r,"/image/").concat(i):o?"/api/page/".concat(o,"/image/download/").concat(i):"/api/page/".concat(t,"/").concat(n,"/image/").concat(i)},1785:function(e,t,n){"use strict";var i=n(24),r=n(108),o=n(306),a=n(135),s=n(0),l=(n(2),!!document.documentElement.currentStyle),c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},h=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],d={},u=document.createElement("textarea"),p=function(e){Object.keys(c).forEach((function(t){e.style.setProperty(t,c[t],"important")}))};function f(e,t,n,i,r){void 0===n&&(n=!1),void 0===i&&(i=null),void 0===r&&(r=null),null===u.parentNode&&document.body.appendChild(u);var o=function(e,t,n){void 0===n&&(n=!1);if(n&&d[t])return d[t];var i=window.getComputedStyle(e);if(null===i)return null;var r=h.reduce((function(e,t){return e[t]=i.getPropertyValue(t),e}),{}),o=r["box-sizing"];if(""===o)return null;l&&"border-box"===o&&(r.width=parseFloat(r.width)+parseFloat(i["border-right-width"])+parseFloat(i["border-left-width"])+parseFloat(i["padding-right"])+parseFloat(i["padding-left"])+"px");var a=parseFloat(r["padding-bottom"])+parseFloat(r["padding-top"]),s=parseFloat(r["border-bottom-width"])+parseFloat(r["border-top-width"]),c={sizingStyle:r,paddingSize:a,borderSize:s,boxSizing:o};n&&(d[t]=c);return c}(e,t,n);if(null===o)return null;var a=o.paddingSize,s=o.borderSize,c=o.boxSizing,f=o.sizingStyle;Object.keys(f).forEach((function(e){u.style[e]=f[e]})),p(u),u.value=e.value||e.placeholder||"x";var m=-1/0,g=1/0,v=u.scrollHeight;"border-box"===c?v+=s:"content-box"===c&&(v-=a),u.value="x";var b=u.scrollHeight-a,y=Math.floor(v/b);return null!==i&&(m=b*i,"border-box"===c&&(m=m+a+s),v=Math.max(m,v)),null!==r&&(g=b*r,"border-box"===c&&(g=g+a+s),v=Math.min(g,v)),{height:v,minHeight:m,maxHeight:g,rowCount:Math.floor(v/b),valueRowCount:y}}u.setAttribute("tab-index","-1"),u.setAttribute("aria-hidden","true"),p(u);var m=function(){},g=0,v=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onRef=function(e){n._ref=e;var t=n.props.inputRef;"function"!==typeof t?t.current=e:t(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e,Object(o.a)(n))},n._resizeComponent=function(e){void 0===e&&(e=m);var t=f(n._ref,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null!==t){var i=t.height,r=t.minHeight,o=t.maxHeight,a=t.rowCount,s=t.valueRowCount;n.rowCount=a,n.valueRowCount=s,n.state.height===i&&n.state.minHeight===r&&n.state.maxHeight===o?e():n.setState({height:i,minHeight:r,maxHeight:o},e)}else e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=g++,n._controlled=void 0!==t.value,n._resizeLock=!1,n}Object(a.a)(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,Object(r.a)(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=Object(i.a)({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),Object(s.createElement)("textarea",Object(i.a)({},t,{onChange:this._onChange,ref:this._onRef}))},n.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent((function(){e._resizeLock=!1})))},window.addEventListener("resize",this._resizeListener)},n.componentDidUpdate=function(e,t){e!==this.props&&this._resizeComponent(),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},n.componentWillUnmount=function(){window.removeEventListener("resize",this._resizeListener),function(e){delete d[e]}(this._uid)},t}(s.Component);v.defaultProps={inputRef:m,onChange:m,onHeightChange:m,useCacheForDOMMeasurements:!1},t.a=v},1786:function(e,t,n){"use strict";n.d(t,"t",(function(){return h})),n.d(t,"n",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"p",(function(){return f})),n.d(t,"r",(function(){return m})),n.d(t,"w",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"v",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return x})),n.d(t,"u",(function(){return w})),n.d(t,"s",(function(){return C})),n.d(t,"d",(function(){return S})),n.d(t,"h",(function(){return E})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return O})),n.d(t,"c",(function(){return T})),n.d(t,"k",(function(){return A})),n.d(t,"o",(function(){return I})),n.d(t,"j",(function(){return j})),n.d(t,"q",(function(){return P}));var i=n(1),r=n(5),o=n(21),a=n(18),s=n(12);const l=Object(i.c)(["flex-shrink:0;"]),c=Object(i.c)(["display:flex;flex-direction:column;border-radius:",";min-width:200px;justify-content:center;align-items:center;border:1px solid ",";color:",";font-size:",";"],a.x,e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.grey[600]},s.a.body),h=(i.d.div.withConfig({displayName:"styles__CatalogueStyled",componentId:"z33xdw-0"})([""]),i.d.div.withConfig({displayName:"styles__Top",componentId:"z33xdw-1"})(["display:flex;",";align-items:flex-start;justify-content:space-between;flex-wrap:wrap;margin:30px 0 20px;"],l)),d=i.d.div.withConfig({displayName:"styles__HeadingContainer",componentId:"z33xdw-2"})(["display:flex;",";flex-direction:column;margin-right:50px;"],l),u=i.d.div.withConfig({displayName:"styles__Heading",componentId:"z33xdw-3"})(["color:",";font-size:",";font-weight:",";min-height:45px;span{color:",";}"],e=>{let{theme:t}=e;return t.palette.common.black},s.a.h2,o.g,e=>{let{theme:t}=e;return t.palette.grey[400]}),p=i.d.div.withConfig({displayName:"styles__Date",componentId:"z33xdw-4"})(["color:",";font-size:",";"],e=>{let{theme:t}=e;return t.palette.grey[600]},s.a.body),f=i.d.div.withConfig({displayName:"styles__LessonsCount",componentId:"z33xdw-5"})(["display:flex;",";justify-content:center;align-items:center;color:",";font-size:",";margin-bottom:10px;svg{margin-right:7px;margin-top:-2px;}"],l,e=>{let{theme:t}=e;return t.palette.primary.main},s.a.h4),m=i.d.div.withConfig({displayName:"styles__Separator",componentId:"z33xdw-6"})(["width:100%;color:",";font-size:",";font-weight:",";padding:10px 0;background:",";border-radius:",";text-align:center;margin-top:",";margin-bottom:",";span{font-weight:",";font-size:",";}"],e=>{let{theme:t}=e;return t.palette.grey[600]},s.a.body,o.g,e=>{let{theme:t}=e;return t.palette.grey[100]},a.x,e=>e.addTopMargin?"64px":"10px",e=>e.addMargin?"48px":"10px",o.f,s.a.detail),g=i.d.div.withConfig({displayName:"styles__Wrapper",componentId:"z33xdw-7"})(["display:flex;",";align-items:flex-start;justify-content:space-between;flex-wrap:wrap;margin-bottom:10px;min-height:90px;"],l),v=i.d.div.withConfig({displayName:"styles__Feedback",componentId:"z33xdw-8"})(["",";padding:10px 0;@media (max-width:","){width:100%;margin-bottom:30px;}"],c,r.f.pixels),b=i.d.div.withConfig({displayName:"styles__Value",componentId:"z33xdw-9"})(["font-size:",";color:",";font-weight:",";margin-bottom:-7px;min-height:45px;"],s.a.h2,e=>{let{theme:t}=e;return t.palette.common.black},o.g),y=i.d.div.withConfig({displayName:"styles__Card",componentId:"z33xdw-10"})(["display:flex;",";margin-bottom:10px;"],l),_=Object(i.d)(y).withConfig({displayName:"styles__ChartViewCard",componentId:"z33xdw-11"})(["@media (max-width:","){flex-direction:column;}"],r.k.pixels),x=i.d.div.withConfig({displayName:"styles__CardHeading",componentId:"z33xdw-12"})(["color:",";font-size:",";font-weight:",";"],e=>{let{theme:t}=e;return t.palette.common.black},s.a.body,o.g),w=(i.d.div.withConfig({displayName:"styles__TotalAmount",componentId:"z33xdw-13"})(["",";height:200px;margin-left:10px;"],c),i.d.div.withConfig({displayName:"styles__Details",componentId:"z33xdw-14"})(["",";height:200px;width:100%;justify-content:space-between;flex-direction:row;"],c),i.d.div.withConfig({displayName:"styles__TotalNumber",componentId:"z33xdw-15"})(["",";height:200px;margin-left:10px;border:none;"],c)),C=i.d.div.withConfig({displayName:"styles__Tile",componentId:"z33xdw-16"})(["",";height:200px;flex:1;:nth-child(1){margin-right:10px;}:last-child{margin-right:0;}@media (max-width:","){min-width:0px;}"],c,r.f.pixels),S=Object(i.d)(C).withConfig({displayName:"styles__ChartTile",componentId:"z33xdw-17"})(["min-height:350px;min-width:75%;height:auto;"]),E=i.d.div.withConfig({displayName:"styles__CountsWrapper",componentId:"z33xdw-18"})(["@media (max-width:","){display:flex;flex-direction:row;margin-top:10px;}"],r.k.pixels),k=Object(i.d)(C).withConfig({displayName:"styles__CountTile",componentId:"z33xdw-19"})(["height:calc(50% - 5px);min-height:170px;margin-bottom:10px;min-width:170px;max-width:23%;@media (max-width:","){max-width:calc(50% - 10px);}"],r.k.pixels),O=i.d.div.withConfig({displayName:"styles__Container",componentId:"z33xdw-20"})(["margin:",";"],e=>e.margin),T=i.d.div.withConfig({displayName:"styles__CatalogueContainer",componentId:"z33xdw-21"})(["display:flex;flex-shrink:0;justify-content:center;flex-direction:column;width:100%;"]),A=i.d.div.withConfig({displayName:"styles__ErrorContainer",componentId:"z33xdw-22"})(["display:flex;flex-shrink:0;justify-content:center;align-items:center;flex-direction:column;width:100%;min-height:65px;color:",";",""],e=>{let{theme:t}=e;return t.palette.error.main},e=>e.hide&&Object(i.c)(["visibility:hidden;"])),I=i.d.div.withConfig({displayName:"styles__InfoContainer",componentId:"z33xdw-23"})(["display:flex;flex-shrink:0;justify-content:center;align-items:center;flex-direction:column;width:100%;min-height:65px;",""],e=>e.hide&&Object(i.c)(["visibility:hidden;"])),j=i.d.div.withConfig({displayName:"styles__DesktopPlaceholder",componentId:"z33xdw-24"})(["@media (max-width:","){display:none;}"],r.f.pixels),P=i.d.div.withConfig({displayName:"styles__MobilePlaceholder",componentId:"z33xdw-25"})(["@media (min-width:","){display:none;}"],r.f.pixels)},1787:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createElement("g",{id:"Widgets",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"MarkdownW",transform:"translate(-749.000000, -242.000000)",fill:"#000000",fillRule:"nonzero"},r.a.createElement("g",{id:"Group-28",transform:"translate(734.000000, 229.000000)"},r.a.createElement("g",{id:"noun_lightbulb_341254",transform:"translate(15.000000, 13.000000)"},r.a.createElement("path",{d:"M15.5,9.55851786 C17.2644397,9.55851786 18.9298594,10.2522121 20.1895112,11.5118638 C21.4491629,12.7714464 22.1428571,14.4369353 22.1428571,16.201375 C22.1428571,17.4206853 21.8368705,18.5561987 21.2333393,19.5762924 C20.6563103,20.5518237 19.8191719,21.3778906 18.8125022,21.9653683 L17.7142857,22.6062656 L17.7142857,23.8778192 L17.7142857,28.7857143 L13.2857143,28.7857143 L13.2857143,23.8778192 L13.2857143,22.6062656 L12.1874978,21.9653683 C10.1332634,20.7666094 8.85714286,18.5579286 8.85714286,16.201375 C8.85714286,14.4369353 9.55083705,12.7715156 10.8104888,11.5118638 C12.0701406,10.2522121 13.7355603,9.55851786 15.5,9.55851786 Z M14.0238326,1.47616741 L14.0238326,2.95240402 C14.0238326,3.76766877 14.6847353,4.42857143 15.5,4.42857143 L15.5,4.42857143 C16.3152647,4.42857143 16.9761674,3.76766877 16.9761674,2.95240402 L16.9761674,1.47616741 C16.9761674,0.660902662 16.3152647,-1.49761705e-16 15.5,0 L15.5,0 C14.6847353,1.49761705e-16 14.0238326,0.660902662 14.0238326,1.47616741 Z M24.2832411,7.41809933 L24.2832411,7.41809933 C24.8539033,7.98878069 25.7791289,7.98884867 26.349875,7.41825117 L26.940284,6.82799599 C27.5111565,6.25727206 27.511277,5.33182524 26.9405531,4.76095266 C26.9405198,4.76091933 26.9404864,4.760886 26.9404531,4.76085268 L26.9404531,4.76085268 C26.3697196,4.19008096 25.4443468,4.19004998 24.8735751,4.76078349 C24.8735142,4.76084436 24.8734533,4.76090523 24.8733925,4.76096611 L24.2831104,5.35141731 C23.7125125,5.92217862 23.7125711,6.8474102 24.2832411,7.41809933 Z M4.05964685,6.82792679 L4.65005576,7.41818198 C5.22080746,7.98878507 6.14603738,7.98873258 6.71672433,7.41806473 L6.71672433,7.41806473 C7.28740786,6.84740031 7.28748187,5.92217302 6.71688963,5.35141731 L6.12660753,4.76096611 C5.55591756,4.19011265 4.63051377,4.18998011 4.05966031,4.76067007 C4.05961096,4.76071941 4.05956162,4.76076874 4.05951228,4.76081808 L4.05951228,4.76081808 C3.48873312,5.33159723 3.48873312,6.25701308 4.05951228,6.82779224 C4.05955713,6.82783709 4.05960199,6.82788194 4.05964685,6.82792679 Z M6.64285714,16.201375 C6.64285714,19.449317 8.4145625,22.327404 11.0714286,23.8778884 L11.0714286,29 C11.0714286,30.1045695 11.9668591,31 13.0714286,31 L17.9285714,31 C19.0331409,31 19.9285714,30.1045695 19.9285714,29 L19.9285714,23.8778192 C22.5854375,22.327404 24.3571429,19.5227344 24.3571429,16.2013058 C24.3571429,11.330154 20.3711518,7.34423214 15.5,7.34423214 C10.6288482,7.34423214 6.64285714,11.3302232 6.64285714,16.201375 Z M26.5714286,16.2013404 L26.5714286,16.2013404 C26.5714286,17.0166243 27.2323467,17.6775424 28.0476306,17.6775424 L29.523798,17.6775424 C30.3390818,17.6775424 31,17.0166243 31,16.2013404 L31,16.2013404 C31,15.3860565 30.3390818,14.7251384 29.523798,14.7251384 L28.0476306,14.7251384 C27.2323467,14.7251384 26.5714286,15.3860565 26.5714286,16.2013404 Z M0,16.2013404 L0,16.2013404 C9.98434766e-17,17.0166243 0.660918152,17.6775424 1.47620201,17.6775424 L2.95236942,17.6775424 C3.76765328,17.6775424 4.42857143,17.0166243 4.42857143,16.2013404 L4.42857143,16.2013404 C4.42857143,15.3860565 3.76765328,14.7251384 2.95236942,14.7251384 L1.47620201,14.7251384 C0.660918152,14.7251384 -9.98434766e-17,15.3860565 0,16.2013404 Z"})))));const l=e=>{let{svgRef:t,title:n}=e,i=a(e,["svgRef","title"]);return r.a.createElement("svg",o({width:"31px",height:"31px",viewBox:"0 0 31 31",ref:t},i),n?r.a.createElement("title",null,n):null,s)},c=r.a.forwardRef((e,t)=>r.a.createElement(l,o({svgRef:t},e)));n.p},1788:function(e,t,n){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,i,r){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,i)}));case 4:return t.nextTick((function(){e.call(null,n,i,r)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(328))},1789:function(e,t,n){var i=n(1727).Buffer;function r(e){i.isBuffer(e)||(e=i.from(e));for(var t=e.length/4|0,n=new Array(t),r=0;r<t;r++)n[r]=e.readUInt32BE(4*r);return n}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,i,r){for(var o,a,s,l,c=n[0],h=n[1],d=n[2],u=n[3],p=e[0]^t[0],f=e[1]^t[1],m=e[2]^t[2],g=e[3]^t[3],v=4,b=1;b<r;b++)o=c[p>>>24]^h[f>>>16&255]^d[m>>>8&255]^u[255&g]^t[v++],a=c[f>>>24]^h[m>>>16&255]^d[g>>>8&255]^u[255&p]^t[v++],s=c[m>>>24]^h[g>>>16&255]^d[p>>>8&255]^u[255&f]^t[v++],l=c[g>>>24]^h[p>>>16&255]^d[f>>>8&255]^u[255&m]^t[v++],p=o,f=a,m=s,g=l;return o=(i[p>>>24]<<24|i[f>>>16&255]<<16|i[m>>>8&255]<<8|i[255&g])^t[v++],a=(i[f>>>24]<<24|i[m>>>16&255]<<16|i[g>>>8&255]<<8|i[255&p])^t[v++],s=(i[m>>>24]<<24|i[g>>>16&255]<<16|i[p>>>8&255]<<8|i[255&f])^t[v++],l=(i[g>>>24]<<24|i[p>>>16&255]<<16|i[f>>>8&255]<<8|i[255&m])^t[v++],[o>>>=0,a>>>=0,s>>>=0,l>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],i=[],r=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,l=0;l<256;++l){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,n[a]=c,i[c]=a;var h=e[a],d=e[h],u=e[d],p=257*e[c]^16843008*c;r[0][a]=p<<24|p>>>8,r[1][a]=p<<16|p>>>16,r[2][a]=p<<8|p>>>24,r[3][a]=p,p=16843009*u^65537*d^257*h^16843008*a,o[0][c]=p<<24|p>>>8,o[1][c]=p<<16|p>>>16,o[2][c]=p<<8|p>>>24,o[3][c]=p,0===a?a=s=1:(a=h^e[e[e[u^h]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:i,SUB_MIX:r,INV_SUB_MIX:o}}();function c(e){this._key=r(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,i=4*(n+1),r=[],o=0;o<t;o++)r[o]=e[o];for(o=t;o<i;o++){var a=r[o-1];o%t===0?(a=a<<8|a>>>24,a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t===4&&(a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a]),r[o]=r[o-t]^a}for(var c=[],h=0;h<i;h++){var d=i-h,u=r[d-(h%4?0:4)];c[h]=h<4||d<=4?u:l.INV_SUB_MIX[0][l.SBOX[u>>>24]]^l.INV_SUB_MIX[1][l.SBOX[u>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[u>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&u]]}this._nRounds=n,this._keySchedule=r,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return a(e=r(e),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=i.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},c.prototype.decryptBlock=function(e){var t=(e=r(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),o=i.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=c},1790:function(e,t,n){var i=n(1727).Buffer,r=n(1821);e.exports=function(e,t,n,o){if(i.isBuffer(e)||(e=i.from(e,"binary")),t&&(i.isBuffer(t)||(t=i.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=i.alloc(a),l=i.alloc(o||0),c=i.alloc(0);a>0||o>0;){var h=new r;h.update(c),h.update(e),t&&h.update(t),c=h.digest();var d=0;if(a>0){var u=s.length-a;d=Math.min(a,c.length),c.copy(s,u,0,d),a-=d}if(d<c.length&&o>0){var p=l.length-o,f=Math.min(o,c.length-d);c.copy(l,p,d,d+f),o-=f}}return c.fill(0),{key:s,iv:l}}},1791:function(e,t,n){"use strict";var i=n(1735),r=n(1739),o=r.getNAF,a=r.getJSF,s=r.assert;function l(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),i=o(t,1,this._bitLength),r=(1<<n.step+1)-(n.step%2===0?2:1);r/=3;for(var a=[],l=0;l<i.length;l+=n.step){var c=0;for(t=l+n.step-1;t>=l;t--)c=(c<<1)+i[t];a.push(c)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),u=r;u>0;u--){for(l=0;l<a.length;l++){(c=a[l])===u?d=d.mixedAdd(n.points[l]):c===-u&&(d=d.mixedAdd(n.points[l].neg()))}h=h.add(d)}return h.toP()},l.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var r=i.points,a=o(t,n,this._bitLength),l=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(t=0;c>=0&&0===a[c];c--)t++;if(c>=0&&t++,l=l.dblp(t),c<0)break;var h=a[c];s(0!==h),l="affine"===e.type?h>0?l.mixedAdd(r[h-1>>1]):l.mixedAdd(r[-h-1>>1].neg()):h>0?l.add(r[h-1>>1]):l.add(r[-h-1>>1].neg())}return"affine"===e.type?l.toP():l},l.prototype._wnafMulAdd=function(e,t,n,i,r){for(var s=this._wnafT1,l=this._wnafT2,c=this._wnafT3,h=0,d=0;d<i;d++){var u=(E=t[d])._getNAFPoints(e);s[d]=u.wnd,l[d]=u.points}for(d=i-1;d>=1;d-=2){var p=d-1,f=d;if(1===s[p]&&1===s[f]){var m=[t[p],null,null,t[f]];0===t[p].y.cmp(t[f].y)?(m[1]=t[p].add(t[f]),m[2]=t[p].toJ().mixedAdd(t[f].neg())):0===t[p].y.cmp(t[f].y.redNeg())?(m[1]=t[p].toJ().mixedAdd(t[f]),m[2]=t[p].add(t[f].neg())):(m[1]=t[p].toJ().mixedAdd(t[f]),m[2]=t[p].toJ().mixedAdd(t[f].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=a(n[p],n[f]);h=Math.max(v[0].length,h),c[p]=new Array(h),c[f]=new Array(h);for(var b=0;b<h;b++){var y=0|v[0][b],_=0|v[1][b];c[p][b]=g[3*(y+1)+(_+1)],c[f][b]=0,l[p]=m}}else c[p]=o(n[p],s[p],this._bitLength),c[f]=o(n[f],s[f],this._bitLength),h=Math.max(c[p].length,h),h=Math.max(c[f].length,h)}var x=this.jpoint(null,null,null),w=this._wnafT4;for(d=h;d>=0;d--){for(var C=0;d>=0;){var S=!0;for(b=0;b<i;b++)w[b]=0|c[b][d],0!==w[b]&&(S=!1);if(!S)break;C++,d--}if(d>=0&&C++,x=x.dblp(C),d<0)break;for(b=0;b<i;b++){var E,k=w[b];0!==k&&(k>0?E=l[b][k-1>>1]:k<0&&(E=l[b][-k-1>>1].neg()),x="affine"===E.type?x.mixedAdd(E):x.add(E))}}for(d=0;d<i;d++)l[d]=null;return r?x:x.toP()},l.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(e,t){e=r.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*n)return 6===e[0]?s(e[e.length-1]%2===0):7===e[0]&&s(e[e.length-1]%2===1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return r.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,r=0;r<t;r+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=1===n?null:this.dbl(),r=1;r<n;r++)t[r]=t[r-1].add(i);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},1792:function(e,t,n){var i=n(2086),r=n(2097),o=n(2098),a=n(1830),s=n(1893),l=n(1727).Buffer;function c(e){var t;"object"!==typeof e||l.isBuffer(e)||(t=e.passphrase,e=e.key),"string"===typeof e&&(e=l.from(e));var n,c,h=o(e,t),d=h.tag,u=h.data;switch(d){case"CERTIFICATE":c=i.certificate.decode(u,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=i.PublicKey.decode(u,"der")),n=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=i.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+d);case"ENCRYPTED PRIVATE KEY":u=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=r[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,h=e.subjectPrivateKey,d=parseInt(o.split("-")[1],10)/8,u=s.pbkdf2Sync(t,n,i,d,"sha1"),p=a.createDecipheriv(o,u,c),f=[];return f.push(p.update(h)),f.push(p.final()),l.concat(f)}(u=i.EncryptedPrivateKey.decode(u,"der"),t);case"PRIVATE KEY":switch(n=(c=i.PrivateKey.decode(u,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:i.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=i.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+d);case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(u,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(u,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(u,"der")};case"EC PRIVATE KEY":return{curve:(u=i.ECPrivateKey.decode(u,"der")).parameters.value,privateKey:u.privateKey};default:throw new Error("unknown key type "+d)}}e.exports=c,c.signature=i.signature},1794:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1804),a=n(129),s=n.n(a),l=n(650);class c extends i.Component{constructor(){super(...arguments),this.state={capturingEnabled:!1},this.htmlInjected=!1,this.resultFrame=r.a.createRef(),this.onIFrameKeydown=e=>{var t,n,i;if(null===(t=this.resultFrame.current)||void 0===t?void 0:null===(n=t.contentWindow)||void 0===n?void 0:null===(i=n.document)||void 0===i?void 0:i.scrollingElement){const{clientHeight:t,scrollTop:n,scrollHeight:i}=this.resultFrame.current.contentWindow.document.scrollingElement;(e.keyCode===s.a.codes.down&&t+n===i||e.keyCode===s.a.codes.up&&0===n)&&(e.preventDefault(),e.stopPropagation())}},this.initConsoleCapturing=e=>{this.setState({capturingEnabled:!0});const t=this;e&&e.contentWindow.console&&(["log","info","debug","warn","error"].forEach(n=>{const i=e.contentWindow.console[n];e.contentWindow.console[n]=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];const s=Array.from(o).map(e=>(null===e||void 0===e?void 0:e.persist)?{name:"event",type:e.type,target:e.target,timeStamp:e.timeStamp}:e);t.props.captureIFrameLogs&&t.props.captureIFrameLogs({messages:s,type:n}),i.apply(e.contentWindow.console,o)}}),e.contentWindow.onerror=t=>{e.contentWindow.console.error(t)})},this.handleResize=()=>{this.scaleIFrame()}}componentDidMount(){const e=this.resultFrame.current;e&&(this.state.capturingEnabled||this.initConsoleCapturing(e),e.onload=()=>{var t,n,i;null===(t=e.contentDocument)||void 0===t||t.addEventListener("keydown",this.onIFrameKeydown),this.scaleIFrame.call(this,!0),null===(n=(i=this.props).onIFrameLoad)||void 0===n||n.call(i,e)})}shouldComponentUpdate(e){return this.props.html!==e.html||!this.htmlInjected}componentDidUpdate(){const e=this.resultFrame.current;e&&this.props.html&&(e.contentWindow.document.open(),e.contentWindow.document.write(this.props.html.replace("<script",'<script nonce="'.concat(nonce,'"'))),e.contentWindow.document.close(),this.htmlInjected=!0)}scaleIFrame(){var e,t,n,i;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(null===(e=this.resultFrame)||void 0===e?void 0:null===(t=e.current)||void 0===t?void 0:null===(n=t.contentWindow)||void 0===n?void 0:null===(i=n.document)||void 0===i?void 0:i.hasOwnProperty("body")))return;const o=this.resultFrame.current;o.style.width="100%";const a=o.parentNode,s=a.parentNode.offsetWidth,l=o.contentWindow.document.body.scrollWidth,c=o.contentWindow.document.body.scrollHeight,h=this.props.responsive&&!(s>=l);if(!h&&!r)return;const d=s/l;a.parentNode.style.overflow=h?"auto":"",a.style.overflow="hidden",a.style.height=h?"".concat(Math.trunc(c*d),"px"):"100%",o.style.width=h?"".concat(l,"px"):"100%",o.style.height=h?"".concat(c,"px"):"100%",o.style.transform=h?"scale(".concat(d,")"):"",o.style["transform-origin"]=h?"0 0":""}componentWillUnmount(){var e,t;null===(e=this.resultFrame.current)||void 0===e||null===(t=e.contentDocument)||void 0===t||t.removeEventListener("keydown",this.onIFrameKeydown)}render(){const{html:e,link:t,name:n}=this.props;let{height:i,width:a}=this.props;if(!e&&!t)return r.a.createElement("div",null);const s={src:t||void 0};"number"===typeof i&&(i+="px"),"number"===typeof a&&(a+="px");const l={height:i,width:a};return r.a.createElement(o.a,{bound:!0,onResize:this.handleResize},e=>{let{measureRef:t}=e;return r.a.createElement("div",{ref:t,style:l},r.a.createElement("div",{style:{height:"100%",border:"1px solid ".concat(this.props.theme.palette.grey[300])}},r.a.createElement("iframe",Object.assign({title:"output-iframe",key:this.props.html},s,{name:n||null,style:{border:"none",height:"100%",width:"100%"},ref:this.resultFrame}))))})}}c.defaultProps={html:"",link:null,responsive:!0,width:"100%",height:150},t.a=Object(l.a)(c)},1795:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1511),a=n(1),s=n(416),l=n(5);var c=Object(a.d)(s.a).attrs({small:!0,purple:!0}).withConfig({displayName:"styles__RunCodeButtonStyled",componentId:"na3yqe-0"})(["width:100px;@media (max-width:","){margin:10px 0;}@media (max-width:","){svg{margin:0px 0px -5px -8px;}}"],l.f.pixels,l.m.pixels);t.a=e=>{let{executionDisabled:t,onClick:n,pollingBundleStatus:i,title:a}=e;return r.a.createElement(c,{disabled:t||i,onClick:n,"aria-label":"run code"},r.a.createElement(o.a,{size:20}),r.a.createElement("span",null,a||"RUN"))}},1796:function(e,t,n){"use strict";var i=n(0),r=n(57),o=n.n(r),a=n(1749),s=n(64),l=n(1);function c(){const e=Object(s.a)(["\n    .modal-fullscreen {\n        .modal-dialog{\n            width: 100%;\n            height: 100%;\n            margin: 0;\n\n            .modal-content{\n                height: 100%;\n                overflow-y: auto;\n                border: 0;\n                border-radius: 0;\n            }\n\n            .modal-body {\n                position: absolute;\n                padding: 15px;\n                bottom: 61px;\n                top: 61px;\n                left: 0;\n                right: 0;    \n\n                &.without-footer{\n                    bottom: 0;\n                }        \n            }\n\n            .modal-footer{\n                position: absolute;\n                bottom: 0;\n                width: 100%;\n            }\n        }\n    }\n"]);return c=function(){return e},e}var h=Object(l.b)(c());n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return d}));const d=e=>{let{className:t,children:n}=e;const r={className:[t,"modal-footer"].join(" ")};return i.createElement("div",r,n)},u=e=>{let{className:t,children:n}=e;const r={className:[t,"modal-body"].join(" ")};return i.createElement("div",r,n)},p=e=>{let{className:t,children:n}=e;const r={className:[t,"modal-header"].join(" ")};return i.createElement("div",r,n)};function f(){const e=document.querySelector("body");e.classList.remove("modal-open");const t=e.querySelector(".modal-backdrop");e.removeChild(t)}class m extends i.Component{constructor(){super(...arguments),this.state={styles:{}}}componentWillUnmount(){f()}close(){this.props.onHide(),f();this.setState({styles:{display:"none"}},this.props.onHidden),a.a.remove()}open(){this.props.onShow();this.setState({styles:{display:"block"}},this.props.onShown),document.querySelector("html").style.overflow="hidden",document.querySelector("body").style.overflow="hidden"}render(){const e=o()({"modal-dialog":!0,"modal-lg":this.props.lg,"modal-sm":this.props.sm}),t=o()({modal:!0,fade:!0,in:"block"===this.state.styles.display,out:"none"===this.state.styles.display}),n={role:"dialog",tabIndex:"-1",style:this.state.styles,className:[this.props.className,!0===this.props.fullscreen&&"modal-fullscreen",t.trim()].join(" ")};return i.createElement(i.Fragment,null,i.createElement(h,null),i.createElement("div",n,i.createElement("div",{className:e.trim()},i.createElement("div",{className:"modal-content"},this.props.children))))}}m.defaultProps={onShow(){},onShown(){},onHide(){},onHidden(){}}},1797:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));const i={line:{type:"line",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[0,10,5,2,20,30,45]}]},options:{}},bar:{type:"bar",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Dataset 1",borderWidth:1,data:["1","2","3","4","5","6","7"]},{label:"Dataset 2",borderWidth:1,data:["1","2","3","4","5","6","7"]}]},options:{responsive:!0,legend:{position:"top"},title:{display:!0,text:"Chart.js Bar Chart"}}},column:{type:"bar",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Dataset 1",yAxisID:"y-axis-1",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:["1","2","3","4","5","6","7"]},{label:"Dataset 2",yAxisID:"y-axis-2",data:["1","2","3","4","5","6","7"]}]},options:{responsive:!0,title:{display:!0,text:"Chart.js Bar Chart - Multi Axis"},tooltips:{mode:"index",intersect:!0},scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1"},{type:"linear",display:!0,position:"right",id:"y-axis-2",gridLines:{drawOnChartArea:!1}}]}}},area:{type:"line",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgb(255, 99, 132)",data:["1","32","-33","45","5","-6","7"]},{label:"My Second dataset",backgroundColor:"rgba(32, 99, 132, 0.5)",borderColor:"rgb(32, 99, 132)",data:["11","-2","23","4","-5","6","7"]}]},options:{responsive:!0,title:{display:!0,text:"Chart.js Line Chart - Stacked Area"},tooltips:{mode:"index"},hover:{mode:"index"},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Month"}}],yAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Value"}}]}}},pie:{type:"pie",data:{datasets:[{data:["1","2","3","4","5"],backgroundColor:["red","orange","yellow","green","blue"],label:"Dataset 1"}],labels:["Red","Orange","Yellow","Green","Blue"]},options:{responsive:!0}},scatter3d:{data:[{x:[10,2,3,4,5,6],y:[2,6,3,9,3,2],z:[7,8,9,8,2,5],mode:"markers",marker:{color:"green",size:12,symbol:"circle",line:{color:"rgb(204, 204, 204)",width:1},opacity:.9},type:"scatter3d"}],layout:{dragmode:!0,margin:{l:0,r:0,b:0,t:0},autosize:!0},frames:[],config:{responsive:!0}}},r=e=>JSON.stringify(i[e],void 0,2);t.a={config:r("line"),type:"line"}},1798:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(0),r=n.n(i),o=n(50),a=n(55);const s=Object(o.a)({resolved:{},chunkName:()=>"react-plotly.js",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Object(a.a)(()=>n.e(104).then(n.t.bind(null,1860,7))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 1860}},{fallback:r.a.createElement("div",null,"Loading...")});class l extends i.Component{render(){if(!this.props.config)return r.a.createElement("div",null,"Invalid config!");const{data:e,layout:t,frames:n,config:i}=this.props.config;return r.a.createElement(s,{data:e,layout:t,frames:n,config:i,onInitialized:e=>this.setState(e),style:{height:"450px"},onUpdate:e=>this.setState(e)})}}l.defaultProps={farmes:[],config:{}}},1799:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(0),r=n.n(i),o=n(818),a=n(1818),s=n(1730);class l extends i.Component{constructor(e){super(e),this.prevButtonClicked=()=>{const{index:e}=this.state;e>0&&this.setState({index:e-1})},this.nextButtonClicked=()=>{const{index:e,count:t}=this.state;e<t-1&&this.setState({index:e+1})},this.state={index:0,count:e.judgeHints?e.judgeHints.length:0}}render(){const{judgeHints:e}=this.props,{index:t,count:n}=this.state;let i="";if(!(n>0&&n>t&&e&&e[t]))return null;i=e[t].html;const l=0===t||1===n,c=t===n-1||1===n;return r.a.createElement(a.e,{className:this.props.className,addTopMargin:!0},r.a.createElement(a.a,null,r.a.createElement(s.a,{caption:"Hint ".concat(t+1," of ").concat(n),readOnly:!0,inCode:!0})),r.a.createElement(a.f,null,r.a.createElement(a.d,{disabled:l,onClick:this.prevButtonClicked}),r.a.createElement(a.b,null,r.a.createElement(o.a,{mdHtml:i})),r.a.createElement(a.c,{disabled:c,onClick:this.nextButtonClicked})))}}},1800:function(e,t,n){e.exports=r;var i=n(1822).EventEmitter;function r(){i.call(this)}n(1726)(r,i),r.Readable=n(1823),r.Writable=n(2035),r.Duplex=n(2036),r.Transform=n(2037),r.PassThrough=n(2038),r.Stream=r,r.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){if(h(),0===i.listenerCount(this,"error"))throw e}function h(){n.removeListener("data",r),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",h),n.removeListener("close",h),e.removeListener("close",h)}return n.on("error",c),e.on("error",c),n.on("end",h),n.on("close",h),e.on("close",h),e.emit("pipe",n),e}},1801:function(e,t,n){!function(t,i){var r;e.exports=(r=n(1731),function(){var e=r,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)r.push(i.charAt(a>>>6*(3-s)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var n=e.length,i=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<i.length;o++)r[i.charCodeAt(o)]=o}var a=i.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(n=s)}return function(e,n,i){for(var r=[],o=0,a=0;a<n;a++)if(a%4){var s=i[e.charCodeAt(a-1)]<<a%4*2,l=i[e.charCodeAt(a)]>>>6-a%4*2,c=s|l;r[o>>>2]|=c<<24-o%4*8,o++}return t.create(r,o)}(e,n,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)}()},1802:function(e,t,n){!function(t,i){var r;e.exports=(r=n(1731),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,a=e[t+0],l=e[t+1],p=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],b=e[t+7],y=e[t+8],_=e[t+9],x=e[t+10],w=e[t+11],C=e[t+12],S=e[t+13],E=e[t+14],k=e[t+15],O=o[0],T=o[1],A=o[2],I=o[3];O=c(O,T,A,I,a,7,s[0]),I=c(I,O,T,A,l,12,s[1]),A=c(A,I,O,T,p,17,s[2]),T=c(T,A,I,O,f,22,s[3]),O=c(O,T,A,I,m,7,s[4]),I=c(I,O,T,A,g,12,s[5]),A=c(A,I,O,T,v,17,s[6]),T=c(T,A,I,O,b,22,s[7]),O=c(O,T,A,I,y,7,s[8]),I=c(I,O,T,A,_,12,s[9]),A=c(A,I,O,T,x,17,s[10]),T=c(T,A,I,O,w,22,s[11]),O=c(O,T,A,I,C,7,s[12]),I=c(I,O,T,A,S,12,s[13]),A=c(A,I,O,T,E,17,s[14]),O=h(O,T=c(T,A,I,O,k,22,s[15]),A,I,l,5,s[16]),I=h(I,O,T,A,v,9,s[17]),A=h(A,I,O,T,w,14,s[18]),T=h(T,A,I,O,a,20,s[19]),O=h(O,T,A,I,g,5,s[20]),I=h(I,O,T,A,x,9,s[21]),A=h(A,I,O,T,k,14,s[22]),T=h(T,A,I,O,m,20,s[23]),O=h(O,T,A,I,_,5,s[24]),I=h(I,O,T,A,E,9,s[25]),A=h(A,I,O,T,f,14,s[26]),T=h(T,A,I,O,y,20,s[27]),O=h(O,T,A,I,S,5,s[28]),I=h(I,O,T,A,p,9,s[29]),A=h(A,I,O,T,b,14,s[30]),O=d(O,T=h(T,A,I,O,C,20,s[31]),A,I,g,4,s[32]),I=d(I,O,T,A,y,11,s[33]),A=d(A,I,O,T,w,16,s[34]),T=d(T,A,I,O,E,23,s[35]),O=d(O,T,A,I,l,4,s[36]),I=d(I,O,T,A,m,11,s[37]),A=d(A,I,O,T,b,16,s[38]),T=d(T,A,I,O,x,23,s[39]),O=d(O,T,A,I,S,4,s[40]),I=d(I,O,T,A,a,11,s[41]),A=d(A,I,O,T,f,16,s[42]),T=d(T,A,I,O,v,23,s[43]),O=d(O,T,A,I,_,4,s[44]),I=d(I,O,T,A,C,11,s[45]),A=d(A,I,O,T,k,16,s[46]),O=u(O,T=d(T,A,I,O,p,23,s[47]),A,I,a,6,s[48]),I=u(I,O,T,A,b,10,s[49]),A=u(A,I,O,T,E,15,s[50]),T=u(T,A,I,O,g,21,s[51]),O=u(O,T,A,I,C,6,s[52]),I=u(I,O,T,A,f,10,s[53]),A=u(A,I,O,T,x,15,s[54]),T=u(T,A,I,O,l,21,s[55]),O=u(O,T,A,I,y,6,s[56]),I=u(I,O,T,A,k,10,s[57]),A=u(A,I,O,T,v,15,s[58]),T=u(T,A,I,O,S,21,s[59]),O=u(O,T,A,I,m,6,s[60]),I=u(I,O,T,A,w,10,s[61]),A=u(A,I,O,T,p,15,s[62]),T=u(T,A,I,O,_,21,s[63]),o[0]=o[0]+O|0,o[1]=o[1]+T|0,o[2]=o[2]+A|0,o[3]=o[3]+I|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var o=e.floor(i/4294967296),a=i;n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var h=l[c];l[c]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,i,r,o,a){var s=e+(t&n|~t&i)+r+a;return(s<<o|s>>>32-o)+t}function h(e,t,n,i,r,o,a){var s=e+(t&i|n&~i)+r+a;return(s<<o|s>>>32-o)+t}function d(e,t,n,i,r,o,a){var s=e+(t^n^i)+r+a;return(s<<o|s>>>32-o)+t}function u(e,t,n,i,r,o,a){var s=e+(n^(t|~i))+r+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(l),t.HmacMD5=o._createHmacHelper(l)}(Math),r.MD5)}()},1808:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"List",(function(){return u})),n.d(i,"ListItem",(function(){return p})),n.d(i,"Title",(function(){return f})),n.d(i,"Description",(function(){return m})),n.d(i,"Price",(function(){return g})),n.d(i,"PriceCalcStr",(function(){return v})),n.d(i,"Total",(function(){return b})),n.d(i,"Total_Title",(function(){return y})),n.d(i,"Total_Price",(function(){return _})),n.d(i,"default",(function(){return x}));var r={};n.r(r),n.d(r,"Form",(function(){return T})),n.d(r,"Link",(function(){return A})),n.d(r,"Entered",(function(){return I})),n.d(r,"Title",(function(){return j})),n.d(r,"CouponCode",(function(){return P})),n.d(r,"DiscountPrice",(function(){return M})),n.d(r,"Cancel",(function(){return R})),n.d(r,"ErrorText",(function(){return D})),n.d(r,"RedeemButton",(function(){return L})),n.d(r,"Message",(function(){return N})),n.d(r,"default",(function(){return B}));var o={};n.r(o),n.d(o,"Form",(function(){return H})),n.d(o,"Link",(function(){return U})),n.d(o,"Entered",(function(){return q})),n.d(o,"Title",(function(){return W})),n.d(o,"Redeemed",(function(){return V})),n.d(o,"DiscountPrice",(function(){return G})),n.d(o,"Cancel",(function(){return K})),n.d(o,"ErrorText",(function(){return Y})),n.d(o,"CreditButton",(function(){return X})),n.d(o,"default",(function(){return J}));var a=n(1),s=n(58),l=n(18),c=n(21),h=n(12);const d=a.d.div.withConfig({displayName:"Invoice",componentId:"sc-11cq4hm-0"})(["font-size:",";margin:20px 0;"],h.a.textLarge),u=a.d.ul.withConfig({displayName:"Invoice__List",componentId:"sc-11cq4hm-1"})(["padding-left:0px;list-style:none;font-size:",";"],h.a.detail),p=a.d.li.withConfig({displayName:"Invoice__ListItem",componentId:"sc-11cq4hm-2"})(["display:flex;justify-content:space-between;margin:0 10px 15px 10px;align-items:baseline;"]),f=a.d.span.withConfig({displayName:"Invoice__Title",componentId:"sc-11cq4hm-3"})(["display:inline-block;margin-right:15px;"]),m=a.d.span.withConfig({displayName:"Invoice__Description",componentId:"sc-11cq4hm-4"})(["display:inline-block;margin-right:15px;font-size:10px;"]),g=a.d.span.withConfig({displayName:"Invoice__Price",componentId:"sc-11cq4hm-5"})(["flex:0 0 auto;display:inline-block;"]),v=a.d.span.withConfig({displayName:"Invoice__PriceCalcStr",componentId:"sc-11cq4hm-6"})(["font-size:12px;"]),b=a.d.div.withConfig({displayName:"Invoice__Total",componentId:"sc-11cq4hm-7"})(["margin:0 10px;font-size:",";display:flex;justify-content:space-between;align-items:baseline;"],h.a.detail),y=a.d.span.withConfig({displayName:"Invoice__Total_Title",componentId:"sc-11cq4hm-8"})(["font-size:",";font-weight:",";"],h.a.h4,c.f),_=a.d.span.withConfig({displayName:"Invoice__Total_Price",componentId:"sc-11cq4hm-9"})(["font-weight:",";font-size:",";"],c.b,h.a.textLarge);var x=d,w=n(531),C=n(816),S=n(309);const E=h.a.textLarge,k=()=>"\n  font-style: normal;\n  font-weight: ".concat(c.f,";\n  font-size: ").concat(E,";\n  vertical-align: middle;\n  "),O=a.d.div.withConfig({displayName:"RedeemCoupon",componentId:"oq9w36-0"})(["margin:20px 0px;"]),T=a.d.form.withConfig({displayName:"RedeemCoupon__Form",componentId:"oq9w36-1"})(["display:flex;flex-flow:row nowrap;background:",";border:1px solid ",";border-radius:",";input{color:",";margin-left:6px;align-self:center;font-size:",";border-radius:",";}",";.form-control{",";}"],e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.grey[200]},l.r,e=>{let{theme:t}=e;return t.palette.common.black},E,l.r,"\n  input:-webkit-autofill,\n  input:-webkit-autofill:hover, \n  input:-webkit-autofill:focus\n  textarea:-webkit-autofill,\n  textarea:-webkit-autofill:hover\n  textarea:-webkit-autofill:focus,\n  select:-webkit-autofill,\n  select:-webkit-autofill:hover,\n  select:-webkit-autofill:focus {\n    -webkit-box-shadow: 0 0 0px 1000px ".concat(e=>{let{theme:t}=e;return t.palette.common.white}," inset !important;\n    transition: background-color 5000s ease-in-out 0s !important;\n  }\n"),"\n  &::-webkit-input-placeholder {\n    ".concat(k(),";\n  }\n\n  &:-moz-placeholder { /* Firefox 18- */\n    ").concat(k(),";\n  }\n\n  &::-moz-placeholder {  /* Firefox 19+ */\n    ").concat(k(),";\n  }\n\n  &:-ms-input-placeholder {\n    ").concat(k(),";\n  }\n"));const A=Object(a.d)(S.a).attrs({as:"p"}).withConfig({displayName:"RedeemCoupon__Link",componentId:"oq9w36-2"})(["margin-left:10px;color:",";&:hover,:focus{color:",";}"],e=>{let{theme:t}=e;return t.palette.success.main},e=>{let{theme:t}=e;return t.palette.common.black}),I=a.d.div.withConfig({displayName:"RedeemCoupon__Entered",componentId:"oq9w36-3"})([".fa{margin-left:3px;cursor:pointer;font-size:",";vertical-align:middle;&:hover{color:",";}}"],h.a.textSmall,e=>{let{theme:t}=e;return t.palette.common.black}),j=a.d.span.withConfig({displayName:"RedeemCoupon__Title",componentId:"oq9w36-4"})(["font-size:",";color:",";margin-right:5px;vertical-align:middle;"],h.a.textMedium,e=>{let{theme:t}=e;return t.palette.grey[700]}),P=a.d.span.withConfig({displayName:"RedeemCoupon__CouponCode",componentId:"oq9w36-5"})(["font-size:",";color:",";vertical-align:middle;"],h.a.textMedium,e=>{let{theme:t}=e;return t.palette.success.main}),M=a.d.span.withConfig({displayName:"RedeemCoupon__DiscountPrice",componentId:"oq9w36-6"})(["float:right;font-size:",";"],h.a.textLarge),R=Object(a.d)(w.a).attrs({icon:C.m}).withConfig({displayName:"RedeemCoupon__Cancel",componentId:"oq9w36-7"})(["margin-left:3px;cursor:pointer;font-size:",";color:",";vertical-align:middle;&:hover{color:",";}"],h.a.textSmall,e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.common.black}),D=a.d.p.withConfig({displayName:"RedeemCoupon__ErrorText",componentId:"oq9w36-8"})(["font-size:",";color:",";"],h.a.textSmall,e=>{let{theme:t}=e;return t.palette.error.main}),L=Object(a.d)(s.a).attrs({small:!0,success:!0}).withConfig({displayName:"RedeemCoupon__RedeemButton",componentId:"oq9w36-9"})(["border-color:",";:hover{border-color:",";}"],e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.common.white}),N=a.d.p.withConfig({displayName:"RedeemCoupon__Message",componentId:"oq9w36-10"})(["font-size:",";color:",";vertical-align:middle;"],h.a.textMedium,e=>{let{theme:t}=e;return t.palette.grey[700]});var B=O;const F=()=>"\n  font-style: normal;\n  font-weight: 400;\n  font-size: ".concat("14px",";\n  vertical-align: middle;\n  "),z=a.d.div.withConfig({displayName:"RedeemCredit",componentId:"ke9xkv-0"})(["margin:20px 0px;"]),H=a.d.form.withConfig({displayName:"RedeemCredit__Form",componentId:"ke9xkv-1"})(["display:flex;flex-flow:row nowrap;background:",";border:1px solid ",";border-radius:",";input{color:",";margin-left:6px;align-self:center;font-size:",";border-radius:",";}",";.form-control{",";}"],e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.grey[200]},l.r,e=>{let{theme:t}=e;return t.palette.common.black},"14px",l.r,(e=>"\n  input:-webkit-autofill,\n  input:-webkit-autofill:hover, \n  input:-webkit-autofill:focus\n  textarea:-webkit-autofill,\n  textarea:-webkit-autofill:hover\n  textarea:-webkit-autofill:focus,\n  select:-webkit-autofill,\n  select:-webkit-autofill:hover,\n  select:-webkit-autofill:focus {\n    -webkit-box-shadow: 0 0 0px 1000px ".concat(e," inset !important;\n    transition: background-color 5000s ease-in-out 0s !important;\n  }\n"))(e=>{let{theme:t}=e;return t.palette.common.white}),"\n  &::-webkit-input-placeholder {\n    ".concat(F(),";\n  }\n\n  &:-moz-placeholder { /* Firefox 18- */\n    ").concat(F(),";\n  }\n\n  &::-moz-placeholder {  /* Firefox 19+ */\n    ").concat(F(),";\n  }\n\n  &:-ms-input-placeholder {\n    ").concat(F(),";\n  }\n")),U=a.d.span.withConfig({displayName:"RedeemCredit__Link",componentId:"ke9xkv-2"})(["margin-left:10px;color:",";&:hover,:focus{cursor:pointer;color:",";}"],e=>{let{theme:t}=e;return t.palette.success.main},e=>{let{theme:t}=e;return t.palette.common.black}),q=a.d.div.withConfig({displayName:"RedeemCredit__Entered",componentId:"ke9xkv-3"})([".fa{margin-left:3px;cursor:pointer;font-size:10px;vertical-align:middle;&:hover{color:",";}}"],e=>{let{theme:t}=e;return t.palette.common.black}),W=a.d.span.withConfig({displayName:"RedeemCredit__Title",componentId:"ke9xkv-4"})(["font-size:12px;color:",";margin-right:5px;vertical-align:middle;"],e=>{let{theme:t}=e;return t.palette.grey[700]}),V=a.d.span.withConfig({displayName:"RedeemCredit__Redeemed",componentId:"ke9xkv-5"})(["font-size:12px;color:",";vertical-align:middle;"],e=>{let{theme:t}=e;return t.palette.success.main}),G=a.d.span.withConfig({displayName:"RedeemCredit__DiscountPrice",componentId:"ke9xkv-6"})(["float:right;font-size:14px;"]),K=Object(a.d)(w.a).attrs({icon:C.m}).withConfig({displayName:"RedeemCredit__Cancel",componentId:"ke9xkv-7"})(["margin-left:3px;cursor:pointer;font-size:10px;color:",";vertical-align:middle;&:hover{color:",";}"],e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.common.black}),Y=a.d.p.withConfig({displayName:"RedeemCredit__ErrorText",componentId:"ke9xkv-8"})(["font-size:10px;color:",";"],e=>{let{theme:t}=e;return t.palette.error.main}),X=Object(a.d)(s.a).attrs({small:!0,success:!0}).withConfig({displayName:"RedeemCredit__CreditButton",componentId:"ke9xkv-9"})(["border-color:",";:hover{border-color:",";}"],e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.common.white});var J=z;n.d(t,"Container",(function(){return Z})),n.d(t,"BuyButton",(function(){return Q})),n.d(t,"ShowWorkListButton",(function(){return ee})),n.d(t,"PaymentsByBrainTree",(function(){return te})),n.d(t,"Label",(function(){return ne})),n.d(t,"Input",(function(){return ie})),n.d(t,"WorkList",(function(){return re})),n.d(t,"Work",(function(){return oe})),n.d(t,"Work_Price",(function(){return ae})),n.d(t,"Invoice",(function(){return i})),n.d(t,"RedeemCoupon",(function(){return r})),n.d(t,"RedeemCredit",(function(){return o}));const $=a.d.div.withConfig({displayName:"CheckoutForm",componentId:"sc-1ef67o0-0"})(["display:flex;flex-direction:column;align-items:center;position:relative;flex:1 0 auto;max-height:800px;",""],e=>e.hide&&Object(a.c)(["display:none;"])),Z=a.d.div.withConfig({displayName:"CheckoutForm__Container",componentId:"sc-1ef67o0-1"})(["display:flex;flex-direction:column;flex-wrap:nowrap;max-width:321px;width:100%;"]),Q=Object(a.d)(s.a).attrs({large:!0,success:!0}).withConfig({displayName:"CheckoutForm__BuyButton",componentId:"sc-1ef67o0-2"})(["max-width:331px;width:90%;margin:25px 10px 0 10px;"]),ee=Object(a.d)(s.a).attrs({small:!0,info:!0}).withConfig({displayName:"CheckoutForm__ShowWorkListButton",componentId:"sc-1ef67o0-3"})(["max-width:200px;width:90%;margin:25px 65px 20px 65px;"]),te=a.d.a.withConfig({displayName:"CheckoutForm__PaymentsByBrainTree",componentId:"sc-1ef67o0-4"})(["align-self:center;margin:10px 0px;"]),ne=a.d.label.withConfig({displayName:"CheckoutForm__Label",componentId:"sc-1ef67o0-5"})(["margin-top:5px;"]),ie=a.d.input.withConfig({displayName:"CheckoutForm__Input",componentId:"sc-1ef67o0-6"})(["border-radius:",";border:1px solid ",";outline:none;padding:5px 0px 5px 10px;"],l.v,e=>{let{theme:t}=e;return t.palette.grey[600]}),re=a.d.ul.withConfig({displayName:"CheckoutForm__WorkList",componentId:"sc-1ef67o0-7"})(["padding:0px 10px;"]),oe=a.d.li.withConfig({displayName:"CheckoutForm__Work",componentId:"sc-1ef67o0-8"})(["display:flex;"]),ae=a.d.div.withConfig({displayName:"CheckoutForm__Work_Price",componentId:"sc-1ef67o0-9"})(["margin-left:auto;"]);t.default=$},1809:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(533),a="draggable";const s={beginDrag:function(e){return{parentIndex:e.parentIndex,index:e.index}},canDrag:function(){return!0}};var l=n(88);const c={hover:function(e,t,n){const i=t.getItem().index,r=e.index;if(!function(e,t,n,i){if(n===i)return!1;const r=Object(l.findDOMNode)(e).getBoundingClientRect(),o=(r.bottom-r.top)/2,a=r.bottom-r.top-o,s=t.getClientOffset().y-r.top;if(n<i&&s<a/4)return!1;if(n>i&&s>o)return!1;return!0}(n,t,i,r))return;const o={itemIndex:i},a={itemIndex:r};e.moveItem(o,a),t.getItem().index=r}};const h=Object(o.DropTarget)(a,c,(e,t)=>({connectDropTarget:e.dropTarget(),canDrop:t.canDrop()}))(Object(o.DragSource)(a,s,(e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()}))(class extends i.Component{render(){const{ListItemJSX:e,connectDragSource:t,connectDropTarget:n,onClick:i}=this.props;return t(n(r.a.createElement("div",{onClick:i,className:this.props.class},e)))}}));t.a=h},1811:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return d}));const i=6,r=50,o=6,a=20,s=2,l=50,c=256,h=8192,d=2048},1812:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=c(o),s=c(n(2)),l=c(n(1762));function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){return h(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.cell,n=e.row,r=e.col,o=e.attributesRenderer,s=e.className,l=e.style,c=e.onMouseDown,h=e.onMouseOver,d=e.onDoubleClick,u=e.onContextMenu,p=t.colSpan,f=t.rowSpan,m=o?o(t,n,r):{};return a.default.createElement("td",i({className:s,onMouseDown:c,onMouseOver:h,onDoubleClick:d,onTouchEnd:d,onContextMenu:u,colSpan:p,rowSpan:f,style:l},m),this.props.children)}}]),t}(o.PureComponent);t.default=u,u.propTypes={row:s.default.number.isRequired,col:s.default.number.isRequired,cell:s.default.shape(l.default).isRequired,selected:s.default.bool,editing:s.default.bool,updated:s.default.bool,attributesRenderer:s.default.func,onMouseDown:s.default.func.isRequired,onMouseOver:s.default.func.isRequired,onDoubleClick:s.default.func.isRequired,onContextMenu:s.default.func.isRequired,className:s.default.string,style:s.default.object},u.defaultProps={selected:!1,editing:!1,updated:!1,attributesRenderer:function(){}}},1813:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=l(r),a=l(n(2)),s=l(n(1762));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this._input.focus()}},{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,i=t.onKeyDown;return o.default.createElement("input",{ref:function(t){e._input=t},className:"data-editor",value:n,onChange:this.handleChange,onKeyDown:i})}}]),t}(r.PureComponent);t.default=c,c.propTypes={value:a.default.node.isRequired,row:a.default.number.isRequired,col:a.default.number.isRequired,cell:a.default.shape(s.default),onChange:a.default.func.isRequired,onCommit:a.default.func.isRequired,onRevert:a.default.func.isRequired,onKeyDown:a.default.func.isRequired}},1814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=l(r),a=l(n(2)),s=l(n(1762));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){return c(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props.value;return o.default.createElement("span",{className:"value-viewer"},e)}}]),t}(r.PureComponent);t.default=d,d.propTypes={row:a.default.number.isRequired,col:a.default.number.isRequired,cell:a.default.shape(s.default),value:a.default.node.isRequired}},1816:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".+?";const t=[";;;(;*".concat(e,";*);;;"),"<<(<*".concat(e,">*)>>"),"==(=*".concat(e,"=*)=="),"{{({*".concat(e,"}*)}}")];return new RegExp(t.join("|"),"gi")},r=(e,t,n)=>{const r=n&&n.trim(),o=i(t),a=r&&r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s=new RegExp(a);return!(!r||s.test(e))||!(r&&!o.test(e))},o=(e,t)=>{let n=e;return Object.keys(t).forEach(e=>{const r=t[e],o=i(e);r&&r.trim()&&(n=n.replace(o,r))}),n}},1817:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return C}));var i=n(1),r=n(647),o=n(649),a=n(42),s=n(52),l=n(18),c=n(12),h=n(201);const d=e=>"1px solid ".concat(e.palette.grey[300]),u=i.d.div.withConfig({displayName:"styles__RunnableStyled",componentId:"sc-1teuy8q-0"})([""]),p=Object(i.d)(h.ControlPanel).withConfig({displayName:"styles__Bar",componentId:"sc-1teuy8q-1"})(["border-top:none;justify-content:space-between;"]),f=Object(i.d)(o.a).withConfig({displayName:"styles__StdinText",componentId:"sc-1teuy8q-2"})(["background:",";border-radius:"," !important;font-size:"," !important;margin:20px 0px 10px;color:"," !important;max-height:100px;min-height:35px;max-width:100%;min-width:100%;padding-top:8px;"],e=>{let{theme:t}=e;return t.palette.grey[100]},l.v,c.a.detail,e=>{let{theme:t}=e;return t.palette.primary.main}),m=Object(i.d)(h.HintBtn).withConfig({displayName:"styles__HintBtn",componentId:"sc-1teuy8q-3"})([""]),g=Object(i.d)(m).withConfig({displayName:"styles__StdIn",componentId:"sc-1teuy8q-4"})([""]),v=Object(i.d)(r.a).attrs(e=>{let{theme:t}=e;return{color:t.palette.common.black,size:20}}).withConfig({displayName:"styles__CodeX",componentId:"sc-1teuy8q-5"})(["transition:0.2s;align-self:flex-end;cursor:pointer;:hover{stroke:",";}"],e=>{let{theme:t}=e;return t.palette.primary.main}),b=i.d.div.withConfig({displayName:"styles__Flex",componentId:"sc-1teuy8q-6"})(["display:flex;align-items:center;"]),y=i.d.div.withConfig({displayName:"styles__Output",componentId:"sc-1teuy8q-7"})(["display:flex;flex-direction:column;padding:10px 20px 30px;border-left:",";border-right:",";border-bottom:",";background:",";font-family:",";"],e=>{let{theme:t}=e;return d(t)},e=>{let{theme:t}=e;return d(t)},e=>{let{theme:t}=e;return d(t)},e=>{let{theme:t}=e;return t.palette.common.white},s.c),_=i.d.p.withConfig({displayName:"styles__TextInputHeading",componentId:"sc-1teuy8q-8"})(["margin-bottom:0px;margin-top:20px;"]),x=i.d.div.withConfig({displayName:"styles__CharacterLimitWarning",componentId:"sc-1teuy8q-9"})(["color:",";margin-left:auto;padding:10px;"],e=>{let{theme:t}=e;return t.palette.error.main}),w=Object(i.d)(h.BtnsWrap).withConfig({displayName:"styles__BtnsWrap",componentId:"sc-1teuy8q-10"})([""]),C=Object(i.d)(a.b).withConfig({displayName:"styles__CodeLink",componentId:"sc-1teuy8q-11"})(["text-decoration:underline;"]);t.l=u},1818:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return p}));var i=n(1),r=n(1512),o=n(1510),a=n(5);const s=Object(i.c)(["cursor:pointer;transition:0.2s;:hover,:focus{stroke:",";}",""],e=>{let{theme:t}=e;return t.palette.primary.main},e=>e.disabled&&Object(i.c)(["stroke:",";:hover,:focus{stroke:",";}"],e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey[400]})),l=i.d.div.withConfig({displayName:"styles__JudgeHintsStyled",componentId:"rofezz-0"})(["display:flex;align-items:center;justify-content:center;min-height:100px;"]),c=i.d.div.withConfig({displayName:"styles__Wrap",componentId:"rofezz-1"})(["display:flex;flex-direction:column;",""],e=>e.addTopMargin&&Object(i.c)(["margin-top:60px;"])),h=i.d.div.withConfig({displayName:"styles__MarkdownViewer",componentId:"rofezz-2"})(["width:90%;padding:0px 20px;"]),d=Object(i.d)(r.a).attrs(e=>{let{theme:t}=e;return{size:22,color:t.palette.common.black}}).withConfig({displayName:"styles__PrevIcon",componentId:"rofezz-3"})(["",";"],s),u=Object(i.d)(o.a).attrs(e=>{let{theme:t}=e;return{size:22,color:t.palette.common.black}}).withConfig({displayName:"styles__NextIcon",componentId:"rofezz-4"})(["",";"],s),p=i.d.div.withConfig({displayName:"styles__Caption",componentId:"rofezz-5"})(["margin:-55px 0 20px 0;width:200px;align-self:center;@media (max-width:","){align-self:flex-start;width:150px;}"],a.f.pixels);t.f=l},1819:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createElement("path",{d:"M437.5 386.6L306.9 256l130.6-130.6a35.91 35.91 0 000-50.9 35.91 35.91 0 00-50.9 0L256 205.1 125.4 74.5a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9L205.1 256 74.5 386.6a35.91 35.91 0 000 50.9 35.91 35.91 0 0050.9 0L256 306.9l130.6 130.6a35.91 35.91 0 0050.9 0c14-14.1 14-36.9 0-50.9z"});const l=e=>{let{svgRef:t,title:n}=e,i=a(e,["svgRef","title"]);return r.a.createElement("svg",o({className:"close-icon",height:512,width:512,viewBox:"0 0 512 512",ref:t},i),n?r.a.createElement("title",null,n):null,s)},c=r.a.forwardRef((e,t)=>r.a.createElement(l,o({svgRef:t},e)));n.p},1820:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(0),r=n.n(i),o=n(55),a=n(817),s=n.n(a),l=n(651),c=n(1502),h=n(1503),d=n(415);const u=[".jpg",".jpeg",".png"];class p extends i.Component{constructor(){super(...arguments),this.state={isDownloading:!1},this.FileSaver=null,this.imageToBlob=e=>{const t=atob(e.split(",")[1]),n=new Array(t.length).fill(void 0).map((e,n)=>t.charCodeAt(n));return new Blob([new Uint8Array(n)])},this.getBlobFromFile=(e,t)=>{let n=e;return n=n&&u.some(e=>t.endsWith(e))?this.imageToBlob("data:image/*;base64,"+e.content):new Blob([e],{type:"text/plain;charset=utf-8"}),n},this.downloadFilesAsZip=async e=>{const t=await Object(o.a)(()=>Promise.all([n.e(0),n.e(13),n.e(94),n.e(37)]).then(n.t.bind(null,2154,7))),i=new t.default;i.folder("educative-code-widget-files"),Object.keys(e).forEach(t=>{const n=this.getBlobFromFile(e[t],t);i.file("".concat("educative-code-widget-files","/").concat(t),n)});try{i.generateAsync({type:"blob"}).then(e=>{this.FileSaver.saveAs(e,"educative-code-widget.zip")})}catch(r){console.log(r)}},this.onDownload=async()=>{const{files:e}=this.props;this.setState({isDownloading:!0}),this.FileSaver=await Object(o.a)(()=>n.e(36).then(n.t.bind(null,2158,7)));const t=Object.keys(e);if(this.FileSaver&&t.length){if(1===t.length){const n=t[0],i=e[n],r=this.getBlobFromFile(i,n);this.FileSaver.saveAs(r,n)}else await this.downloadFilesAsZip(e);this.setState({isDownloading:!1})}}}render(){const{codeToCopy:e,allowDownload:t}=this.props,{isDownloading:n}=this.state;let i=!1;try{i=!!new Blob}catch(o){i=!1}return r.a.createElement(l.g,null,r.a.createElement(l.b,null,r.a.createElement(l.d,{"aria-label":"copy-code-button"},e&&r.a.createElement(c.a,{title:"Copy To Clipboard","aria-hidden":"true",onClick:()=>s()(e),size:15}),t&&i&&(n?r.a.createElement(d.a,{size:15}):r.a.createElement(h.a,{onClick:this.onDownload,size:15})))))}}p.defaultProps={allowDownload:!1,files:{}}},1821:function(e,t,n){"use strict";var i=n(1726),r=n(1883),o=n(1727).Buffer,a=new Array(16);function s(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(e,t){return e<<t|e>>>32-t}function c(e,t,n,i,r,o,a){return l(e+(t&n|~t&i)+r+o|0,a)+t|0}function h(e,t,n,i,r,o,a){return l(e+(t&i|n&~i)+r+o|0,a)+t|0}function d(e,t,n,i,r,o,a){return l(e+(t^n^i)+r+o|0,a)+t|0}function u(e,t,n,i,r,o,a){return l(e+(n^(t|~i))+r+o|0,a)+t|0}i(s,r),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,i=this._b,r=this._c,o=this._d;n=c(n,i,r,o,e[0],3614090360,7),o=c(o,n,i,r,e[1],3905402710,12),r=c(r,o,n,i,e[2],606105819,17),i=c(i,r,o,n,e[3],3250441966,22),n=c(n,i,r,o,e[4],4118548399,7),o=c(o,n,i,r,e[5],1200080426,12),r=c(r,o,n,i,e[6],2821735955,17),i=c(i,r,o,n,e[7],4249261313,22),n=c(n,i,r,o,e[8],1770035416,7),o=c(o,n,i,r,e[9],2336552879,12),r=c(r,o,n,i,e[10],4294925233,17),i=c(i,r,o,n,e[11],2304563134,22),n=c(n,i,r,o,e[12],1804603682,7),o=c(o,n,i,r,e[13],4254626195,12),r=c(r,o,n,i,e[14],2792965006,17),n=h(n,i=c(i,r,o,n,e[15],1236535329,22),r,o,e[1],4129170786,5),o=h(o,n,i,r,e[6],3225465664,9),r=h(r,o,n,i,e[11],643717713,14),i=h(i,r,o,n,e[0],3921069994,20),n=h(n,i,r,o,e[5],3593408605,5),o=h(o,n,i,r,e[10],38016083,9),r=h(r,o,n,i,e[15],3634488961,14),i=h(i,r,o,n,e[4],3889429448,20),n=h(n,i,r,o,e[9],568446438,5),o=h(o,n,i,r,e[14],3275163606,9),r=h(r,o,n,i,e[3],4107603335,14),i=h(i,r,o,n,e[8],1163531501,20),n=h(n,i,r,o,e[13],2850285829,5),o=h(o,n,i,r,e[2],4243563512,9),r=h(r,o,n,i,e[7],1735328473,14),n=d(n,i=h(i,r,o,n,e[12],2368359562,20),r,o,e[5],4294588738,4),o=d(o,n,i,r,e[8],2272392833,11),r=d(r,o,n,i,e[11],1839030562,16),i=d(i,r,o,n,e[14],4259657740,23),n=d(n,i,r,o,e[1],2763975236,4),o=d(o,n,i,r,e[4],1272893353,11),r=d(r,o,n,i,e[7],4139469664,16),i=d(i,r,o,n,e[10],3200236656,23),n=d(n,i,r,o,e[13],681279174,4),o=d(o,n,i,r,e[0],3936430074,11),r=d(r,o,n,i,e[3],3572445317,16),i=d(i,r,o,n,e[6],76029189,23),n=d(n,i,r,o,e[9],3654602809,4),o=d(o,n,i,r,e[12],3873151461,11),r=d(r,o,n,i,e[15],530742520,16),n=u(n,i=d(i,r,o,n,e[2],3299628645,23),r,o,e[0],4096336452,6),o=u(o,n,i,r,e[7],1126891415,10),r=u(r,o,n,i,e[14],2878612391,15),i=u(i,r,o,n,e[5],4237533241,21),n=u(n,i,r,o,e[12],1700485571,6),o=u(o,n,i,r,e[3],2399980690,10),r=u(r,o,n,i,e[10],4293915773,15),i=u(i,r,o,n,e[1],2240044497,21),n=u(n,i,r,o,e[8],1873313359,6),o=u(o,n,i,r,e[15],4264355552,10),r=u(r,o,n,i,e[6],2734768916,15),i=u(i,r,o,n,e[13],1309151649,21),n=u(n,i,r,o,e[4],4149444226,6),o=u(o,n,i,r,e[11],3174756917,10),r=u(r,o,n,i,e[2],718787259,15),i=u(i,r,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},1822:function(e,t,n){"use strict";var i,r="object"===typeof Reflect?Reflect:null,o=r&&"function"===typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,a,s;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=h(e))>0&&a.length>r&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=u.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return h(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=r[e];if(void 0===l)return!1;if("function"===typeof l)o(l,this,t);else{var c=l.length,h=g(l,c);for(n=0;n<c;++n)o(h[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,r,o,a;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},1823:function(e,t,n){(t=e.exports=n(1884)).Stream=t,t.Readable=t,t.Writable=n(1825),t.Duplex=n(1751),t.Transform=n(1887),t.PassThrough=n(2034)},1824:function(e,t,n){var i=n(1729),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),o(r,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"===typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},1825:function(e,t,n){"use strict";(function(t,i,r){var o=n(1788);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:o.nextTick;b.WritableState=v;var c=Object.create(n(1764));c.inherits=n(1726);var h={deprecate:n(2033)},d=n(1885),u=n(1824).Buffer,p=r.Uint8Array||function(){};var f,m=n(1886);function g(){}function v(e,t){s=s||n(1751),e=e||{};var i=t instanceof s;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,c=e.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(c||0===c)?c:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,r){--t.pendingcb,n?(o.nextTick(r,i),o.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(r(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}(e,n,i,t,r);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),i?l(_,e,n,a,r):_(e,n,a,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(e){if(s=s||n(1751),!f.call(b,this)&&!(this instanceof s))return new b(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),d.call(this)}function y(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function _(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),S(e,t)}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)r[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;r.allBuffers=l,y(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,h=n.encoding,d=n.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,h,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(b,d),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===b&&(e&&e._writableState instanceof v)}})):f=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var i,r=this._writableState,a=!1,s=!r.objectMode&&(i=e,u.isBuffer(i)||i instanceof p);return s&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=g),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var r=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(i,a),r=!1),r}(this,r,e,n))&&(r.pendingcb++,a=function(e,t,n,i,r,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=u.from(t,n));return t}(t,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,i,r,o);return l}(this,r,s,e,t,n)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var i=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(328),n(820).setImmediate,n(191))},1826:function(e,t,n){"use strict";var i=n(1727).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=h,this.end=d,t=3;break;default:return this.write=u,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function u(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=a(t[i]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=a(t[i]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=a(t[i]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},1827:function(e,t,n){"use strict";var i=n(1729).Buffer,r=n(1726),o=n(1883),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],u=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function f(e,t){return e<<t|e>>>32-t}function m(e,t,n,i,r,o,a,s){return f(e+(t^n^i)+o+a|0,s)+r|0}function g(e,t,n,i,r,o,a,s){return f(e+(t&n|~t&i)+o+a|0,s)+r|0}function v(e,t,n,i,r,o,a,s){return f(e+((t|~n)^i)+o+a|0,s)+r|0}function b(e,t,n,i,r,o,a,s){return f(e+(t&i|n&~i)+o+a|0,s)+r|0}function y(e,t,n,i,r,o,a,s){return f(e+(t^(n|~i))+o+a|0,s)+r|0}r(p,o),p.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,i=0|this._b,r=0|this._c,o=0|this._d,p=0|this._e,_=0|this._a,x=0|this._b,w=0|this._c,C=0|this._d,S=0|this._e,E=0;E<80;E+=1){var k,O;E<16?(k=m(n,i,r,o,p,e[s[E]],d[0],c[E]),O=y(_,x,w,C,S,e[l[E]],u[0],h[E])):E<32?(k=g(n,i,r,o,p,e[s[E]],d[1],c[E]),O=b(_,x,w,C,S,e[l[E]],u[1],h[E])):E<48?(k=v(n,i,r,o,p,e[s[E]],d[2],c[E]),O=v(_,x,w,C,S,e[l[E]],u[2],h[E])):E<64?(k=b(n,i,r,o,p,e[s[E]],d[3],c[E]),O=g(_,x,w,C,S,e[l[E]],u[3],h[E])):(k=y(n,i,r,o,p,e[s[E]],d[4],c[E]),O=m(_,x,w,C,S,e[l[E]],u[4],h[E])),n=p,p=o,o=f(r,10),r=i,i=k,_=S,S=C,C=f(w,10),w=x,x=O}var T=this._b+r+C|0;this._b=this._c+o+S|0,this._c=this._d+p+_|0,this._d=this._e+n+x|0,this._e=this._a+i+w|0,this._a=T},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.alloc?i.alloc(20):new i(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=p},1828:function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(2039),t.sha1=n(2040),t.sha224=n(2041),t.sha256=n(1888),t.sha384=n(2042),t.sha512=n(1889)},1829:function(e,t,n){"use strict";var i=n(1738);function r(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=r,r.prototype._init=function(){},r.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},r.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[t+i];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(e){var t=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,r=new Array(i*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(r,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,r,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return r},r.prototype._updateDecrypt=function(e){for(var t=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,r=new Array(i*this.blockSize);i>0;i--)t+=this._buffer(e,t),n+=this._flushBuffer(r,n);return t+=this._buffer(e,t),r},r.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},r.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},r.prototype._unpad=function(e){return e},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},1830:function(e,t,n){var i=n(2051),r=n(2059),o=n(1901);t.createCipher=t.Cipher=i.createCipher,t.createCipheriv=t.Cipheriv=i.createCipheriv,t.createDecipher=t.Decipher=r.createDecipher,t.createDecipheriv=t.Decipheriv=r.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},1831:function(e,t,n){var i={ECB:n(2052),CBC:n(2053),CFB:n(2054),CFB8:n(2055),CFB1:n(2056),OFB:n(2057),CTR:n(1899),GCM:n(1899)},r=n(1901);for(var o in r)r[o].module=i[r[o].mode];e.exports=r},1832:function(e,t,n){var i;function r(e){this.rand=e}if(e.exports=function(e){return i||(i=new r(null)),i.generate(e)},e.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(2063);if("function"!==typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return o.randomBytes(e)}}catch(a){}},1833:function(e,t,n){(function(t){var i=n(1735),r=n(1753);function o(e,n){var r=function(e){var t=a(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),o=n.modulus.byteLength(),s=(i.mont(n.modulus),new i(e).mul(r.blinder).umod(n.modulus)),l=s.toRed(i.mont(n.prime1)),c=s.toRed(i.mont(n.prime2)),h=n.coefficient,d=n.prime1,u=n.prime2,p=l.redPow(n.exponent1),f=c.redPow(n.exponent2);p=p.fromRed(),f=f.fromRed();var m=p.isub(f).imul(h).umod(d);return m.imul(u),f.iadd(m),new t(f.imul(r.unblinder).umod(n.modulus).toArray(!1,o))}function a(e){for(var t=e.modulus.byteLength(),n=new i(r(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new i(r(t));return n}e.exports=o,o.getr=a}).call(this,n(1729).Buffer)},1834:function(e,t,n){"use strict";var i=t;i.version=n(2068).version,i.utils=n(1739),i.rand=n(1832),i.curve=n(1907),i.curves=n(1835),i.ec=n(2079),i.eddsa=n(2083)},1835:function(e,t,n){"use strict";var i,r=t,o=n(1836),a=n(1907),s=n(1739).assert;function l(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new l(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=l,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=n(2078)}catch(h){i=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},1836:function(e,t,n){var i=t;i.utils=n(1744),i.common=n(1766),i.sha=n(2072),i.ripemd=n(2076),i.hmac=n(2077),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},1837:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createElement("path",{d:"M1615 0q70 0 122.5 46.5t52.5 116.5q0 63-45 151-332 629-465 752-97 91-218 91-126 0-216.5-92.5t-90.5-219.5q0-128 92-212l638-579q59-54 130-54zm-909 1034q39 76 106.5 130t150.5 76l1 71q4 213-129.5 347t-348.5 134q-123 0-218-46.5t-152.5-127.5-86.5-183-29-220q7 5 41 30t62 44.5 59 36.5 46 17q41 0 55-37 25-66 57.5-112.5t69.5-76 88-47.5 103-25.5 125-10.5z"});const l=e=>{let{svgRef:t,title:n}=e,i=a(e,["svgRef","title"]);return r.a.createElement("svg",o({className:"paint-brush-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?r.a.createElement("title",null,n):null,s)},c=r.a.forwardRef((e,t)=>r.a.createElement(l,o({svgRef:t},e)));n.p},1843:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(30),a=n(307),s=n(27),l=n(1674),c=n(531),h=n(816),d=n(1),u=n(416),p=n(5),f=n(12);const m=Object(d.d)(u.a).attrs({small:!0}).withConfig({displayName:"styles__SaveButtonStyled",componentId:"sc-1uuwr2v-0"})(["width:auto;@media (max-width:","){.fa-spinner{margin-left:-16px;margin-bottom:-1px;}}"],p.m.pixels),g=d.d.i.attrs({className:"asterisk"}).withConfig({displayName:"styles__Asterisk",componentId:"sc-1uuwr2v-1"})(["position:absolute;margin:-26px 8px 0px;font-size:",";"],f.a.textLarge);var v=m,b=e=>{let{onClick:t,className:n,showAsterisk:i=!1,disabled:o=!1,loading:a=!1,isUserLoggedIn:d}=e,u=Object(s.a)(e,["onClick","className","showAsterisk","disabled","loading","isUserLoggedIn"]);return r.a.createElement(v,Object.assign({},u,{onClick:t,disabled:o,hasSave:i,desktopIcon:a,className:"save-button","aria-label":"save button"}),a?r.a.createElement(c.a,{icon:h.l,spin:!0,fixedWidth:!0}):[r.a.createElement(l.a,{size:20,key:"save_icon_button"}),r.a.createElement(g,{key:"save_unsaved_content"},i&&"*"),r.a.createElement("span",{key:"verify_login_to_save"},d?"SAVE".concat(i?" *":""):"LOGIN TO SAVE")])},y=n(1957);var _=Object(d.d)(u.a).attrs({small:!0}).withConfig({displayName:"styles__ResetButtonStyled",componentId:"sc-1crzrin-0"})(["margin-left:10px;width:100px;@media (max-width:","){.fa-spinner{margin-left:-16px;margin-bottom:-1px;}}"],p.m.pixels),x=e=>{let{onClick:t,className:n,disabled:i=!1,loading:o=!1}=e,a=Object(s.a)(e,["onClick","className","disabled","loading"]);return r.a.createElement(_,Object.assign({},a,{onClick:t,disabled:i,desktopIcon:o,"aria-label":"reset changes"}),o?r.a.createElement(c.a,{icon:h.l,spin:!0,fixedWidth:!0}):[r.a.createElement(y.a,{size:20,key:"code_actions_reset"}),r.a.createElement("span",{key:"code_actions_reset_label"},"RESET")])},w=n(253);var C=d.d.div.withConfig({displayName:"styles__DataActionsStyled",componentId:"sc-1wmc3kk-0"})(["margin-right:10px;@media (max-width:","){display:flex;margin:10px;}"],p.f.pixels);const S=Object(o.b)((e,t)=>({saving:Object(a.d)(e.user)===t.compId,resetting:Object(a.c)(e.user)===t.compId,userInfo:e.user.info}));class E extends i.PureComponent{constructor(){super(...arguments),this.handleConfirmReset=()=>{this.props.resetUserData(),this.confirmationTrigger.handleHide()}}render(){const{saveUserData:e,isContentDirty:t,hasSnapshot:n,saving:i=!1,resetting:o=!1,userInfo:a}=this.props;return r.a.createElement(C,null,r.a.createElement(b,{onClick:i?()=>{}:e,showAsterisk:t,disabled:o,loading:i,isUserLoggedIn:!!a.data}),r.a.createElement(w.a,{popoverTitle:"Discard your changes?",handleConfirm:this.handleConfirmReset,ref:e=>{this.confirmationTrigger=e}},r.a.createElement(x,{disabled:!n&&!t&&!o||i,loading:o})))}}t.a=S(E)},1844:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1507),a=n(1),s=n(416),l=n(5);var c=Object(a.d)(s.a).attrs({small:!0}).withConfig({displayName:"styles__JudgeCodeButtonStyled",componentId:"sc-17e4p4w-0"})(["width:100px;background:",";border:1px solid ",";color:",";transition:0.2s;:hover,:focus{background:",";border:1px solid ",";}@media (max-width:","){margin:10px 0;}"],e=>{let{theme:t}=e;return t.palette.secondary.main},e=>{let{theme:t}=e;return t.palette.secondary.main},e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.secondary.dark},e=>{let{theme:t}=e;return t.palette.secondary.dark},l.f.pixels);t.a=e=>{let{executionDisabled:t,onClick:n}=e;return r.a.createElement(c,{disabled:t,onClick:n,"aria-label":"test code"},r.a.createElement(o.a,{size:20}),r.a.createElement("span",null,"TEST"))}},1846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2017);Object.defineProperty(t,"sortable",{enumerable:!0,get:function(){return i.SortableComposition}}),Object.defineProperty(t,"Sortable",{enumerable:!0,get:function(){return i.SortableComposition}}),Object.defineProperty(t,"HORIZONTAL",{enumerable:!0,get:function(){return i.HORIZONTAL}}),Object.defineProperty(t,"VERTICAL",{enumerable:!0,get:function(){return i.VERTICAL}})},1856:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(0),r=n.n(i),o=n(846);class a extends i.Component{constructor(){super(...arguments),this.iframeRef=r.a.createRef(),this.graphEditorPath="/static/js/mxgraph/index.html",this.handleUpdate=e=>{if("grapheditor.ready"===e.data)return this.initIFrameContent(),void(this.loadingMask.style.display="none");this.text=e.data.xml,this.props.onUpdate&&e.data.xml&&this.props.onUpdate(e.data)}}componentDidMount(){window.addEventListener("message",this.handleUpdate)}componentWillUnmount(){window.removeEventListener("message",this.handleUpdate)}initIFrameContent(){var e;this.props.content&&this.text!==this.props.content&&(this.text=this.props.content,null===(e=this.iframeRef.current)||void 0===e||e.contentWindow.postMessage(this.text,"*"))}render(){return r.a.createElement("div",{style:{height:this.props.height,width:this.props.width,position:"relative"}},r.a.createElement(o.a,{fullscreen:!0,containerRef:e=>this.loadingMask=e}),r.a.createElement("iframe",{title:"graph-editor",ref:this.iframeRef,src:this.graphEditorPath,style:{height:this.props.height,width:this.props.width}}))}}a.defaultProps={height:"100%",width:"100%"}},1857:function(e,t,n){e.exports=n(1934)},1858:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(282),a=n(1775),s=n(530);t.a=Object(i.forwardRef)((e,t)=>{let{mdText:n,placeholder:i="Write here ...",onlyCodeChanged:l,cursorPosition:c,isSpellCheckEnabled:h,codeMirrorStyle:d="cmcomp-editor-container-markdown",setFocus:u=!1,onMarkdownUpdated:p,inView:f,resizable:m}=e;const g=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return p({mdHtml:Object(o.b)(e),mdText:e,cursor:t,textAreaCursor:n})},v=e=>{let{target:{value:t,selectionStart:n}}=e;null!=t&&g(t,null,n)},b={content:n,language:"markdown",theme:"default",lineNumbers:!1,lineWrapping:!0};return h?r.a.createElement(a.b,{inputRef:t,value:n,onChange:v,onClick:v,onFocus:v,placeholder:i,autoFocus:u}):r.a.createElement(s.a,{inView:f,key:"editor",codeContent:b,readOnly:!1,placeholder:i,showRuler:!1,onEditorChange:g,codeMirrorStyle:d,onlyCodeChanged:l,cursorPosition:c,setFocus:u,resizable:m,isNotCodeEditor:!0})})},1859:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(649),r=n(0),o=n.n(r),a=n(1752);class s extends r.Component{constructor(){super(...arguments),this.handleOnChange=e=>{this.props.updateChartTypeCallback(e.target.value)}}render(){return o.a.createElement(a.b,{className:"form-info"},o.a.createElement(i.a,{componentClass:"select",style:{marginLeft:5},value:this.props.chartType,onChange:this.handleOnChange},o.a.createElement("option",{value:"line"},"Line"),o.a.createElement("option",{value:"area"},"Area"),o.a.createElement("option",{value:"bar"},"Bar"),o.a.createElement("option",{value:"column"},"Column"),o.a.createElement("option",{value:"pie"},"Pie"),o.a.createElement("option",{value:"scatter3d"},"Scatter 3d")))}}},1862:function(e,t,n){"use strict";n.r(t);var i=n(14),r=n(0),o=n.n(r),a=n(1067),s=n(1503),l=n(2013),c=n(37),h=n(531),d=n(816);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var f=o.a.createElement("g",{stroke:"#cfcfcf",fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M2.7 5.3h12.6V1a.3.3 0 00-.3-.3H3a.3.3 0 00-.3.3v4.3zM2.7 9.7V14a.3.3 0 00.3.3h12a.3.3 0 00.3-.3V9.7H2.7z",strokeWidth:1.4}),o.a.createElement("path",{d:"M.5 7.5h1.594M4 7.5h2m2 0h2m2 0h2m2 0h1.5",strokeLinecap:"square"}));const m=e=>{let{svgRef:t,title:n}=e,i=p(e,["svgRef","title"]);return o.a.createElement("svg",u({width:18,height:15,ref:t},i),n?o.a.createElement("title",null,n):null,f)},g=o.a.forwardRef((e,t)=>o.a.createElement(m,u({svgRef:t},e)));n.p;var v=n(282),b=n(247),y=n(2189),_=n(2190),x=n(870),w=n.n(x),C=n(584),S=n.n(C),E=n(46),k=n(68),O=n(57),T=n.n(O),A=n(2),I=n.n(A),j=n(446),P=(n(421),n(38)),M=n(168),R=n(2293),D={onEnter:I.a.func,onEntering:I.a.func,onEntered:I.a.func,onExit:I.a.func,onExiting:I.a.func,onExited:I.a.func},L={$bs_panel:I.a.shape({headingId:I.a.string,bodyId:I.a.string,bsClass:I.a.string,expanded:I.a.bool})},N=function(e){function t(){return e.apply(this,arguments)||this}return Object(k.a)(t,e),t.prototype.render=function(){var e=this.props.children,t=this.context.$bs_panel||{},n=t.headingId,i=t.bodyId,r=t.bsClass,a=t.expanded,s=Object(P.f)(this.props),l=s[0],c=s[1];return l.bsClass=r||l.bsClass,n&&i&&(c.id=i,c.role=c.role||"tabpanel",c["aria-labelledby"]=n),o.a.createElement(R.a,Object(E.a)({in:a},c),o.a.createElement("div",{className:Object(P.e)(l,"collapse")},e))},t}(o.a.Component);N.propTypes=D,N.contextTypes=L;var B=Object(P.a)("panel",N),F={collapsible:I.a.bool.isRequired},z={$bs_panel:I.a.shape({bsClass:I.a.string})},H=function(e){function t(){return e.apply(this,arguments)||this}return Object(k.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=e.collapsible,r=(this.context.$bs_panel||{}).bsClass,a=Object(P.g)(this.props,["collapsible"]),s=a[0],l=a[1];s.bsClass=r||s.bsClass;var c=o.a.createElement("div",Object(E.a)({},l,{className:T()(n,Object(P.e)(s,"body"))}),t);return i&&(c=o.a.createElement(B,null,c)),c},t}(o.a.Component);H.propTypes=F,H.defaultProps={collapsible:!1},H.contextTypes=z;var U=Object(P.a)("panel",H),q=n(65),W=n(2153),V=n.n(W),G={componentClass:V.a},K={$bs_panel:I.a.shape({headingId:I.a.string,bsClass:I.a.string})},Y=function(e){function t(){return e.apply(this,arguments)||this}return Object(k.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=e.componentClass,r=Object(q.a)(e,["children","className","componentClass"]),a=this.context.$bs_panel||{},s=a.headingId,l=a.bsClass,c=Object(P.f)(r),h=c[0],d=c[1];return h.bsClass=l||h.bsClass,s&&(d.role=d.role||"tab",d.id=s),o.a.createElement(i,Object(E.a)({},d,{className:T()(n,Object(P.e)(h,"heading"))}),t)},t}(o.a.Component);Y.propTypes=G,Y.defaultProps={componentClass:"div"},Y.contextTypes=K;var X=Object(P.a)("panel",Y),J=n(72),$=n(272),Z=n(120),Q={onClick:I.a.func,componentClass:V.a},ee={componentClass:$.a},te={$bs_panel:I.a.shape({bodyId:I.a.string,onToggle:I.a.func,expanded:I.a.bool})},ne=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleToggle=t.handleToggle.bind(Object(J.a)(Object(J.a)(t))),t}Object(k.a)(t,e);var n=t.prototype;return n.handleToggle=function(e){var t=(this.context.$bs_panel||{}).onToggle;t&&t(e)},n.render=function(){var e=this.props,t=e.onClick,n=e.className,i=e.componentClass,r=Object(q.a)(e,["onClick","className","componentClass"]),a=this.context.$bs_panel||{},s=a.expanded,l=a.bodyId,c=i;return r.onClick=Object(Z.a)(t,this.handleToggle),r["aria-expanded"]=s,r.className=T()(n,!s&&"collapsed"),l&&(r["aria-controls"]=l),o.a.createElement(c,r)},t}(o.a.Component);ne.propTypes=Q,ne.defaultProps=ee,ne.contextTypes=te;var ie=ne,re={componentClass:V.a,toggle:I.a.bool},oe={$bs_panel:I.a.shape({bsClass:I.a.string})},ae=function(e){function t(){return e.apply(this,arguments)||this}return Object(k.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=e.toggle,r=e.componentClass,a=Object(q.a)(e,["children","className","toggle","componentClass"]),s=(this.context.$bs_panel||{}).bsClass,l=Object(P.f)(a),c=l[0],h=l[1];return c.bsClass=s||c.bsClass,i&&(t=o.a.createElement(ie,null,t)),o.a.createElement(r,Object(E.a)({},h,{className:T()(n,Object(P.e)(c,"title"))}),t)},t}(o.a.Component);ae.propTypes=re,ae.defaultProps={componentClass:"div"},ae.contextTypes=oe;var se=Object(P.a)("panel",ae),le={$bs_panel:I.a.shape({bsClass:I.a.string})},ce=function(e){function t(){return e.apply(this,arguments)||this}return Object(k.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=(this.context.$bs_panel||{}).bsClass,r=Object(P.f)(this.props),a=r[0],s=r[1];return a.bsClass=i||a.bsClass,o.a.createElement("div",Object(E.a)({},s,{className:T()(n,Object(P.e)(a,"footer"))}),t)},t}(o.a.Component);ce.contextTypes=le;var he=Object(P.a)("panel",ce),de=Object.prototype.hasOwnProperty,ue=function(e,t){return e?e+"--"+t:null},pe={expanded:I.a.bool,onToggle:I.a.func,eventKey:I.a.any,id:I.a.string},fe={$bs_panelGroup:I.a.shape({getId:I.a.func,activeKey:I.a.any,onToggle:I.a.func})},me={$bs_panel:I.a.shape({headingId:I.a.string,bodyId:I.a.string,bsClass:I.a.string,onToggle:I.a.func,expanded:I.a.bool})},ge=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleToggle=function(e){var n=t.context.$bs_panelGroup,i=!t.getExpanded();n&&n.onToggle?n.onToggle(t.props.eventKey,i,e):t.props.onToggle(i,e)},t}Object(k.a)(t,e);var n=t.prototype;return n.getChildContext=function(){var e,t=this.props,n=t.eventKey,i=t.id,r=null==n?i:n;if(null!==r){var o=this.context.$bs_panelGroup,a=o&&o.getId||ue;e={headingId:a(r,"heading"),bodyId:a(r,"body")}}return{$bs_panel:Object(E.a)({},e,{bsClass:this.props.bsClass,expanded:this.getExpanded(),onToggle:this.handleToggle})}},n.getExpanded=function(){var e=this.context.$bs_panelGroup;return e&&de.call(e,"activeKey")?e.activeKey===this.props.eventKey:!!this.props.expanded},n.render=function(){var e=this.props,t=e.className,n=e.children,i=Object(P.g)(this.props,["onToggle","eventKey","expanded"]),r=i[0],a=i[1];return o.a.createElement("div",Object(E.a)({},a,{className:T()(t,Object(P.d)(r))}),n)},t}(o.a.Component);ge.propTypes=pe,ge.contextTypes=fe,ge.childContextTypes=me;var ve=Object(j.a)(Object(P.a)("panel",Object(P.c)(S()(M.d).concat([M.e.DEFAULT,M.e.PRIMARY]),M.e.DEFAULT,ge)),{expanded:"onToggle"});w()(ve,{Heading:X,Title:se,Body:U,Footer:he,Toggle:ie,Collapse:B});var be=ve,ye=n(818),_e=n(1858),xe=n(28),we=n(31),Ce=n(290),Se=n(1943),Ee=n(79),ke=n(1656);function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ae=function(e){var t=e.color,n=e.size,i=Te(e,["color","size"]);return o.a.createElement("svg",Oe({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),o.a.createElement("polyline",{points:"4 7 4 4 20 4 20 7"}),o.a.createElement("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),o.a.createElement("line",{x1:"12",y1:"4",x2:"12",y2:"20"}))};Ae.propTypes={color:I.a.string,size:I.a.oneOfType([I.a.string,I.a.number])},Ae.defaultProps={color:"currentColor",size:"24"};var Ie=Ae;function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Me=function(e){var t=e.color,n=e.size,i=Pe(e,["color","size"]);return o.a.createElement("svg",je({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),o.a.createElement("polyline",{points:"16 18 22 12 16 6"}),o.a.createElement("polyline",{points:"8 6 2 12 8 18"}))};Me.propTypes={color:I.a.string,size:I.a.oneOfType([I.a.string,I.a.number])},Me.defaultProps={color:"currentColor",size:"24"};var Re=Me,De=n(652),Le=n(1775);var Ne=e=>{let{isEnabled:t,onClick:n,showPreview:i}=e;const r=i?Le.e:Le.f;return o.a.createElement(ke.a,{placement:"bottom",overlay:Object(De.a)(t?"View as text to enable browser spell-check or plugins like Grammarly":"View as formatted markdown","spell-check-toggle-tooltip")},o.a.createElement(r,null,t?o.a.createElement(Ie,{onClick:n,size:"20"}):o.a.createElement(Re,{onClick:n,size:"20"})))};function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ze=function(e){var t=e.color,n=e.size,i=Fe(e,["color","size"]);return o.a.createElement("svg",Be({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),o.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}))};ze.propTypes={color:I.a.string,size:I.a.oneOfType([I.a.string,I.a.number])},ze.defaultProps={color:"currentColor",size:"24"};var He=ze;function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var We=function(e){var t=e.color,n=e.size,i=qe(e,["color","size"]);return o.a.createElement("svg",Ue({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),o.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))};We.propTypes={color:I.a.string,size:I.a.oneOfType([I.a.string,I.a.number])},We.defaultProps={color:"currentColor",size:"24"};var Ve=We,Ge=n(650);var Ke=Object(Ge.a)(e=>{let{showPreview:t,onClick:n,theme:i}=e;const r={color:i.palette.common.black,size:"18",onClick:n},a=t?Le.c:Le.d;return o.a.createElement(ke.a,{placement:"bottom",overlay:Object(De.a)(t?"Hide preview":"Show preview","preview-toggle-tooltip"),rootClose:!0},o.a.createElement(a,null,t?o.a.createElement(He,r):o.a.createElement(Ve,Object.assign({style:{transform:"rotate(90deg)"}},r))))});n.d(t,"default",(function(){return Ye}));class Ye extends r.Component{constructor(e,t){super(e,t),this.textAreaElemRef=o.a.createRef(),this.formatMarkdown=(e,t,n,i,r,o)=>{let a="";return a=o?e.value.substring(0,t)+i+r+i+e.value.substring(n):e.value.substring(0,t-i.length)+r+e.value.substring(n+i.length),a},this.updateMarkdownAfterKeydown=e=>{this.setState({text:e,mdHtml:Object(v.b)(e)}),this.props.onUpdate({mdText:e,mdHtml:Object(v.b)(e)})},this.keydownHandler=e=>{const t=e.metaKey,n=e.ctrlKey,i="b"===e.key,r="i"===e.key,o={b:"**",i:"_"};if((t||n)&&(i||r)&&!e.shiftKey){const t=this.textAreaElemRef.current,n=t.selectionStart,i=t.selectionEnd,r=t.value.substring(n,i);if(i-n&&r.trim()){let a=t.value;const s=t.value.substring(n-o[e.key].length,i+o[e.key].length);s.startsWith(o[e.key])&&s.endsWith(o[e.key])?(a=this.formatMarkdown(t,n,i,o[e.key],r,!1),this.updateMarkdownAfterKeydown(a),t.setSelectionRange(n-o[e.key].length,i-o[e.key].length)):(a=this.formatMarkdown(t,n,i,o[e.key],r,!0),this.updateMarkdownAfterKeydown(a),t.setSelectionRange(n+o[e.key].length,i+o[e.key].length))}}},this.getInitialShowPreviewState=()=>null==Ee.a("showMarkdownEditorPreview")||JSON.parse(Ee.a("showMarkdownEditorPreview")),this.propsToState=(e,t)=>({text:e.text,mdHtml:e.mdHtml,isSpellCheckEnabled:e.isSpellCheckEnabled,onlyCodeChanged:t,cursorPosition:e.cursorPosition}),this.onMarkdownUpdated=e=>{let{mdText:t,mdHtml:n,cursor:i,textAreaCursor:r}=e;this.setState({text:t,mdHtml:n,onlyCodeChanged:!0,cursorPosition:i||this.props.cursorPosition,textAreaCursor:r||0}),this.props.onUpdate({mdText:t,mdHtml:n,cursorPosition:i||this.props.cursorPosition})},this.exportMdTextAsFile=()=>{const{text:e}=this.state;if(e){const t=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.setAttribute("download","markdownContent.md"),i.click()}},this.addTable=()=>{const e={onUpdate:this.props.onUpdate,text:this.state.text,cursorPosition:this.state.cursorPosition,dispatch:this.props.dispatch,textAreaCursor:this.state.textAreaCursor||0,isSpellCheckEnabled:this.props.isSpellCheckEnabled};this.props.dispatch(Object(xe.b)(we.A,e))},this.showHelp=()=>{this.props.dispatch(Object(xe.b)(we.k))},this.togglePreview=()=>{this.setState(e=>({showPreview:!e.showPreview}),()=>{Ee.c("showMarkdownEditorPreview",this.state.showPreview)})},this.breakMarkdownIntoTwo=()=>{var e,t,n,i;const{cursorPosition:r,index:o,dispatch:a,isLastWidgetOnPage:s}=this.props,{text:l,textAreaCursor:h}=this.state,d=null!==(e=null===(t=this.textAreaElemRef.current)||void 0===t?void 0:t.selectionStart)&&void 0!==e?e:h,u=null!==(n=null===(i=this.textAreaElemRef.current)||void 0===i?void 0:i.selectionEnd)&&void 0!==n?n:h;if("undefined"===typeof o)return;if(d<1||d>=l.length)return;let p="",f="";!(u===d)?(f=l.slice(0,d)+l.slice(u),p=l.slice(d,u)):(f=l.slice(0,d),p=l.slice(d)),this.onMarkdownUpdated({mdText:f,mdHtml:Object(v.b)(f),cursor:r,textAreaCursor:d});const m=a(Object(b.addComponent)({parentHash:"0",data:{type:"MarkdownEditor",mode:"view",content:Object(c.fromJS)({version:"2.0",text:p,mdHtml:Object(v.b)(p),cursorPosition:{line:0,ch:0}})},index:o+1,dirty:!0}));s||a(Object(b.moveComponent)({id:m,type:"up",dirty:!0}))},this.state=Object(i.a)({},this.propsToState(e,!1),{showPreview:this.getInitialShowPreviewState()}),this.editor=null}componentDidMount(){document.addEventListener("keydown",this.keydownHandler)}componentDidUpdate(e){if(this.textAreaElemRef.current&&this.textAreaElemRef.current.children.length>0){var t,n,i,r,o,a,s,l;const e=null===(t=this.textAreaElemRef.current)||void 0===t?void 0:null===(n=t.children)||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:null===(r=i.children)||void 0===r?void 0:null===(o=r[1])||void 0===o?void 0:null===(a=o.children)||void 0===a?void 0:null===(s=a[0])||void 0===s?void 0:null===(l=s.children)||void 0===l?void 0:l[0];e&&e.focus()}e.text!==this.props.text&&this.setState(e=>this.propsToState(this.props,this.props.text===e.text))}componentWillUnmount(){document.removeEventListener("keydown",this.keydownHandler)}render(){const e=o.a.createElement(h.a,{icon:d.i,size:"lg"});let t="center";return this.props.pageProperties&&this.props.pageProperties.pageAlign&&(t=this.props.pageProperties.pageAlign),o.a.createElement("div",null,o.a.createElement(y.a,null,o.a.createElement(_.a,{lg:this.state.showPreview?6:12,md:this.state.showPreview?6:12,className:"col"},o.a.createElement("label",{className:"textEditor-Markdown-label left"},"Markdown"),o.a.createElement(Ke,{showPreview:this.state.showPreview,onClick:this.togglePreview}),o.a.createElement(Ne,{showPreview:this.state.showPreview,isEnabled:!this.props.isSpellCheckEnabled,onClick:this.props.toggleSpellCheck}),!this.state.showPreview&&!this.props.fullScreen&&this.props.fullscreenIconToggle({onClick:this.props.onExpand,style:{position:"absolute",right:"25px",top:"11px"}}),o.a.createElement(be,null,o.a.createElement(a.a,{size:Ce.e,onClick:this.addTable,className:"grid-icon"}),o.a.createElement(Se.a,{customIcon:e,text:this.state.text,cursorPosition:this.state.cursorPosition,textAreaCursor:this.state.textAreaCursor||0,dispatch:this.props.dispatch,onUpdate:this.props.onUpdate,isDraft:this.props.isDraft,pageId:this.props.pageId,userId:this.props.userId,shotId:this.props.shotId,editorPageId:this.props.editorPageId,authorId:this.props.authorId,collectionId:this.props.collectionId,isSpellCheckEnabled:this.props.isSpellCheckEnabled}),o.a.createElement(s.a,{size:Ce.e,onClick:this.exportMdTextAsFile,className:"grid-icon-no-right-padding"}),o.a.createElement(g,{onClick:this.breakMarkdownIntoTwo,className:"grid-icon-no-right-padding"}),o.a.createElement("span",{className:"markdown-help-icon"},o.a.createElement(l.a,{size:Ce.e,onClick:this.showHelp,className:"grid-icon"}))),o.a.createElement("div",{className:"textEditor-Markdown"},o.a.createElement(_e.a,{ref:this.textAreaElemRef,default_themes:this.props.default_themes,placeholder:this.props.placeholder,mdText:this.state.text,onlyCodeChanged:this.state.onlyCodeChanged,onMarkdownUpdated:this.onMarkdownUpdated,isSpellCheckEnabled:this.props.isSpellCheckEnabled,cursorPosition:this.state.cursorPosition,setFocus:this.props.setFocus}))),this.state.showPreview&&o.a.createElement(_.a,{lg:6,md:6,className:"col"},!this.props.fullScreen&&this.props.fullscreenIconToggle({onClick:this.props.onExpand,style:{position:"absolute",right:"25px",top:"11px"}}),o.a.createElement("label",{style:{textAlign:t},className:"textEditor-Markdown-label"},"Preview"),o.a.createElement("div",{className:"viewer-container"},o.a.createElement(ye.a,{default_themes:this.props.default_themes,mdHtml:this.props.getMDHtml(),docker:this.props.docker,authorId:this.props.authorId})))))}}Ye.defaultProps={fullScreen:!1,setFocus:!1,placeholder:"Write here ...",docker:{}}},1863:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(650),a=n(537),s=n(114),l=n(5),c=n(1),h=n(285),d=n(18),u=n(12);const p=Object(c.c)(["flex-shrink:0;"]),f=c.d.div.withConfig({displayName:"styles__SetDate",componentId:"brsy8i-0"})(["display:flex;",";color:",";font-size:",";transition:0.2s;cursor:pointer;align-items:center;position:relative;:hover,:focus{color:",";}svg{position:absolute;left:15px;align-self:center;}",""],p,e=>{let{theme:t}=e;return t.palette.grey[600]},u.a.detail,e=>{let{theme:t}=e;return t.palette.primary.main},e=>Object(c.c)(["@media (max-width:","){width:100%;margin-bottom:10px;}"],e.mobilewidthpixels)),m=Object(c.d)(h.a).withConfig({displayName:"styles__StatsDropDown",componentId:"brsy8i-1"})(["border-radius:"," !important;width:230px;padding-left:50px;max-width:500px !important;text-transform:capitalize !important;",""],d.u,e=>Object(c.c)(["@media (max-width:","){width:100%;}"],e.mobilewidthpixels)),g="Today",v="Yesterday",b="Last 3 days",y="Last 7 days";t.a=Object(o.a)(e=>{let{dropdownStartDate:t,onOptionChange:n,showMonthsOnly:o,mobileWidthPixels:c=l.f.pixels,theme:h}=e;const[d,u]=Object(i.useState)(g),p=Object(i.useCallback)(e=>{if(e===g){const e=Object(a.a)(new Date,"YYYY-MM-DD",!1);return[e,e]}if(e===v){const e=new Date;e.setDate(e.getDate()-1);const t=Object(a.a)(e,"YYYY-MM-DD",!1);return[t,t]}if(e===b||e===y){const t=e===b?3:7,n=new Date,i=Object(a.a)(n,"YYYY-MM-DD",!1),r=n;return r.setDate(n.getDate()-(t-1)),[Object(a.a)(r,"YYYY-MM-DD",!1),i]}if(/\d{4}-\d{2}/.test(e)){const t=e.split("-"),n=parseInt(t[0],10),i=parseInt(t[1],10),r=2===i?3&n||!(n%25)&&15&n?28:29:30+(i+(i>>3)&1);return["".concat(e,"-01"),"".concat(e,"-").concat(r)]}return[null,null]},[]);Object(i.useEffect)(()=>{const[e,t]=p(g);n(e,t)},[]);const _=(()=>{const e=new Date;let n=[],i=e.getMonth()+1,r=e.getFullYear(),s=r,l=i,c=0,h=!1;if(t&&"string"===typeof t){const e=t.split("/");if(3===e.length){const t=parseInt(e[2],10),n=parseInt(e[0],10);Number.isNaN(t)||Number.isNaN(n)||(s=t,l=n,h=!0)}}for(;!h&&c<18||h&&(r>s||r===s&&i>=l);){const e="".concat(r,"-").concat("0".concat(i).slice(-2));n=[...n,{option:e,name:Object(a.a)(new Date(r,i-1),"MMMM, YYYY",!1)}],c++,i--,i<1&&(i=12,r--)}return o?n:[{option:g,name:g},{option:v,name:v},{option:b,name:b},{option:y,name:y}].concat(n)})();return r.a.createElement(f,{mobilewidthpixels:c},r.a.createElement(s.a,{icon:"Calendar",size:22,color:h.palette.grey[400]}),r.a.createElement(m,{defaultValue:d,onChange:e=>{const t=e.target.value||"";if(t===g||t===v||t===b||t===y||/\d{4}-\d{2}/.test(t)){u(t);const[e,i]=p(t);n(e,i)}},mobilewidthpixels:c},_.map(e=>{let{option:t,name:n}=e;return r.a.createElement("option",{key:t,value:t},n)})))})},1864:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=s(r),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){return o.default.createElement("table",{className:this.props.className},o.default.createElement("tbody",null,this.props.children))}}]),t}(r.PureComponent);h.propTypes={className:a.default.string,data:a.default.array.isRequired},t.default=h},1865:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=l(r),a=l(n(2)),s=l(n(1762));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){return c(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){return o.default.createElement("tr",null,this.props.children)}}]),t}(r.PureComponent);d.propTypes={row:a.default.number.isRequired,cells:a.default.arrayOf(a.default.shape(s.default)).isRequired},t.default=d},1866:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TAB_KEY=9,t.ENTER_KEY=13,t.ESCAPE_KEY=27,t.LEFT_KEY=37,t.UP_KEY=38,t.RIGHT_KEY=39,t.DOWN_KEY=40,t.DELETE_KEY=46,t.BACKSPACE_KEY=8},1867:function(e,t,n){"use strict";function i(e,t,n,i){var r=i(e,t,n);return null===r||"undefined"===typeof r?"":r}Object.defineProperty(t,"__esModule",{value:!0}),t.renderValue=i,t.renderData=function(e,t,n,r,o){var a=o?o(e,t,n):null;return null===a||"undefined"===typeof a?i(e,t,n,r):a}},1868:function(e,t,n){"use strict";t.a=e=>{if(!(null===e||void 0===e?void 0:e.pathname))return!1;const t=e.pathname.split("/");if(t.length){if("page"===t[1]&&"draft"!==t[t.length-1])return!0;if(("courses"===t[1]||"collection"===t[1])&&"draft"!==t[t.length-1]&&"versions"!==t[t.length-1])return!0}return!1}},1869:function(e,t,n){"use strict";t.a={version:"2.0",text:"",mdHtml:"",cursorPosition:{line:0,ch:0}}},1870:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n(814);const r="5.0",o="6.0",a="7.0",s="7.0",l=(e,t)=>{var n,r;const o=i.a(e),s=null===o||void 0===o?void 0:o.docker;0===Object.keys(null!==s&&void 0!==s?s:{}).length&&(o.docker=t);const l=null===o||void 0===o?void 0:null===(n=o.dockerJob)||void 0===n?void 0:n.inputFileName,c=null===o||void 0===o?void 0:null===(r=o.dockerJob)||void 0===r?void 0:r.key;if(l)o.entryFileName=l;else if(c){var h,d;const e=null===o||void 0===o?void 0:null===(h=o.docker)||void 0===h?void 0:null===(d=h.jobs)||void 0===d?void 0:d.find(e=>e.key===c);e&&(o.entryFileName=e.inputFileName)}return o.version=a,o},c=(e,t,n)=>{const{version:a}=e;return a===s?e:parseFloat(a)===parseFloat(o)?l(e,t):parseFloat(a)<=parseFloat(r)?l(((e,t)=>{var n;const{language:r}=e,a=i.a(e);return a.entryFileName=null===t||void 0===t?void 0:null===(n=t[r])||void 0===n?void 0:n.entry_filename,a.version=o,a})(e,n),t):e}},1871:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},1872:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createElement("g",{stroke:"#000",fill:"none"},r.a.createElement("circle",{cx:15,cy:15,r:15,transform:"translate(2 2)"}),r.a.createElement("path",{d:"M12 15l-2 2 2 2M15 12l2-2 2 2M19 22l-2 2-2-2M22 15l2 2-2 2M10 17h14M17 10v14"}));const l=e=>{let{svgRef:t,title:n}=e,i=a(e,["svgRef","title"]);return r.a.createElement("svg",o({width:34,height:34,viewBox:"0 0 34 34",ref:t},i),n?r.a.createElement("title",null,n):null,s)},c=r.a.forwardRef((e,t)=>r.a.createElement(l,o({svgRef:t},e)));n.p},1878:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(0),r=n.n(i),o=n(1752),a=n(1879),s=n(1880);class l extends i.Component{constructor(){super(...arguments),this.getParsedConfig=e=>{try{return JSON.parse(e)}catch(t){console.log("invalid config for chart")}return null}}render(){const{config:e,chartType:t,mode:n,updateConfigCallback:i}=this.props;return"edit"===n?r.a.createElement(a.a,{inView:this.props.inView,config:this.getParsedConfig(e),chartType:t,updateConfigCallback:i}):r.a.createElement(o.d,{viewer:!0},r.a.createElement(s.a,{parsedConfig:this.getParsedConfig(e),chartType:t}))}}},1879:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(0),r=n.n(i),o=n(50),a=n(530),s=n(55),l=n(1752),c=n(1797),h=n(1798);const d=Object(o.a)({resolved:{},chunkName:()=>"chartJS",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Object(s.a)(()=>Promise.all([n.e(106),n.e(29)]).then(n.bind(null,1760))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 1760}},{fallback:r.a.createElement("div",null,"Loading...")});class u extends i.Component{constructor(){super(...arguments),this.state={activeCodeContent:{content:this.props.config?JSON.stringify(this.props.config,null,2):Object(c.b)(this.props.chartType),language:"javascript",theme:"default",lineNumbers:!1}},this.handleConfigChanges=e=>{this.props.updateConfigCallback(e)}}componentDidUpdate(e){var t,n,i;if((null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:t.type)!==(null===(n=this.props)||void 0===n?void 0:null===(i=n.config)||void 0===i?void 0:i.type)&&this.props.config){const e={content:JSON.stringify(this.props.config,null,2),language:"javascript",theme:"default",lineNumbers:!1};this.setState({activeCodeContent:e})}}render(){let e="Enter config for ChartJS.\nFor examples, look at\nhttps://www.chartjs.org/samples/latest/",t=r.a.createElement(d,{config:this.props.config});return"scatter3d"===this.props.chartType&&(e="Enter config for Plotly.\nFor examples, look at\nhttps://plot.ly/javascript/",t=r.a.createElement(h.a,{config:this.props.config})),r.a.createElement(l.c,null,r.a.createElement(l.e,{left:!0},r.a.createElement(l.d,null,r.a.createElement(a.a,{inView:this.props.inView,key:"editorConfig_1",codeContent:this.state.activeCodeContent,readOnly:!1,placeholder:e,onEditorChange:this.handleConfigChanges,isNotCodeEditor:!0}))),r.a.createElement(l.e,null,t))}}},1880:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(50),a=n(55),s=n(1798);const l=Object(o.a)({resolved:{},chunkName:()=>"chartJS",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Object(a.a)(()=>Promise.all([n.e(106),n.e(29)]).then(n.bind(null,1760))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 1760}},{fallback:r.a.createElement("div",null,"Loading...")});t.a=e=>{let{parsedConfig:t,chartType:n}=e;return"scatter3d"===n?r.a.createElement(s.a,{config:t}):r.a.createElement(l,{config:t})}},1881:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m}));var i=n(1),r=n(1064),o=n(58),a=n(5),s=n(201),l=n(1817);const c=s.ResultContainer,h=i.d.div.withConfig({displayName:"styles__BtnsPanel",componentId:"jz2ez-0"})(["display:flex;align-items:center;justify-content:space-between;margin-top:10px;margin-bottom:10px;"]),d=Object(i.d)(l.e).withConfig({displayName:"styles__X",componentId:"jz2ez-1"})(["align-self:flex-start;"]),u=Object(i.d)(o.a).attrs({small:!0,black:!0}).withConfig({displayName:"styles__ResultsBtn",componentId:"jz2ez-2"})(["width:130px;margin-right:10px;padding:4px 21px;",":hover,:focus{border-color:",";background:",";}@media (max-width:","){margin-bottom:10px;}"],e=>e.active&&Object(i.c)(["border-color:",";background:",";color:",";"],e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.common.white}),e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.main},a.f.pixels),p=s.TestCount,f=s.WidgetClipboard,m=Object(i.d)(r.a).withConfig({displayName:"styles__CodePopover",componentId:"jz2ez-3"})([".popover-content{overflow-y:scroll;max-height:150px;word-wrap:break-word;}"]);t.g=c},1882:function(e,t){e.exports=function(e){return(""+e).replace(/["'\\\n\r\u2028\u2029]/g,(function(e){switch(e){case'"':case"'":case"\\":return"\\"+e;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))}},1883:function(e,t,n){"use strict";var i=n(1727).Buffer,r=n(1800).Transform;function o(e){r.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(1726)(o,r),o.prototype._transform=function(e,t,n){var i=null;try{this.update(e,t)}catch(r){i=r}n(i)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!i.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var n=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)n[this._blockOffset++]=e[r++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},1884:function(e,t,n){"use strict";(function(t,i){var r=n(1788);e.exports=y;var o,a=n(2031);y.ReadableState=b;n(1822).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(1885),c=n(1824).Buffer,h=t.Uint8Array||function(){};var d=Object.create(n(1764));d.inherits=n(1726);var u=n(1961),p=void 0;p=u&&u.debuglog?u.debuglog("stream"):function(){};var f,m=n(2032),g=n(1886);d.inherits(y,l);var v=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var i=t instanceof(o=o||n(1751));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(1826).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function y(e){if(o=o||n(1751),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function _(e,t,n,i,r){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,C(e)}(e,a)):(r||(o=function(e,t){var n;i=t,c.isBuffer(i)||i instanceof h||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),i?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?x(e,a,t,!1):E(e,a)):x(e,a,t,!1))):i||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function x(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),E(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"===typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=c.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},y.prototype.unshift=function(e){return _(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return f||(f=n(1826).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(S,e):S(e))}function S(e){p("emit readable"),e.emit("readable"),A(e)}function E(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){p("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,r=n.data;e-=r.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?r+=o:r+=o.slice(0,e),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t):function(e,t){var n=c.allocUnsafe(e),i=t.head,r=1;i.data.copy(n),e-=i.data.length;for(;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++r}return t.length-=r,n}(e,t);return i}(e,t.buffer,t.decoder),n);var n}function j(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):C(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&j(this),null;var i,r=t.needReadable;return p("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",r=!0),t.ended||t.reading?p("reading or ended",r=!1):r&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(i=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==i&&this.emit("data",i),i},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var l=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?h:y;function c(t,i){p("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),e.removeListener("close",v),e.removeListener("finish",b),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",c),n.removeListener("end",h),n.removeListener("end",y),n.removeListener("data",m),u=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function h(){p("onend"),e.end()}o.endEmitted?r.nextTick(l):n.once("end",l),e.on("unpipe",c);var d=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(n);e.on("drain",d);var u=!1;var f=!1;function m(t){p("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==M(o.pipes,e))&&!u&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function g(t){p("onerror",t),y(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",b),y()}function b(){p("onfinish"),e.removeListener("close",v),y()}function y(){p("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",b),e.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var a=M(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},y.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&C(this):r.nextTick(O,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(T,e,t))}(this,e)),this},y.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(p("wrapped data"),n.decoder&&(r=n.decoder.write(r)),!n.objectMode||null!==r&&void 0!==r)&&((n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause())))})),e)void 0===this[r]&&"function"===typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){p("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=I}).call(this,n(191),n(328))},1885:function(e,t,n){e.exports=n(1822).EventEmitter},1886:function(e,t,n){"use strict";var i=n(1788);function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(i.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},1887:function(e,t,n){"use strict";e.exports=a;var i=n(1751),r=Object.create(n(1764));function o(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);i.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=n(1726),r.inherits(a,i),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},1888:function(e,t,n){var i=n(1726),r=n(1754),o=n(1727).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function l(){this.init(),this._w=s,r.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function h(e,t,n){return e&t|n&(e|t)}function d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function u(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function p(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}i(l,r),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,l=0|this._e,f=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)n[v]=e.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((t=n[v-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[v-7]+p(n[v-15])+n[v-16];for(var b=0;b<64;++b){var y=g+u(l)+c(l,f,m)+a[b]+n[b]|0,_=d(i)+h(i,r,o)|0;g=m,m=f,f=l,l=s+y|0,s=o,o=r,r=i,i=y+_|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0,this._f=f+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},l.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=l},1889:function(e,t,n){var i=n(1726),r=n(1754),o=n(1727).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function l(){this.init(),this._w=s,r.call(this,128,112)}function c(e,t,n){return n^e&(t^n)}function h(e,t,n){return e&t|n&(e|t)}function d(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function u(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function v(e,t){return e>>>0<t>>>0?1:0}i(l,r),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(e){for(var t=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,o=0|this._dh,s=0|this._eh,l=0|this._fh,b=0|this._gh,y=0|this._hh,_=0|this._al,x=0|this._bl,w=0|this._cl,C=0|this._dl,S=0|this._el,E=0|this._fl,k=0|this._gl,O=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var A=t[T-30],I=t[T-30+1],j=p(A,I),P=f(I,A),M=m(A=t[T-4],I=t[T-4+1]),R=g(I,A),D=t[T-14],L=t[T-14+1],N=t[T-32],B=t[T-32+1],F=P+L|0,z=j+D+v(F,P)|0;z=(z=z+M+v(F=F+R|0,R)|0)+N+v(F=F+B|0,B)|0,t[T]=z,t[T+1]=F}for(var H=0;H<160;H+=2){z=t[H],F=t[H+1];var U=h(n,i,r),q=h(_,x,w),W=d(n,_),V=d(_,n),G=u(s,S),K=u(S,s),Y=a[H],X=a[H+1],J=c(s,l,b),$=c(S,E,k),Z=O+K|0,Q=y+G+v(Z,O)|0;Q=(Q=(Q=Q+J+v(Z=Z+$|0,$)|0)+Y+v(Z=Z+X|0,X)|0)+z+v(Z=Z+F|0,F)|0;var ee=V+q|0,te=W+U+v(ee,V)|0;y=b,O=k,b=l,k=E,l=s,E=S,s=o+Q+v(S=C+Z|0,C)|0,o=r,C=w,r=i,w=x,i=n,x=_,n=Q+te+v(_=Z+ee|0,Z)|0}this._al=this._al+_|0,this._bl=this._bl+x|0,this._cl=this._cl+w|0,this._dl=this._dl+C|0,this._el=this._el+S|0,this._fl=this._fl+E|0,this._gl=this._gl+k|0,this._hl=this._hl+O|0,this._ah=this._ah+n+v(this._al,_)|0,this._bh=this._bh+i+v(this._bl,x)|0,this._ch=this._ch+r+v(this._cl,w)|0,this._dh=this._dh+o+v(this._dl,C)|0,this._eh=this._eh+s+v(this._el,S)|0,this._fh=this._fh+l+v(this._fl,E)|0,this._gh=this._gh+b+v(this._gl,k)|0,this._hh=this._hh+y+v(this._hl,O)|0},l.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=l},1890:function(e,t,n){"use strict";var i=n(1726),r=n(2043),o=n(1748),a=n(1727).Buffer,s=n(1891),l=n(1827),c=n(1828),h=a.alloc(128);function d(e,t){o.call(this,"digest"),"string"===typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new l:c(e)).update(t).digest():t.length<n&&(t=a.concat([t,h],n));for(var i=this._ipad=a.allocUnsafe(n),r=this._opad=a.allocUnsafe(n),s=0;s<n;s++)i[s]=54^t[s],r[s]=92^t[s];this._hash="rmd160"===e?new l:c(e),this._hash.update(i)}i(d,o),d.prototype._update=function(e){this._hash.update(e)},d.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new l:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new d("rmd160",t):"md5"===e?new r(s,t):new d(e,t)}},1891:function(e,t,n){var i=n(1821);e.exports=function(e){return(new i).update(e).digest()}},1892:function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1893:function(e,t,n){t.pbkdf2=n(2045),t.pbkdf2Sync=n(1896)},1894:function(e,t,n){(function(t){var n=Math.pow(2,30)-1;function i(e,n){if("string"!==typeof e&&!t.isBuffer(e))throw new TypeError(n+" must be a buffer or string")}e.exports=function(e,t,r,o){if(i(e,"Password"),i(t,"Salt"),"number"!==typeof r)throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if("number"!==typeof o)throw new TypeError("Key length not a number");if(o<0||o>n||o!==o)throw new TypeError("Bad key length")}}).call(this,n(1729).Buffer)},1895:function(e,t,n){(function(t){var n;t.browser?n="utf-8":n=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";e.exports=n}).call(this,n(328))},1896:function(e,t,n){var i=n(1891),r=n(1827),o=n(1828),a=n(1894),s=n(1895),l=n(1727).Buffer,c=l.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(e,t,n){var a=function(e){function t(t){return o(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?function(e){return(new r).update(e).digest()}:"md5"===e?i:t}(e),s="sha512"===e||"sha384"===e?128:64;t.length>s?t=a(t):t.length<s&&(t=l.concat([t,c],s));for(var d=l.allocUnsafe(s+h[e]),u=l.allocUnsafe(s+h[e]),p=0;p<s;p++)d[p]=54^t[p],u[p]=92^t[p];var f=l.allocUnsafe(s+n+4);d.copy(f,0,0,s),this.ipad1=f,this.ipad2=d,this.opad=u,this.alg=e,this.blocksize=s,this.hash=a,this.size=h[e]}d.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,i,r){a(e,t,n,i),l.isBuffer(e)||(e=l.from(e,s)),l.isBuffer(t)||(t=l.from(t,s));var o=new d(r=r||"sha1",e,t.length),c=l.allocUnsafe(i),u=l.allocUnsafe(t.length+4);t.copy(u,0,0,t.length);for(var p=0,f=h[r],m=Math.ceil(i/f),g=1;g<=m;g++){u.writeUInt32BE(g,t.length);for(var v=o.run(u,o.ipad1),b=v,y=1;y<n;y++){b=o.run(b,o.ipad2);for(var _=0;_<f;_++)v[_]^=b[_]}v.copy(c,p),p+=f}return c}},1897:function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,i){for(var r=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)r<<=1,r|=t>>>s+a&1;for(s=0;s<=24;s+=8)r<<=1,r|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}n[i+0]=r>>>0,n[i+1]=o>>>0},t.rip=function(e,t,n,i){for(var r=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)r<<=1,r|=t>>>s+a&1,r<<=1,r|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},t.pc1=function(e,t,n,i){for(var r=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)r<<=1,r|=t>>s+a&1;for(s=0;s<=24;s+=8)r<<=1,r|=e>>s+a&1}for(s=0;s<=24;s+=8)r<<=1,r|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,r){for(var o=0,a=0,s=i.length>>>1,l=0;l<s;l++)o<<=1,o|=e>>>i[l]&1;for(l=s;l<i.length;l++)a<<=1,a|=t>>>i[l]&1;n[r+0]=o>>>0,n[r+1]=a>>>0},t.expand=function(e,t,n){var i=0,r=0;i=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=e>>>o&63;for(o=11;o>=3;o-=4)r|=e>>>o&63,r<<=6;r|=(31&e)<<1|e>>>31,t[n+0]=i>>>0,t[n+1]=r>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,i=0;i<4;i++){n<<=4,n|=r[64*i+(e>>>18-6*i&63)]}for(i=0;i<4;i++){n<<=4,n|=r[256+64*i+(t>>>18-6*i&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<o.length;n++)t<<=1,t|=e>>>o[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var i=e.toString(2);i.length<t;)i="0"+i;for(var r=[],o=0;o<t;o+=n)r.push(i.slice(o,o+n));return r.join(" ")}},1898:function(e,t,n){"use strict";var i=n(1738),r=n(1726),o=n(1897),a=n(1829);function s(){this.tmp=new Array(2),this.keys=null}function l(e){a.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}r(l,a),e.exports=l,l.create=function(e){return new l(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(e,t){e.keys=new Array(32),i.equal(t.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(t,0),r=o.readUInt32BE(t,4);o.pc1(n,r,e.tmp,0),n=e.tmp[0],r=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=c[a>>>1];n=o.r28shl(n,s),r=o.r28shl(r,s),o.pc2(n,r,e.keys,a)}},l.prototype._update=function(e,t,n,i){var r=this._desState,a=o.readUInt32BE(e,t),s=o.readUInt32BE(e,t+4);o.ip(a,s,r.tmp,0),a=r.tmp[0],s=r.tmp[1],"encrypt"===this.type?this._encrypt(r,a,s,r.tmp,0):this._decrypt(r,a,s,r.tmp,0),a=r.tmp[0],s=r.tmp[1],o.writeUInt32BE(n,a,i),o.writeUInt32BE(n,s,i+4)},l.prototype._pad=function(e,t){for(var n=e.length-t,i=t;i<e.length;i++)e[i]=n;return!0},l.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)i.equal(e[n],t);return e.slice(0,e.length-t)},l.prototype._encrypt=function(e,t,n,i,r){for(var a=t,s=n,l=0;l<e.keys.length;l+=2){var c=e.keys[l],h=e.keys[l+1];o.expand(s,e.tmp,0),c^=e.tmp[0],h^=e.tmp[1];var d=o.substitute(c,h),u=s;s=(a^o.permute(d))>>>0,a=u}o.rip(s,a,i,r)},l.prototype._decrypt=function(e,t,n,i,r){for(var a=n,s=t,l=e.keys.length-2;l>=0;l-=2){var c=e.keys[l],h=e.keys[l+1];o.expand(a,e.tmp,0),c^=e.tmp[0],h^=e.tmp[1];var d=o.substitute(c,h),u=a;a=(s^o.permute(d))>>>0,s=u}o.rip(a,s,i,r)}},1899:function(e,t,n){var i=n(1765),r=n(1727).Buffer,o=n(1900);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=r.concat([e._cache,r.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var l=a(e),c=o+16*s;e._cache.writeUInt32BE(l[0],c+0),e._cache.writeUInt32BE(l[1],c+4),e._cache.writeUInt32BE(l[2],c+8),e._cache.writeUInt32BE(l[3],c+12)}var h=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,h)}},1900:function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},1901:function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},1902:function(e,t,n){var i=n(1789),r=n(1727).Buffer,o=n(1748),a=n(1726),s=n(2058),l=n(1765),c=n(1900);function h(e,t,n,a){o.call(this);var l=r.alloc(4,0);this._cipher=new i.AES(t);var h=this._cipher.encryptBlock(l);this._ghash=new s(h),n=function(e,t,n){if(12===t.length)return e._finID=r.concat([t,r.from([0,0,0,1])]),r.concat([t,r.from([0,0,0,2])]);var i=new s(n),o=t.length,a=o%16;i.update(t),a&&(a=16-a,i.update(r.alloc(a,0))),i.update(r.alloc(8,0));var l=8*o,h=r.alloc(8);h.writeUIntBE(l,0,8),i.update(h),e._finID=i.state;var d=r.from(e._finID);return c(d),d}(this,n,h),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(h,o),h.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=r.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var i=Math.min(e.length,t.length),r=0;r<i;++r)n+=e[r]^t[r];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},h.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=h},1903:function(e,t,n){var i=n(1789),r=n(1727).Buffer,o=n(1748);function a(e,t,n,a){o.call(this),this._cipher=new i.AES(t),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=a,this._mode=e}n(1726)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},1904:function(e,t,n){var i=n(1753);e.exports=b,b.simpleSieve=g,b.fermatTest=v;var r=n(1735),o=new r(24),a=new(n(1905)),s=new r(1),l=new r(2),c=new r(5),h=(new r(16),new r(8),new r(10)),d=new r(3),u=(new r(7),new r(11)),p=new r(4),f=(new r(12),null);function m(){if(null!==f)return f;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var i=Math.ceil(Math.sqrt(n)),r=0;r<t&&e[r]<=i&&n%e[r]!==0;r++);t!==r&&e[r]<=i||(e[t++]=n)}return f=e,e}function g(e){for(var t=m(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function v(e){var t=r.mont(e);return 0===l.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function b(e,t){if(e<16)return new r(2===t||5===t?[140,123]:[140,39]);var n,f;for(t=new r(t);;){for(n=new r(i(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(l),t.cmp(l)){if(!t.cmp(c))for(;n.mod(h).cmp(d);)n.iadd(p)}else for(;n.mod(o).cmp(u);)n.iadd(p);if(g(f=n.shrn(1))&&g(n)&&v(f)&&v(n)&&a.test(f)&&a.test(n))return n}}},1905:function(e,t,n){var i=n(1735),r=n(1832);function o(e){this.rand=e||new r.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(e)>=0);return r},o.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},o.prototype.test=function(e,t,n){var r=e.bitLength(),o=i.mont(e),a=new i(1).toRed(o);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),l=0;!s.testn(l);l++);for(var c=e.shrn(l),h=s.toRed(o);t>0;t--){var d=this._randrange(new i(2),s);n&&n(d);var u=d.toRed(o).redPow(c);if(0!==u.cmp(a)&&0!==u.cmp(h)){for(var p=1;p<l;p++){if(0===(u=u.redSqr()).cmp(a))return!1;if(0===u.cmp(h))break}if(p===l)return!1}}return!0},o.prototype.getDivisor=function(e,t){var n=e.bitLength(),r=i.mont(e),o=new i(1).toRed(r);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var l=e.shrn(s),c=a.toRed(r);t>0;t--){var h=this._randrange(new i(2),a),d=e.gcd(h);if(0!==d.cmpn(1))return d;var u=h.toRed(r).redPow(l);if(0!==u.cmp(o)&&0!==u.cmp(c)){for(var p=1;p<s;p++){if(0===(u=u.redSqr()).cmp(o))return u.fromRed().subn(1).gcd(e);if(0===u.cmp(c))break}if(p===s)return(u=u.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},1906:function(e,t,n){"use strict";var i=t;function r(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}i.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!==typeof e){for(var i=0;i<e.length;i++)n[i]=0|e[i];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(i=0;i<e.length;i++){var r=e.charCodeAt(i),o=r>>8,a=255&r;o?n.push(o,a):n.push(a)}return n},i.zero2=r,i.toHex=o,i.encode=function(e,t){return"hex"===t?o(e):e}},1907:function(e,t,n){"use strict";var i=t;i.base=n(1791),i.short=n(2069),i.mont=n(2070),i.edwards=n(2071)},1908:function(e,t,n){"use strict";var i=n(1744).rotr32;function r(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,i){return 0===e?r(t,n,i):1===e||3===e?a(t,n,i):2===e?o(t,n,i):void 0},t.ch32=r,t.maj32=o,t.p32=a,t.s0_256=function(e){return i(e,2)^i(e,13)^i(e,22)},t.s1_256=function(e){return i(e,6)^i(e,11)^i(e,25)},t.g0_256=function(e){return i(e,7)^i(e,18)^e>>>3},t.g1_256=function(e){return i(e,17)^i(e,19)^e>>>10}},1909:function(e,t,n){"use strict";var i=n(1744),r=n(1766),o=n(1908),a=n(1738),s=i.sum32,l=i.sum32_4,c=i.sum32_5,h=o.ch32,d=o.maj32,u=o.s0_256,p=o.s1_256,f=o.g0_256,m=o.g1_256,g=r.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}i.inherits(b,g),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=l(m(n[i-2]),n[i-7],f(n[i-15]),n[i-16]);var r=this.h[0],o=this.h[1],g=this.h[2],v=this.h[3],b=this.h[4],y=this.h[5],_=this.h[6],x=this.h[7];for(a(this.k.length===n.length),i=0;i<n.length;i++){var w=c(x,p(b),h(b,y,_),this.k[i],n[i]),C=s(u(r),d(r,o,g));x=_,_=y,y=b,b=s(v,w),v=g,g=o,o=r,r=s(w,C)}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],g),this.h[3]=s(this.h[3],v),this.h[4]=s(this.h[4],b),this.h[5]=s(this.h[5],y),this.h[6]=s(this.h[6],_),this.h[7]=s(this.h[7],x)},b.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},1910:function(e,t,n){"use strict";var i=n(1744),r=n(1766),o=n(1738),a=i.rotr64_hi,s=i.rotr64_lo,l=i.shr64_hi,c=i.shr64_lo,h=i.sum64,d=i.sum64_hi,u=i.sum64_lo,p=i.sum64_4_hi,f=i.sum64_4_lo,m=i.sum64_5_hi,g=i.sum64_5_lo,v=r.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function _(e,t,n,i,r){var o=e&n^~e&r;return o<0&&(o+=4294967296),o}function x(e,t,n,i,r,o){var a=t&i^~t&o;return a<0&&(a+=4294967296),a}function w(e,t,n,i,r){var o=e&n^e&r^n&r;return o<0&&(o+=4294967296),o}function C(e,t,n,i,r,o){var a=t&i^t&o^i&o;return a<0&&(a+=4294967296),a}function S(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function E(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function k(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function O(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,1)^a(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=s(e,t,1)^s(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function I(e,t){var n=a(e,t,19)^a(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}function j(e,t){var n=s(e,t,19)^s(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}i.inherits(y,v),e.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var r=I(n[i-4],n[i-3]),o=j(n[i-4],n[i-3]),a=n[i-14],s=n[i-13],l=T(n[i-30],n[i-29]),c=A(n[i-30],n[i-29]),h=n[i-32],d=n[i-31];n[i]=p(r,o,a,s,l,c,h,d),n[i+1]=f(r,o,a,s,l,c,h,d)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],r=this.h[1],a=this.h[2],s=this.h[3],l=this.h[4],c=this.h[5],p=this.h[6],f=this.h[7],v=this.h[8],b=this.h[9],y=this.h[10],T=this.h[11],A=this.h[12],I=this.h[13],j=this.h[14],P=this.h[15];o(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var R=j,D=P,L=k(v,b),N=O(v,b),B=_(v,b,y,T,A),F=x(v,b,y,T,A,I),z=this.k[M],H=this.k[M+1],U=n[M],q=n[M+1],W=m(R,D,L,N,B,F,z,H,U,q),V=g(R,D,L,N,B,F,z,H,U,q);R=S(i,r),D=E(i,r),L=w(i,r,a,s,l),N=C(i,r,a,s,l,c);var G=d(R,D,L,N),K=u(R,D,L,N);j=A,P=I,A=y,I=T,y=v,T=b,v=d(p,f,W,V),b=u(f,f,W,V),p=l,f=c,l=a,c=s,a=i,s=r,i=d(W,V,G,K),r=u(W,V,G,K)}h(this.h,0,i,r),h(this.h,2,a,s),h(this.h,4,l,c),h(this.h,6,p,f),h(this.h,8,v,b),h(this.h,10,y,T),h(this.h,12,A,I),h(this.h,14,j,P)},y.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},1911:function(e,t,n){var i=n(1726),r=n(1768).Reporter,o=n(1729).Buffer;function a(e,t){r.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof s||(e=new s(e,t)),this.length+=e.length,e}),this);else if("number"===typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"===typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}i(a,r),t.DecoderBuffer=a,a.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,r.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=s,s.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach((function(n){n.join(e,t),t+=n.length})):("number"===typeof this.value?e[t]=this.value:"string"===typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},1912:function(e,t,n){var i=t;i._reverse=function(e){var t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);var i=e[n];t[i]=n})),t},i.der=n(2091)},1913:function(e,t,n){var i=n(1726),r=n(1767),o=r.base,a=r.bignum,s=r.constants.der;function l(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.Node.call(this,"der",e)}function h(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var i=s.tagClass[n>>6],r=0===(32&n);if(31===(31&n)){var o=n;for(n=0;128===(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:i,primitive:r,tag:n,tagStr:s.tag[n]}}function d(e,t,n){var i=e.readUInt8(n);if(e.isError(i))return i;if(!t&&128===i)return null;if(0===(128&i))return i;var r=127&i;if(r>4)return e.error("length octect is too long");i=0;for(var o=0;o<r;o++){i<<=8;var a=e.readUInt8(n);if(e.isError(a))return a;i|=a}return i}e.exports=l,l.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},i(c,o.Node),c.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var i=e.save(),r=h(e,'Failed to peek tag: "'+t+'"');return e.isError(r)?r:(e.restore(i),r.tag===t||r.tagStr===t||r.tagStr+"of"===t||n)},c.prototype._decodeTag=function(e,t,n){var i=h(e,'Failed to decode tag of "'+t+'"');if(e.isError(i))return i;var r=d(e,i.primitive,'Failed to get length of "'+t+'"');if(e.isError(r))return r;if(!n&&i.tag!==t&&i.tagStr!==t&&i.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(i.primitive||null!==r)return e.skip(r,'Failed to match body of: "'+t+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(r=e.offset-o.offset,e.restore(o),e.skip(r,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){var n=h(e,t);if(e.isError(n))return n;var i,r=d(e,n.primitive,t);if(e.isError(r))return r;if(i=n.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===n.tagStr)break}},c.prototype._decodeList=function(e,t,n,i){for(var r=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=n.decode(e,"der",i);if(e.isError(a)&&o)break;r.push(a)}return r},c.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var r="",o=0;o<i.length/2;o++)r+=String.fromCharCode(i.readUInt16BE(2*o));return r}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,n){for(var i,r=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=127&a,0===(128&a)&&(r.push(o),o=0)}128&a&&r.push(o);var s=r[0]/40|0,l=r[0]%40;if(i=n?r:[s,l].concat(r.slice(1)),t){var c=t[i.join(" ")];void 0===c&&(c=t[i.join(".")]),void 0!==c&&(i=c)}return i},c.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var i=0|n.slice(0,4),r=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),l=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");i=0|n.slice(0,2),r=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),l=0|n.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,r-1,o,a,s,l,0)},c.prototype._decodeNull=function(e){return null},c.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){var n=e.raw(),i=new a(n);return t&&(i=t[i.toString(10)]||i),i},c.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getDecoder("der").tree}},1914:function(e,t,n){var i=n(1726),r=n(1729).Buffer,o=n(1767),a=o.base,s=o.constants.der;function l(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){a.Node.call(this,"der",e)}function h(e){return e<10?"0"+e:e}e.exports=l,l.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},i(c,a.Node),c.prototype._encodeComposite=function(e,t,n,i){var o,a=function(e,t,n,i){var r;"seqof"===e?e="seq":"setof"===e&&(e="set");if(s.tagByName.hasOwnProperty(e))r=s.tagByName[e];else{if("number"!==typeof e||(0|e)!==e)return i.error("Unknown tag: "+e);r=e}if(r>=31)return i.error("Multi-octet tag encoding unsupported");t||(r|=32);return r|=s.tagClassByName[n||"universal"]<<6}(e,t,n,this.reporter);if(i.length<128)return(o=new r(2))[0]=a,o[1]=i.length,this._createEncoderBuffer([o,i]);for(var l=1,c=i.length;c>=256;c>>=8)l++;(o=new r(2+l))[0]=a,o[1]=128|l;c=1+l;for(var h=i.length;h>0;c--,h>>=8)o[c]=255&h;return this._createEncoderBuffer([o,i])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new r(2*e.length),i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),2*i);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,n){if("string"===typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var i=0;i<e.length;i++)e[i]|=0}else if(Array.isArray(e)){e=e.slice();for(i=0;i<e.length;i++)e[i]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(i=0;i<e.length;i++){var a=e[i];for(o++;a>=128;a>>=7)o++}var s=new r(o),l=s.length-1;for(i=e.length-1;i>=0;i--){a=e[i];for(s[l--]=127&a;(a>>=7)>0;)s[l--]=128|127&a}return this._createEncoderBuffer(s)},c.prototype._encodeTime=function(e,t){var n,i=new Date(e);return"gentime"===t?n=[h(i.getFullYear()),h(i.getUTCMonth()+1),h(i.getUTCDate()),h(i.getUTCHours()),h(i.getUTCMinutes()),h(i.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[h(i.getFullYear()%100),h(i.getUTCMonth()+1),h(i.getUTCDate()),h(i.getUTCHours()),h(i.getUTCMinutes()),h(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"===typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!==typeof e&&!r.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new r(n)}if(r.isBuffer(e)){var i=e.length;0===e.length&&i++;var o=new r(i);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);i=1;for(var a=e;a>=256;a>>=8)i++;for(a=(o=new Array(i)).length-1;a>=0;a--)o[a]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new r(o))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,n){var i,r=this._baseState;if(null===r.default)return!1;var o=e.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r.default,t,n).join()),o.length!==r.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==r.defaultBuffer[i])return!1;return!0}},1915:function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},1916:function(e,t,n){var i=n(1763),r=n(1727).Buffer;function o(e){var t=r.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,a=r.alloc(0),s=0;a.length<t;)n=o(s++),a=r.concat([a,i("sha1").update(e).update(n).digest()]);return a.slice(0,t)}},1917:function(e,t){e.exports=function(e,t){for(var n=e.length,i=-1;++i<n;)e[i]^=t[i];return e}},1918:function(e,t,n){var i=n(1735),r=n(1727).Buffer;e.exports=function(e,t){return r.from(e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed().toArray())}},1919:function(e,t,n){!function(t,i){var r;e.exports=(r=n(1731),function(){var e=r,t=e.lib,n=t.WordArray,i=t.Hasher,o=e.algo,a=[],s=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],l=n[4],c=0;c<80;c++){if(c<16)a[c]=0|e[t+c];else{var h=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=h<<1|h>>>31}var d=(i<<5|i>>>27)+l+a[c];d+=c<20?1518500249+(r&o|~r&s):c<40?1859775393+(r^o^s):c<60?(r&o|r&s|o&s)-1894007588:(r^o^s)-899497514,l=s,s=o,o=r<<30|r>>>2,r=i,i=d}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s)}(),r.SHA1)}()},1920:function(e,t,n){!function(t,i){var r;e.exports=(r=n(1731),void function(){var e=r,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,r=4*i;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,l=a.words,c=0;c<i;c++)s[c]^=1549556828,l[c]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},1921:function(e,t,n){"use strict";let i=0;function r(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const r=this,o=this.send(e,n,(function(){}));return function(e){r.callbacks[o]=e}}}function o(e,t){let{result:n,error:i,id:r}=t;"number"===typeof r&&e.callbacks[r]&&(n?e.callbacks[r](n):e.callbacks[r](i,"error"))}function a(e){if(!e.data||!["string","object"].includes(typeof e.data))return;const{allowedOrigins:t}=this,n="object"===typeof e.data?e.data:JSON.parse(e.data);n&&"object"===typeof n&&"svg-edit"===n.namespace&&e.source===this.frame.contentWindow&&(t.includes("*")||t.includes(e.origin))?o(this,n):console.log("The origin ".concat(e.origin," was not whitelisted as an origin from which responses may be received by this ").concat(window.origin," script."))}function s(e){return function(t){a.call(e,t)}}t.a=class{constructor(e,t){const n=this;this.allowedOrigins=t||[],this.frame=e,this.callbacks={};const i=["addExtension","addSVGElementFromJson","addToSelection","alignSelectedElements","assignAttributes","bind","call","changeSelectedAttribute","cleanupElement","clear","clearSelection","clearSvgContentElement","cloneLayer","cloneSelectedElements","convertGradients","convertToGroup","convertToNum","convertToPath","copySelectedElements","createLayer","cutSelectedElements","cycleElement","deleteCurrentLayer","deleteSelectedElements","embedImage","exportPDF","findDefs","getBBox","getBlur","getBold","getColor","getContentElem","getCurrentDrawing","getDocumentTitle","getEditorNS","getElem","getFillOpacity","getFontColor","getFontFamily","getFontSize","getHref","getId","getIntersectionList","getItalic","getMode","getMouseTarget","getNextId","getOffset","getOpacity","getPaintOpacity","getPrivateMethods","getRefElem","getResolution","getRootElem","getRotationAngle","getSelectedElems","getStrokeOpacity","getStrokeWidth","getStrokedBBox","getStyle","getSvgString","getText","getTitle","getTransformList","getUIStrings","getUrlFromAttr","getVersion","getVisibleElements","getVisibleElementsAndBBoxes","getZoom","groupSelectedElements","groupSvgElem","hasMatrixTransform","identifyLayers","importSvgString","leaveContext","linkControlPoints","makeHyperlink","matrixMultiply","mergeAllLayers","mergeLayer","moveSelectedElements","moveSelectedToLayer","moveToBottomSelectedElement","moveToTopSelectedElement","moveUpDownSelected","open","pasteElements","prepareSvg","pushGroupProperties","randomizeIds","rasterExport","ready","recalculateAllSelectedDimensions","recalculateDimensions","remapElement","removeFromSelection","removeHyperlink","removeUnusedDefElems","renameCurrentLayer","round","runExtensions","sanitizeSvg","save","selectAllInCurrentLayer","selectOnly","setBBoxZoom","setBackground","setBlur","setBlurNoUndo","setBlurOffsets","setBold","setColor","setConfig","setContext","setCurrentLayer","setCurrentLayerPosition","setDocumentTitle","setFillPaint","setFontColor","setFontFamily","setFontSize","setGoodImage","setGradient","setGroupTitle","setHref","setIdPrefix","setImageURL","setItalic","setLayerVisibility","setLinkURL","setMode","setOpacity","setPaint","setPaintOpacity","setRectRadius","setResolution","setRotationAngle","setSegType","setStrokeAttr","setStrokePaint","setStrokeWidth","setSvgString","setTextContent","setUiStrings","setUseData","setZoom","svgCanvasToString","svgToString","transformListToTransform","ungroupSelectedElement","uniquifyElems","updateCanvas","zoomChanged"];for(const o of i)this[o]=r(o);window.addEventListener("message",s(this)),window.addEventListener("keydown",e=>{const{type:t,key:i}=e;if("Backspace"===i){e.preventDefault();const r=new KeyboardEvent(t,{key:i});n.frame.contentDocument.dispatchEvent(r)}})}send(e,t,n){const r=this;var a;return i++,this.callbacks[i]=n,setTimeout((a=i,function(){let n=!1;try{n=window.location.origin===r.frame.contentWindow.location.origin&&r.frame.contentWindow.svgEditor.canvas}catch(i){}if(n){const n={id:a},{svgEditor:{canvas:s}}=r.frame.contentWindow;try{n.result=s[e](...t)}catch(i){n.error=i.message}o(r,n)}else r.frame.contentWindow.postMessage(JSON.stringify({namespace:"svgCanvas",id:a,name:e,args:t}),"*")}),0),i}}},1933:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var i=n(1),r=n(12);const o={Editor:i.d.div.withConfig({displayName:"styles__Editor",componentId:"sc-1xczfig-0"})(["display:flex;flex-direction:column;align-items:center;.gv-editor{position:relative;width:100%;.btn.btn-expand{position:absolute;right:10px;top:5px;border:none;background:transparent;z-index:10;&:active,&:hover,&:focus{outline:none;background:transparent;}}}.gv-editor-preview{width:100%;.gv-editor-preview-btn{margin:10px;}.graphvizPreviewArea{text-align:center;svg:not(:root){width:100%;height:100%;}}.caption{flex:0 0;}}"]),GraphVizError:i.d.span.withConfig({displayName:"styles__GraphVizError",componentId:"sc-1xczfig-1"})(["display:block;color:",";text-align:center;margin:10px 0;"],e=>{let{theme:t}=e;return t.palette.error.dark}),View:i.d.div.withConfig({displayName:"styles__View",componentId:"sc-1xczfig-2"})(["display:flex;align-items:center;justify-content:center;border:1px solid ",";padding:10px;svg:not(:root){width:100%;height:100%;}"],e=>{let{theme:t}=e;return t.palette.grey[100]})},a={AddFileButton:i.d.div.withConfig({displayName:"styles__AddFileButton",componentId:"sc-1xczfig-3"})(["float:left;font-size:",";color:",";background-color:",";border:1px solid ",";cursor:pointer;margin-left:5px;&:hover{background-color:",";}"],r.a.textLarge,e=>{let{theme:t}=e;return t.palette.grey[400]},e=>{let{theme:t}=e;return t.palette.grey[100]},e=>{let{theme:t}=e;return t.palette.grey[50]},e=>{let{theme:t}=e;return t.palette.grey[50]}),ButtonsWrapper:i.d.div.withConfig({displayName:"styles__ButtonsWrapper",componentId:"sc-1xczfig-4"})(["margin:10px 10px 10px 0;display:flex;justify-content:space-between;.dropdown-menu{max-width:100px;text-align:center;}"]),Container:i.d.div.withConfig({displayName:"styles__Container",componentId:"sc-1xczfig-5"})(["display:flex;width:100%;padding-bottom:15px;.cmcomp-editor-container{border:none;border-radius:0;height:100%;}"]),HeightViewer:i.d.div.withConfig({displayName:"styles__HeightViewer",componentId:"sc-1xczfig-6"})(["flex:0 0 auto;label{display:block;}input{display:block;}margin-top:15px;"]),Scene:i.d.div.withConfig({displayName:"styles__Scene",componentId:"sc-1xczfig-7"})(["display:flex;justify-content:space-between;margin:5px;"]),TabsList:i.d.div.withConfig({displayName:"styles__TabsList",componentId:"sc-1xczfig-8"})(["display:flex;flex-direction:column;width:450px;border-right:1px solid ",";"],e=>{let{theme:t}=e;return t.palette.success.main})},s={TabWrapper:i.d.div.withConfig({displayName:"styles__TabWrapper",componentId:"sc-1xczfig-9"})(["width:200px;padding:0px 5px 0px;margin:2px;line-height:30px;.close-icon{fill:"," !important;width:14px;height:14px;}.clone-icon{fill:"," !important;width:14px;height:14px;&:hover{fill:"," !important;}}.cmcomp-glyphicon-clone{display:inline-block;padding:0px 8px;border:none;outline:none;}.iconWrap{display:inline;float:right;}"],e=>{let{theme:t}=e;return t.palette.grey[600]},e=>{let{theme:t}=e;return t.palette.grey[600]},e=>{let{theme:t}=e;return t.palette.common.black})}},1934:function(e,t,n){var i=n(1935);t.operation=function(e){var n=t.timeouts(e);return new i(n,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],r=0;r<t.retries;r++)i.push(this.createTimeout(r,t));return e&&e.forever&&!i.length&&i.push(this.createTimeout(r,t)),i.sort((function(e,t){return e-t})),i},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,i=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return i=Math.min(i,t.maxTimeout)},t.wrap=function(e,n,i){if(n instanceof Array&&(i=n,n=null),!i)for(var r in i=[],e)"function"===typeof e[r]&&i.push(r);for(var o=0;o<i.length;o++){var a=i[o],s=e[a];e[a]=function(i){var r=t.operation(n),o=Array.prototype.slice.call(arguments,1),a=o.pop();o.push((function(e){r.retry(e)||(e&&(arguments[0]=r.mainError()),a.apply(this,arguments))})),r.attempt((function(){i.apply(e,o)}))}.bind(e,s),e[a].options=n}}},1935:function(e,t){function n(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=n,n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),n=this._timeouts.shift()}var i=this,r=setTimeout((function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout((function(){i._operationTimeoutCb(i._attempts)}),i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)}),n);return this._options.unref&&r.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,i=0;i<this._errors.length;i++){var r=this._errors[i],o=r.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=r,n=a)}return t}},1936:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return h}));var i=n(20),r=n(1772);const o=e=>{var t,n;return null===(t=Object(r.c)(e,e.selectedId))||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.content},a=e=>encodeURI(e).replace(/%0D/g,""),s=(e,t)=>a(o(e))===a(o(t)),l=(e,t)=>{let n="/spa/dep/q/npmpkg/";return e&&(n+=e),t&&(n+="@".concat(t)),Object(i.a)({url:n,type:"GET"})},c={unknown:"unknown",building:"building",available:"available"},h=async e=>{const t="/spa/dep/q/bundle/"+(e=>Object.keys(e).map(t=>{const n=e[t];return"".concat(t,"@").concat(n)}).sort((e,t)=>e<t?-1:e>t?1:0).join("+"))(e);switch((await fetch(t)).status){case 200:return c.available;case 202:return c.building;default:return c.unknown}}},1937:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={authorCode:'import React from \'react\';\r\nimport { shallow, configure } from \'enzyme\';\r\nimport Adapter from \'enzyme-adapter-react-16\';\r\n\r\nconfigure({ adapter: new Adapter() });\r\n\r\nimport HelloWorld from \'./app\';\r\n\r\nvar TestResult = function() {\r\n    this.succeeded = false;\r\n    this.reason = "";\r\n    this.input = "";\r\n    this.expected_output = "";\r\n    this.actual_output = "";\r\n}\r\n\r\nexport const executeTests = function() {\r\n\r\n  var results = [];\r\n\r\n  result = new TestResult();\r\n  result.input = \'HelloWorld Component\';\r\n  result.expected_output = "span containing text \'Hello World\'"\r\n\r\n  let wrapper = shallow(<HelloWorld />);\r\n\r\n  // Call your Challenge function here.\r\n\r\n  let type = wrapper.type();\r\n  let testSuccessful = true;\r\n  let failureReason;\r\n\r\n  if (type !== \'span\') {\r\n    testSuccessful = false;\r\n    failureReason = "You need to render exactly one span HTML element";\r\n  } else if (wrapper.props().children != "Hello World") {\r\n     testSuccessful = false;\r\n     failureReason = "You have rendered wrong message in your span element";\r\n  }\r\n\r\n  result.actual_output = wrapper.html();\r\n\r\n  if (testSuccessful) {\r\n    result.succeeded = true;\r\n    result.reason = "Succeeded"\r\n  } else {\r\n    result.succeeded = false;\r\n    result.reason = failureReason;\r\n  }\r\n\r\n  results.push(result);\r\n\r\n  return results;\r\n}\r\n',edCode:'import { executeTests } from \'./ed_spa_test_code.js\'; var main = function() {\r\n let results = executeTests();\r\n  let test_results = []\r\n\r\n  for (let result in results) {\r\n    let jres = {}\r\n    jres["succeeded"] = results[result].succeeded\r\n    jres["reason"] = results[result].reason\r\n    jres["input"] = results[result].input\r\n    jres["expected_output"] = results[result].expected_output\r\n    jres["actual_output"] = results[result].actual_output\r\n\r\n    test_results.push(jres)\r\n  }\r\n\r\n  let output = {"test_results": test_results};\r\n  let json_output = JSON.stringify(output);\r\n\r\n  console.log("<__educative_test_results__>" + json_output + "</__educative_test_results__>");\r\n}\r\n\r\nmain();\r\n',version:"1.1"}},1943:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(817),a=n.n(o),s=n(650),l=n(1783),c=n(85),h=n(1737),d=n(58),u=n(114),p=n(282),f=n(35),m=n(1),g=n(1665),v=n(290);const b=Object(m.d)(g.a).attrs(e=>{let{theme:t}=e;return{size:v.e,color:t.palette.grey[400]}}).withConfig({displayName:"styles__ImageIconStyled",componentId:"igidxw-0"})(["cursor:pointer;transition:0.2s;:hover{stroke:",";}"],e=>{let{theme:t}=e;return t.palette.primary.main}),y=m.d.input.withConfig({displayName:"styles__Input",componentId:"igidxw-1"})(["width:0.1px;height:0.1px;opacity:0;overflow:hidden;position:absolute;"]),_=m.d.span.withConfig({displayName:"styles__Container",componentId:"igidxw-2"})(["display:flex;"]),x=m.d.div.withConfig({displayName:"styles__UrlContainer",componentId:"igidxw-3"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin-left:20px;padding-left:20px;border-left:1px solid ",";"],e=>{let{theme:t}=e;return t.palette.grey[300]}),w=m.d.span.withConfig({displayName:"styles__Url",componentId:"igidxw-4"})(["color:",";"],e=>{let{theme:t}=e;return t.palette.primary.main});var C=b,S=n(540);class E extends i.Component{constructor(){super(...arguments),this.state={key:0},this.addImage=e=>{const{pageId:t,shotId:n,editorPageId:i,authorId:r,collectionId:o,text:a,cursorPosition:s,isSpellCheckEnabled:d,textAreaCursor:u}=this.props;let f=null;o?f=c.u:t?f=c.o:n?f=c.x:i&&(f=c.w);let m={};o?m={author_id:r,collection_id:o,page_id:t}:t?m=t:n?m=n:i&&(m=i);const{name:g}=e.file;let v=Object(h.c)(a,d?u:s,"![Uploading ".concat(g,"]"));this.props.onUpdate({mdText:v,mdHtml:Object(p.b)(v)}),f(m).then(a=>{const{upload_url:s}=JSON.parse(a),{file:h}=e;Object(c.P)({upload_url:s,file:h}).then(()=>{const{image_id:e}=JSON.parse(a);this.setState({imagePath:Object(l.a)(o,r,t,e,n,i),key:this.state.key+1},()=>{const{text:e,inDrawing:t}=this.props;t||(v=e.replace("![Uploading ".concat(g,"]"),"![](".concat(this.state.imagePath,")"))),this.props.onUpdate({mdText:v,mdHtml:Object(p.b)(v)})})})})},this.onFileChange=e=>{const{files:t}=e.target;t.length&&(t[0].size>f.p.THREE_MB?alert("Image Size Limit Exceeded (3mb)"):function(e,t){const n=new FileReader,i=new Image;n.readAsDataURL(e),n.onload=n=>{i.src=n.target.result,i.onload=function(){const i={thumbnail:n.target.result,metadata:{width:this.width,height:this.height,sizeInBytes:e.size,name:e.name}};return t(i)}}}(t[0],e=>{const n={file:t[0],thumbnail:e.thumbnail,metadata:e.metadata};this.addImage(n)}))},this.onButtonClick=()=>{this.fileInputRef.click()}}render(){let e=null;return e=this.props.inDrawing?r.a.createElement(_,{key:"drawing_image_upload"},r.a.createElement(d.a,{onClick:this.onButtonClick},"Upload Image"),r.a.createElement(y,{ref:e=>{this.fileInputRef=e},key:this.state.key,type:"file",onChange:this.onFileChange}),this.state.imagePath&&r.a.createElement(x,null,r.a.createElement(w,null,r.a.createElement("span",{style:{marginRight:"10px"}},"".concat(window.location.origin).concat(this.state.imagePath)),r.a.createElement(u.a,{zoomOnHover:!0,icon:"Copy",onClick:()=>a()("".concat(window.location.origin).concat(this.state.imagePath)),color:this.props.theme.palette.grey[800],size:20})),r.a.createElement("span",null,"Paste the URL in ",r.a.createElement("strong",null,"Insert Image...")," under"," ",r.a.createElement("strong",null,"+")," sign."))):r.a.createElement("span",{key:"markdown_image_upload"},r.a.createElement(C,{onClick:this.onButtonClick}),r.a.createElement(y,{ref:e=>{this.fileInputRef=e},key:this.state.key,type:"file",onChange:this.onFileChange})),[r.a.createElement(S.a,{key:"markdown_image_uploader_global"}),e]}}E.defaultProps={isDrawing:!1,editorPageId:null};t.a=Object(s.a)(E)},1944:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1981),a=n(1804),s=n(1982),l=n(535),c=n(140),h=n(1),d=n(21),u=n(12),p=n(51);const f=h.d.div.withConfig({displayName:"styles__TerminalStyled",componentId:"cihvr7-0"})(["display:flex;position:relative;width:100%;height:400px;",""],e=>e.collapsed&&Object(h.c)(["display:none;"])),m=h.d.div.withConfig({displayName:"styles__Xterm",componentId:"cihvr7-1"})(["height:400px;width:100%;.xterm .xterm-viewport{overflow:auto;}.terminal.xterm{height:400px;}"]),g=h.d.div.withConfig({displayName:"styles__ActiveOverlay",componentId:"cihvr7-2"})(["display:flex;position:absolute;width:100%;height:400px;background-color:",";color:",";z-index:",";font-size:",";font-weight:",";align-items:center;justify-content:center;&:hover{color:",";cursor:pointer;}"],e=>{let{theme:t}=e;return t.palette.alphas.black4},e=>{let{theme:t}=e;return t.palette.common.white},p.P,u.a.h4,d.f,e=>{let{theme:t}=e;return t.palette.grey[200]});var v=f,b=n(650);n(1983);const y="\x03\n\rcd /usercode && gradle build -g gradle-user-home && echo EDSTATUSCODE 1 && echo Build Completed\n\r",_="START",x="CMD",w="RESIZE",C="OUTPUT",S=(e,t)=>{switch(e){case _:return JSON.stringify({type:_,payload:{port:t.port,script:t.script}});case w:return JSON.stringify({type:w,payload:{rows:t.rows,cols:t.cols}});default:return JSON.stringify({type:x,payload:{script:t.script}})}};class E extends i.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=()=>{this.term=new o.Terminal({cursorBlink:!0,theme:{background:this.props.theme.palette.grey.A900}}),this.fitAddon=new s.FitAddon,this.term.loadAddon(this.fitAddon);const{userId:e,termId:t,instanceStatus:n,terminalActiveStatus:i}=this.props;this.term.open(document.getElementById(t));try{this.fitAddon.fit()}catch(r){console.log("Terminal Fit Retrying")}i&&(Object(l.s)(n)?this.setupLiveTerminal():e?this.setSpinner("Connecting to Terminal"):this.writeOnTerm("\r\x1b[1;31mPlease login to connect to a live terminal"))},this.componentDidUpdate=e=>{const{userId:t,instanceStatus:n,sizeUpdated:i,genymotionVmInfo:r,updateTerm:o,android:a,terminalActiveStatus:s,overrideBuildApk:c}=this.props;if(!e.terminalActiveStatus&&s&&(Object(l.s)(n)?this.setupLiveTerminal():t?this.setSpinner("Connecting to Terminal"):this.term.write("\r\x1b[1;31mPlease login to connect to a live terminal")),e.updateTerm!==o&&a){this.clearSpinner();const e=S(x,{port:null,script:"\x03\n\r".concat(c||y,"\r")});this.socket.send(e)}if(this.state.readyToInstall&&!this.installed&&r.internalIP&&"BUSY"===r.status){const{androidAppInfo:e}=this.props;let t=(h=r.internalIP,d=e.androidBuildPath,u=e.androidPackageName,"\n\radb kill-server && adb devices && adb start-server && adb connect ".concat(h," && adb install /usercode/").concat(d," && echo Successfully installed on device && ").concat((e=>"adb shell monkey -p ".concat(e," -c android.intent.category.LAUNCHER 1"))(u),"\n\r"));this.installFailed||(t="".concat((e=>'\n\radb devices -l | grep "product:" -q && adb uninstall '.concat(e," \n\r"))(e.androidPackageName)," && ").concat(t));const n=S(x,{port:null,script:"".concat(t,"\r")});this.socket.send(n),this.installed=!0,this.setState({readyToInstall:!1}),this.installFailed=!1}var h,d,u;!this.socket&&e.instanceStatus!==n&&Object(l.s)(n)?(this.clearSpinner(),this.setupLiveTerminal()):Object(l.m)(n)&&(this.clearSpinner(),this.writeOnTerm("\x1b[1;31mConnection Failed: Run again to reconnect.")),e.sizeUpdated!==i&&this.updateTerminalDimensions()},this.spinnerInterval=null,this.installFailed=!1,this.installed=!1,this.renamed=!1,this.term=void 0,this.socket=void 0,this.fitAddon=null,this.setupLiveTerminal=()=>{const{serverUrl:e,appPort:t,termId:n,onTerminalClose:i,isWidget:r,android:o,overrideBuildApk:a}=this.props,{startScript:s}=this.props,l=e.replace(/(^\w+:|^)\/\//,""),c="https:"===location.protocol?"wss":"ws",h="".concat(c,"://").concat(l,"/terminal?cols=").concat(this.term.cols,"&rows=").concat(this.term.rows,"&forceNew=").concat(r,"&idPort=true");this.socket=new WebSocket(h),this.socket.onopen=()=>{let e=S(_,{port:t,script:"".concat(s,"\r")});o&&(e=S(x,{port:t,script:"".concat(a||y,"\r")})),this.socket.send(e)},this.socket.onmessage=e=>{const t=this.processIncomingMsg(e);if(null!==t){const e=this.preprocessResponse(t);this.writeOnTerm(e)}},this.socket.onclose=()=>{this.props.isWidget||this.writeOnTerm("\x1b[1;31mTerminal Disconnected: Run again to reconnect."),i(n)},this.term.onResize(e=>{if(!this.socket||this.socket.readyState!==this.socket.OPEN)return;const t=S(w,e);this.socket.send(t)}),this.term.onData(e=>{if(!this.socket||this.socket.readyState!==this.socket.OPEN)return;const t=S(x,{script:e});this.socket.send(t)})},this.setSpinner=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const i=["|","/","-","\\"];let r=0;t.writeOnTerm(n),t.spinnerInterval=setInterval(()=>{t.writeOnTerm("\r".concat(e," ").concat(i[r%4])),r+=1},200)},this.clearSpinner=()=>{this.spinnerInterval&&(clearInterval(this.spinnerInterval),this.writeOnTerm("\n\r"),this.spinnerInterval=null)},this.preprocessResponse=e=>{let t=e.split("&&").filter(e=>!e.includes("echo EDSTATUSCODE 1")&&!e.includes("echo EDSTATUSCODE 2"));return t=1===t.length?t.join(""):t.join("&&"),t.includes("Successfully installed on device")&&!t.includes("echo")&&this.props.onAppDeployed(),(t.includes("EDSTATUSCODE 1")||t.includes("error: device offline"))&&(t.includes("error: device offline")&&(this.installFailed=!0),this.installed=!1,this.setState({readyToInstall:!0})),t.includes("EDSTATUSCODE 2")?(this.clearSpinner(),"App successfully installed!\n\r"):e},this.processIncomingMsg=e=>{const{setAppTerminal:t,termId:n}=this.props,i=JSON.parse(e.data),{payload:r}=i;switch(i.type){case C:return!this.renamed&&r.isAppTerminal&&t&&(t(n),this.renamed=!0),r.script;default:return null}},this.updateTerminalDimensions=e=>{var t,n;0!==(null===e||void 0===e?void 0:null===(t=e.entry)||void 0===t?void 0:t.width)&&(null===(n=this.fitAddon)||void 0===n||n.fit())},this.writeOnTerm=e=>{this.term.write(e)},this.state={readyToInstall:!1}}componentWillUnmount(){this.socket&&this.socket.close()}render(){const{userId:e,termId:t,terminalActiveStatus:n,collapsed:i,onActivateTerminal:o,terminalLoading:s}=this.props;s||n||(this.clearSpinner(),this.term&&this.term.reset());const l=!s&&!n&&r.a.createElement(g,{onClick:e&&o},e?"Click to Connect...":"Please login to connect to a live terminal"),h=s&&r.a.createElement(g,null,r.a.createElement(c.a,{size:45}));return r.a.createElement(a.a,{bounds:!0,onResize:this.updateTerminalDimensions},e=>{let{measureRef:n}=e;return r.a.createElement(v,{collapsed:i,ref:n},l,h,r.a.createElement(m,{id:t}))})}}E.defaultProps={onTerminalClose:()=>{},startScript:"echo No start script!",appPort:null,isWidget:!1,instanceStatus:"",sizeUpdated:0,userId:null,genymotionVmInfo:{},android:!1,overrideBuildApk:null,updateTerm:0,onAppDeployed:()=>{},setAppTerminal:()=>{},collapsed:!1,terminalActiveStatus:!1,terminalLoading:!1,onActivateTerminal:()=>{}};t.a=Object(b.a)(E)},1945:function(e,t,n){"use strict";var i=n(85),r=n(1772);function o(e){const t="https://www.educative.io/spa/dep/f",n=(i=e)&&0!==Object.keys(i).length?Object.keys(i).map(e=>"".concat(e,"@").concat(i[e])).sort((e,t)=>e<t?-1:e>t?1:0).join("+"):null;var i;const r=n?"".concat(t,"/").concat(n,"/manifest.json"):null,o=r?"export EXTERNAL_MANIFEST_URL=".concat(r):"",a=r?'wget "'.concat(r,'" -q -O config/edManifest.json'):"",s=n?"".concat(t,"/").concat(n,"/dll.js"):null,l=s?"export EXTERNAL_DLL_URL=".concat(s):"";return"\n  ".concat(o,"\n  ").concat(l,"\n  cd /webapps/react/create-react-app/1.4.0/ejected/root\n  cp -R /usercode/src/* ./src\n  mv /usercode/src/index.html public/index.html 2>/dev/null || :\n  export NODE_PATH=($pwd)/node_modules:src\n  export NODE_ENV=production\n  ").concat(a,"\n  mkdir output\n  webpack --display-error-details  --config config/webpack.config.prod.js\n  mv output/* /usercode/output\n  ")}t.a=(e,t,n,a,s,l,c,h,d,u,p,f)=>{f(!0,null,null);let m=null;var g,v,b,y,_,x;if(3===a)if(p){const t=Object(r.d)(e,""),{job:n,imageName:i,envs:o,instanceId:a,android:f}=p,g={instance_id:a,android:f,container_image_name:i,envs:o,ports:[n.ports],entry_filename:n.inputFileName,build_script:n.buildScript,run_script:n.runScript,start_script:n.startScript};m={language:"shell",entry_filename:"main.sh",source_code:"hello world",additional_files:JSON.stringify(t),stdin:"",author_id:s,work_id:l,work_type:c,page_id:h,is_draft_page:d,docker_container:g?JSON.stringify(g):void 0,comp_id:u||null}}else if(null===t||void 0===t?void 0:null===(g=t.babel)||void 0===g?void 0:g.enabled)m=function(e,t,n,i,a,s,l,c,h){const d=o(n),u=Object(r.d)(e,"src/");return{language:"shell",entry_filename:"main.sh",source_code:d,additional_files:JSON.stringify(u),stdin:"",author_id:i,work_id:a,work_type:s,page_id:l,is_draft_page:c,comp_id:h||null}}(e,0,n,s,l,c,h,d,u);else if(null===t||void 0===t?void 0:null===(v=t.dart)||void 0===v?void 0:v.enabled){const t=Object(r.d)(e,"");m={language:"dart-spa",source_code:"hello world",additional_files:JSON.stringify(t),stdin:"",author_id:s,work_id:l,work_type:c,page_id:h,is_draft_page:d,docker_container:null,comp_id:u||null}}else if(null===t||void 0===t?void 0:null===(b=t["ts-react"])||void 0===b?void 0:b.enabled){const t=Object(r.d)(e,"");m={language:"ts-react",source_code:"hello world",additional_files:JSON.stringify(t),stdin:"",author_id:s,work_id:l,work_type:c,page_id:h,is_draft_page:d,docker_container:null,comp_id:u||null}}else if(null===t||void 0===t?void 0:null===(y=t.elm)||void 0===y?void 0:y.enabled){const t=Object(r.d)(e,"");m={language:"elm",source_code:"hello world",additional_files:JSON.stringify(t),stdin:"",author_id:s,work_id:l,work_type:c,page_id:h,is_draft_page:d,docker_container:null,comp_id:u||null}}else if(null===t||void 0===t?void 0:null===(_=t.vue)||void 0===_?void 0:_.enabled){const t=Object(r.d)(e,"");m={language:"vue",source_code:"hello world",additional_files:JSON.stringify(t),stdin:"",author_id:s,work_id:l,work_type:c,page_id:h,is_draft_page:d,docker_container:null,comp_id:u||null}}else if(null===t||void 0===t?void 0:null===(x=t["gojs-react"])||void 0===x?void 0:x.enabled){const t=Object(r.d)(e,"");m={language:"gojs-react",source_code:"hello world",additional_files:JSON.stringify(t),stdin:"",author_id:s,work_id:l,work_type:c,page_id:h,is_draft_page:d,docker_container:null,comp_id:u||null}}m?function(e,t){Object(i.g)(e).then(e=>{const n=JSON.parse(e),{output_files:i,stderr:r,status:o,reason:a}=n;let s=null,l=null;0===o?(null===i||void 0===i?void 0:i.rootPath)&&-1!==i.files.indexOf("index.html")&&(s="".concat(i.rootPath,"/index.html")):l="".concat(a,"\n").concat(r),t(!1,l,s)}).catch(e=>{t(!1,e.responseText,null)})}(m,f):f(!1,"Loader is missing",null)}},1946:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderData=t.renderValue=t.ValueViewer=t.DataEditor=t.Cell=t.Row=t.Sheet=void 0;var i=h(n(2002)),r=h(n(1864)),o=h(n(1865)),a=h(n(1812)),s=h(n(1813)),l=h(n(1814)),c=n(1867);function h(e){return e&&e.__esModule?e:{default:e}}t.default=i.default,t.Sheet=r.default,t.Row=o.default,t.Cell=a.default,t.DataEditor=s.default,t.ValueViewer=l.default,t.renderValue=c.renderValue,t.renderData=c.renderData},1947:function(e,t,n){"use strict";var i=n(35),r=n(83),o=n(1870);t.a={version:o.a,caption:"",language:"c++",title:"",theme:"default",additionalContent:[],selectedIndex:0,runnable:!1,judge:!1,staticEntryFileName:!0,judgeContent:null,judgeHints:null,allowDownload:!1,treatOutputAsHTML:!1,enableHiddenCode:!1,enableStdin:!1,evaluateWithoutExecution:!1,showSolution:!1,timeLimit:i.l,hiddenCodeContent:{prependCode:"\n\n",appendCode:"\n\n",codeSelection:"prependCode"},dockerJob:{},selectedApiKeys:{},selectedEnvVars:{},specialInput:r.d,solutionContent:"\n\n\n",judgeContentPrepend:"\n\n\n",evaluateLanguage:"c++"}},1953:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(37),a=n(30),s=n(824),l=n(175);const{isIterable:c}=o.Iterable,h=Object(a.b)(e=>{let{dockerDetails:t,editorPages:{dockerFunctions:n}}=e;const i=c(t.getIn(["container"]))?t.getIn(["container"]).toJS():{},r=n.toJS();return{container:i,saveAfterAction:r.saveAfterAction,saveAfterActionParams:r.params}},e=>({startTrackingBuild:(t,n)=>e(Object(s.d)(t,n)),updateDockerTrackStatus:t=>e(Object(s.c)(t))}));function d(e){return Object(l.g)(e.buildStatus)&&e.imageName}class u extends r.a.Component{componentDidMount(){this.props.container&&d(this.props.container)&&(this.props.updateDockerTrackStatus(!0),this.props.startTrackingBuild(this.props.saveAfterAction,this.props.saveAfterActionParams))}componentDidUpdate(e){const{buildStatus:t}=e.container;t!==this.props.container.buildStatus&&d(this.props.container)&&(this.props.updateDockerTrackStatus(!0),this.props.startTrackingBuild(this.props.saveAfterAction,this.props.saveAfterActionParams))}componentWillUnmount(){this.props.container.track&&this.props.updateDockerTrackStatus(!1)}render(){return r.a.createElement("div",null)}}t.a=h(u)},1957:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=function(e){var t=e.color,n=e.size,i=l(e,["color","size"]);return r.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.a.createElement("polyline",{points:"9 14 4 9 9 4"}),r.a.createElement("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"}))};c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.defaultProps={color:"currentColor",size:"24"},t.a=c},1958:function(e,t,n){var i,r;r="undefined"!==typeof window?window:this,void 0===(i=function(){return function(e,t){var n=("undefined"!==typeof this?this:e).SVG=function(e){if(n.supported)return e=new n.Doc(e),n.parser.draw||n.prepare(),e};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=!!t.createElementNS&&!!t.createElementNS(n.ns,"svg").createSVGRect,!n.supported)return!1;n.did=1e3,n.eid=function(e){return"Svgjs"+h(e)+n.did++},n.create=function(e){var n=t.createElementNS(this.ns,e);return n.setAttribute("id",this.eid(e)),n},n.extend=function(){var e,t,i,r;for(t=(e=[].slice.call(arguments)).pop(),r=e.length-1;r>=0;r--)if(e[r])for(i in t)e[r].prototype[i]=t[i];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,n.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&n.extend(t,e.extend),e.construct&&n.extend(e.parent||n.Container,e.construct),t},n.adopt=function(t){return t?t.instance?t.instance:((i="svg"==t.nodeName?t.parentNode instanceof e.SVGElement?new n.Nested:new n.Doc:"linearGradient"==t.nodeName?new n.Gradient("linear"):"radialGradient"==t.nodeName?new n.Gradient("radial"):n[h(t.nodeName)]?new(n[h(t.nodeName)]):new n.Element(t)).type=t.nodeName,i.node=t,t.instance=i,i instanceof n.Doc&&i.namespace().defs(),i.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),i):null;var i},n.prepare=function(){var e=t.getElementsByTagName("body")[0],i=(e?new n.Doc(e):n.adopt(t.documentElement).nested()).size(2,0);n.parser={body:e||t.documentElement,draw:i.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:i.polyline().node,path:i.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},t.addEventListener("DOMContentLoaded",(function(){n.parser.draw||n.prepare()}),!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(e,t){var n,i=e.length,r=[];for(n=0;n<i;n++)r.push(t(e[n]));return r},filter:function(e,t){var n,i=e.length,r=[];for(n=0;n<i;n++)t(e[n])&&r.push(e[n]);return r},radians:function(e){return e%360*Math.PI/180},degrees:function(e){return 180*e/Math.PI%360},filterSVGElements:function(t){return this.filter(t,(function(t){return t instanceof e.SVGElement}))}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(e){var t,i;this.r=0,this.g=0,this.b=0,e&&("string"===typeof e?n.regex.isRgb.test(e)?(t=n.regex.rgb.exec(e.replace(n.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):n.regex.isHex.test(e)&&(t=n.regex.hex.exec(4==(i=e).length?["#",i.substring(1,2),i.substring(1,2),i.substring(2,3),i.substring(2,3),i.substring(3,4),i.substring(3,4)].join(""):i),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"===typeof e&&(this.r=e.r,this.g=e.g,this.b=e.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+d(this.r)+d(this.g)+d(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new n.Color(e),this},at:function(e){return this.destination?(e=e<0?0:e>1?1:e,new n.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this}}),n.Color.test=function(e){return e+="",n.regex.isHex.test(e)||n.regex.isRgb.test(e)},n.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},n.Color.isColor=function(e){return n.Color.isRgb(e)||n.Color.test(e)},n.Array=function(e,t){0==(e=(e||[]).valueOf()).length&&t&&(e=t.valueOf()),this.value=this.parse(e)},n.extend(n.Array,{morph:function(e){if(this.destination=this.parse(e),this.value.length!=this.destination.length){for(var t=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(t)}return this},settle:function(){for(var e=0,t=this.value.length,n=[];e<t;e++)-1==n.indexOf(this.value[e])&&n.push(this.value[e]);return this.value=n},at:function(e){if(!this.destination)return this;for(var t=0,i=this.value.length,r=[];t<i;t++)r.push(this.value[t]+(this.destination[t]-this.value[t])*e);return new n.Array(r)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)},split:function(e){return e.trim().split(n.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var e=new this.constructor;return e.value=function e(t){for(var n=t.slice(0),i=n.length;i--;)Array.isArray(n[i])&&(n[i]=e(n[i]));return n}(this.value),e}}),n.PointArray=function(e,t){n.Array.call(this,e,t||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray,n.extend(n.PointArray,{toString:function(){for(var e=0,t=this.value.length,n=[];e<t;e++)n.push(this.value[e].join(","));return n.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(e){if(!this.destination)return this;for(var t=0,i=this.value.length,r=[];t<i;t++)r.push([this.value[t][0]+(this.destination[t][0]-this.value[t][0])*e,this.value[t][1]+(this.destination[t][1]-this.value[t][1])*e]);return new n.PointArray(r)},parse:function(e){var t=[];if(e=e.valueOf(),Array.isArray(e)){if(Array.isArray(e[0]))return e.map((function(e){return e.slice()}));if(null!=e[0].x)return e.map((function(e){return[e.x,e.y]}))}else e=e.trim().split(n.regex.delimiter).map(parseFloat);e.length%2!==0&&e.pop();for(var i=0,r=e.length;i<r;i+=2)t.push([e[i],e[i+1]]);return t},move:function(e,t){var n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(var i=this.value.length-1;i>=0;i--)this.value[i]=[this.value[i][0]+e,this.value[i][1]+t];return this},size:function(e,t){var n,i=this.bbox();for(n=this.value.length-1;n>=0;n--)i.width&&(this.value[n][0]=(this.value[n][0]-i.x)*e/i.width+i.x),i.height&&(this.value[n][1]=(this.value[n][1]-i.y)*t/i.height+i.y);return this},bbox:function(){return n.parser.poly.setAttribute("points",this.toString()),n.parser.poly.getBBox()}});for(var i={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},r="mlhvqtcsaz".split(""),o=0,a=r.length;o<a;++o)i[r[o]]=function(e){return function(t,n,r){if("H"==e)t[0]=t[0]+n.x;else if("V"==e)t[0]=t[0]+n.y;else if("A"==e)t[5]=t[5]+n.x,t[6]=t[6]+n.y;else for(var o=0,a=t.length;o<a;++o)t[o]=t[o]+(o%2?n.y:n.x);return i[e](t,n,r)}}(r[o].toUpperCase());n.PathArray=function(e,t){n.Array.call(this,e,t||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return function(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t][0],null!=e[t][1]&&(i+=e[t][1],null!=e[t][2]&&(i+=" ",i+=e[t][2],null!=e[t][3]&&(i+=" ",i+=e[t][3],i+=" ",i+=e[t][4],null!=e[t][5]&&(i+=" ",i+=e[t][5],i+=" ",i+=e[t][6],null!=e[t][7]&&(i+=" ",i+=e[t][7])))));return i+" "}(this.value)},move:function(e,t){var n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(var i,r=this.value.length-1;r>=0;r--)"M"==(i=this.value[r][0])||"L"==i||"T"==i?(this.value[r][1]+=e,this.value[r][2]+=t):"H"==i?this.value[r][1]+=e:"V"==i?this.value[r][1]+=t:"C"==i||"S"==i||"Q"==i?(this.value[r][1]+=e,this.value[r][2]+=t,this.value[r][3]+=e,this.value[r][4]+=t,"C"==i&&(this.value[r][5]+=e,this.value[r][6]+=t)):"A"==i&&(this.value[r][6]+=e,this.value[r][7]+=t);return this},size:function(e,t){var n,i,r=this.bbox();for(n=this.value.length-1;n>=0;n--)"M"==(i=this.value[n][0])||"L"==i||"T"==i?(this.value[n][1]=(this.value[n][1]-r.x)*e/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*t/r.height+r.y):"H"==i?this.value[n][1]=(this.value[n][1]-r.x)*e/r.width+r.x:"V"==i?this.value[n][1]=(this.value[n][1]-r.y)*t/r.height+r.y:"C"==i||"S"==i||"Q"==i?(this.value[n][1]=(this.value[n][1]-r.x)*e/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*t/r.height+r.y,this.value[n][3]=(this.value[n][3]-r.x)*e/r.width+r.x,this.value[n][4]=(this.value[n][4]-r.y)*t/r.height+r.y,"C"==i&&(this.value[n][5]=(this.value[n][5]-r.x)*e/r.width+r.x,this.value[n][6]=(this.value[n][6]-r.y)*t/r.height+r.y)):"A"==i&&(this.value[n][1]=this.value[n][1]*e/r.width,this.value[n][2]=this.value[n][2]*t/r.height,this.value[n][6]=(this.value[n][6]-r.x)*e/r.width+r.x,this.value[n][7]=(this.value[n][7]-r.y)*t/r.height+r.y);return this},equalCommands:function(e){var t,i,r;for(e=new n.PathArray(e),r=this.value.length===e.value.length,t=0,i=this.value.length;r&&t<i;t++)r=this.value[t][0]===e.value[t][0];return r},morph:function(e){return e=new n.PathArray(e),this.equalCommands(e)?this.destination=e:this.destination=null,this},at:function(e){if(!this.destination)return this;var t,i,r,o,a=this.value,s=this.destination.value,l=[],c=new n.PathArray;for(t=0,i=a.length;t<i;t++){for(l[t]=[a[t][0]],r=1,o=a[t].length;r<o;r++)l[t][r]=a[t][r]+(s[t][r]-a[t][r])*e;"A"===l[t][0]&&(l[t][4]=+(0!=l[t][4]),l[t][5]=+(0!=l[t][5]))}return c.value=l,c},parse:function(e){if(e instanceof n.PathArray)return e.valueOf();var t,r={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(n.regex.numbersWithDots,l).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):e.reduce((function(e,t){return[].concat.call(e,t)}),[]);var o=[],a=new n.Point,s=new n.Point,c=0,h=e.length;do{n.regex.isPathLetter.test(e[c])?(t=e[c],++c):"M"==t?t="L":"m"==t&&(t="l"),o.push(i[t].call(null,e.slice(c,c+=r[t.toUpperCase()]).map(parseFloat),a,s))}while(h>c);return o},bbox:function(){return n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(e,t){this.value=0,this.unit=t||"","number"===typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"===typeof e?(t=e.match(n.regex.numberAndUnit))&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof n.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new n.Number(e),new n.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new n.Number(e),new n.Number(this-e,this.unit||e.unit)},times:function(e){return e=new n.Number(e),new n.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new n.Number(e),new n.Number(this/e,this.unit||e.unit)},to:function(e){var t=new n.Number(this);return"string"===typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new n.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new n.Number(this.destination).minus(this).times(e).plus(this):this}}}),n.Element=n.invent({create:function(e){this._stroke=n.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=e)&&(this.type=e.nodeName,this.node.instance=this,this._events=e._events||{},this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var i=u(this,e,t);return this.width(new n.Number(i.width)).height(new n.Number(i.height))},clone:function(e){this.writeDataToDom();var t=g(this.node.cloneNode(!0));return e?e.add(t):this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},inside:function(e,t){var n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(n.regex.delimiter)},hasClass:function(e){return-1!=this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter((function(t){return t!=e})).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return n.get(this.attr(e))},parent:function(t){var i=this;if(!i.node.parentNode)return null;if(i=n.adopt(i.node.parentNode),!t)return i;for(;i&&i.node instanceof e.SVGElement;){if("string"===typeof t?i.matches(t):i instanceof t)return i;if(!i.node.parentNode||"#document"==i.node.parentNode.nodeName||"#document-fragment"==i.node.parentNode.nodeName)return null;i=n.adopt(i.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(e){var t=[],n=this;do{if(!(n=n.parent(e))||!n.node)break;t.push(n)}while(n.parent);return t},matches:function(e){return function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}(this.node,e)},native:function(){return this.node},svg:function(e){var i=t.createElement("svg");if(!(e&&this instanceof n.Parent))return i.appendChild(e=t.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),i.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");i.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var r=0,o=i.firstChild.childNodes.length;r<o;r++)this.node.appendChild(i.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return function(e,t){return e instanceof t}(this,e)}}}),n.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)}},n.morph=function(e){return function(t,i){return new n.MorphObj(t,i).at(e)}},n.Situation=n.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(e.duration).valueOf(),this.delay=new n.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,i){"object"==typeof e&&(t=e.ease,i=e.delay,e=e.duration);var r=new n.Situation({duration:e||1e3,delay:i||0,ease:n.easing[t||"-"]||t});return this.queue(r),this},delay:function(e){var t=new n.Situation({duration:e,delay:0,ease:n.easing["-"]});return this.queue(t)},target:function(e){return e&&e instanceof n.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=e.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof n.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t,i,r=this.situation;if(r.init)return this;for(e in r.animations)for(i=this.target()[e](),Array.isArray(i)||(i=[i]),Array.isArray(r.animations[e])||(r.animations[e]=[r.animations[e]]),t=i.length;t--;)r.animations[e][t]instanceof n.Number&&(i[t]=new n.Number(i[t])),r.animations[e][t]=i[t].morph(r.animations[e][t]);for(e in r.attrs)r.attrs[e]=new n.MorphObj(this.target().attr(e),r.attrs[e]);for(e in r.styles)r.styles[e]=new n.MorphObj(this.target().style(e),r.styles[e]);return r.initialTransformation=this.target().matrixify(),r.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var n=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var e=this.situation;this.stop(),this.situation=e,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return!0===this.situation.loops&&(this.situation.loops=this.situation.loop+1),"number"==typeof this.situation.loops?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(e,t){var n=this.situation.duration/this._speed;return this.absPos=e,t||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*n,this.situation.finish=this.situation.start+n,this.step(!0)},speed:function(e){return 0===e?this.pause():e?(this._speed=e,this.at(this.absPos,!0)):this._speed},loop:function(e,t){var n=this.last();return n.loops=null==e||e,n.loop=0,t&&(n.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(e){var t=this.last();return t.reversed="undefined"==typeof e?!t.reversed:e,this},progress:function(e){return e?this.situation.ease(this.pos):this.pos},after:function(e){var t=this.last();return this.target().on("finished.fx",(function n(i){i.detail.situation==t&&(e.call(this,t),this.off("finished.fx",n))})),this._callStart()},during:function(e){var t=this.last(),i=function(i){i.detail.situation==t&&e.call(this,i.detail.pos,n.morph(i.detail.pos),i.detail.eased,t)};return this.target().off("during.fx",i).on("during.fx",i),this.after((function(){this.off("during.fx",i)})),this._callStart()},afterAll:function(e){var t=function t(n){e.call(this),this.off("allfinished.fx",t)};return this.target().off("allfinished.fx",t).on("allfinished.fx",t),this._callStart()},duringAll:function(e){var t=function(t){e.call(this,t.detail.pos,n.morph(t.detail.pos),t.detail.eased,t.detail.situation)};return this.target().off("during.fx",t).on("during.fx",t),this.afterAll((function(){this.off("during.fx",t)})),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,n){return this.last()[n||"animations"][e]=t,this._callStart()},step:function(e){var t,n,i;e||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(t=Math.max(this.absPos,0),n=Math.floor(t),!0===this.situation.loops||n<this.situation.loops?(this.pos=t-n,i=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,i=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-i)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=r&&(this.situation.once[o].call(this.target(),this.pos,r),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var e,t,i,r=this,o=this.target(),a=this.situation;for(e in a.animations)i=[].concat(a.animations[e]).map((function(e){return"string"!==typeof e&&e.at?e.at(a.ease(r.pos),r.pos):e})),o[e].apply(o,i);for(e in a.attrs)i=[e].concat(a.attrs[e]).map((function(e){return"string"!==typeof e&&e.at?e.at(a.ease(r.pos),r.pos):e})),o.attr.apply(o,i);for(e in a.styles)i=[e].concat(a.styles[e]).map((function(e){return"string"!==typeof e&&e.at?e.at(a.ease(r.pos),r.pos):e})),o.style.apply(o,i);if(a.transforms.length){for(i=a.initialTransformation,e=0,t=a.transforms.length;e<t;e++){var s=a.transforms[e];s instanceof n.Matrix?i=s.relative?i.multiply((new n.Matrix).morph(s).at(a.ease(this.pos))):i.morph(s).at(a.ease(this.pos)):(s.relative||s.undo(i.extract()),i=i.multiply(s.at(a.ease(this.pos))))}o.matrix(i)}return this},once:function(e,t,n){var i=this.last();return n||(e=i.ease(e)),i.once[e]=t,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(e,t,i){return(this.fx||(this.fx=new n.FX(this))).animate(e,t,i)},delay:function(e){return(this.fx||(this.fx=new n.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(e){if(this.fx){if(null==e)return this.fx.speed();this.fx.speed(e)}return this}}}),n.MorphObj=n.invent({create:function(e,t){return n.Color.isColor(t)?new n.Color(e).morph(t):n.regex.delimiter.test(e)?n.regex.pathLetters.test(e)?new n.PathArray(e).morph(t):new n.Array(e).morph(t):n.regex.numberAndUnit.test(t)?new n.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(e,t,n){if("object"==typeof e)for(var i in e)this.attr(i,e[i]);else this.add(e,t,"attrs");return this},style:function(e,t){if("object"==typeof e)for(var n in e)this.style(n,e[n]);else this.add(e,t,"styles");return this},x:function(e,t){if(this.target()instanceof n.G)return this.transform({x:e},t),this;var i=new n.Number(e);return i.relative=t,this.add("x",i)},y:function(e,t){if(this.target()instanceof n.G)return this.transform({y:e},t),this;var i=new n.Number(e);return i.relative=t,this.add("y",i)},cx:function(e){return this.add("cx",new n.Number(e))},cy:function(e){return this.add("cy",new n.Number(e))},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},size:function(e,t){var i;return this.target()instanceof n.Text?this.attr("font-size",e):(e&&t||(i=this.target().bbox()),e||(e=i.width/i.height*t),t||(t=i.height/i.width*e),this.add("width",new n.Number(e)).add("height",new n.Number(t))),this},width:function(e){return this.add("width",new n.Number(e))},height:function(e){return this.add("height",new n.Number(e))},plot:function(e,t,n,i){return 4==arguments.length?this.plot([e,t,n,i]):this.add("plot",new(this.target().morphArray)(e))},leading:function(e){return this.target().leading?this.add("leading",new n.Number(e)):this},viewbox:function(e,t,i,r){return this.target()instanceof n.Container&&this.add("viewbox",new n.ViewBox(e,t,i,r)),this},update:function(e){if(this.target()instanceof n.Stop){if("number"==typeof e||e instanceof n.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",e.offset)}return this}}),n.Box=n.invent({create:function(e,t,i,r){if(!("object"!=typeof e||e instanceof n.Element))return n.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height);4==arguments.length&&(this.x=e,this.y=t,this.width=i,this.height=r),v(this)},extend:{merge:function(e){var t=new this.constructor;return t.x=Math.min(this.x,e.x),t.y=Math.min(this.y,e.y),t.width=Math.max(this.x+this.width,e.x+e.width)-t.x,t.height=Math.max(this.y+this.height,e.y+e.height)-t.y,v(t)},transform:function(e){var t,i=1/0,r=-1/0,o=1/0,a=-1/0;return[new n.Point(this.x,this.y),new n.Point(this.x2,this.y),new n.Point(this.x,this.y2),new n.Point(this.x2,this.y2)].forEach((function(t){t=t.transform(e),i=Math.min(i,t.x),r=Math.max(r,t.x),o=Math.min(o,t.y),a=Math.max(a,t.y)})),(t=new this.constructor).x=i,t.width=r-i,t.y=o,t.height=a-o,v(t),t}}}),n.BBox=n.invent({create:function(e){if(n.Box.apply(this,[].slice.call(arguments)),e instanceof n.Element){var i;try{if(t.documentElement.contains){if(!t.documentElement.contains(e.node))throw new Exception("Element not in the dom")}else{for(var r=e.node;r.parentNode;)r=r.parentNode;if(r!=t)throw new Exception("Element not in the dom")}i=e.node.getBBox()}catch(a){if(e instanceof n.Shape){var o=e.clone(n.parser.draw.instance).show();i=o.node.getBBox(),o.remove()}else i={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}n.Box.call(this,i)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.extend(n.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),n.RBox=n.invent({create:function(e){n.Box.apply(this,[].slice.call(arguments)),e instanceof n.Element&&n.Box.call(this,e.node.getBoundingClientRect())},inherit:n.Box,parent:n.Element,extend:{addOffset:function(){return this.x+=e.pageXOffset,this.y+=e.pageYOffset,this}},construct:{rbox:function(e){return e?new n.RBox(this).transform(e.screenCTM().inverse()):new n.RBox(this).addOffset()}}}),n.RBox.prototype.constructor=n.RBox,n.Matrix=n.invent({create:function(e){var t,i=f([1,0,0,1,0,0]);for(e=e instanceof n.Element?e.matrixify():"string"===typeof e?f(e.split(n.regex.delimiter).map(parseFloat)):6==arguments.length?f([].slice.call(arguments)):Array.isArray(e)?f(e):"object"===typeof e?e:i,t=y.length-1;t>=0;--t)this[y[t]]=null!=e[y[t]]?e[y[t]]:i[y[t]]},extend:{extract:function(){var e=p(this,0,1),t=p(this,1,0),i=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(i*Math.PI/180)+this.f*Math.sin(i*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(i*Math.PI/180)+this.e*Math.sin(-i*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-i,skewY:180/Math.PI*Math.atan2(t.y,t.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:i,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(e){return this.destination=new n.Matrix(e),this},at:function(e){return this.destination?new n.Matrix({a:this.a+(this.destination.a-this.a)*e,b:this.b+(this.destination.b-this.b)*e,c:this.c+(this.destination.c-this.c)*e,d:this.d+(this.destination.d-this.d)*e,e:this.e+(this.destination.e-this.e)*e,f:this.f+(this.destination.f-this.f)*e}):this},multiply:function(e){return new n.Matrix(this.native().multiply(function(e){return e instanceof n.Matrix||(e=new n.Matrix(e)),e}(e).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(e,t){return new n.Matrix(this.native().translate(e||0,t||0))},scale:function(e,t,i,r){return 1==arguments.length?t=e:3==arguments.length&&(r=i,i=t,t=e),this.around(i,r,new n.Matrix(e,0,0,t,0,0))},rotate:function(e,t,i){return e=n.utils.radians(e),this.around(t,i,new n.Matrix(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0))},flip:function(e,t){return"x"==e?this.scale(-1,1,t,0):"y"==e?this.scale(1,-1,0,t):this.scale(-1,-1,e,null!=t?t:e)},skew:function(e,t,i,r){return 1==arguments.length?t=e:3==arguments.length&&(r=i,i=t,t=e),e=n.utils.radians(e),t=n.utils.radians(t),this.around(i,r,new n.Matrix(1,Math.tan(t),Math.tan(e),1,0,0))},skewX:function(e,t,n){return this.skew(e,0,t,n)},skewY:function(e,t,n){return this.skew(0,e,t,n)},around:function(e,t,i){return this.multiply(new n.Matrix(1,0,0,1,e||0,t||0)).multiply(i).multiply(new n.Matrix(1,0,0,1,-e||0,-t||0))},native:function(){for(var e=n.parser.native.createSVGMatrix(),t=y.length-1;t>=0;t--)e[y[t]]=this[y[t]];return e},toString:function(){return"matrix("+b(this.a)+","+b(this.b)+","+b(this.c)+","+b(this.d)+","+b(this.e)+","+b(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new n.Matrix(t)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(e,t){var n;n=Array.isArray(e)?{x:e[0],y:e[1]}:"object"===typeof e?{x:e.x,y:e.y}:null!=e?{x:e,y:null!=t?t:e}:{x:0,y:0},this.x=n.x,this.y=n.y},extend:{clone:function(){return new n.Point(this)},morph:function(e,t){return this.destination=new n.Point(e,t),this},at:function(e){return this.destination?new n.Point({x:this.x+(this.destination.x-this.x)*e,y:this.y+(this.destination.y-this.y)*e}):this},native:function(){var e=n.parser.native.createSVGPoint();return e.x=this.x,e.y=this.y,e},transform:function(e){return new n.Point(this.native().matrixTransform(e.native()))}}}),n.extend(n.Element,{point:function(e,t){return new n.Point(e,t).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(e,t,i){if(null==e){for(e={},i=(t=this.node.attributes).length-1;i>=0;i--)e[t[i].nodeName]=n.regex.isNumber.test(t[i].nodeValue)?parseFloat(t[i].nodeValue):t[i].nodeValue;return e}if("object"==typeof e)for(t in e)this.attr(t,e[t]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?n.defaults.attrs[e]:n.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),"fill"!=e&&"stroke"!=e||(n.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof n.Image&&(t=this.doc().defs().pattern(0,0,(function(){this.add(t)})))),"number"===typeof t?t=new n.Number(t):n.Color.isColor(t)?t=new n.Color(t):Array.isArray(t)&&(t=new n.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"===typeof i?this.node.setAttributeNS(i,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this}}),n.extend(n.Element,{transform:function(e,t){var i,r;if("object"!==typeof e)return i=new n.Matrix(this).extract(),"string"===typeof e?i[e]:i;if(i=new n.Matrix(this),t=!!t||!!e.relative,null!=e.a)i=t?i.multiply(new n.Matrix(e)):new n.Matrix(e);else if(null!=e.rotation)m(e,this),i=t?i.rotate(e.rotation,e.cx,e.cy):i.rotate(e.rotation-i.extract().rotation,e.cx,e.cy);else if(null!=e.scale||null!=e.scaleX||null!=e.scaleY){if(m(e,this),e.scaleX=null!=e.scale?e.scale:null!=e.scaleX?e.scaleX:1,e.scaleY=null!=e.scale?e.scale:null!=e.scaleY?e.scaleY:1,!t){var o=i.extract();e.scaleX=1*e.scaleX/o.scaleX,e.scaleY=1*e.scaleY/o.scaleY}i=i.scale(e.scaleX,e.scaleY,e.cx,e.cy)}else null!=e.skew||null!=e.skewX||null!=e.skewY?(m(e,this),e.skewX=null!=e.skew?e.skew:null!=e.skewX?e.skewX:0,e.skewY=null!=e.skew?e.skew:null!=e.skewY?e.skewY:0,t||(o=i.extract(),i=i.multiply((new n.Matrix).skew(o.skewX,o.skewY,e.cx,e.cy).inverse())),i=i.skew(e.skewX,e.skewY,e.cx,e.cy)):e.flip?("x"==e.flip||"y"==e.flip?e.offset=null==e.offset?this.bbox()["c"+e.flip]:e.offset:null==e.offset?(r=this.bbox(),e.flip=r.cx,e.offset=r.cy):e.flip=e.offset,i=(new n.Matrix).flip(e.flip,e.offset)):null==e.x&&null==e.y||(t?i=i.translate(e.x,e.y):(null!=e.x&&(i.e=e.x),null!=e.y&&(i.f=e.y)));return this.attr("transform",i)}}),n.extend(n.FX,{transform:function(e,t){var i,r,o=this.target();return"object"!==typeof e?(i=new n.Matrix(o).extract(),"string"===typeof e?i[e]:i):(t=!!t||!!e.relative,null!=e.a?i=new n.Matrix(e):null!=e.rotation?(m(e,o),i=new n.Rotate(e.rotation,e.cx,e.cy)):null!=e.scale||null!=e.scaleX||null!=e.scaleY?(m(e,o),e.scaleX=null!=e.scale?e.scale:null!=e.scaleX?e.scaleX:1,e.scaleY=null!=e.scale?e.scale:null!=e.scaleY?e.scaleY:1,i=new n.Scale(e.scaleX,e.scaleY,e.cx,e.cy)):null!=e.skewX||null!=e.skewY?(m(e,o),e.skewX=null!=e.skewX?e.skewX:0,e.skewY=null!=e.skewY?e.skewY:0,i=new n.Skew(e.skewX,e.skewY,e.cx,e.cy)):e.flip?("x"==e.flip||"y"==e.flip?e.offset=null==e.offset?o.bbox()["c"+e.flip]:e.offset:null==e.offset?(r=o.bbox(),e.flip=r.cx,e.offset=r.cy):e.flip=e.offset,i=(new n.Matrix).flip(e.flip,e.offset)):null==e.x&&null==e.y||(i=new n.Translate(e.x,e.y)),i?(i.relative=t,this.last().transforms.push(i),this._callStart()):this)}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map((function(e){var t=e.trim().split("(");return[t[0],t[1].split(n.regex.delimiter).map((function(e){return parseFloat(e)}))]})).reduce((function(e,t){return"matrix"==t[0]?e.multiply(f(t[1])):e[t[0]].apply(e,t[1])}),new n.Matrix)},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),n=e.screenCTM().inverse();return this.addTo(e).untransform().transform(n.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(e,t){if(arguments.length>1&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=e[n];else if("object"==typeof e)for(n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=e[this.arguments[n]];this.inversed=!1,!0===t&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(e){for(var t=[],i=0,r=this.arguments.length;i<r;++i)t.push(this[this.arguments[i]]);var o=this._undo||new n.Matrix;return o=(new n.Matrix).morph(n.Matrix.prototype[this.method].apply(o,t)).at(e),this.inversed?o.inverse():o},undo:function(e){for(var t=0,i=this.arguments.length;t<i;++t)e[this.arguments[t]]="undefined"==typeof this[this.arguments[t]]?0:e[this.arguments[t]];return e.cx=this.cx,e.cy=this.cy,this._undo=new(n[h(this.method)])(e,!0).at(1),this}}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.Rotate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(e){var t=(new n.Matrix).rotate((new n.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(e),this.cx,this.cy);return this.inversed?t.inverse():t},undo:function(e){return this._undo=e,this}}}),n.Scale=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),n.Skew=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),n.extend(n.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof e)for(t in e)this.style(t,e[t]);else{if(!n.regex.isCss.test(e))return this.node.style[c(e)];for(e=e.split(/\s*;\s*/).filter((function(e){return!!e})).map((function(e){return e.split(/\s*:\s*/)}));t=e.pop();)this.style(t[0],t[1])}else this.node.style[c(e)]=null===t||n.regex.isBlank.test(t)?"":t;return this}}),n.Parent=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),(function(e){return n.adopt(e)}))},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return n.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){var i,r,o=this.children();for(i=0,r=o.length;i<r;i++)o[i]instanceof n.Element&&e.apply(o[i],[i,o]),t&&o[i]instanceof n.Container&&o[i].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(e,t){return 0===t||this instanceof n.Defs||this.node==n.parser.draw?this:(e=e||(this instanceof n.Doc?this:this.parent(n.Parent)),t=t||1/0,this.each((function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(e,t-1):this.toParent(e)})),this.node.firstChild||this.remove(),this)},flatten:function(e,t){return this.ungroup(e,t)}}),n.Container=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Parent}),n.ViewBox=n.invent({create:function(e){var t,i,r,o,a,s,l,c=[0,0,0,0],h=1,d=1,u=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(e instanceof n.Element){for(s=e,l=e,a=(e.attr("viewBox")||"").match(u),e.bbox,r=new n.Number(e.width()),o=new n.Number(e.height());"%"==r.unit;)h*=r.value,r=new n.Number(s instanceof n.Doc?s.parent().offsetWidth:s.parent().width()),s=s.parent();for(;"%"==o.unit;)d*=o.value,o=new n.Number(l instanceof n.Doc?l.parent().offsetHeight:l.parent().height()),l=l.parent();this.x=0,this.y=0,this.width=r*h,this.height=o*d,this.zoom=1,a&&(t=parseFloat(a[0]),i=parseFloat(a[1]),r=parseFloat(a[2]),o=parseFloat(a[3]),this.zoom=this.width/this.height>r/o?this.height/o:this.width/r,this.x=t,this.y=i,this.width=r,this.height=o)}else e="string"===typeof e?e.match(u).map((function(e){return parseFloat(e)})):Array.isArray(e)?e:"object"==typeof e?[e.x,e.y,e.width,e.height]:4==arguments.length?[].slice.call(arguments):c,this.x=e[0],this.y=e[1],this.width=e[2],this.height=e[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(e,t,i,r){return this.destination=new n.ViewBox(e,t,i,r),this},at:function(e){return this.destination?new n.ViewBox([this.x+(this.destination.x-this.x)*e,this.y+(this.destination.y-this.y)*e,this.width+(this.destination.width-this.width)*e,this.height+(this.destination.height-this.height)*e]):this}},parent:n.Container,construct:{viewbox:function(e,t,i,r){return 0==arguments.length?new n.ViewBox(this):this.attr("viewBox",new n.ViewBox(e,t,i,r))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(e){n.Element.prototype[e]=function(t){return null==t?n.off(this,e):n.on(this,e,t),this}})),n.listenerId=0,n.on=function(e,t,i,r,o){var a=i.bind(r||e),s=e instanceof n.Element?e.node:e;s.instance=s.instance||{_events:{}};var l=s.instance._events;i._svgjsListenerId||(i._svgjsListenerId=++n.listenerId),t.split(n.regex.delimiter).forEach((function(e){var t=e.split(".")[0],n=e.split(".")[1]||"*";l[t]=l[t]||{},l[t][n]=l[t][n]||{},l[t][n][i._svgjsListenerId]=a,s.addEventListener(t,a,o||!1)}))},n.off=function(e,t,i,r){var o=e instanceof n.Element?e.node:e;if(o.instance&&("function"!==typeof i||(i=i._svgjsListenerId))){var a=o.instance._events;(t||"").split(n.regex.delimiter).forEach((function(e){var t,s,l=e&&e.split(".")[0],c=e&&e.split(".")[1];if(i)a[l]&&a[l][c||"*"]&&(o.removeEventListener(l,a[l][c||"*"][i],r||!1),delete a[l][c||"*"][i]);else if(l&&c){if(a[l]&&a[l][c]){for(s in a[l][c])n.off(o,[l,c].join("."),s);delete a[l][c]}}else if(c)for(e in a)for(t in a[e])c===t&&n.off(o,[e,c].join("."));else if(l){if(a[l]){for(t in a[l])n.off(o,[l,t].join("."));delete a[l]}}else{for(e in a)n.off(o,e);o.instance._events={}}}))}},n.extend(n.Element,{on:function(e,t,i,r){return n.on(this,e,t,i,r),this},off:function(e,t){return n.off(this.node,e,t),this},fire:function(t,i){return t instanceof e.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new n.CustomEvent(t,{detail:i,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)},y:function(e){return null==e?this.transform("y"):this.transform({y:e-this.y()},!0)},cx:function(e){return null==e?this.gbox().cx:this.x(e-this.gbox().width/2)},cy:function(e){return null==e?this.gbox().cy:this.y(e-this.gbox().height/2)},gbox:function(){var e=this.bbox(),t=this.transform();return e.x+=t.x,e.x2+=t.x,e.cx+=t.x,e.y+=t.y,e.y2+=t.y,e.cy+=t.y,e}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(e){e&&("svg"==(e="string"==typeof e?t.getElementById(e):e).nodeName?this.constructor.call(this,e):(this.constructor.call(this,n.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){var e;return this._defs||((e=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(e):this._defs=new n.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName&&"#document-fragment"!=this.node.parentNode.nodeName?this.node.parentNode:null},spof:function(){var e=this.node.getScreenCTM();return e&&this.style("left",-e.e%1+"px").style("top",-e.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw.parentNode||this.node.appendChild(n.parser.draw),this},clone:function(e){this.writeDataToDom();var t=this.node,n=g(t.cloneNode(!0));return e?(e.node||e).appendChild(n.node):t.parentNode.insertBefore(n.node,t.nextSibling),n}}}),n.extend(n.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var e=this.position()+1,t=this.parent();return t.removeElement(this).add(this,e),t instanceof n.Doc&&t.node.appendChild(t.defs().node),this},backward:function(){var e=this.position();return e>0&&this.parent().removeElement(this).add(this,e-1),this},front:function(){var e=this.parent();return e.node.appendChild(this.node),e instanceof n.Doc&&e.node.appendChild(e.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(e){e.remove();var t=this.position();return this.parent().add(e,t),this},after:function(e){e.remove();var t=this.position();return this.parent().add(e,t+1),this}}),n.Mask=n.invent({create:function(){this.constructor.call(this,n.create("mask")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unmask();return this.targets=[],n.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new n.Mask)}}}),n.extend(n.Element,{maskWith:function(e){return this.masker=e instanceof n.Mask?e:this.parent().mask().add(e),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),n.ClipPath=n.invent({create:function(){this.constructor.call(this,n.create("clipPath")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new n.ClipPath)}}}),n.extend(n.Element,{clipWith:function(e){return this.clipper=e instanceof n.ClipPath?e:this.parent().clip().add(e),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),n.Gradient=n.invent({create:function(e){this.constructor.call(this,n.create(e+"Gradient")),this.type=e},inherit:n.Container,extend:{at:function(e,t,i){return this.put(new n.Stop).update(e,t,i)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,i){return"transform"==e&&(e="gradientTransform"),n.Container.prototype.attr.call(this,e,t,i)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),n.extend(n.Gradient,n.FX,{from:function(e,t){return"radial"==(this._target||this).type?this.attr({fx:new n.Number(e),fy:new n.Number(t)}):this.attr({x1:new n.Number(e),y1:new n.Number(t)})},to:function(e,t){return"radial"==(this._target||this).type?this.attr({cx:new n.Number(e),cy:new n.Number(t)}):this.attr({x2:new n.Number(e),y2:new n.Number(t)})}}),n.extend(n.Defs,{gradient:function(e,t){return this.put(new n.Gradient(e)).update(t)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(e){return("number"==typeof e||e instanceof n.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new n.Number(e.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,i){return"transform"==e&&(e="patternTransform"),n.Container.prototype.attr.call(this,e,t,i)}},construct:{pattern:function(e,t,n){return this.defs().pattern(e,t,n)}}}),n.extend(n.Defs,{pattern:function(e,t,i){return this.put(new n.Pattern).update(i).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Element}),n.Bare=n.invent({create:function(e,t){if(this.constructor.call(this,n.create(e)),t)for(var i in t.prototype)"function"===typeof t.prototype[i]&&(this[i]=t.prototype[i])},inherit:n.Element,extend:{words:function(e){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(t.createTextNode(e)),this}}}),n.extend(n.Parent,{element:function(e,t){return this.put(new n.Bare(e,t))}}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,n.xlink)}},construct:{use:function(e,t){return this.put(new n.Use).element(e,t)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(e,t){return this.put(new n.Rect).size(e,t)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(e){return this.put(new n.Circle).rx(new n.Number(e).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(e,t){return this.put(new n.Ellipse).size(e,t).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),n.extend(n.Circle,n.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new n.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new n.Number(e).divide(2))},size:function(e,t){var i=u(this,e,t);return this.rx(new n.Number(i.width).divide(2)).ry(new n.Number(i.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,i,r){return null==e?this.array():(e="undefined"!==typeof t?{x1:e,y1:t,x2:i,y2:r}:new n.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){var n=u(this,e,t);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(e,t,i,r){return n.Line.prototype.plot.apply(this.put(new n.Line),null!=e?[e,t,i,r]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(e){return this.put(new n.Polyline).plot(e||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(e){return this.put(new n.Polygon).plot(e||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new n.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var n=u(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new n.PathArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("d",this.array().move(e,t))},x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},size:function(e,t){var n=u(this,e,t);return this.attr("d",this.array().size(n.width,n.height))},width:function(e){return null==e?this.bbox().width:this.size(e,this.bbox().height)},height:function(e){return null==e?this.bbox().height:this.size(this.bbox().width,e)}},construct:{path:function(e){return this.put(new n.Path).plot(e||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(t){if(!t)return this;var i=this,r=new e.Image;return n.on(r,"load",(function(){n.off(r);var e=i.parent(n.Pattern);null!==e&&(0==i.width()&&0==i.height()&&i.size(r.width,r.height),e&&0==e.width()&&0==e.height()&&e.size(i.width(),i.height()),"function"===typeof i._loaded&&i._loaded.call(i,{width:r.width,height:r.height,ratio:r.width/r.height,url:t}))})),n.on(r,"error",(function(e){n.off(r),"function"===typeof i._error&&i._error.call(i,e)})),this.attr("href",r.src=this.src=t,n.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,i){return this.put(new n.Image).load(e).size(t||0,i||t||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},y:function(e){var t=this.attr("y"),n="number"===typeof t?t-this.bbox().y:0;return null==e?"number"===typeof t?t-n:t:this.attr("y","number"===typeof e.valueOf()?e+n:e)},cx:function(e){return null==e?this.bbox().cx:this.x(e-this.bbox().width/2)},cy:function(e){return null==e?this.bbox().cy:this.y(e-this.bbox().height/2)},text:function(e){if("undefined"===typeof e){e="";for(var t=this.node.childNodes,i=0,r=t.length;i<r;++i)0!=i&&3!=t[i].nodeType&&1==n.adopt(t[i]).dom.newLined&&(e+="\n"),e+=t[i].textContent;return e}if(this.clear().build(!0),"function"===typeof e)e.call(this,this);else{i=0;for(var o=(e=e.split("\n")).length;i<o;i++)this.tspan(e[i]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new n.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,t=n.utils.map(n.utils.filterSVGElements(e.childNodes),(function(e){return n.adopt(e)}));return new n.Set(t)},rebuild:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,i=0,r=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?i+=r:(this.attr("dy",r+i),i=0))})),this.fire("rebuild")}return this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new n.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new n.Text).text(e)},plain:function(e){return this.put(new n.Text).plain(e)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"===typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(n.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,i=new n.Tspan;return!1===this._build&&this.clear(),t.appendChild(i.node),i.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,path:function(e){for(var t=new n.TextPath,i=this.doc().defs().path(e);this.node.hasChildNodes();)t.node.appendChild(this.node.firstChild);return this.node.appendChild(t.node),t.attr("href","#"+i,n.xlink),this},array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),n=null;return t&&(n=t.plot(e)),null==e?n:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}}),n.A=n.invent({create:"a",inherit:n.Container,extend:{to:function(e){return this.attr("href",e,n.xlink)},show:function(e){return this.attr("show",e,n.xlink)},target:function(e){return this.attr("target",e)}},construct:{link:function(e){return this.put(new n.A).to(e)}}}),n.extend(n.Element,{linkTo:function(e){var t=new n.A;return"function"==typeof e?e.call(t,t):t.to(e),this.parent().put(t).put(this)}}),n.Marker=n.invent({create:"marker",inherit:n.Container,extend:{width:function(e){return this.attr("markerWidth",e)},height:function(e){return this.attr("markerHeight",e)},ref:function(e,t){return this.attr("refX",e).attr("refY",t)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(e,t,n){return this.defs().marker(e,t,n)}}}),n.extend(n.Defs,{marker:function(e,t,i){return this.put(new n.Marker).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(i)}}),n.extend(n.Line,n.Polyline,n.Polygon,n.Path,{marker:function(e,t,i,r){var o=["marker"];return"all"!=e&&o.push(e),o=o.join("-"),e=arguments[1]instanceof n.Marker?arguments[1]:this.doc().marker(t,i,r),this.attr(o,e)}});var s={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};function l(e,t,i,r){return i+r.replace(n.regex.dots," .")}function c(e){return e.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function h(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function u(e,t,n){if(null==t||null==n){var i=e.bbox();null==t?t=i.width/i.height*n:null==n&&(n=i.height/i.width*t)}return{width:t,height:n}}function p(e,t,n){return{x:t*e.a+n*e.c+0,y:t*e.b+n*e.d+0}}function f(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function m(e,t){e.cx=null==e.cx?t.bbox().cx:e.cx,e.cy=null==e.cy?t.bbox().cy:e.cy}function g(t){for(var i=t.childNodes.length-1;i>=0;i--)t.childNodes[i]instanceof e.SVGElement&&g(t.childNodes[i]);return n.adopt(t).id(n.eid(t.nodeName))}function v(e){return null==e.x&&(e.x=0,e.y=0,e.width=0,e.height=0),e.w=e.width,e.h=e.height,e.x2=e.x+e.width,e.y2=e.y+e.height,e.cx=e.x+e.width/2,e.cy=e.y+e.height/2,e}function b(e){return Math.abs(e)>1e-37?e:0}["fill","stroke"].forEach((function(e){var t,i={};i[e]=function(i){if("undefined"==typeof i)return this;if("string"==typeof i||n.Color.isRgb(i)||i&&"function"===typeof i.fill)this.attr(e,i);else for(t=s[e].length-1;t>=0;t--)null!=i[s[e][t]]&&this.attr(s.prefix(e,s[e][t]),i[s[e][t]]);return this},n.extend(n.Element,n.FX,i)})),n.extend(n.Element,n.FX,{rotate:function(e,t,n){return this.transform({rotation:e,cx:t,cy:n})},skew:function(e,t,n,i){return 1==arguments.length||3==arguments.length?this.transform({skew:e,cx:t,cy:n}):this.transform({skewX:e,skewY:t,cx:n,cy:i})},scale:function(e,t,n,i){return 1==arguments.length||3==arguments.length?this.transform({scale:e,cx:t,cy:n}):this.transform({scaleX:e,scaleY:t,cx:n,cy:i})},translate:function(e,t){return this.transform({x:e,y:t})},flip:function(e,t){return t="number"==typeof e?e:t,this.transform({flip:e||"both",offset:t})},matrix:function(e){return this.attr("transform",new n.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new n.Number(e).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(e){return this.y(new n.Number(e).plus(this instanceof n.FX?0:this.y()),!0)},dmove:function(e,t){return this.dx(e).dy(t)}}),n.extend(n.Rect,n.Ellipse,n.Circle,n.Gradient,n.FX,{radius:function(e,t){var i=(this._target||this).type;return"radial"==i||"circle"==i?this.attr("r",new n.Number(e)):this.rx(e).ry(null==t?e:t)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),n.extend(n.Parent,n.Text,n.Tspan,n.FX,{font:function(e,t){if("object"==typeof e)for(t in e)this.font(t,e[t]);return"leading"==e?this.leading(t):"anchor"==e?this.attr("text-anchor",t):"size"==e||"family"==e||"weight"==e||"stretch"==e||"variant"==e||"style"==e?this.attr("font-"+e,t):this.attr(e,t)}}),n.Set=n.invent({create:function(e){e instanceof n.Set?this.members=e.members.slice():Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){var e,t,n=[].slice.call(arguments);for(e=0,t=n.length;e<t;e++)this.members.push(n[e]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,n=this.members.length;t<n;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(0==this.members.length)return new n.RBox;var e=this.members[0].rbox(this.members[0].doc());return this.each((function(){e=e.merge(this.rbox(this.doc()))})),e}},construct:{set:function(e){return new n.Set(e)}}}),n.FX.Set=n.invent({create:function(e){this.set=e}}),n.Set.inherit=function(){var e=[];for(var t in n.Shape.prototype)"function"==typeof n.Shape.prototype[t]&&"function"!=typeof n.Set.prototype[t]&&e.push(t);for(var t in e.forEach((function(e){n.Set.prototype[e]=function(){for(var t=0,i=this.members.length;t<i;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new n.FX.Set(this)):this}})),e=[],n.FX.prototype)"function"==typeof n.FX.prototype[t]&&"function"!=typeof n.FX.Set.prototype[t]&&e.push(t);e.forEach((function(e){n.FX.Set.prototype[e]=function(){for(var t=0,n=this.set.members.length;t<n;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}}))},n.extend(n.Element,{data:function(e,t,n){if("object"==typeof e)for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch(i){return this.attr("data-"+e)}else this.attr("data-"+e,null===t?null:!0===n||"string"===typeof t||"number"===typeof t?t:JSON.stringify(t));return this}}),n.extend(n.Element,{remember:function(e,t){if("object"==typeof arguments[0])for(var t in e)this.remember(t,e[t]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(e){var i=t.getElementById(function(e){var t=(e||"").toString().match(n.regex.reference);if(t)return t[1]}(e)||e);return n.adopt(i)},n.select=function(e,i){return new n.Set(n.utils.map((i||t).querySelectorAll(e),(function(e){return n.adopt(e)})))},n.extend(n.Parent,{select:function(e){return n.select(e,this.node)}});var y="abcdef".split("");if("function"!==typeof e.CustomEvent){var _=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var i=t.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i};_.prototype=e.Event.prototype,n.CustomEvent=_}else n.CustomEvent=e.CustomEvent;return function(t){for(var n=0,i=["moz","webkit"],r=0;r<i.length&&!e.requestAnimationFrame;++r)t.requestAnimationFrame=t[i[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[r]+"CancelAnimationFrame"]||t[i[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame=t.requestAnimationFrame||function(e){var i=(new Date).getTime(),r=Math.max(0,16-(i-n)),o=t.setTimeout((function(){e(i+r)}),r);return n=i+r,o},t.cancelAnimationFrame=t.cancelAnimationFrame||t.clearTimeout}(e),n}(r,r.document)}.call(t,n,t,e))||(e.exports=i)},1960:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0),r=n.n(i),o=n(58),a=n(1997);class s extends i.Component{constructor(e){super(e),this.onAddHint=()=>{const e=[...this.state.judgeHints||[],{markdown:"",html:""}];this.setState({judgeHints:e},this.props.onJudgeHintsUpdate(e))},this.state={judgeHints:this.props.judgeHints}}static getDerivedStateFromProps(e){return{judgeHints:e.judgeHints}}render(){const{onJudgeHintsUpdate:e,onlyCodeChanged:t}=this.props,{judgeHints:n}=this.state;return r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(a.a,{judgeHints:n,onJudgeHintsUpdate:e,onlyCodeChanged:t}),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(o.a,{small:!0,onClick:this.onAddHint,borderless:!0,success:!0,style:{width:120}},"Add Hint")))}}},1961:function(e,t){},1962:function(e,t){},1963:function(e,t,n){!function(t,i){var r;e.exports=(r=n(1731),function(e){var t=r,n=t.lib,i=n.Base,o=n.WordArray,a=t.x64={};a.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var r=e[i];n.push(r.high),n.push(r.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),r)}()},1964:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1801),n(1802),n(1777),n(1745),function(){var e=o,t=e.lib.BlockCipher,n=e.algo,i=[],r=[],a=[],s=[],l=[],c=[],h=[],d=[],u=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,o=0;for(t=0;t<256;t++){var f=o^o<<1^o<<2^o<<3^o<<4;f=f>>>8^255&f^99,i[n]=f,r[f]=n;var m=e[n],g=e[m],v=e[g],b=257*e[f]^16843008*f;a[n]=b<<24|b>>>8,s[n]=b<<16|b>>>16,l[n]=b<<8|b>>>24,c[n]=b,b=16843009*v^65537*g^257*m^16843008*n,h[f]=b<<24|b>>>8,d[f]=b<<16|b>>>16,u[f]=b<<8|b>>>24,p[f]=b,n?(n=m^e[e[e[v^m]]],o^=e[e[o]]):n=o=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)a<n?o[a]=t[a]:(c=o[a-1],a%n?n>6&&a%n==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=f[a/n|0]<<24),o[a]=o[a-n]^c);for(var s=this._invKeySchedule=[],l=0;l<r;l++){if(a=r-l,l%4)var c=o[a];else c=o[a-4];s[l]=l<4||a<=4?c:h[i[c>>>24]]^d[i[c>>>16&255]]^u[i[c>>>8&255]]^p[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,l,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,h,d,u,p,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,o,a,s){for(var l=this._nRounds,c=e[t]^n[0],h=e[t+1]^n[1],d=e[t+2]^n[2],u=e[t+3]^n[3],p=4,f=1;f<l;f++){var m=i[c>>>24]^r[h>>>16&255]^o[d>>>8&255]^a[255&u]^n[p++],g=i[h>>>24]^r[d>>>16&255]^o[u>>>8&255]^a[255&c]^n[p++],v=i[d>>>24]^r[u>>>16&255]^o[c>>>8&255]^a[255&h]^n[p++],b=i[u>>>24]^r[c>>>16&255]^o[h>>>8&255]^a[255&d]^n[p++];c=m,h=g,d=v,u=b}m=(s[c>>>24]<<24|s[h>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[p++],g=(s[h>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^n[p++],v=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&h])^n[p++],b=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[h>>>8&255]<<8|s[255&d])^n[p++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=b},keySize:8});e.AES=t._createHelper(m)}(),o.AES)}()},1965:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createElement("path",{d:"M789 559l-170 450q33 0 136.5 2t160.5 2q19 0 57-2-87-253-184-452zm-725 1105l2-79q23-7 56-12.5t57-10.5 49.5-14.5 44.5-29 31-50.5l237-616 280-724h128q8 14 11 21l205 480q33 78 106 257.5t114 274.5q15 34 58 144.5t72 168.5q20 45 35 57 19 15 88 29.5t84 20.5q6 38 6 57 0 4-.5 13t-.5 13q-63 0-190-8t-191-8q-76 0-215 7t-178 8q0-43 4-78l131-28q1 0 12.5-2.5t15.5-3.5 14.5-4.5 15-6.5 11-8 9-11 2.5-14q0-16-31-96.5t-72-177.5-42-100l-450-2q-26 58-76.5 195.5t-50.5 162.5q0 22 14 37.5t43.5 24.5 48.5 13.5 57 8.5 41 4q1 19 1 58 0 9-2 27-58 0-174.5-10t-174.5-10q-8 0-26.5 4t-21.5 4q-80 14-188 14z"});const l=e=>{let{svgRef:t,title:n}=e,i=a(e,["svgRef","title"]);return r.a.createElement("svg",o({className:"font-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?r.a.createElement("title",null,n):null,s)},c=r.a.forwardRef((e,t)=>r.a.createElement(l,o({svgRef:t},e)));n.p},1966:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(0),r=n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createElement("path",{d:"M176.6 67.5h84.7c11.7 0 21.5 7.6 24.3 19 .5 2.1.8 4.4.8 6.6v168.2c0 11.3-6.1 20.7-16 24.4-3 1.1-6.4 1.7-9.7 1.7-56.2.1-112.3.1-168.5.1-14.8 0-25.8-10.9-25.8-25.7v-87.5-81.5c0-11.8 7.7-21.7 19.1-24.5 2.2-.5 4.4-.7 6.7-.7 28.2-.1 56.3-.1 84.4-.1zm-.1 20H92.8c-4.5 0-6.3 1.8-6.3 6.3V261c0 4.7 1.7 6.5 6.4 6.5h167.2c4.7 0 6.4-1.8 6.4-6.5V93.8c0-4.5-1.8-6.3-6.3-6.3h-83.7z"}),l=r.a.createElement("path",{d:"M56.4 207.5v19.9c-5.8 0-11.4.1-17 0-4.9-.1-9.8-.1-14.6-1.1-8.9-1.8-16.6-10.7-17.7-19.7-.3-2.5-.5-5-.5-7.4v-166c0-12.3 7.5-22.1 19.2-25 2.1-.5 4.3-.7 6.4-.7h168.7c14.7 0 25.6 10.9 25.7 25.6v24.1h-19.9V39.7v-6.2c0-4.2-1.9-6.1-6-6.1H33c-4.5 0-6.3 1.8-6.3 6.3v167.2c0 4.8 1.7 6.5 6.4 6.5 7.5.1 15.3.1 23.3.1z"});const c=e=>{let{svgRef:t,title:n}=e,i=a(e,["svgRef","title"]);return r.a.createElement("svg",o({className:"clone-icon",viewBox:"0 0 294 295",ref:t},i),n?r.a.createElement("title",null,n):null,s,l)},h=r.a.forwardRef((e,t)=>r.a.createElement(c,o({svgRef:t},e)));n.p},1967:function(e,t,n){(function(e){var i,r=r||{version:"3.6.2"};if(t.fabric=r,"undefined"!==typeof document&&"undefined"!==typeof window)document instanceof("undefined"!==typeof HTMLDocument?HTMLDocument:Document)?r.document=document:r.document=document.implementation.createHTMLDocument(""),r.window=window;else{var o=new(n(2109).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;r.document=o.document,r.jsdomImplForWrapper=n(2110).implForWrapper,r.nodeCanvas=n(2111).Canvas,r.window=o,DOMParser=r.window.DOMParser}function a(e,t){var n=e.canvas,i=t.targetCanvas,r=i.getContext("2d");r.translate(0,i.height),r.scale(1,-1);var o=n.height-i.height;r.drawImage(n,0,o,i.width,i.height,0,0,i.width,i.height)}function s(e,t){var n=t.targetCanvas.getContext("2d"),i=t.destinationWidth,r=t.destinationHeight,o=i*r*4,a=new Uint8Array(this.imageBuffer,0,o),s=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,i,r,e.RGBA,e.UNSIGNED_BYTE,a);var l=new ImageData(s,i,r);n.putImageData(l,0,0)}r.isTouchSupported="ontouchstart"in r.window||"ontouchstart"in r.document||r.window&&r.window.navigator&&r.window.navigator.maxTouchPoints>0,r.isLikelyNode="undefined"!==typeof e&&"undefined"===typeof window,r.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],r.DPI=96,r.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",r.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,r.reNonWord=/[ \n\.,;!\?\-]/,r.fontPaths={},r.iMatrix=[1,0,0,1,0,0],r.svgNS="http://www.w3.org/2000/svg",r.perfLimitSizeTotal=2097152,r.maxCacheSideLimit=4096,r.minCacheSideLimit=256,r.charWidthsCache={},r.textureSize=2048,r.disableStyleCopyPaste=!1,r.enableGLFiltering=!0,r.devicePixelRatio=r.window.devicePixelRatio||r.window.webkitDevicePixelRatio||r.window.mozDevicePixelRatio||1,r.browserShadowBlurConstant=1,r.arcToSegmentsCache={},r.boundsOfCurveCache={},r.cachesBoundsOfCurve=!0,r.forceGLPutImageData=!1,r.initFilterBackend=function(){return r.enableGLFiltering&&r.isWebglSupported&&r.isWebglSupported(r.textureSize)?(console.log("max texture size: "+r.maxTextureSize),new r.WebglFilterBackend({tileSize:r.textureSize})):r.Canvas2dFilterBackend?new r.Canvas2dFilterBackend:void 0},"undefined"!==typeof document&&"undefined"!==typeof window&&(window.fabric=r),function(){function e(e,t){if(this.__eventListeners[e]){var n=this.__eventListeners[e];t?n[n.indexOf(t)]=!1:r.util.array.fill(n,!1)}}function t(e,t){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in e)this.on(n,e[n]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this}function n(t,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(t in this.__eventListeners)e.call(this,t);else if(1===arguments.length&&"object"===typeof arguments[0])for(var i in t)e.call(this,i,t[i]);else e.call(this,t,n);return this}function i(e,t){if(!this.__eventListeners)return this;var n=this.__eventListeners[e];if(!n)return this;for(var i=0,r=n.length;i<r;i++)n[i]&&n[i].call(this,t||{});return this.__eventListeners[e]=n.filter((function(e){return!1!==e})),this}r.Observable={observe:t,stopObserving:n,fire:i,on:t,off:n,trigger:i}}(),r.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var e=0,t=arguments.length;e<t;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(e,t,n){var i=this._objects;return n?i[t]=e:i.splice(t,0,e),this._onObjectAdded&&this._onObjectAdded(e),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var e,t=this._objects,n=!1,i=0,r=arguments.length;i<r;i++)-1!==(e=t.indexOf(arguments[i]))&&(n=!0,t.splice(e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[i]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(e,t){for(var n=this.getObjects(),i=0,r=n.length;i<r;i++)e.call(t,n[i],i,n);return this},getObjects:function(e){return"undefined"===typeof e?this._objects.concat():this._objects.filter((function(t){return t.type===e}))},item:function(e){return this._objects[e]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(e){return this._objects.indexOf(e)>-1},complexity:function(){return this._objects.reduce((function(e,t){return e+=t.complexity?t.complexity():0}),0)}},r.CommonMethods={_setOptions:function(e){for(var t in e)this.set(t,e[t])},_initGradient:function(e,t){!e||!e.colorStops||e instanceof r.Gradient||this.set(t,new r.Gradient(e))},_initPattern:function(e,t,n){!e||!e.source||e instanceof r.Pattern?n&&n():this.set(t,new r.Pattern(e,n))},_initClipping:function(e){if(e.clipTo&&"string"===typeof e.clipTo){var t=r.util.getFunctionBody(e.clipTo);"undefined"!==typeof t&&(this.clipTo=new Function("ctx",t))}},_setObject:function(e){for(var t in e)this._set(t,e[t])},set:function(e,t){return"object"===typeof e?this._setObject(e):"function"===typeof t&&"clipTo"!==e?this._set(e,t(this.get(e))):this._set(e,t),this},_set:function(e,t){this[e]=t},toggle:function(e){var t=this.get(e);return"boolean"===typeof t&&this.set(e,!t),this},get:function(e){return this[e]}},function(e){var t=Math.sqrt,n=Math.atan2,i=Math.pow,o=Math.PI/180,a=Math.PI/2;r.util={cos:function(e){if(0===e)return 1;switch(e<0&&(e=-e),e/a){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(0===e)return 0;var t=1;switch(e<0&&(t=-1),e/a){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(e)},removeFromArray:function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},degreesToRadians:function(e){return e*o},radiansToDegrees:function(e){return e/o},rotatePoint:function(e,t,n){e.subtractEquals(t);var i=r.util.rotateVector(e,n);return new r.Point(i.x,i.y).addEquals(t)},rotateVector:function(e,t){var n=r.util.sin(t),i=r.util.cos(t);return{x:e.x*i-e.y*n,y:e.x*n+e.y*i}},transformPoint:function(e,t,n){return n?new r.Point(t[0]*e.x+t[2]*e.y,t[1]*e.x+t[3]*e.y):new r.Point(t[0]*e.x+t[2]*e.y+t[4],t[1]*e.x+t[3]*e.y+t[5])},makeBoundingBoxFromPoints:function(e,t){if(t)for(var n=0;n<e.length;n++)e[n]=r.util.transformPoint(e[n],t);var i=[e[0].x,e[1].x,e[2].x,e[3].x],o=r.util.array.min(i),a=r.util.array.max(i)-o,s=[e[0].y,e[1].y,e[2].y,e[3].y],l=r.util.array.min(s);return{left:o,top:l,width:a,height:r.util.array.max(s)-l}},invertTransform:function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0]],i=r.util.transformPoint({x:e[4],y:e[5]},n,!0);return n[4]=-i.x,n[5]=-i.y,n},toFixed:function(e,t){return parseFloat(Number(e).toFixed(t))},parseUnit:function(e,t){var n=/\D{0,2}$/.exec(e),i=parseFloat(e);switch(t||(t=r.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return i*r.DPI/25.4;case"cm":return i*r.DPI/2.54;case"in":return i*r.DPI;case"pt":return i*r.DPI/72;case"pc":return i*r.DPI/72*12;case"em":return i*t;default:return i}},falseFunction:function(){return!1},getKlass:function(e,t){return e=r.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),r.util.resolveNamespace(t)[e]},getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":t=t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":t=t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":t=t.concat(["offset","stop-color","stop-opacity"])}return t},resolveNamespace:function(t){if(!t)return r;var n,i=t.split("."),o=i.length,a=e||r.window;for(n=0;n<o;++n)a=a[i[n]];return a},loadImage:function(e,t,n,i){if(e){var o=r.util.createImage(),a=function(){t&&t.call(n,o),o=o.onload=o.onerror=null};o.onload=a,o.onerror=function(){r.log("Error loading "+o.src),t&&t.call(n,null,!0),o=o.onload=o.onerror=null},0!==e.indexOf("data")&&i&&(o.crossOrigin=i),"data:image/svg"===e.substring(0,14)&&(o.onload=null,r.util.loadImageInDom(o,a)),o.src=e}else t&&t.call(n,e)},loadImageInDom:function(e,t){var n=r.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(e),r.document.querySelector("body").appendChild(n),e.onload=function(){t(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(e,t,n,i){var o=[],a=0,s=(e=e||[]).length;function l(){++a===s&&t&&t(o.filter((function(e){return e})))}s?e.forEach((function(e,t){e&&e.type?r.util.getKlass(e.type,n).fromObject(e,(function(n,r){r||(o[t]=n),i&&i(e,n,r),l()})):l()})):t&&t(o)},enlivenPatterns:function(e,t){function n(){++o===a&&t&&t(i)}var i=[],o=0,a=(e=e||[]).length;a?e.forEach((function(e,t){e&&e.source?new r.Pattern(e,(function(e){i[t]=e,n()})):(i[t]=e,n())})):t&&t(i)},groupSVGElements:function(e,t,n){var i;return e&&1===e.length?e[0]:(t&&(t.width&&t.height?t.centerPoint={x:t.width/2,y:t.height/2}:(delete t.width,delete t.height)),i=new r.Group(e,t),"undefined"!==typeof n&&(i.sourcePath=n),i)},populateWithProperties:function(e,t,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var i=0,r=n.length;i<r;i++)n[i]in e&&(t[n[i]]=e[n[i]])},drawDashedLine:function(e,i,r,o,a,s){var l=o-i,c=a-r,h=t(l*l+c*c),d=n(c,l),u=s.length,p=0,f=!0;for(e.save(),e.translate(i,r),e.moveTo(0,0),e.rotate(d),i=0;h>i;)(i+=s[p++%u])>h&&(i=h),e[f?"lineTo":"moveTo"](i,0),f=!f;e.restore()},createCanvasElement:function(){return r.document.createElement("canvas")},copyCanvasElement:function(e){var t=r.util.createCanvasElement();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},toDataURL:function(e,t,n){return e.toDataURL("image/"+t,n)},createImage:function(){return r.document.createElement("img")},clipContext:function(e,t){t.save(),t.beginPath(),e.clipTo(t),t.clip()},multiplyTransformMatrices:function(e,t,n){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]]},qrDecompose:function(e){var r=n(e[1],e[0]),a=i(e[0],2)+i(e[1],2),s=t(a),l=(e[0]*e[3]-e[2]*e[1])/s,c=n(e[0]*e[2]+e[1]*e[3],a);return{angle:r/o,scaleX:s,scaleY:l,skewX:c/o,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return r.iMatrix.concat();var t=r.util.degreesToRadians(e.angle),n=r.util.cos(t),i=r.util.sin(t);return[n,i,-i,n,0,0]},calcDimensionsMatrix:function(e){var t="undefined"===typeof e.scaleX?1:e.scaleX,n="undefined"===typeof e.scaleY?1:e.scaleY,i=[e.flipX?-t:t,0,0,e.flipY?-n:n,0,0],o=r.util.multiplyTransformMatrices,a=r.util.degreesToRadians;return e.skewX&&(i=o(i,[1,0,Math.tan(a(e.skewX)),1],!0)),e.skewY&&(i=o(i,[1,Math.tan(a(e.skewY)),0,1],!0)),i},composeMatrix:function(e){var t=[1,0,0,1,e.translateX||0,e.translateY||0],n=r.util.multiplyTransformMatrices;return e.angle&&(t=n(t,r.util.calcRotateMatrix(e))),(e.scaleX||e.scaleY||e.skewX||e.skewY||e.flipX||e.flipY)&&(t=n(t,r.util.calcDimensionsMatrix(e))),t},customTransformMatrix:function(e,t,n){return r.util.composeMatrix({scaleX:e,scaleY:t,skewX:n})},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},getFunctionBody:function(e){return(String(e).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(e,t,n,i){i>0&&(t>i?t-=i:t=0,n>i?n-=i:n=0);var r,o=!0,a=e.getImageData(t,n,2*i||1,2*i||1),s=a.data.length;for(r=3;r<s&&!1!==(o=a.data[r]<=0);r+=4);return a=null,o},parsePreserveAspectRatioAttribute:function(e){var t,n="meet",i=e.split(" ");return i&&i.length&&("meet"!==(n=i.pop())&&"slice"!==n?(t=n,n="meet"):i.length&&(t=i.pop())),{meetOrSlice:n,alignX:"none"!==t?t.slice(1,4):"none",alignY:"none"!==t?t.slice(5,8):"none"}},clearFabricFontCache:function(e){(e=(e||"").toLowerCase())?r.charWidthsCache[e]&&delete r.charWidthsCache[e]:r.charWidthsCache={}},limitDimsByArea:function(e,t){var n=Math.sqrt(t*e),i=Math.floor(t/n);return{x:Math.floor(n),y:i}},capValue:function(e,t,n){return Math.max(e,Math.min(t,n))},findScaleToFit:function(e,t){return Math.min(t.width/e.width,t.height/e.height)},findScaleToCover:function(e,t){return Math.max(t.width/e.width,t.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map((function(e){return r.util.toFixed(e,r.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"}}}(t),function(){var e=Array.prototype.join;function t(t,o,a,s,l,c,h){var d=e.call(arguments);if(r.arcToSegmentsCache[d])return r.arcToSegmentsCache[d];var u=Math.PI,p=h*u/180,f=r.util.sin(p),m=r.util.cos(p),g=0,v=0,b=-m*t*.5-f*o*.5,y=-m*o*.5+f*t*.5,_=(a=Math.abs(a))*a,x=(s=Math.abs(s))*s,w=y*y,C=b*b,S=_*x-_*w-x*C,E=0;if(S<0){var k=Math.sqrt(1-S/(_*x));a*=k,s*=k}else E=(l===c?-1:1)*Math.sqrt(S/(_*w+x*C));var O=E*a*y/s,T=-E*s*b/a,A=m*O-f*T+.5*t,I=f*O+m*T+.5*o,j=i(1,0,(b-O)/a,(y-T)/s),P=i((b-O)/a,(y-T)/s,(-b-O)/a,(-y-T)/s);0===c&&P>0?P-=2*u:1===c&&P<0&&(P+=2*u);for(var M=Math.ceil(Math.abs(P/u*2)),R=[],D=P/M,L=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2),N=j+D,B=0;B<M;B++)R[B]=n(j,N,m,f,a,s,A,I,L,g,v),g=R[B][4],v=R[B][5],j=N,N+=D;return r.arcToSegmentsCache[d]=R,R}function n(e,t,n,i,o,a,s,l,c,h,d){var u=r.util.cos(e),p=r.util.sin(e),f=r.util.cos(t),m=r.util.sin(t),g=n*o*f-i*a*m+s,v=i*o*f+n*a*m+l;return[h+c*(-n*o*p-i*a*u),d+c*(-i*o*p+n*a*u),g+c*(n*o*m+i*a*f),v+c*(i*o*m-n*a*f),g,v]}function i(e,t,n,i){var r=Math.atan2(t,e),o=Math.atan2(i,n);return o>=r?o-r:2*Math.PI-(r-o)}function o(t,n,i,o,a,s,l,c){var h;if(r.cachesBoundsOfCurve&&(h=e.call(arguments),r.boundsOfCurveCache[h]))return r.boundsOfCurveCache[h];var d,u,p,f,m,g,v,b,y=Math.sqrt,_=Math.min,x=Math.max,w=Math.abs,C=[],S=[[],[]];u=6*t-12*i+6*a,d=-3*t+9*i-9*a+3*l,p=3*i-3*t;for(var E=0;E<2;++E)if(E>0&&(u=6*n-12*o+6*s,d=-3*n+9*o-9*s+3*c,p=3*o-3*n),w(d)<1e-12){if(w(u)<1e-12)continue;0<(f=-p/u)&&f<1&&C.push(f)}else(v=u*u-4*p*d)<0||(0<(m=(-u+(b=y(v)))/(2*d))&&m<1&&C.push(m),0<(g=(-u-b)/(2*d))&&g<1&&C.push(g));for(var k,O,T,A=C.length,I=A;A--;)k=(T=1-(f=C[A]))*T*T*t+3*T*T*f*i+3*T*f*f*a+f*f*f*l,S[0][A]=k,O=T*T*T*n+3*T*T*f*o+3*T*f*f*s+f*f*f*c,S[1][A]=O;S[0][I]=t,S[1][I]=n,S[0][I+1]=l,S[1][I+1]=c;var j=[{x:_.apply(null,S[0]),y:_.apply(null,S[1])},{x:x.apply(null,S[0]),y:x.apply(null,S[1])}];return r.cachesBoundsOfCurve&&(r.boundsOfCurveCache[h]=j),j}r.util.drawArc=function(e,n,i,r){for(var o=r[0],a=r[1],s=r[2],l=r[3],c=r[4],h=[[],[],[],[]],d=t(r[5]-n,r[6]-i,o,a,l,c,s),u=0,p=d.length;u<p;u++)h[u][0]=d[u][0]+n,h[u][1]=d[u][1]+i,h[u][2]=d[u][2]+n,h[u][3]=d[u][3]+i,h[u][4]=d[u][4]+n,h[u][5]=d[u][5]+i,e.bezierCurveTo.apply(e,h[u])},r.util.getBoundsOfArc=function(e,n,i,r,a,s,l,c,h){for(var d,u=0,p=0,f=[],m=t(c-e,h-n,i,r,s,l,a),g=0,v=m.length;g<v;g++)d=o(u,p,m[g][0],m[g][1],m[g][2],m[g][3],m[g][4],m[g][5]),f.push({x:d[0].x+e,y:d[0].y+n}),f.push({x:d[1].x+e,y:d[1].y+n}),u=m[g][4],p=m[g][5];return f},r.util.getBoundsOfCurve=o}(),function(){var e=Array.prototype.slice;function t(e,t,n){if(e&&0!==e.length){var i=e.length-1,r=t?e[i][t]:e[i];if(t)for(;i--;)n(e[i][t],r)&&(r=e[i][t]);else for(;i--;)n(e[i],r)&&(r=e[i]);return r}}r.util.array={fill:function(e,t){for(var n=e.length;n--;)e[n]=t;return e},invoke:function(t,n){for(var i=e.call(arguments,2),r=[],o=0,a=t.length;o<a;o++)r[o]=i.length?t[o][n].apply(t[o],i):t[o][n].call(t[o]);return r},min:function(e,n){return t(e,n,(function(e,t){return e<t}))},max:function(e,n){return t(e,n,(function(e,t){return e>=t}))}}}(),function(){function e(t,n,i){if(i)if(!r.isLikelyNode&&n instanceof Element)t=n;else if(n instanceof Array){t=[];for(var o=0,a=n.length;o<a;o++)t[o]=e({},n[o],i)}else if(n&&"object"===typeof n)for(var s in n)"canvas"===s?t[s]=e({},n[s]):n.hasOwnProperty(s)&&(t[s]=e({},n[s],i));else t=n;else for(var s in n)t[s]=n[s];return t}r.util.object={extend:e,clone:function(t,n){return e({},t,n)}},r.util.object.extend(r.util,r.Observable)}(),function(){function e(e,t){var n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var i=e.charCodeAt(t+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var r=e.charCodeAt(t-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1}r.util.string={camelize:function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){var n,i=0,r=[];for(i=0;i<t.length;i++)!1!==(n=e(t,i))&&r.push(n);return r}}}(),function(){var e=Array.prototype.slice,t=function(){},n=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),i=function(e,t,i){for(var r in t)r in e.prototype&&"function"===typeof e.prototype[r]&&(t[r]+"").indexOf("callSuper")>-1?e.prototype[r]=function(e){return function(){var n=this.constructor.superclass;this.constructor.superclass=i;var r=t[e].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==e)return r}}(r):e.prototype[r]=t[r],n&&(t.toString!==Object.prototype.toString&&(e.prototype.toString=t.toString),t.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=t.valueOf))};function o(){}function a(t){for(var n=null,i=this;i.constructor.superclass;){var r=i.constructor.superclass.prototype[t];if(i[t]!==r){n=r;break}i=i.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,e.call(arguments,1)):n.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}r.util.createClass=function(){var n=null,r=e.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"===typeof r[0]&&(n=r.shift()),s.superclass=n,s.subclasses=[],n&&(o.prototype=n.prototype,s.prototype=new o,n.subclasses.push(s));for(var l=0,c=r.length;l<c;l++)i(s,r[l],n);return s.prototype.initialize||(s.prototype.initialize=t),s.prototype.constructor=s,s.prototype.callSuper=a,s}}(),function(){var e=!!r.document.createElement("div").attachEvent;r.util.addListener=function(t,n,i,r){t&&t.addEventListener(n,i,!e&&r)},r.util.removeListener=function(t,n,i,r){t&&t.removeEventListener(n,i,!e&&r)},r.util.getPointer=function(e){var t=e.target,n=r.util.getScrollLeftTop(t),i=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return{x:i.clientX+n.left,y:i.clientY+n.top}}}(),function(){var e=r.document.createElement("div"),t="string"===typeof e.style.opacity,n="string"===typeof e.style.filter,i=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(e){return e};t?o=function(e,t){return e.style.opacity=t,e}:n&&(o=function(e,t){var n=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(n.zoom=1),i.test(n.filter)?(t=t>=.9999?"":"alpha(opacity="+100*t+")",n.filter=n.filter.replace(i,t)):n.filter+=" alpha(opacity="+100*t+")",e}),r.util.setStyle=function(e,t){var n=e.style;if(!n)return e;if("string"===typeof t)return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?o(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var i in t){if("opacity"===i)o(e,t[i]);else n["float"===i||"cssFloat"===i?"undefined"===typeof n.styleFloat?"cssFloat":"styleFloat":i]=t[i]}return e}}(),function(){var e=Array.prototype.slice;var t,n,i=function(t){return e.call(t,0)};try{t=i(r.document.childNodes)instanceof Array}catch(s){}function o(e,t){var n=r.document.createElement(e);for(var i in t)"class"===i?n.className=t[i]:"for"===i?n.htmlFor=t[i]:n.setAttribute(i,t[i]);return n}function a(e){for(var t=0,n=0,i=r.document.documentElement,o=r.document.body||{scrollLeft:0,scrollTop:0};e&&(e.parentNode||e.host)&&((e=e.parentNode||e.host)===r.document?(t=o.scrollLeft||i.scrollLeft||0,n=o.scrollTop||i.scrollTop||0):(t+=e.scrollLeft||0,n+=e.scrollTop||0),1!==e.nodeType||"fixed"!==e.style.position););return{left:t,top:n}}t||(i=function(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}),n=r.document.defaultView&&r.document.defaultView.getComputedStyle?function(e,t){var n=r.document.defaultView.getComputedStyle(e,null);return n?n[t]:void 0}:function(e,t){var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),n},function(){var e=r.document.documentElement.style,t="userSelect"in e?"userSelect":"MozUserSelect"in e?"MozUserSelect":"WebkitUserSelect"in e?"WebkitUserSelect":"KhtmlUserSelect"in e?"KhtmlUserSelect":"";r.util.makeElementUnselectable=function(e){return"undefined"!==typeof e.onselectstart&&(e.onselectstart=r.util.falseFunction),t?e.style[t]="none":"string"===typeof e.unselectable&&(e.unselectable="on"),e},r.util.makeElementSelectable=function(e){return"undefined"!==typeof e.onselectstart&&(e.onselectstart=null),t?e.style[t]="":"string"===typeof e.unselectable&&(e.unselectable=""),e}}(),r.util.getScript=function(e,t){var n=r.document.getElementsByTagName("head")[0],i=r.document.createElement("script"),o=!0;i.onload=i.onreadystatechange=function(e){if(o){if("string"===typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;o=!1,t(e||r.window.event),i=i.onload=i.onreadystatechange=null}},i.src=e,n.appendChild(i)},r.util.getById=function(e){return"string"===typeof e?r.document.getElementById(e):e},r.util.toArray=i,r.util.makeElement=o,r.util.addClass=function(e,t){e&&-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=(e.className?" ":"")+t)},r.util.wrapElement=function(e,t,n){return"string"===typeof t&&(t=o(t,n)),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},r.util.getScrollLeftTop=a,r.util.getElementOffset=function(e){var t,i,r=e&&e.ownerDocument,o={left:0,top:0},s={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!r)return s;for(var c in l)s[l[c]]+=parseInt(n(e,c),10)||0;return t=r.documentElement,"undefined"!==typeof e.getBoundingClientRect&&(o=e.getBoundingClientRect()),i=a(e),{left:o.left+i.left-(t.clientLeft||0)+s.left,top:o.top+i.top-(t.clientTop||0)+s.top}},r.util.getElementStyle=n,r.util.getNodeCanvas=function(e){var t=r.jsdomImplForWrapper(e);return t._canvas||t._image},r.util.cleanUpJsdomNode=function(e){if(r.isLikelyNode){var t=r.jsdomImplForWrapper(e);t&&(t._image=null,t._canvas=null,t._currentSrc=null,t._attributes=null,t._classList=null)}}}(),function(){function e(){}r.util.request=function(t,n){n||(n={});var i=n.method?n.method.toUpperCase():"GET",o=n.onComplete||function(){},a=new r.window.XMLHttpRequest,s=n.body||n.parameters;return a.onreadystatechange=function(){4===a.readyState&&(o(a),a.onreadystatechange=e)},"GET"===i&&(s=null,"string"===typeof n.parameters&&(t=function(e,t){return e+(/\?/.test(e)?"&":"?")+t}(t,n.parameters))),a.open(i,t,!0),"POST"!==i&&"PUT"!==i||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(s),a}}(),r.log=console.log,r.warn=console.warn,function(){function e(){return!1}function t(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t}var n=r.window.requestAnimationFrame||r.window.webkitRequestAnimationFrame||r.window.mozRequestAnimationFrame||r.window.oRequestAnimationFrame||r.window.msRequestAnimationFrame||function(e){return r.window.setTimeout(e,1e3/60)},i=r.window.cancelAnimationFrame||r.window.clearTimeout;function o(){return n.apply(r.window,arguments)}r.util.animate=function(n){o((function(i){n||(n={});var r,a=i||+new Date,s=n.duration||500,l=a+s,c=n.onChange||e,h=n.abort||e,d=n.onComplete||e,u=n.easing||t,p="startValue"in n?n.startValue:0,f="endValue"in n?n.endValue:100,m=n.byValue||f-p;n.onStart&&n.onStart(),function e(t){var n=(r=t||+new Date)>l?s:r-a,i=n/s,g=u(n,p,m,s),v=Math.abs((g-p)/m);if(!h())return r>l?(c(f,1,1),void d(f,1,1)):(c(g,v,i),void o(e));d(f,1,1)}(a)}))},r.util.requestAnimFrame=o,r.util.cancelAnimFrame=function(){return i.apply(r.window,arguments)}}(),r.util.animateColor=function(e,t,n,i){var o=new r.Color(e).getSource(),a=new r.Color(t).getSource();i=i||{},r.util.animate(r.util.object.extend(i,{duration:n||500,startValue:o,endValue:a,byValue:a,easing:function(e,t,n,r){return function(e,t,n){var i="rgba("+parseInt(e[0]+n*(t[0]-e[0]),10)+","+parseInt(e[1]+n*(t[1]-e[1]),10)+","+parseInt(e[2]+n*(t[2]-e[2]),10);return i+=","+(e&&t?parseFloat(e[3]+n*(t[3]-e[3])):1),i+=")"}(t,n,i.colorEasing?i.colorEasing(e,r):1-Math.cos(e/r*(Math.PI/2)))}}))},function(){function e(e,t,n,i){return e<Math.abs(t)?(e=t,i=n/4):i=0===t&&0===e?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(t/e),{a:e,c:t,p:n,s:i}}function t(e,t,n){return e.a*Math.pow(2,10*(t-=1))*Math.sin((t*n-e.s)*(2*Math.PI)/e.p)}function n(e,t,n,r){return n-i(r-e,0,n,r)+t}function i(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}r.util.ease={easeInQuad:function(e,t,n,i){return n*(e/=i)*e+t},easeOutQuad:function(e,t,n,i){return-n*(e/=i)*(e-2)+t},easeInOutQuad:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,i){return n*(e/=i)*e*e+t},easeOutCubic:function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,i){return n*(e/=i)*e*e*e+t},easeOutQuart:function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},easeOutQuint:function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},easeInOutSine:function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},easeInExpo:function(e,t,n,i){return 0===e?t:n*Math.pow(2,10*(e/i-1))+t},easeOutExpo:function(e,t,n,i){return e===i?t+n:n*(1-Math.pow(2,-10*e/i))+t},easeInOutExpo:function(e,t,n,i){return 0===e?t:e===i?t+n:(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,i){return-n*(Math.sqrt(1-(e/=i)*e)-1)+t},easeOutCirc:function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},easeInOutCirc:function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,i,r,o){var a=0;return 0===n?i:1===(n/=o)?i+r:(a||(a=.3*o),-t(e(r,r,a,1.70158),n,o)+i)},easeOutElastic:function(t,n,i,r){var o=0;if(0===t)return n;if(1===(t/=r))return n+i;o||(o=.3*r);var a=e(i,i,o,1.70158);return a.a*Math.pow(2,-10*t)*Math.sin((t*r-a.s)*(2*Math.PI)/a.p)+a.c+n},easeInOutElastic:function(n,i,r,o){var a=0;if(0===n)return i;if(2===(n/=o/2))return i+r;a||(a=o*(.3*1.5));var s=e(r,r,a,1.70158);return n<1?-.5*t(s,n,o)+i:s.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-s.s)*(2*Math.PI)/s.p)*.5+s.c+i},easeInBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),n*(e/=i)*e*((r+1)*e-r)+t},easeOutBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(e,t,n,i,r){return void 0===r&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},easeInBounce:n,easeOutBounce:i,easeInOutBounce:function(e,t,r,o){return e<o/2?.5*n(2*e,0,r,o)+t:.5*i(2*e-o,0,r,o)+.5*r+t}}}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.object.clone,r=t.util.toFixed,o=t.util.parseUnit,a=t.util.multiplyTransformMatrices,s={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform"},l={stroke:"strokeOpacity",fill:"fillOpacity"};function c(e){return e in s?s[e]:e}function h(e,n,i,r){var s,l="[object Array]"===Object.prototype.toString.call(n);if("fill"!==e&&"stroke"!==e||"none"!==n)if("vector-effect"===e)n="non-scaling-stroke"===n;else if("strokeDashArray"===e)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)n=i&&i.transformMatrix?a(i.transformMatrix,t.parseTransformAttribute(n)):t.parseTransformAttribute(n);else if("visible"===e)n="none"!==n&&"hidden"!==n,i&&!1===i.visible&&(n=!1);else if("opacity"===e)n=parseFloat(n),i&&"undefined"!==typeof i.opacity&&(n*=i.opacity);else if("textAnchor"===e)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===e)s=o(n,r)/r*1e3;else if("paintFirst"===e){var c=n.indexOf("fill"),h=n.indexOf("stroke");n="fill";c>-1&&h>-1&&h<c?n="stroke":-1===c&&h>-1&&(n="stroke")}else{if("href"===e||"xlink:href"===e)return n;s=l?n.map(o):o(n,r)}else n="";return!l&&isNaN(s)?n:s}function d(e){return new RegExp("^("+e.join("|")+")\\b","i")}function u(e,t){var n,i,r,o,a=[];for(r=0,o=t.length;r<o;r++)n=t[r],i=e.getElementsByTagName(n),a=a.concat(Array.prototype.slice.call(i));return a}function p(e,t){var n,i=!0;return(n=f(e,t.pop()))&&t.length&&(i=function(e,t){var n,i=!0;for(;e.parentNode&&1===e.parentNode.nodeType&&t.length;)i&&(n=t.pop()),e=e.parentNode,i=f(e,n);return 0===t.length}(e,t)),n&&i&&0===t.length}function f(e,t){var n,i,r=e.nodeName,o=e.getAttribute("class"),a=e.getAttribute("id");if(n=new RegExp("^"+r,"i"),t=t.replace(n,""),a&&t.length&&(n=new RegExp("#"+a+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"")),o&&t.length)for(i=(o=o.split(" ")).length;i--;)n=new RegExp("\\."+o[i]+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"");return 0===t.length}function m(e,t){var n;if(e.getElementById&&(n=e.getElementById(t)),n)return n;var i,r,o,a=e.getElementsByTagName("*");for(r=0,o=a.length;r<o;r++)if(t===(i=a[r]).getAttribute("id"))return i}t.svgValidTagNamesRegEx=d(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),t.svgViewBoxElementsRegEx=d(["symbol","image","marker","pattern","view","svg"]),t.svgInvalidAncestorsRegEx=d(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),t.svgValidParentsRegEx=d(["symbol","g","a","svg","clipPath","defs"]),t.cssRules={},t.gradientDefs={},t.clipPaths={},t.parseTransformAttribute=function(){function e(e,n,i){e[i]=Math.tan(t.util.degreesToRadians(n[0]))}var n=t.iMatrix,i=t.reNum,r="(?:\\s+,?\\s*|,\\s*)",o="(?:"+("(?:(matrix)\\s*\\(\\s*("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+i+")(?:"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+i+")(?:"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+i+")(?:"+r+"("+i+")"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+i+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+i+")\\s*\\))")+")",a=new RegExp("^\\s*(?:"+("(?:"+o+"(?:"+r+"*"+o+")*)")+"?)\\s*$"),s=new RegExp(o,"g");return function(i){var r=n.concat(),l=[];if(!i||i&&!a.test(i))return r;i.replace(s,(function(i){var a=new RegExp(o).exec(i).filter((function(e){return!!e})),s=a[1],c=a.slice(2).map(parseFloat);switch(s){case"translate":!function(e,t){e[4]=t[0],2===t.length&&(e[5]=t[1])}(r,c);break;case"rotate":c[0]=t.util.degreesToRadians(c[0]),function(e,n){var i=t.util.cos(n[0]),r=t.util.sin(n[0]),o=0,a=0;3===n.length&&(o=n[1],a=n[2]),e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e[4]=o-(i*o-r*a),e[5]=a-(r*o+i*a)}(r,c);break;case"scale":!function(e,t){var n=t[0],i=2===t.length?t[1]:t[0];e[0]=n,e[3]=i}(r,c);break;case"skewX":e(r,c,2);break;case"skewY":e(r,c,1);break;case"matrix":r=c}l.push(r.concat()),r=n.concat()}));for(var c=l[0];l.length>1;)l.shift(),c=t.util.multiplyTransformMatrices(c,l[0]);return c}}();var g=new RegExp("^\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*$");function v(e){var n,i,r,a,s,l,c=e.getAttribute("viewBox"),h=1,d=1,u=e.getAttribute("width"),p=e.getAttribute("height"),f=e.getAttribute("x")||0,m=e.getAttribute("y")||0,v=e.getAttribute("preserveAspectRatio")||"",b=!c||!t.svgViewBoxElementsRegEx.test(e.nodeName)||!(c=c.match(g)),y=!u||!p||"100%"===u||"100%"===p,_=b&&y,x={},w="",C=0,S=0;if(x.width=0,x.height=0,x.toBeParsed=_,_)return x;if(b)return x.width=o(u),x.height=o(p),x;if(n=-parseFloat(c[1]),i=-parseFloat(c[2]),r=parseFloat(c[3]),a=parseFloat(c[4]),x.minX=n,x.minY=i,x.viewBoxWidth=r,x.viewBoxHeight=a,y?(x.width=r,x.height=a):(x.width=o(u),x.height=o(p),h=x.width/r,d=x.height/a),"none"!==(v=t.util.parsePreserveAspectRatioAttribute(v)).alignX&&("meet"===v.meetOrSlice&&(d=h=h>d?d:h),"slice"===v.meetOrSlice&&(d=h=h>d?h:d),C=x.width-r*h,S=x.height-a*h,"Mid"===v.alignX&&(C/=2),"Mid"===v.alignY&&(S/=2),"Min"===v.alignX&&(C=0),"Min"===v.alignY&&(S=0)),1===h&&1===d&&0===n&&0===i&&0===f&&0===m)return x;if((f||m)&&(w=" translate("+o(f)+" "+o(m)+") "),s=w+" matrix("+h+" 0 0 "+d+" "+(n*h+C)+" "+(i*d+S)+") ",x.viewboxTransform=t.parseTransformAttribute(s),"svg"===e.nodeName){for(l=e.ownerDocument.createElementNS(t.svgNS,"g");e.firstChild;)l.appendChild(e.firstChild);e.appendChild(l)}else s=(l=e).getAttribute("transform")+s;return l.setAttribute("transform",s),x}function b(e,t){var n=m(e,t.getAttribute("xlink:href").substr(1));if(n&&n.getAttribute("xlink:href")&&b(e,n),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(e){n&&!t.hasAttribute(e)&&n.hasAttribute(e)&&t.setAttribute(e,n.getAttribute(e))})),!t.children.length)for(var i=n.cloneNode(!0);i.firstChild;)t.appendChild(i.firstChild);t.removeAttribute("xlink:href")}t.parseSVGDocument=function(e,n,r,o){if(e){!function(e){for(var n=u(e,["use","svg:use"]),i=0;n.length&&i<n.length;){var r,o,a,s,l=n[i],c=(l.getAttribute("xlink:href")||l.getAttribute("href")).substr(1),h=l.getAttribute("x")||0,d=l.getAttribute("y")||0,p=m(e,c).cloneNode(!0),f=(p.getAttribute("transform")||"")+" translate("+h+", "+d+")",g=n.length,b=t.svgNS;if(v(p),/^svg$/i.test(p.nodeName)){var y=p.ownerDocument.createElementNS(b,"g");for(o=0,s=(a=p.attributes).length;o<s;o++)r=a.item(o),y.setAttributeNS(b,r.nodeName,r.nodeValue);for(;p.firstChild;)y.appendChild(p.firstChild);p=y}for(o=0,s=(a=l.attributes).length;o<s;o++)"x"!==(r=a.item(o)).nodeName&&"y"!==r.nodeName&&"xlink:href"!==r.nodeName&&"href"!==r.nodeName&&("transform"===r.nodeName?f=r.nodeValue+" "+f:p.setAttribute(r.nodeName,r.nodeValue));p.setAttribute("transform",f),p.setAttribute("instantiated_by_use","1"),p.removeAttribute("id"),l.parentNode.replaceChild(p,l),n.length===g&&i++}}(e);var a,s,l=t.Object.__uid++,c=v(e),h=t.util.toArray(e.getElementsByTagName("*"));if(c.crossOrigin=o&&o.crossOrigin,c.svgUid=l,0===h.length&&t.isLikelyNode){var d=[];for(a=0,s=(h=e.selectNodes('//*[name(.)!="svg"]')).length;a<s;a++)d[a]=h[a];h=d}var p=h.filter((function(e){return v(e),t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))&&!function(e,t){for(;e&&(e=e.parentNode);)if(e.nodeName&&t.test(e.nodeName.replace("svg:",""))&&!e.getAttribute("instantiated_by_use"))return!0;return!1}(e,t.svgInvalidAncestorsRegEx)}));if(!p||p&&!p.length)n&&n([],{});else{var f={};h.filter((function(e){return"clipPath"===e.nodeName.replace("svg:","")})).forEach((function(e){var n=e.getAttribute("id");f[n]=t.util.toArray(e.getElementsByTagName("*")).filter((function(e){return t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))}))})),t.gradientDefs[l]=t.getGradientDefs(e),t.cssRules[l]=t.getCSSRules(e),t.clipPaths[l]=f,t.parseElements(p,(function(e,i){n&&(n(e,c,i,h),delete t.gradientDefs[l],delete t.cssRules[l],delete t.clipPaths[l])}),i(c),r,o)}}};var y=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+t.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+t.reNum+"))?\\s+(.*)");n(t,{parseFontDeclaration:function(e,t){var n=e.match(y);if(n){var i=n[1],r=n[3],a=n[4],s=n[5],l=n[6];i&&(t.fontStyle=i),r&&(t.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),a&&(t.fontSize=o(a)),l&&(t.fontFamily=l),s&&(t.lineHeight="normal"===s?1:s)}},getGradientDefs:function(e){var t,n=u(e,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),i=0,r={};for(i=n.length;i--;)(t=n[i]).getAttribute("xlink:href")&&b(e,t),r[t.getAttribute("id")]=t;return r},parseAttributes:function(e,i,a){if(e){var s,d,u,f={};"undefined"===typeof a&&(a=e.getAttribute("svgUid")),e.parentNode&&t.svgValidParentsRegEx.test(e.parentNode.nodeName)&&(f=t.parseAttributes(e.parentNode,i,a));var m=i.reduce((function(t,n){return(s=e.getAttribute(n))&&(t[n]=s),t}),{}),g=n(function(e,n){var i={};for(var r in t.cssRules[n])if(p(e,r.split(" ")))for(var o in t.cssRules[n][r])i[o]=t.cssRules[n][r][o];return i}(e,a),t.parseStyleAttribute(e));m=n(m,g),g["clip-path"]&&e.setAttribute("clip-path",g["clip-path"]),d=u=f.fontSize||t.Text.DEFAULT_SVG_FONT_SIZE,m["font-size"]&&(m["font-size"]=d=o(m["font-size"],u));var v,b,y={};for(var _ in m)b=h(v=c(_),m[_],f,d),y[v]=b;y&&y.font&&t.parseFontDeclaration(y.font,y);var x=n(f,y);return t.svgValidParentsRegEx.test(e.nodeName)?x:function(e){for(var n in l)if("undefined"!==typeof e[l[n]]&&""!==e[n]){if("undefined"===typeof e[n]){if(!t.Object.prototype[n])continue;e[n]=t.Object.prototype[n]}if(0!==e[n].indexOf("url(")){var i=new t.Color(e[n]);e[n]=i.setAlpha(r(i.getAlpha()*e[l[n]],2)).toRgba()}}return e}(x)}},parseElements:function(e,n,i,r,o){new t.ElementsParser(e,n,i,r,o).parse()},parseStyleAttribute:function(e){var t={},n=e.getAttribute("style");return n?("string"===typeof n?function(e,t){var n,i;e.replace(/;\s*$/,"").split(";").forEach((function(e){var r=e.split(":");n=r[0].trim().toLowerCase(),i=r[1].trim(),t[n]=i}))}(n,t):function(e,t){var n,i;for(var r in e)"undefined"!==typeof e[r]&&(n=r.toLowerCase(),i=e[r],t[n]=i)}(n,t),t):t},parsePointsAttribute:function(e){if(!e)return null;var t,n,i=[];for(t=0,n=(e=(e=e.replace(/,/g," ").trim()).split(/\s+/)).length;t<n;t+=2)i.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return i},getCSSRules:function(e){var n,i,r=e.getElementsByTagName("style"),o={};for(n=0,i=r.length;n<i;n++){var a=r[n].textContent||r[n].text;""!==(a=a.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&a.match(/[^{]*\{[\s\S]*?\}/g).map((function(e){return e.trim()})).forEach((function(e){var r=e.match(/([\s\S]*?)\s*\{([^}]*)\}/),a={},s=r[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(n=0,i=s.length;n<i;n++){var l=s[n].split(/\s*:\s*/),c=l[0],h=l[1];a[c]=h}(e=r[1]).split(",").forEach((function(e){""!==(e=e.replace(/^svg/i,"").trim())&&(o[e]?t.util.object.extend(o[e],a):o[e]=t.util.object.clone(a))}))}))}return o},loadSVGFromURL:function(e,n,i,r){e=e.replace(/^\n\s*/,"").trim(),new t.util.request(e,{method:"get",onComplete:function(e){var o=e.responseXML;o&&!o.documentElement&&t.window.ActiveXObject&&e.responseText&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(e.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));if(!o||!o.documentElement)return n&&n(null),!1;t.parseSVGDocument(o.documentElement,(function(e,t,i,r){n&&n(e,t,i,r)}),i,r)}})},loadSVGFromString:function(e,n,i,r){var o;if(e=e.trim(),"undefined"!==typeof t.window.DOMParser){var a=new t.window.DOMParser;a&&a.parseFromString&&(o=a.parseFromString(e,"text/xml"))}else t.window.ActiveXObject&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(e.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));t.parseSVGDocument(o.documentElement,(function(e,t,i,r){n(e,t,i,r)}),i,r)}})}(t),r.ElementsParser=function(e,t,n,i,r,o){this.elements=e,this.callback=t,this.options=n,this.reviver=i,this.svgUid=n&&n.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},(i=r.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},i.createObjects=function(){var e=this;this.elements.forEach((function(t,n){t.setAttribute("svgUid",e.svgUid),e.createObject(t,n)}))},i.findTag=function(e){return r[r.util.string.capitalize(e.tagName.replace("svg:",""))]},i.createObject=function(e,t){var n=this.findTag(e);if(n&&n.fromElement)try{n.fromElement(e,this.createCallback(t,e),this.options)}catch(i){r.log(i)}else this.checkIfDone()},i.createCallback=function(e,t){var n=this;return function(i){var o;n.resolveGradient(i,t,"fill"),n.resolveGradient(i,t,"stroke"),i instanceof r.Image&&i._originalElement&&(o=i.parsePreserveAspectRatioAttribute(t)),i._removeTransformMatrix(o),n.resolveClipPath(i,t),n.reviver&&n.reviver(t,i),n.instances[e]=i,n.checkIfDone()}},i.extractPropertyDefinition=function(e,t,n){var i=e[t],o=this.regexUrl;if(o.test(i)){o.lastIndex=0;var a=o.exec(i)[1];return o.lastIndex=0,r[n][this.svgUid][a]}},i.resolveGradient=function(e,t,n){var i=this.extractPropertyDefinition(e,n,"gradientDefs");if(i){var o=t.getAttribute(n+"-opacity"),a=r.Gradient.fromElement(i,e,o,this.options);e.set(n,a)}},i.createClipPathCallback=function(e,t){return function(e){e._removeTransformMatrix(),e.fillRule=e.clipRule,t.push(e)}},i.resolveClipPath=function(e,t){var n,i,o,a,s=this.extractPropertyDefinition(e,"clipPath","clipPaths");if(s){o=[],i=r.util.invertTransform(e.calcTransformMatrix());for(var l=s[0].parentNode,c=t;c.parentNode&&c.getAttribute("clip-path")!==e.clipPath;)c=c.parentNode;c.parentNode.appendChild(l);for(var h=0;h<s.length;h++)n=s[h],this.findTag(n).fromElement(n,this.createClipPathCallback(e,o),this.options);s=1===o.length?o[0]:new r.Group(o),a=r.util.multiplyTransformMatrices(i,s.calcTransformMatrix()),s.clipPath&&this.resolveClipPath(s,c);var d=r.util.qrDecompose(a);s.flipX=!1,s.flipY=!1,s.set("scaleX",d.scaleX),s.set("scaleY",d.scaleY),s.angle=d.angle,s.skewX=d.skewX,s.skewY=0,s.setPositionByOrigin({x:d.translateX,y:d.translateY},"center","center"),e.clipPath=s}},i.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter((function(e){return null!=e})),this.callback(this.instances,this.elements))},function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e,t){this.x=e,this.y=t}t.Point?t.warn("fabric.Point is already defined"):(t.Point=n,n.prototype={type:"point",constructor:n,add:function(e){return new n(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new n(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new n(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new n(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new n(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new n(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x===e.x&&this.y===e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,t){return"undefined"===typeof t&&(t=.5),t=Math.max(Math.min(1,t),0),new n(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)},distanceFrom:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},midPointFrom:function(e){return this.lerp(e)},min:function(e){return new n(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new n(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setFromPoint:function(e){return this.x=e.x,this.y=e.y,this},swap:function(e){var t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n},clone:function(){return new n(this.x,this.y)}})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){this.status=e,this.points=[]}t.Intersection?t.warn("fabric.Intersection is already defined"):(t.Intersection=n,t.Intersection.prototype={constructor:n,appendPoint:function(e){return this.points.push(e),this},appendPoints:function(e){return this.points=this.points.concat(e),this}},t.Intersection.intersectLineLine=function(e,i,r,o){var a,s=(o.x-r.x)*(e.y-r.y)-(o.y-r.y)*(e.x-r.x),l=(i.x-e.x)*(e.y-r.y)-(i.y-e.y)*(e.x-r.x),c=(o.y-r.y)*(i.x-e.x)-(o.x-r.x)*(i.y-e.y);if(0!==c){var h=s/c,d=l/c;0<=h&&h<=1&&0<=d&&d<=1?(a=new n("Intersection")).appendPoint(new t.Point(e.x+h*(i.x-e.x),e.y+h*(i.y-e.y))):a=new n}else a=new n(0===s||0===l?"Coincident":"Parallel");return a},t.Intersection.intersectLinePolygon=function(e,t,i){var r,o,a,s,l=new n,c=i.length;for(s=0;s<c;s++)r=i[s],o=i[(s+1)%c],a=n.intersectLineLine(e,t,r,o),l.appendPoints(a.points);return l.points.length>0&&(l.status="Intersection"),l},t.Intersection.intersectPolygonPolygon=function(e,t){var i,r=new n,o=e.length;for(i=0;i<o;i++){var a=e[i],s=e[(i+1)%o],l=n.intersectLinePolygon(a,s,t);r.appendPoints(l.points)}return r.points.length>0&&(r.status="Intersection"),r},t.Intersection.intersectPolygonRectangle=function(e,i,r){var o=i.min(r),a=i.max(r),s=new t.Point(a.x,o.y),l=new t.Point(o.x,a.y),c=n.intersectLinePolygon(o,s,e),h=n.intersectLinePolygon(s,a,e),d=n.intersectLinePolygon(a,l,e),u=n.intersectLinePolygon(l,o,e),p=new n;return p.appendPoints(c.points),p.appendPoints(h.points),p.appendPoints(d.points),p.appendPoints(u.points),p.points.length>0&&(p.status="Intersection"),p})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}t.Color?t.warn("fabric.Color is already defined."):(t.Color=n,t.Color.prototype={_tryParsingColor:function(e){var t;e in n.colorNameMap&&(e=n.colorNameMap[e]),"transparent"===e&&(t=[255,255,255,0]),t||(t=n.sourceFromHex(e)),t||(t=n.sourceFromRgb(e)),t||(t=n.sourceFromHsl(e)),t||(t=[0,0,0,1]),t&&this.setSource(t)},_rgbToHsl:function(e,n,i){e/=255,n/=255,i/=255;var r,o,a,s=t.util.array.max([e,n,i]),l=t.util.array.min([e,n,i]);if(a=(s+l)/2,s===l)r=o=0;else{var c=s-l;switch(o=a>.5?c/(2-s-l):c/(s+l),s){case e:r=(n-i)/c+(n<i?6:0);break;case n:r=(i-e)/c+2;break;case i:r=(e-n)/c+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*a)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHsla:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+e[3]+")"},toHex:function(){var e,t,n,i=this.getSource();return e=1===(e=i[0].toString(16)).length?"0"+e:e,t=1===(t=i[1].toString(16)).length?"0"+t:t,n=1===(n=i[2].toString(16)).length?"0"+n:n,e.toUpperCase()+t.toUpperCase()+n.toUpperCase()},toHexa:function(){var e,t=this.getSource();return e=1===(e=(e=Math.round(255*t[3])).toString(16)).length?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var t=this.getSource();return t[3]=e,this.setSource(t),this},toGrayscale:function(){var e=this.getSource(),t=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10),n=e[3];return this.setSource([t,t,t,n]),this},toBlackWhite:function(e){var t=this.getSource(),n=(.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),i=t[3];return e=e||127,n=Number(n)<Number(e)?0:255,this.setSource([n,n,n,i]),this},overlayWith:function(e){e instanceof n||(e=new n(e));var t,i=[],r=this.getAlpha(),o=this.getSource(),a=e.getSource();for(t=0;t<3;t++)i.push(Math.round(.5*o[t]+.5*a[t]));return i[3]=r,this.setSource(i),this}},t.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,t.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,t.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,t.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},t.Color.fromRgb=function(e){return n.fromSource(n.sourceFromRgb(e))},t.Color.sourceFromRgb=function(e){var t=e.match(n.reRGBa);if(t){var i=parseInt(t[1],10)/(/%$/.test(t[1])?100:1)*(/%$/.test(t[1])?255:1),r=parseInt(t[2],10)/(/%$/.test(t[2])?100:1)*(/%$/.test(t[2])?255:1),o=parseInt(t[3],10)/(/%$/.test(t[3])?100:1)*(/%$/.test(t[3])?255:1);return[parseInt(i,10),parseInt(r,10),parseInt(o,10),t[4]?parseFloat(t[4]):1]}},t.Color.fromRgba=n.fromRgb,t.Color.fromHsl=function(e){return n.fromSource(n.sourceFromHsl(e))},t.Color.sourceFromHsl=function(e){var t=e.match(n.reHSLa);if(t){var r,o,a,s=(parseFloat(t[1])%360+360)%360/360,l=parseFloat(t[2])/(/%$/.test(t[2])?100:1),c=parseFloat(t[3])/(/%$/.test(t[3])?100:1);if(0===l)r=o=a=c;else{var h=c<=.5?c*(l+1):c+l-c*l,d=2*c-h;r=i(d,h,s+1/3),o=i(d,h,s),a=i(d,h,s-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*a),t[4]?parseFloat(t[4]):1]}},t.Color.fromHsla=n.fromHsl,t.Color.fromHex=function(e){return n.fromSource(n.sourceFromHex(e))},t.Color.sourceFromHex=function(e){if(e.match(n.reHex)){var t=e.slice(e.indexOf("#")+1),i=3===t.length||4===t.length,r=8===t.length||4===t.length,o=i?t.charAt(0)+t.charAt(0):t.substring(0,2),a=i?t.charAt(1)+t.charAt(1):t.substring(2,4),s=i?t.charAt(2)+t.charAt(2):t.substring(4,6),l=r?i?t.charAt(3)+t.charAt(3):t.substring(6,8):"FF";return[parseInt(o,16),parseInt(a,16),parseInt(s,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},t.Color.fromSource=function(e){var t=new n;return t.setSource(e),t})}(t),function(){function e(e,t){var n,i,o,a,s=e.getAttribute("style"),l=e.getAttribute("offset")||0;if(l=(l=parseFloat(l)/(/%$/.test(l)?100:1))<0?0:l>1?1:l,s){var c=s.split(/\s*;\s*/);for(""===c[c.length-1]&&c.pop(),a=c.length;a--;){var h=c[a].split(/\s*:\s*/),d=h[0].trim(),u=h[1].trim();"stop-color"===d?n=u:"stop-opacity"===d&&(o=u)}}return n||(n=e.getAttribute("stop-color")||"rgb(0,0,0)"),o||(o=e.getAttribute("stop-opacity")),i=(n=new r.Color(n)).getAlpha(),o=isNaN(parseFloat(o))?1:parseFloat(o),o*=i*t,{offset:l,color:n.toRgb(),opacity:o}}var t=r.util.object.clone;function n(e,t,n,i){var r,o;Object.keys(t).forEach((function(e){"Infinity"===(r=t[e])?o=1:"-Infinity"===r?o=0:(o=parseFloat(t[e],10),"string"===typeof r&&/^(\d+\.\d+)%|(\d+)%$/.test(r)&&(o*=.01,"pixels"===i&&("x1"!==e&&"x2"!==e&&"r2"!==e||(o*=n.viewBoxWidth||n.width),"y1"!==e&&"y2"!==e||(o*=n.viewBoxHeight||n.height)))),t[e]=o}))}r.Gradient=r.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,n=this;Object.keys(e).forEach((function(t){n[t]=e[t]})),this.id?this.id+="_"+r.Object.__uid++:this.id=r.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var n=new r.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return r.util.populateWithProperties(this,t,e),t},toSVG:function(e,n){var i,o,a,s,l=t(this.coords,!0),c=(n=n||{},t(this.colorStops,!0)),h=l.r1>l.r2,d=this.gradientTransform?this.gradientTransform.concat():r.iMatrix.concat(),u=-this.offsetX,p=-this.offsetY,f=!!n.additionalTransform,m="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(c.sort((function(e,t){return e.offset-t.offset})),"objectBoundingBox"===m?(u/=e.width,p/=e.height):(u+=e.width/2,p+=e.height/2),"path"===e.type&&(u-=e.pathOffset.x,p-=e.pathOffset.y),d[4]-=u,d[5]-=p,s='id="SVGID_'+this.id+'" gradientUnits="'+m+'"',s+=' gradientTransform="'+(f?n.additionalTransform+" ":"")+r.util.matrixToSVG(d)+'" ',"linear"===this.type?a=["<linearGradient ",s,' x1="',l.x1,'" y1="',l.y1,'" x2="',l.x2,'" y2="',l.y2,'">\n']:"radial"===this.type&&(a=["<radialGradient ",s,' cx="',h?l.x1:l.x2,'" cy="',h?l.y1:l.y2,'" r="',h?l.r1:l.r2,'" fx="',h?l.x2:l.x1,'" fy="',h?l.y2:l.y1,'">\n']),"radial"===this.type){if(h)for((c=c.concat()).reverse(),i=0,o=c.length;i<o;i++)c[i].offset=1-c[i].offset;var g=Math.min(l.r1,l.r2);if(g>0){var v=g/Math.max(l.r1,l.r2);for(i=0,o=c.length;i<o;i++)c[i].offset+=v*(1-c[i].offset)}}for(i=0,o=c.length;i<o;i++){var b=c[i];a.push("<stop ",'offset="',100*b.offset+"%",'" style="stop-color:',b.color,"undefined"!==typeof b.opacity?";stop-opacity: "+b.opacity:";",'"/>\n')}return a.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),a.join("")},toLive:function(e,t){var n,i,o,a=r.util.object.clone(this.coords),s=a.x1,l=a.y1,c=a.x2,h=a.y2,d=this.colorStops;if(this.type){for(t instanceof r.Text&&"percentage"===this.gradientUnits&&(s*=t.width,l*=t.height,c*=t.width,h*=t.height),"linear"===this.type?n=e.createLinearGradient(s,l,c,h):"radial"===this.type&&(n=e.createRadialGradient(s,l,a.r1,c,h,a.r2)),i=0,o=d.length;i<o;i++){var u=d[i].color,p=d[i].opacity,f=d[i].offset;"undefined"!==typeof p&&(u=new r.Color(u).setAlpha(p).toRgba()),n.addColorStop(f,u)}return n}}}),r.util.object.extend(r.Gradient,{fromElement:function(t,i,o,a){var s=parseFloat(o)/(/%$/.test(o)?100:1);s=s<0?0:s>1?1:s,isNaN(s)&&(s=1);var l,c,h,d,u=t.getElementsByTagName("stop"),p="userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage",f=t.getAttribute("gradientTransform")||"",m=[],g=0,v=0;for("linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?(l="linear",c=function(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}(t)):(l="radial",c=function(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}(t)),h=u.length;h--;)m.push(e(u[h],s));return d=r.parseTransformAttribute(f),n(i,c,a,p),"pixels"===p&&(g=-i.left,v=-i.top),new r.Gradient({id:t.getAttribute("id"),type:l,coords:c,colorStops:m,gradientUnits:p,gradientTransform:d,offsetX:g,offsetY:v})},forObject:function(e,t){return t||(t={}),n(e,t.coords,t.gradientUnits,{viewBoxWidth:100,viewBoxHeight:100}),new r.Gradient(t)}})}(),function(){"use strict";var e=r.util.toFixed;r.Pattern=r.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(e,t){if(e||(e={}),this.id=r.Object.__uid++,this.setOptions(e),!e.source||e.source&&"string"!==typeof e.source)t&&t(this);else if("undefined"!==typeof r.util.getFunctionBody(e.source))this.source=new Function(r.util.getFunctionBody(e.source)),t&&t(this);else{var n=this;this.source=r.util.createImage(),r.util.loadImage(e.source,(function(e){n.source=e,t&&t(n)}),null,this.crossOrigin)}},toObject:function(t){var n,i,o=r.Object.NUM_FRACTION_DIGITS;return"function"===typeof this.source?n=String(this.source):"string"===typeof this.source.src?n=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),i={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:e(this.offsetX,o),offsetY:e(this.offsetY,o),patternTransform:this.patternTransform?this.patternTransform.concat():null},r.util.populateWithProperties(this,i,t),i},toSVG:function(e){var t="function"===typeof this.source?this.source():this.source,n=t.width/e.width,i=t.height/e.height,r=this.offsetX/e.width,o=this.offsetY/e.height,a="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,o&&(i+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,r&&(n+=Math.abs(r))),t.src?a=t.src:t.toDataURL&&(a=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+n+'" height="'+i+'">\n<image x="0" y="0" width="'+t.width+'" height="'+t.height+'" xlink:href="'+a+'"></image>\n</pattern>\n'},setOptions:function(e){for(var t in e)this[t]=e[t]},toLive:function(e){var t="function"===typeof this.source?this.source():this.source;if(!t)return"";if("undefined"!==typeof t.src){if(!t.complete)return"";if(0===t.naturalWidth||0===t.naturalHeight)return""}return e.createPattern(t,this.repeat)}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.toFixed;t.Shadow?t.warn("fabric.Shadow is already defined."):(t.Shadow=t.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(e){for(var n in"string"===typeof e&&(e=this._parseShadow(e)),e)this[n]=e[n];this.id=t.Object.__uid++},_parseShadow:function(e){var n=e.trim(),i=t.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(t.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(i[1],10)||0,offsetY:parseInt(i[2],10)||0,blur:parseInt(i[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(e){var i=40,r=40,o=t.Object.NUM_FRACTION_DIGITS,a=t.util.rotateVector({x:this.offsetX,y:this.offsetY},t.util.degreesToRadians(-e.angle)),s=new t.Color(this.color);return e.width&&e.height&&(i=100*n((Math.abs(a.x)+this.blur)/e.width,o)+20,r=100*n((Math.abs(a.y)+this.blur)/e.height,o)+20),e.flipX&&(a.x*=-1),e.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+i+'%" width="'+(100+2*i)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(a.x,o)+'" dy="'+n(a.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var e={},n=t.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(t){this[t]!==n[t]&&(e[t]=this[t])}),this),e}}),t.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(t),function(){"use strict";if(r.StaticCanvas)r.warn("fabric.StaticCanvas is already defined.");else{var e=r.util.object.extend,t=r.util.getElementOffset,n=r.util.removeFromArray,i=r.util.toFixed,o=r.util.transformPoint,a=r.util.invertTransform,s=r.util.getNodeCanvas,l=r.util.createCanvasElement,c=new Error("Could not initialize `canvas` element");r.StaticCanvas=r.util.createClass(r.CommonMethods,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:r.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(e,t){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(e),this._initOptions(t),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),t.overlayImage&&this.setOverlayImage(t.overlayImage,n),t.backgroundImage&&this.setBackgroundImage(t.backgroundImage,n),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor,n),t.overlayColor&&this.setOverlayColor(t.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==r.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?r.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var e=r.devicePixelRatio;this.__initRetinaScaling(e,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(e,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(e,t,n){t.setAttribute("width",this.width*e),t.setAttribute("height",this.height*e),n.scale(e,e)},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(e,t,n){return this.__setBgOverlayImage("overlayImage",e,t,n)},setBackgroundImage:function(e,t,n){return this.__setBgOverlayImage("backgroundImage",e,t,n)},setOverlayColor:function(e,t){return this.__setBgOverlayColor("overlayColor",e,t)},setBackgroundColor:function(e,t){return this.__setBgOverlayColor("backgroundColor",e,t)},_setImageSmoothing:function(){var e=this.getContext();e.imageSmoothingEnabled=e.imageSmoothingEnabled||e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled||e.oImageSmoothingEnabled,e.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(e,t,n,i){return"string"===typeof t?r.util.loadImage(t,(function(t){if(t){var o=new r.Image(t,i);this[e]=o,o.canvas=this}n&&n(t)}),this,i&&i.crossOrigin):(i&&t.setOptions(i),this[e]=t,t&&(t.canvas=this),n&&n(t)),this},__setBgOverlayColor:function(e,t,n){return this[e]=t,this._initGradient(t,e),this._initPattern(t,e,n),this},_createCanvasElement:function(){var e=l();if(!e)throw c;if(e.style||(e.style={}),"undefined"===typeof e.getContext)throw c;return e},_initOptions:function(e){var t=this.lowerCanvasEl;this._setOptions(e),this.width=this.width||parseInt(t.width,10)||0,this.height=this.height||parseInt(t.height,10)||0,this.lowerCanvasEl.style&&(t.width=this.width,t.height=this.height,t.style.width=this.width+"px",t.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(e){e&&e.getContext?this.lowerCanvasEl=e:this.lowerCanvasEl=r.util.getById(e)||this._createCanvasElement(),r.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e,t){return this.setDimensions({width:e},t)},setHeight:function(e,t){return this.setDimensions({height:e},t)},setDimensions:function(e,t){var n;for(var i in t=t||{},e)n=e[i],t.cssOnly||(this._setBackstoreDimension(i,e[i]),n+="px",this.hasLostContext=!0),t.backstoreOnly||this._setCssDimension(i,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),t.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(e,t){return this.lowerCanvasEl[e]=t,this.upperCanvasEl&&(this.upperCanvasEl[e]=t),this.cacheCanvasEl&&(this.cacheCanvasEl[e]=t),this[e]=t,this},_setCssDimension:function(e,t){return this.lowerCanvasEl.style[e]=t,this.upperCanvasEl&&(this.upperCanvasEl.style[e]=t),this.wrapperEl&&(this.wrapperEl.style[e]=t),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(e){var t,n,i,r=this._activeObject;for(this.viewportTransform=e,n=0,i=this._objects.length;n<i;n++)(t=this._objects[n]).group||t.setCoords(!1,!0);return r&&"activeSelection"===r.type&&r.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(e,t){var n=e,i=this.viewportTransform.slice(0);e=o(e,a(this.viewportTransform)),i[0]=t,i[3]=t;var r=o(e,i);return i[4]+=n.x-r.x,i[5]+=n.y-r.y,this.setViewportTransform(i)},setZoom:function(e){return this.zoomToPoint(new r.Point(0,0),e),this},absolutePan:function(e){var t=this.viewportTransform.slice(0);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)},relativePan:function(e){return this.absolutePan(new r.Point(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(e){this.stateful&&e.setupState(),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added")},_onObjectRemoved:function(e){this.fire("object:removed",{target:e}),e.fire("removed"),delete e.canvas},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var e=this.contextContainer;return this.renderCanvas(e,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=r.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var e={},t=this.width,n=this.height,i=a(this.viewportTransform);return e.tl=o({x:0,y:0},i),e.br=o({x:t,y:n},i),e.tr=new r.Point(e.br.x,e.tl.y),e.bl=new r.Point(e.tl.x,e.br.y),this.vptCoords=e,e},cancelRequestedRender:function(){this.isRendering&&(r.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(e,t){var n=this.viewportTransform,i=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(e),this.fire("before:render",{ctx:e}),this.clipTo&&r.util.clipContext(this,e),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.clipTo&&e.restore(),i&&(i.canvas=this,i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e)),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render",{ctx:e})},drawClipPathOnCanvas:function(e){var t=this.viewportTransform,n=this.clipPath;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},_renderObjects:function(e,t){var n,i;for(n=0,i=t.length;n<i;++n)t[n]&&t[n].render(e)},_renderBackgroundOrOverlay:function(e,t){var n=this[t+"Color"],i=this[t+"Image"],r=this.viewportTransform,o=this[t+"Vpt"];if(n||i){if(n){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=n.toLive?n.toLive(e,this):n,o&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var a=n.gradientTransform||n.patternTransform;a&&e.transform(a[0],a[1],a[2],a[3],a[4],a[5]),e.fill(),e.restore()}i&&(e.save(),o&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),i.render(e),e.restore())}},_renderBackground:function(e){this._renderBackgroundOrOverlay(e,"background")},_renderOverlay:function(e){this._renderBackgroundOrOverlay(e,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(e){return this._centerObject(e,new r.Point(this.getCenter().left,e.getCenterPoint().y))},centerObjectV:function(e){return this._centerObject(e,new r.Point(e.getCenterPoint().x,this.getCenter().top))},centerObject:function(e){var t=this.getCenter();return this._centerObject(e,new r.Point(t.left,t.top))},viewportCenterObject:function(e){var t=this.getVpCenter();return this._centerObject(e,t)},viewportCenterObjectH:function(e){var t=this.getVpCenter();return this._centerObject(e,new r.Point(t.x,e.getCenterPoint().y)),this},viewportCenterObjectV:function(e){var t=this.getVpCenter();return this._centerObject(e,new r.Point(e.getCenterPoint().x,t.y))},getVpCenter:function(){var e=this.getCenter(),t=a(this.viewportTransform);return o({x:e.left,y:e.top},t)},_centerObject:function(e,t){return e.setPositionByOrigin(t,"center","center"),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(e){return this.toDatalessObject(e)},toObject:function(e){return this._toObjectMethod("toObject",e)},toDatalessObject:function(e){return this._toObjectMethod("toDatalessObject",e)},_toObjectMethod:function(t,n){var i=this.clipPath,o={version:r.version,objects:this._toObjects(t,n)};return i&&(o.clipPath=this._toObject(this.clipPath,t,n)),e(o,this.__serializeBgOverlay(t,n)),r.util.populateWithProperties(this,o,n),o},_toObjects:function(e,t){return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return this._toObject(n,e,t)}),this)},_toObject:function(e,t,n){var i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);var r=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=i),r},__serializeBgOverlay:function(e,t){var n={},i=this.backgroundImage,r=this.overlayImage;return this.backgroundColor&&(n.background=this.backgroundColor.toObject?this.backgroundColor.toObject(t):this.backgroundColor),this.overlayColor&&(n.overlay=this.overlayColor.toObject?this.overlayColor.toObject(t):this.overlayColor),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,e,t)),r&&!r.excludeFromExport&&(n.overlayImage=this._toObject(r,e,t)),n},svgViewportTransformation:!0,toSVG:function(e,t){e||(e={}),e.reviver=t;var n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")},_setSVGPreamble:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(e,t){var n,o=t.width||this.width,a=t.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',l=r.Object.NUM_FRACTION_DIGITS;t.viewBox?s='viewBox="'+t.viewBox.x+" "+t.viewBox.y+" "+t.viewBox.width+" "+t.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,s='viewBox="'+i(-n[4]/n[0],l)+" "+i(-n[5]/n[3],l)+" "+i(this.width/n[0],l)+" "+i(this.height/n[3],l)+'" '),e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',o,'" ','height="',a,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",r.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")},createSVGClipPathMarkup:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_"+r.Object.__uid++,'<clipPath id="'+t.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(e.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var e=this;return["background","overlay"].map((function(t){var n=e[t+"Color"];if(n&&n.toLive){var i=e[t+"Vpt"],o=e.viewportTransform,a={width:e.width/(i?o[0]:1),height:e.height/(i?o[3]:1)};return n.toSVG(a,{additionalTransform:i?r.util.matrixToSVG(o):""})}})).join("")},createSVGFontFacesMarkup:function(){var e,t,n,i,o,a,s,l,c="",h={},d=r.fontPaths,u=this._objects;for(s=0,l=u.length;s<l;s++)if(t=(e=u[s]).fontFamily,-1!==e.type.indexOf("text")&&!h[t]&&d[t]&&(h[t]=!0,e.styles))for(o in n=e.styles)for(a in i=n[o])!h[t=i[a].fontFamily]&&d[t]&&(h[t]=!0);for(var p in h)c+=["\t\t@font-face {\n","\t\t\tfont-family: '",p,"';\n","\t\t\tsrc: url('",d[p],"');\n","\t\t}\n"].join("");return c&&(c=['\t<style type="text/css">',"<![CDATA[\n",c,"]]>","</style>\n"].join("")),c},_setSVGObjects:function(e,t){var n,i,r,o=this._objects;for(i=0,r=o.length;i<r;i++)(n=o[i]).excludeFromExport||this._setSVGObject(e,n,t)},_setSVGObject:function(e,t,n){e.push(t.toSVG(n))},_setSVGBgOverlayImage:function(e,t,n){this[t]&&!this[t].excludeFromExport&&this[t].toSVG&&e.push(this[t].toSVG(n))},_setSVGBgOverlayColor:function(e,t){var n=this[t+"Color"],i=this.viewportTransform,o=this.width,a=this.height;if(n)if(n.toLive){var s=n.repeat,l=r.util.invertTransform(i),c=this[t+"Vpt"]?r.util.matrixToSVG(l):"";e.push('<rect transform="'+c+" translate(",o/2,",",a/2,')"',' x="',n.offsetX-o/2,'" y="',n.offsetY-a/2,'" ','width="',"repeat-y"===s||"no-repeat"===s?n.source.width:o,'" height="',"repeat-x"===s||"no-repeat"===s?n.source.height:a,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(e){if(!e)return this;var t,i,r,o=this._activeObject;if(e===o&&"activeSelection"===e.type)for(t=(r=o._objects).length;t--;)i=r[t],n(this._objects,i),this._objects.unshift(i);else n(this._objects,e),this._objects.unshift(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(e){if(!e)return this;var t,i,r,o=this._activeObject;if(e===o&&"activeSelection"===e.type)for(r=o._objects,t=0;t<r.length;t++)i=r[t],n(this._objects,i),this._objects.push(i);else n(this._objects,e),this._objects.push(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(e,t){if(!e)return this;var i,r,o,a,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(s=l._objects,i=0;i<s.length;i++)r=s[i],(o=this._objects.indexOf(r))>0+c&&(a=o-1,n(this._objects,r),this._objects.splice(a,0,r)),c++;else 0!==(o=this._objects.indexOf(e))&&(a=this._findNewLowerIndex(e,o,t),n(this._objects,e),this._objects.splice(a,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(e,t,n){var i,r;if(n)for(i=t,r=t-1;r>=0;--r){if(e.intersectsWithObject(this._objects[r])||e.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(e)){i=r;break}}else i=t-1;return i},bringForward:function(e,t){if(!e)return this;var i,r,o,a,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(i=(s=l._objects).length;i--;)r=s[i],(o=this._objects.indexOf(r))<this._objects.length-1-c&&(a=o+1,n(this._objects,r),this._objects.splice(a,0,r)),c++;else(o=this._objects.indexOf(e))!==this._objects.length-1&&(a=this._findNewUpperIndex(e,o,t),n(this._objects,e),this._objects.splice(a,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(e,t,n){var i,r,o;if(n)for(i=t,r=t+1,o=this._objects.length;r<o;++r){if(e.intersectsWithObject(this._objects[r])||e.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(e)){i=r;break}}else i=t+1;return i},moveTo:function(e,t){return n(this._objects,e),this._objects.splice(t,0,e),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(r.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,r.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),e(r.StaticCanvas.prototype,r.Observable),e(r.StaticCanvas.prototype,r.Collection),e(r.StaticCanvas.prototype,r.DataURLExporter),e(r.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(e){var t=l();if(!t||!t.getContext)return null;var n=t.getContext("2d");if(!n)return null;switch(e){case"setLineDash":return"undefined"!==typeof n.setLineDash;default:return null}}}),r.StaticCanvas.prototype.toJSON=r.StaticCanvas.prototype.toObject,r.isLikelyNode&&(r.StaticCanvas.prototype.createPNGStream=function(){var e=s(this.lowerCanvasEl);return e&&e.createPNGStream()},r.StaticCanvas.prototype.createJPEGStream=function(e){var t=s(this.lowerCanvasEl);return t&&t.createJPEGStream(e)})}}(),r.BaseBrush=r.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,setShadow:function(e){return this.shadow=new r.Shadow(e),this},_setBrushStyles:function(){var e=this.canvas.contextTop;e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,r.StaticCanvas.supports("setLineDash")&&e.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(e){var t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},_setShadow:function(){if(this.shadow){var e=this.canvas,t=this.shadow,n=e.contextTop,i=e.getZoom();e&&e._isRetinaScaling()&&(i*=r.devicePixelRatio),n.shadowColor=t.color,n.shadowBlur=t.blur*i,n.shadowOffsetX=t.offsetX*i,n.shadowOffsetY=t.offsetY*i}},needsFullRender:function(){return new r.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}}),r.PencilBrush=r.util.createClass(r.BaseBrush,{decimate:.4,initialize:function(e){this.canvas=e,this._points=[]},_drawSegment:function(e,t,n){var i=t.midPointFrom(n);return e.quadraticCurveTo(t.x,t.y,i.x,i.y),i},onMouseDown:function(e,t){this.canvas._isMainEvent(t.e)&&(this._prepareForDrawing(e),this._captureDrawingPath(e),this._render())},onMouseMove:function(e,t){if(this.canvas._isMainEvent(t.e)&&this._captureDrawingPath(e)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,i=n.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,n[i-2],n[i-1],!0),r.stroke(),r.restore()}},onMouseUp:function(e){return!this.canvas._isMainEvent(e.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(e){var t=new r.Point(e.x,e.y);this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)},_addPoint:function(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this._points.push(e),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(e){var t=new r.Point(e.x,e.y);return this._addPoint(t)},_render:function(){var e,t,n=this.canvas.contextTop,i=this._points[0],o=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&i.x===o.x&&i.y===o.y){var a=this.width/1e3;i=new r.Point(i.x,i.y),o=new r.Point(o.x,o.y),i.x-=a,o.x+=a}for(n.moveTo(i.x,i.y),e=1,t=this._points.length;e<t;e++)this._drawSegment(n,i,o),i=this._points[e],o=this._points[e+1];n.lineTo(i.x,i.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(e){var t,n=[],i=this.width/1e3,o=new r.Point(e[0].x,e[0].y),a=new r.Point(e[1].x,e[1].y),s=e.length,l=1,c=0,h=s>2;for(h&&(l=e[2].x<a.x?-1:e[2].x===a.x?0:1,c=e[2].y<a.y?-1:e[2].y===a.y?0:1),n.push("M ",o.x-l*i," ",o.y-c*i," "),t=1;t<s;t++){if(!o.eq(a)){var d=o.midPointFrom(a);n.push("Q ",o.x," ",o.y," ",d.x," ",d.y," ")}o=e[t],t+1<e.length&&(a=e[t+1])}return h&&(l=o.x>e[t-2].x?1:o.x===e[t-2].x?0:-1,c=o.y>e[t-2].y?1:o.y===e[t-2].y?0:-1),n.push("L ",o.x+l*i," ",o.y+c*i),n},createPath:function(e){var t=new r.Path(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.setShadow(this.shadow)),t},decimatePoints:function(e,t){if(e.length<=2)return e;var n,i=this.canvas.getZoom(),o=Math.pow(t/i,2),a=e.length-1,s=e[0],l=[s];for(n=1;n<a;n++)Math.pow(s.x-e[n].x,2)+Math.pow(s.y-e[n].y,2)>=o&&(s=e[n],l.push(s));return 1===l.length&&l.push(new r.Point(l[0].x,l[0].y)),l},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==e){var t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}else this.canvas.requestRenderAll()}}),r.CircleBrush=r.util.createClass(r.BaseBrush,{width:10,initialize:function(e){this.canvas=e,this.points=[]},drawDot:function(e){var t=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,t),n.restore()},dot:function(e,t){e.fillStyle=t.fill,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.closePath(),e.fill()},onMouseDown:function(e){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)},_render:function(){var e,t,n=this.canvas.contextTop,i=this.points;for(this._saveAndTransform(n),e=0,t=i.length;e<t;e++)this.dot(n,i[e]);n.restore()},onMouseMove:function(e){this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e)},onMouseUp:function(){var e,t,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var i=[];for(e=0,t=this.points.length;e<t;e++){var o=this.points[e],a=new r.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&a.setShadow(this.shadow),i.push(a)}var s=new r.Group(i);s.canvas=this.canvas,this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(e){var t=new r.Point(e.x,e.y),n=r.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,i=new r.Color(this.color).setAlpha(r.util.getRandomInt(0,100)/100).toRgba();return t.radius=n,t.fill=i,this.points.push(t),t}}),r.SprayBrush=r.util.createClass(r.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e,this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseMove:function(e){this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],n=0,i=this.sprayChunks.length;n<i;n++)for(var o=this.sprayChunks[n],a=0,s=o.length;a<s;a++){var l=new r.Rect({width:o[a].width,height:o[a].width,left:o[a].x+1,top:o[a].y+1,originX:"center",originY:"center",fill:this.color});t.push(l)}this.optimizeOverlapping&&(t=this._getOptimizedRects(t));var c=new r.Group(t);this.shadow&&c.setShadow(this.shadow),this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()},_getOptimizedRects:function(e){var t,n,i,r={};for(n=0,i=e.length;n<i;n++)r[t=e[n].left+""+e[n].top]||(r[t]=e[n]);var o=[];for(t in r)o.push(r[t]);return o},render:function(e){var t,n,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),t=0,n=e.length;t<n;t++){var r=e[t];"undefined"!==typeof r.opacity&&(i.globalAlpha=r.opacity),i.fillRect(r.x,r.y,r.width,r.width)}i.restore()},_render:function(){var e,t,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,t=this.sprayChunks.length;e<t;e++)this.render(this.sprayChunks[e]);n.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];var t,n,i,o,a=this.width/2;for(o=0;o<this.density;o++){t=r.util.getRandomInt(e.x-a,e.x+a),n=r.util.getRandomInt(e.y-a,e.y+a),i=this.dotWidthVariance?r.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new r.Point(t,n);s.width=i,this.randomOpacity&&(s.opacity=r.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),r.PatternBrush=r.util.createClass(r.PencilBrush,{getPatternSrc:function(){var e=r.util.createCanvasElement(),t=e.getContext("2d");return e.width=e.height=25,t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill(),e},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(e){var t=this.callSuper("createPath",e),n=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new r.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),t}}),function(){var e=r.util.getPointer,t=r.util.degreesToRadians,n=r.util.radiansToDegrees,i=Math.atan2,o=Math.abs,a=r.StaticCanvas.supports("setLineDash");for(var s in r.Canvas=r.util.createClass(r.StaticCanvas,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=r.PencilBrush&&new r.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var e,t,n,i=this.getActiveObjects();if(i.length>0&&!this.preserveObjectStacking){t=[],n=[];for(var r=0,o=this._objects.length;r<o;r++)e=this._objects[r],-1===i.indexOf(e)?t.push(e):n.push(e);i.length>1&&(this._activeObject._objects=n),t.push.apply(t,n)}else t=this._objects;return t},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var e=this.contextContainer;return this.renderCanvas(e,this._chooseObjectsToRender()),this},renderTopLayer:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()},renderTop:function(){var e=this.contextTop;return this.clearContext(e),this.renderTopLayer(e),this.fire("after:render"),this},_resetCurrentTransform:function(){var e=this._currentTransform;e.target.set({scaleX:e.original.scaleX,scaleY:e.original.scaleY,skewX:e.original.skewX,skewY:e.original.skewY,left:e.original.left,top:e.original.top}),this._shouldCenterTransform(e.target)?("center"!==e.originX&&("right"===e.originX?e.mouseXSign=-1:e.mouseXSign=1),"center"!==e.originY&&("bottom"===e.originY?e.mouseYSign=-1:e.mouseYSign=1),e.originX="center",e.originY="center"):(e.originX=e.original.originX,e.originY=e.original.originY)},containsPoint:function(e,t,n){var i,r=n||this.getPointer(e,!0);return i=t.group&&t.group===this._activeObject&&"activeSelection"===t.group.type?this._normalizePointer(t.group,r):{x:r.x,y:r.y},t.containsPoint(i)||t._findTargetCorner(r)},_normalizePointer:function(e,t){var n=e.calcTransformMatrix(),i=r.util.invertTransform(n),o=this.restorePointerVpt(t);return r.util.transformPoint(o,i)},isTargetTransparent:function(e,t,n){if(e.shouldCache()&&e._cacheCanvas&&e!==this._activeObject){var i=this._normalizePointer(e,{x:t,y:n}),o=Math.max(e.cacheTranslationX+i.x*e.zoomX,0),a=Math.max(e.cacheTranslationY+i.y*e.zoomY,0);return r.util.isTransparent(e._cacheContext,Math.round(o),Math.round(a),this.targetFindTolerance)}var s=this.contextCache,l=e.selectionBackgroundColor,c=this.viewportTransform;return e.selectionBackgroundColor="",this.clearContext(s),s.save(),s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),e.render(s),s.restore(),e===this._activeObject&&e._renderControls(s,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),e.selectionBackgroundColor=l,r.util.isTransparent(s,t,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(e){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(t){return!0===e[t]})):e[this.selectionKey]},_shouldClearSelection:function(e,t){var n=this.getActiveObjects(),i=this._activeObject;return!t||t&&i&&n.length>1&&-1===n.indexOf(t)&&i!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&i&&i!==t},_shouldCenterTransform:function(e){if(e){var t,n=this._currentTransform;return"scale"===n.action||"scaleX"===n.action||"scaleY"===n.action?t=this.centeredScaling||e.centeredScaling:"rotate"===n.action&&(t=this.centeredRotation||e.centeredRotation),t?!n.altKey:n.altKey}},_getOriginFromCorner:function(e,t){var n={x:e.originX,y:e.originY};return"ml"===t||"tl"===t||"bl"===t?n.x="right":"mr"!==t&&"tr"!==t&&"br"!==t||(n.x="left"),"tl"===t||"mt"===t||"tr"===t?n.y="bottom":"bl"!==t&&"mb"!==t&&"br"!==t||(n.y="top"),n},_getActionFromCorner:function(e,t,n){if(!t||!e)return"drag";switch(t){case"mtr":return"rotate";case"ml":case"mr":return n[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return n[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(e,n,i){if(n){var o=this.getPointer(e),a=n._findTargetCorner(this.getPointer(e,!0)),s=this._getActionFromCorner(i,a,e,n),l=this._getOriginFromCorner(n,a);this._currentTransform={target:n,action:s,corner:a,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:o.x-n.left,offsetY:o.y-n.top,originX:l.x,originY:l.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:t(n.angle),width:n.width*n.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:e.shiftKey,altKey:e[this.centeredKey],original:r.util.saveObjectTransform(n)},this._currentTransform.original.originX=l.x,this._currentTransform.original.originY=l.y,this._resetCurrentTransform(),this._beforeTransform(e)}},_translateObject:function(e,t){var n=this._currentTransform,i=n.target,r=e-n.offsetX,o=t-n.offsetY,a=!i.get("lockMovementX")&&i.left!==r,s=!i.get("lockMovementY")&&i.top!==o;return a&&i.set("left",r),s&&i.set("top",o),a||s},_changeSkewTransformOrigin:function(e,t,n){var i="originX",r={0:"center"},o=t.target.skewX,a="left",s="right",l="mt"===t.corner||"ml"===t.corner?1:-1,c=1;e=e>0?1:-1,"y"===n&&(o=t.target.skewY,a="top",s="bottom",i="originY"),r[-1]=a,r[1]=s,t.target.flipX&&(c*=-1),t.target.flipY&&(c*=-1),0===o?(t.skewSign=-l*e*c,t[i]=r[-e]):(o=o>0?1:-1,t.skewSign=o,t[i]=r[o*l*c])},_skewObject:function(e,t,n){var i,o=this._currentTransform,a=o.target,s=a.get("lockSkewingX"),l=a.get("lockSkewingY");if(s&&"x"===n||l&&"y"===n)return!1;var c,h,d=a.getCenterPoint(),u=a.toLocalPoint(new r.Point(e,t),"center","center")[n],p=a.toLocalPoint(new r.Point(o.lastX,o.lastY),"center","center")[n],f=a._getTransformedDimensions();return this._changeSkewTransformOrigin(u-p,o,n),c=a.toLocalPoint(new r.Point(e,t),o.originX,o.originY)[n],h=a.translateToOriginPoint(d,o.originX,o.originY),i=this._setObjectSkew(c,o,n,f),o.lastX=e,o.lastY=t,a.setPositionByOrigin(h,o.originX,o.originY),i},_setObjectSkew:function(e,t,n,i){var o,a,s,l,c,h,d,u,p,f,m=t.target,g=t.skewSign;return"x"===n?(c="y",h="Y",d="X",p=0,f=m.skewY):(c="x",h="X",d="Y",p=m.skewX,f=0),l=m._getTransformedDimensions(p,f),(u=2*Math.abs(e)-l[n])<=2?o=0:(o=g*Math.atan(u/m["scale"+d]/(l[c]/m["scale"+h])),o=r.util.radiansToDegrees(o)),a=m["skew"+d]!==o,m.set("skew"+d,o),0!==m["skew"+h]&&(s=m._getTransformedDimensions(),o=i[c]/s[c]*m["scale"+h],m.set("scale"+h,o)),a},_scaleObject:function(e,t,n){var i=this._currentTransform,o=i.target,a=o.lockScalingX,s=o.lockScalingY,l=o.lockScalingFlip;if(a&&s)return!1;var c,h=o.translateToOriginPoint(o.getCenterPoint(),i.originX,i.originY),d=o.toLocalPoint(new r.Point(e,t),i.originX,i.originY),u=o._getTransformedDimensions();return this._setLocalMouse(d,i),c=this._setObjectScale(d,i,a,s,n,l,u),o.setPositionByOrigin(h,i.originX,i.originY),c},_setObjectScale:function(e,t,n,i,o,a,s){var l=t.target,c=!1,h=!1,d=!1,u=e.x*l.scaleX/s.x,p=e.y*l.scaleY/s.y,f=l.scaleX!==u,m=l.scaleY!==p;if(t.newScaleX=u,t.newScaleY=p,r.Textbox&&"x"===o&&l instanceof r.Textbox){var g=l.width*(e.x/s.x);return g>=l.getMinWidth()&&(d=g!==l.width,l.set("width",g),d)}return a&&u<=0&&u<l.scaleX&&(c=!0,e.x=0),a&&p<=0&&p<l.scaleY&&(h=!0,e.y=0),"equally"!==o||n||i?o?"x"!==o||l.get("lockUniScaling")?"y"!==o||l.get("lockUniScaling")||h||i||l.set("scaleY",p)&&(d=m):c||n||l.set("scaleX",u)&&(d=f):(c||n||l.set("scaleX",u)&&(d=d||f),h||i||l.set("scaleY",p)&&(d=d||m)):d=this._scaleObjectEqually(e,l,t,s),c||h||this._flipObject(t,o),d},_scaleObjectEqually:function(e,t,n,i){var r,o,a,s=e.y+e.x,l=i.y*n.original.scaleY/t.scaleY+i.x*n.original.scaleX/t.scaleX,c=e.x<0?-1:1,h=e.y<0?-1:1;return o=c*Math.abs(n.original.scaleX*s/l),a=h*Math.abs(n.original.scaleY*s/l),r=o!==t.scaleX||a!==t.scaleY,t.set("scaleX",o),t.set("scaleY",a),r},_flipObject:function(e,t){e.newScaleX<0&&"y"!==t&&("left"===e.originX?e.originX="right":"right"===e.originX&&(e.originX="left")),e.newScaleY<0&&"x"!==t&&("top"===e.originY?e.originY="bottom":"bottom"===e.originY&&(e.originY="top"))},_setLocalMouse:function(e,t){var n=t.target,i=this.getZoom(),r=n.padding/i;"right"===t.originX?e.x*=-1:"center"===t.originX&&(e.x*=2*t.mouseXSign,e.x<0&&(t.mouseXSign=-t.mouseXSign)),"bottom"===t.originY?e.y*=-1:"center"===t.originY&&(e.y*=2*t.mouseYSign,e.y<0&&(t.mouseYSign=-t.mouseYSign)),o(e.x)>r?e.x<0?e.x+=r:e.x-=r:e.x=0,o(e.y)>r?e.y<0?e.y+=r:e.y-=r:e.y=0},_rotateObject:function(e,t){var r=this._currentTransform,o=r.target,a=o.translateToOriginPoint(o.getCenterPoint(),r.originX,r.originY);if(o.lockRotation)return!1;var s=i(r.ey-a.y,r.ex-a.x),l=i(t-a.y,e-a.x),c=n(l-s+r.theta),h=!0;if(o.snapAngle>0){var d=o.snapAngle,u=o.snapThreshold||d,p=Math.ceil(c/d)*d,f=Math.floor(c/d)*d;Math.abs(c-f)<u?c=f:Math.abs(c-p)<u&&(c=p)}return c<0&&(c=360+c),c%=360,o.angle===c?h=!1:(o.angle=c,o.setPositionByOrigin(a,r.originX,r.originY)),h},setCursor:function(e){this.upperCanvasEl.style.cursor=e},_drawSelection:function(e){var t=this._groupSelector,n=t.left,i=t.top,s=o(n),l=o(i);if(this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(t.ex-(n>0?0:-n),t.ey-(i>0?0:-i),s,l)),this.selectionLineWidth&&this.selectionBorderColor)if(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!a){var c=t.ex+.5-(n>0?0:s),h=t.ey+.5-(i>0?0:l);e.beginPath(),r.util.drawDashedLine(e,c,h,c+s,h,this.selectionDashArray),r.util.drawDashedLine(e,c,h+l-1,c+s,h+l-1,this.selectionDashArray),r.util.drawDashedLine(e,c,h,c,h+l,this.selectionDashArray),r.util.drawDashedLine(e,c+s-1,h,c+s-1,h+l,this.selectionDashArray),e.closePath(),e.stroke()}else r.Object.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(t.ex+.5-(n>0?0:s),t.ey+.5-(i>0?0:l),s,l)},findTarget:function(e,t){if(!this.skipTargetFind){var n,i,r=this.getPointer(e,!0),o=this._activeObject,a=this.getActiveObjects();if(this.targets=[],a.length>1&&!t&&o===this._searchPossibleTargets([o],r))return o;if(1===a.length&&o._findTargetCorner(r))return o;if(1===a.length&&o===this._searchPossibleTargets([o],r)){if(!this.preserveObjectStacking)return o;n=o,i=this.targets,this.targets=[]}var s=this._searchPossibleTargets(this._objects,r);return e[this.altSelectionKey]&&s&&n&&s!==n&&(s=n,this.targets=i),s}},_checkTarget:function(e,t,n){if(t&&t.visible&&t.evented&&this.containsPoint(null,t,e)){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,n.x,n.y))return!0}},_searchPossibleTargets:function(e,t){for(var n,i,o=e.length;o--;){var a=e[o],s=a.group&&"activeSelection"!==a.group.type?this._normalizePointer(a.group,t):t;if(this._checkTarget(s,a,t)){(n=e[o]).subTargetCheck&&n instanceof r.Group&&(i=this._searchPossibleTargets(n._objects,t))&&this.targets.push(i);break}}return n},restorePointerVpt:function(e){return r.util.transformPoint(e,r.util.invertTransform(this.viewportTransform))},getPointer:function(t,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var i,r=e(t),o=this.upperCanvasEl,a=o.getBoundingClientRect(),s=a.width||0,l=a.height||0;s&&l||("top"in a&&"bottom"in a&&(l=Math.abs(a.top-a.bottom)),"right"in a&&"left"in a&&(s=Math.abs(a.right-a.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,n||(r=this.restorePointerVpt(r));var c=this.getRetinaScaling();return 1!==c&&(r.x/=c,r.y/=c),i=0===s||0===l?{width:1,height:1}:{width:o.width/s,height:o.height/l},{x:r.x*i.width,y:r.y*i.height}},_createUpperCanvas:function(){var e=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),t=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),r.util.addClass(n,"upper-canvas "+e),this.wrapperEl.appendChild(n),this._copyCanvasStyle(t,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=r.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),r.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),r.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var t=this.width||e.width,n=this.height||e.height;r.util.setStyle(e,{position:"absolute",width:t+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),e.width=t,e.height=n,r.util.makeElementUnselectable(e)},_copyCanvasStyle:function(e,t){t.style.cssText=e.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var e=this._activeObject;return e?"activeSelection"===e.type&&e._objects?e._objects.slice(0):[e]:[]},_onObjectRemoved:function(e){e===this._activeObject&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared",{target:e}),e.fire("deselected")),e===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",e)},_fireSelectionEvents:function(e,t){var n=!1,i=this.getActiveObjects(),r=[],o=[],a={e:t};e.forEach((function(e){-1===i.indexOf(e)&&(n=!0,e.fire("deselected",a),o.push(e))})),i.forEach((function(t){-1===e.indexOf(t)&&(n=!0,t.fire("selected",a),r.push(t))})),e.length>0&&i.length>0?(a.selected=r,a.deselected=o,a.updated=r[0]||o[0],a.target=this._activeObject,n&&this.fire("selection:updated",a)):i.length>0?(1===i.length&&(a.target=r[0],this.fire("object:selected",a)),a.selected=r,a.target=this._activeObject,this.fire("selection:created",a)):e.length>0&&(a.deselected=o,this.fire("selection:cleared",a))},setActiveObject:function(e,t){var n=this.getActiveObjects();return this._setActiveObject(e,t),this._fireSelectionEvents(n,t),this},_setActiveObject:function(e,t){return this._activeObject!==e&&(!!this._discardActiveObject(t,e)&&(!e.onSelect({e:t})&&(this._activeObject=e,!0)))},_discardActiveObject:function(e,t){var n=this._activeObject;if(n){if(n.onDeselect({e:e,object:t}))return!1;this._activeObject=null}return!0},discardActiveObject:function(e){var t=this.getActiveObjects(),n=this.getActiveObject();return t.length&&this.fire("before:selection:cleared",{target:n,e:e}),this._discardActiveObject(e),this._fireSelectionEvents(t,e),this},dispose:function(){var e=this.wrapperEl;return this.removeListeners(),e.removeChild(this.upperCanvasEl),e.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){r.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),e.parentNode&&e.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,r.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(e){var t=this._activeObject;t&&t._renderControls(e)},_toObject:function(e,t,n){var i=this._realizeGroupTransformOnObject(e),r=this.callSuper("_toObject",e,t,n);return this._unwindGroupTransformOnObject(e,i),r},_realizeGroupTransformOnObject:function(e){if(e.group&&"activeSelection"===e.group.type&&this._activeObject===e.group){var t={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){t[n]=e[n]})),this._activeObject.realizeTransform(e),t}return null},_unwindGroupTransformOnObject:function(e,t){t&&e.set(t)},_setSVGObject:function(e,t,n){var i=this._realizeGroupTransformOnObject(t);this.callSuper("_setSVGObject",e,t,n),this._unwindGroupTransformOnObject(t,i)},setViewportTransform:function(e){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),r.StaticCanvas.prototype.setViewportTransform.call(this,e)}}),r.StaticCanvas)"prototype"!==s&&(r.Canvas[s]=r.StaticCanvas[s])}(),function(){var e={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},t=r.util.addListener,n=r.util.removeListener,i={passive:!1};function o(e,t){return e.button&&e.button===t-1}r.util.object.extend(r.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(e,t){var n=this.upperCanvasEl,o=this._getEventPrefix();e(r.window,"resize",this._onResize),e(n,o+"down",this._onMouseDown),e(n,o+"move",this._onMouseMove,i),e(n,o+"out",this._onMouseOut),e(n,o+"enter",this._onMouseEnter),e(n,"wheel",this._onMouseWheel),e(n,"contextmenu",this._onContextMenu),e(n,"dblclick",this._onDoubleClick),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,i),"undefined"!==typeof eventjs&&t in eventjs&&(eventjs[t](n,"gesture",this._onGesture),eventjs[t](n,"drag",this._onDrag),eventjs[t](n,"orientation",this._onOrientationChange),eventjs[t](n,"shake",this._onShake),eventjs[t](n,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(n,"remove");var e=this._getEventPrefix();n(r.document,e+"up",this._onMouseUp),n(r.document,"touchend",this._onTouchEnd,i),n(r.document,e+"move",this._onMouseMove,i),n(r.document,"touchmove",this._onMouseMove,i)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(e,t){this.__onTransformGesture&&this.__onTransformGesture(e,t)},_onDrag:function(e,t){this.__onDrag&&this.__onDrag(e,t)},_onMouseWheel:function(e){this.__onMouseWheel(e)},_onMouseOut:function(e){var t=this._hoveredTarget;this.fire("mouse:out",{target:t,e:e}),this._hoveredTarget=null,t&&t.fire("mouseout",{e:e});var n=this;this._hoveredTargets.forEach((function(i){n.fire("mouse:out",{target:t,e:e}),i&&t.fire("mouseout",{e:e})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(e){e.isEditing&&e.hiddenTextarea.focus()}))},_onMouseEnter:function(e){this.currentTransform||this.findTarget(e)||(this.fire("mouse:over",{target:null,e:e}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(e,t){this.__onOrientationChange&&this.__onOrientationChange(e,t)},_onShake:function(e,t){this.__onShake&&this.__onShake(e,t)},_onLongPress:function(e,t){this.__onLongPress&&this.__onLongPress(e,t)},_onDragOver:function(e){e.preventDefault();var t=this._simpleEventHandler("dragover",e);this._fireEnterLeaveEvents(t,e)},_onContextMenu:function(e){return this.stopContextMenu&&(e.stopPropagation(),e.preventDefault()),!1},_onDoubleClick:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData(e)},getPointerId:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1},_isMainEvent:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||(!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(e){e.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();t(r.document,"touchend",this._onTouchEnd,i),t(r.document,"touchmove",this._onMouseMove,i),n(o,a+"down",this._onMouseDown)},_onMouseDown:function(e){this.__onMouseDown(e),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();n(o,a+"move",this._onMouseMove,i),t(r.document,a+"up",this._onMouseUp),t(r.document,a+"move",this._onMouseMove,i)},_onTouchEnd:function(e){if(!(e.touches.length>0)){this.__onMouseUp(e),this._resetTransformEventData(),this.mainTouchId=null;var o=this._getEventPrefix();n(r.document,"touchend",this._onTouchEnd,i),n(r.document,"touchmove",this._onMouseMove,i);var a=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){t(a.upperCanvasEl,o+"down",a._onMouseDown),a._willAddMouseDown=0}),400)}},_onMouseUp:function(e){this.__onMouseUp(e),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();this._isMainEvent(e)&&(n(r.document,a+"up",this._onMouseUp),n(r.document,a+"move",this._onMouseMove,i),t(o,a+"move",this._onMouseMove,i))},_onMouseMove:function(e){!this.allowTouchScrolling&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)},_onResize:function(){this.calcOffset()},_shouldRender:function(e){var t=this._activeObject;return!!(!!t!==!!e||t&&e&&t!==e)||(t&&t.isEditing,!1)},__onMouseUp:function(e){var t,n=this._currentTransform,i=this._groupSelector,r=!1,a=!i||0===i.left&&0===i.top;if(this._cacheTransformEventData(e),t=this._target,this._handleEvent(e,"up:before"),!o(e,3))return o(e,2)?(this.fireMiddleClick&&this._handleEvent(e,"up",2,a),void this._resetTransformEventData()):void(this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(e):this._isMainEvent(e)&&(n&&(this._finalizeCurrentTransform(e),r=n.actionPerformed),a||(this._maybeGroupObjects(e),r||(r=this._shouldRender(t))),t&&(t.isMoving=!1),this._setCursorFromEvent(e,t),this._handleEvent(e,"up",1,a),this._groupSelector=null,this._currentTransform=null,t&&(t.__corner=0),r?this.requestRenderAll():a||this.renderTop()));this.fireRightClick&&this._handleEvent(e,"up",3,a)},_simpleEventHandler:function(e,t){var n=this.findTarget(t),i=this.targets,r={e:t,target:n,subTargets:i};if(this.fire(e,r),n&&n.fire(e,r),!i)return n;for(var o=0;o<i.length;o++)i[o].fire(e,r);return n},_handleEvent:function(e,t,n,i){var r=this._target,o=this.targets||[],a={e:e,target:r,subTargets:o,button:n||1,isClick:i||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};this.fire("mouse:"+t,a),r&&r.fire("mouse"+t,a);for(var s=0;s<o.length;s++)o[s].fire("mouse"+t,a)},_finalizeCurrentTransform:function(e){var t,n=this._currentTransform,i=n.target,r={e:e,target:i,transform:n};i._scaling&&(i._scaling=!1),i.setCoords(),(n.actionPerformed||this.stateful&&i.hasStateChanged())&&(n.actionPerformed&&(t=this._addEventOptions(r,n),this._fire(t,r)),this._fire("modified",r))},_addEventOptions:function(e,t){var n,i;switch(t.action){case"scaleX":n="scaled",i="x";break;case"scaleY":n="scaled",i="y";break;case"skewX":n="skewed",i="x";break;case"skewY":n="skewed",i="y";break;case"scale":n="scaled",i="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return e.by=i,n},_onMouseDownInDrawingMode:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(e).requestRenderAll(),this.clipTo&&r.util.clipContext(this,this.contextTop);var t=this.getPointer(e);this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down")},_onMouseMoveInDrawingMode:function(e){if(this._isCurrentlyDrawing){var t=this.getPointer(e);this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")},_onMouseUpInDrawingMode:function(e){this.clipTo&&this.contextTop.restore();var t=this.getPointer(e);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:e,pointer:t}),this._handleEvent(e,"up")},__onMouseDown:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target;if(o(e,3))this.fireRightClick&&this._handleEvent(e,"down",3);else if(o(e,2))this.fireMiddleClick&&this._handleEvent(e,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var i=this._shouldRender(t),r=this._shouldGroup(e,t);if(this._shouldClearSelection(e,t)?this.discardActiveObject(e):r&&(this._handleGrouping(e,t),t=this._activeObject),!this.selection||t&&(t.selectable||t.isEditing||t===this._activeObject)||(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0}),t){var a=t===this._activeObject;t.selectable&&this.setActiveObject(t,e),t!==this._activeObject||!t.__corner&&r||this._setupCurrentTransform(e,t,a)}this._handleEvent(e,"down"),(i||r)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(e){this._resetTransformEventData(),this._pointer=this.getPointer(e,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)||null},_beforeTransform:function(e){var t=this._currentTransform;this.stateful&&t.target.saveState(),this.fire("before:transform",{e:e,transform:t}),t.corner&&this.onBeforeScaleRotate(t.target)},__onMouseMove:function(e){var t,n;if(this._handleEvent(e,"move:before"),this._cacheTransformEventData(e),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var i=this._groupSelector;i?(n=this._pointer,i.left=n.x-i.ex,i.top=n.y-i.ey,this.renderTop()):this._currentTransform?this._transformObject(e):(t=this.findTarget(e)||null,this._setCursorFromEvent(e,t),this._fireOverOutEvents(t,e)),this._handleEvent(e,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(e,t){var n=this._hoveredTarget,i=this._hoveredTargets,r=this.targets,o=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var a=0;a<o;a++)this.fireSyntheticInOutEvents(r[a],t,{oldTarget:i[a],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(e,t){var n=this._draggedoverTarget,i=this._hoveredTargets,r=this.targets,o=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var a=0;a<o;a++)this.fireSyntheticInOutEvents(r[a],t,{oldTarget:i[a],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=e},fireSyntheticInOutEvents:function(e,t,n){var i,r,o,a=n.oldTarget,s=a!==e,l=n.canvasEvtIn,c=n.canvasEvtOut;s&&(i={e:t,target:e,previousTarget:a},r={e:t,target:a,nextTarget:e}),o=e&&s,a&&s&&(c&&this.fire(c,r),a.fire(n.evtOut,r)),o&&(l&&this.fire(l,i),e.fire(n.evtIn,i))},__onMouseWheel:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()},_transformObject:function(e){var t=this.getPointer(e),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,n.shiftKey=e.shiftKey,n.altKey=e[this.centeredKey],this._beforeScaleTransform(e,n),this._performTransformAction(e,n,t),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(e,t,n){var i=n.x,r=n.y,o=t.action,a=!1,s={target:t.target,e:e,transform:t,pointer:n};"rotate"===o?(a=this._rotateObject(i,r))&&this._fire("rotating",s):"scale"===o?(a=this._onScale(e,t,i,r))&&this._fire("scaling",s):"scaleX"===o?(a=this._scaleObject(i,r,"x"))&&this._fire("scaling",s):"scaleY"===o?(a=this._scaleObject(i,r,"y"))&&this._fire("scaling",s):"skewX"===o?(a=this._skewObject(i,r,"x"))&&this._fire("skewing",s):"skewY"===o?(a=this._skewObject(i,r,"y"))&&this._fire("skewing",s):(a=this._translateObject(i,r))&&(this._fire("moving",s),this.setCursor(s.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||a},_fire:function(e,t){this.fire("object:"+e,t),t.target.fire(e,t)},_beforeScaleTransform:function(e,t){if("scale"===t.action||"scaleX"===t.action||"scaleY"===t.action){var n=this._shouldCenterTransform(t.target);(n&&("center"!==t.originX||"center"!==t.originY)||!n&&"center"===t.originX&&"center"===t.originY)&&(this._resetCurrentTransform(),t.reset=!0)}},_onScale:function(e,t,n,i){return this._isUniscalePossible(e,t.target)?(t.currentAction="scale",this._scaleObject(n,i)):(t.reset||"scale"!==t.currentAction||this._resetCurrentTransform(),t.currentAction="scaleEqually",this._scaleObject(n,i,"equally"))},_isUniscalePossible:function(e,t){return(e[this.uniScaleKey]||this.uniScaleTransform)&&!t.get("lockUniScaling")},_setCursorFromEvent:function(e,t){if(!t)return this.setCursor(this.defaultCursor),!1;var n=t.hoverCursor||this.hoverCursor,i=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,r=(!i||!i.contains(t))&&t._findTargetCorner(this.getPointer(e,!0));r?this.setCursor(this.getCornerCursor(r,t,e)):(t.subTargetCheck&&this.targets.concat().reverse().map((function(e){n=e.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(t,n,i){return this.actionIsDisabled(t,n,i)?this.notAllowedCursor:t in e?this._getRotatedCornerCursor(t,n,i):"mtr"===t&&n.hasRotatingPoint?this.rotationCursor:this.defaultCursor},actionIsDisabled:function(e,t,n){return"mt"===e||"mb"===e?n[this.altActionKey]?t.lockSkewingX:t.lockScalingY:"ml"===e||"mr"===e?n[this.altActionKey]?t.lockSkewingY:t.lockScalingX:"mtr"===e?t.lockRotation:this._isUniscalePossible(n,t)?t.lockScalingX&&t.lockScalingY:t.lockScalingX||t.lockScalingY},_getRotatedCornerCursor:function(t,n,i){var r=Math.round(n.angle%360/45);return r<0&&(r+=8),r+=e[t],i[this.altActionKey]&&e[t]%2===0&&(r+=2),r%=8,this.cursorMap[r]}})}(),function(){var e=Math.min,t=Math.max;r.util.object.extend(r.Canvas.prototype,{_shouldGroup:function(e,t){var n=this._activeObject;return n&&this._isSelectionKeyPressed(e)&&t&&t.selectable&&this.selection&&(n!==t||"activeSelection"===n.type)&&!t.onSelect({e:e})},_handleGrouping:function(e,t){var n=this._activeObject;n.__corner||(t!==n||(t=this.findTarget(e,!0))&&t.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(t,e):this._createActiveSelection(t,e))},_updateActiveSelection:function(e,t){var n=this._activeObject,i=n._objects.slice(0);n.contains(e)?(n.removeWithUpdate(e),this._hoveredTarget=e,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),t)):(n.addWithUpdate(e),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(i,t)},_createActiveSelection:function(e,t){var n=this.getActiveObjects(),i=this._createGroup(e);this._hoveredTarget=i,this._setActiveObject(i,t),this._fireSelectionEvents(n,t)},_createGroup:function(e){var t=this._objects,n=t.indexOf(this._activeObject)<t.indexOf(e)?[this._activeObject,e]:[e,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new r.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(e){var t,n=this._collectObjects(e);1===n.length?this.setActiveObject(n[0],e):n.length>1&&(t=new r.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(t,e))},_collectObjects:function(n){for(var i,o=[],a=this._groupSelector.ex,s=this._groupSelector.ey,l=a+this._groupSelector.left,c=s+this._groupSelector.top,h=new r.Point(e(a,l),e(s,c)),d=new r.Point(t(a,l),t(s,c)),u=!this.selectionFullyContained,p=a===l&&s===c,f=this._objects.length;f--&&!((i=this._objects[f])&&i.selectable&&i.visible&&(u&&i.intersectsWithRect(h,d)||i.isContainedWithinRect(h,d)||u&&i.containsPoint(h)||u&&i.containsPoint(d))&&(o.push(i),p)););return o.length>1&&(o=o.filter((function(e){return!e.onSelect({e:n})}))),o},_maybeGroupObjects:function(e){this.selection&&this._groupSelector&&this._groupSelectedObjects(e),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),r.util.object.extend(r.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var t=e.format||"png",n=e.quality||1,i=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(i,e);return r.util.toDataURL(o,t,n)},toCanvasElement:function(e,t){e=e||1;var n=((t=t||{}).width||this.width)*e,i=(t.height||this.height)*e,o=this.getZoom(),a=this.width,s=this.height,l=o*e,c=this.viewportTransform,h=(c[4]-(t.left||0))*e,d=(c[5]-(t.top||0))*e,u=this.interactive,p=[l,0,0,l,h,d],f=this.enableRetinaScaling,m=r.util.createCanvasElement(),g=this.contextTop;return m.width=n,m.height=i,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=p,this.width=n,this.height=i,this.calcViewportBoundaries(),this.renderCanvas(m.getContext("2d"),this._objects),this.viewportTransform=c,this.width=a,this.height=s,this.calcViewportBoundaries(),this.interactive=u,this.enableRetinaScaling=f,this.contextTop=g,m}}),r.util.object.extend(r.StaticCanvas.prototype,{loadFromDatalessJSON:function(e,t,n){return this.loadFromJSON(e,t,n)},loadFromJSON:function(e,t,n){if(e){var i="string"===typeof e?JSON.parse(e):r.util.object.clone(e),o=this,a=i.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete i.clipPath,this._enlivenObjects(i.objects,(function(e){o.clear(),o._setBgOverlay(i,(function(){a?o._enlivenObjects([a],(function(n){o.clipPath=n[0],o.__setupCanvas.call(o,i,e,s,t)})):o.__setupCanvas.call(o,i,e,s,t)}))}),n),this}},__setupCanvas:function(e,t,n,i){var r=this;t.forEach((function(e,t){r.insertAt(e,t)})),this.renderOnAddRemove=n,delete e.objects,delete e.backgroundImage,delete e.overlayImage,delete e.background,delete e.overlay,this._setOptions(e),this.renderAll(),i&&i()},_setBgOverlay:function(e,t){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(e.backgroundImage||e.overlayImage||e.background||e.overlay){var i=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&t&&t()};this.__setBgOverlay("backgroundImage",e.backgroundImage,n,i),this.__setBgOverlay("overlayImage",e.overlayImage,n,i),this.__setBgOverlay("backgroundColor",e.background,n,i),this.__setBgOverlay("overlayColor",e.overlay,n,i)}else t&&t()},__setBgOverlay:function(e,t,n,i){var o=this;if(!t)return n[e]=!0,void(i&&i());"backgroundImage"===e||"overlayImage"===e?r.util.enlivenObjects([t],(function(t){o[e]=t[0],n[e]=!0,i&&i()})):this["set"+r.util.string.capitalize(e,!0)](t,(function(){n[e]=!0,i&&i()}))},_enlivenObjects:function(e,t,n){e&&0!==e.length?r.util.enlivenObjects(e,(function(e){t&&t(e)}),null,n):t&&t([])},_toDataURL:function(e,t){this.clone((function(n){t(n.toDataURL(e))}))},_toDataURLWithMultiplier:function(e,t,n){this.clone((function(i){n(i.toDataURLWithMultiplier(e,t))}))},clone:function(e,t){var n=JSON.stringify(this.toJSON(t));this.cloneWithoutData((function(t){t.loadFromJSON(n,(function(){e&&e(t)}))}))},cloneWithoutData:function(e){var t=r.util.createCanvasElement();t.width=this.width,t.height=this.height;var n=new r.Canvas(t);n.clipTo=this.clipTo,this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),e&&e(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):e&&e(n)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.object.clone,r=t.util.toFixed,o=t.util.string.capitalize,a=t.util.degreesToRadians,s=t.StaticCanvas.supports("setLineDash"),l=!t.isLikelyNode;t.Object||(t.Object=t.util.createClass(t.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:l,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(e){e&&this.setOptions(e)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=t.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(e){var n=t.perfLimitSizeTotal,i=e.width,r=e.height,o=t.maxCacheSideLimit,a=t.minCacheSideLimit;if(i<=o&&r<=o&&i*r<=n)return i<a&&(e.width=a),r<a&&(e.height=a),e;var s=i/r,l=t.util.limitDimsByArea(s,n),c=t.util.capValue,h=c(a,l.x,o),d=c(a,l.y,o);return i>h&&(e.zoomX/=i/h,e.width=h,e.capped=!0),r>d&&(e.zoomY/=r/d,e.height=d,e.capped=!0),e},_getCacheCanvasDimensions:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions(0,0),n=t.x*e.scaleX/this.scaleX,i=t.y*e.scaleY/this.scaleY;return{width:n+2,height:i+2,zoomX:e.scaleX,zoomY:e.scaleY,x:n,y:i}},_updateCacheCanvas:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var n=e._currentTransform.target,i=e._currentTransform.action;if(this===n&&i.slice&&"scale"===i.slice(0,5))return!1}var r,o,a=this._cacheCanvas,s=this._limitCacheSize(this._getCacheCanvasDimensions()),l=t.minCacheSideLimit,c=s.width,h=s.height,d=s.zoomX,u=s.zoomY,p=c!==this.cacheWidth||h!==this.cacheHeight,f=this.zoomX!==d||this.zoomY!==u,m=p||f,g=0,v=0,b=!1;if(p){var y=this._cacheCanvas.width,_=this._cacheCanvas.height,x=c>y||h>_;b=x||(c<.9*y||h<.9*_)&&y>l&&_>l,x&&!s.capped&&(c>l||h>l)&&(g=.1*c,v=.1*h)}return!!m&&(b?(a.width=Math.ceil(c+g),a.height=Math.ceil(h+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,a.width,a.height)),r=s.x/2,o=s.y/2,this.cacheTranslationX=Math.round(a.width/2-r)+r,this.cacheTranslationY=Math.round(a.height/2-o)+o,this.cacheWidth=c,this.cacheHeight=h,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(d,u),this.zoomX=d,this.zoomY=u,!0)},setOptions:function(e){this._setOptions(e),this._initGradient(e.fill,"fill"),this._initGradient(e.stroke,"stroke"),this._initClipping(e),this._initPattern(e.fill,"fill"),this._initPattern(e.stroke,"stroke")},transform:function(e){var t;t=this.group&&!this.group._transformDone?this.calcTransformMatrix():this.calcOwnMatrix(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},toObject:function(e){var n=t.Object.NUM_FRACTION_DIGITS,i={type:this.type,version:t.version,originX:this.originX,originY:this.originY,left:r(this.left,n),top:r(this.top,n),width:r(this.width,n),height:r(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:r(this.strokeMiterLimit,n),scaleX:r(this.scaleX,n),scaleY:r(this.scaleY,n),angle:r(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:r(this.skewX,n),skewY:r(this.skewY,n)};return this.clipPath&&(i.clipPath=this.clipPath.toObject(e),i.clipPath.inverted=this.clipPath.inverted,i.clipPath.absolutePositioned=this.clipPath.absolutePositioned),t.util.populateWithProperties(this,i,e),this.includeDefaultValues||(i=this._removeDefaultValues(i)),i},toDatalessObject:function(e){return this.toObject(e)},_removeDefaultValues:function(e){var n=t.util.getKlass(e.type).prototype;return n.stateProperties.forEach((function(t){"left"!==t&&"top"!==t&&(e[t]===n[t]&&delete e[t],"[object Array]"===Object.prototype.toString.call(e[t])&&"[object Array]"===Object.prototype.toString.call(n[t])&&0===e[t].length&&0===n[t].length&&delete e[t])})),e},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){var e=this.scaleX,t=this.scaleY;if(this.group){var n=this.group.getObjectScaling();e*=n.scaleX,t*=n.scaleY}return{scaleX:e,scaleY:t}},getTotalObjectScaling:function(){var e=this.getObjectScaling(),t=e.scaleX,n=e.scaleY;if(this.canvas){var i=this.canvas.getZoom(),r=this.canvas.getRetinaScaling();t*=i*r,n*=i*r}return{scaleX:t,scaleY:n}},getObjectOpacity:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e},_set:function(e,n){var i="scaleX"===e||"scaleY"===e,r=this[e]!==n,o=!1;return i&&(n=this._constrainScale(n)),"scaleX"===e&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===e&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==e||!n||n instanceof t.Shadow?"dirty"===e&&this.group&&this.group.set("dirty",n):n=new t.Shadow(n),this[e]=n,r&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(e)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(e)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:t.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height&&0===this.strokeWidth||!this.visible},render:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e,this),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this.clipTo&&t.util.clipContext(this,e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(e),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&e.restore(),e.restore())},renderCache:function(e){e=e||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!==typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(e){var n=this.clipPath;if(e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",n.absolutePositioned){var i=t.util.invertTransform(this.calcTransformMatrix());e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},drawObject:function(e,t){var n=this.fill,i=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):(this._renderBackground(e),this._setStrokeStyles(e,this),this._setFillStyles(e,this)),this._render(e),this._drawClipPath(e),this.fill=n,this.stroke=i},_drawClipPath:function(e){var t=this.clipPath;t&&(t.canvas=this.canvas,t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e))},drawCacheOnCanvas:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(e){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!e&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!e){var t=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-t/2,-n/2,t,n)}return!0}return!1},_renderBackground:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}},_setOpacity:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity},_setStrokeStyles:function(e,t){t.stroke&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,e.strokeStyle=t.stroke.toLive?t.stroke.toLive(e,this):t.stroke)},_setFillStyles:function(e,t){t.fill&&(e.fillStyle=t.fill.toLive?t.fill.toLive(e,this):t.fill)},_setClippingProperties:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"},_setLineDash:function(e,t,n){t&&0!==t.length&&(1&t.length&&t.push.apply(t,t),s?e.setLineDash(t):n&&n(e))},_renderControls:function(e,n){var i,r,o,s=this.getViewportTransform(),l=this.calcTransformMatrix();r="undefined"!==typeof(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,o="undefined"!==typeof n.hasControls?n.hasControls:this.hasControls,l=t.util.multiplyTransformMatrices(s,l),i=t.util.qrDecompose(l),e.save(),e.translate(i.translateX,i.translateY),e.lineWidth=1*this.borderScaleFactor,this.group||(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),n.forActiveSelection?(e.rotate(a(i.angle)),r&&this.drawBordersInGroup(e,i,n)):(e.rotate(a(this.angle)),r&&this.drawBorders(e,n)),o&&this.drawControls(e,n),e.restore()},_setShadow:function(e){if(this.shadow){var n,i=this.shadow,r=this.canvas,o=r&&r.viewportTransform[0]||1,a=r&&r.viewportTransform[3]||1;n=i.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),r&&r._isRetinaScaling()&&(o*=t.devicePixelRatio,a*=t.devicePixelRatio),e.shadowColor=i.color,e.shadowBlur=i.blur*t.browserShadowBlurConstant*(o+a)*(n.scaleX+n.scaleY)/4,e.shadowOffsetX=i.offsetX*o*n.scaleX,e.shadowOffsetY=i.offsetY*a*n.scaleY}},_removeShadow:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=t.gradientTransform||t.patternTransform,i=-this.width/2+t.offsetX||0,r=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,i,r):e.transform(1,0,0,1,i,r),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:r}},_renderPaintInOrder:function(e){"stroke"===this.paintFirst?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))},_render:function(){},_renderFill:function(e){this.fill&&(e.save(),this._applyPatternGradientTransform(e,this.fill),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())},_renderStroke:function(e){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform&&e.scale(1/this.scaleX,1/this.scaleY),this._setLineDash(e,this.strokeDashArray,this._renderDashedStroke),this.stroke.toLive&&"percentage"===this.stroke.gradientUnits?this._applyPatternForTransformedGradient(e,this.stroke):this._applyPatternGradientTransform(e,this.stroke),e.stroke(),e.restore())},_applyPatternForTransformedGradient:function(e,n){var i,r=this._limitCacheSize(this._getCacheCanvasDimensions()),o=t.util.createCanvasElement(),a=this.canvas.getRetinaScaling(),s=r.x/this.scaleX/a,l=r.y/this.scaleY/a;o.width=s,o.height=l,(i=o.getContext("2d")).beginPath(),i.moveTo(0,0),i.lineTo(s,0),i.lineTo(s,l),i.lineTo(0,l),i.closePath(),i.translate(s/2,l/2),i.scale(r.zoomX/this.scaleX/a,r.zoomY/this.scaleY/a),this._applyPatternGradientTransform(i,n),i.fillStyle=n.toLive(e),i.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(a*this.scaleX/r.zoomX,a*this.scaleY/r.zoomY),e.strokeStyle=i.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var e=t.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",e.scaleX),this.set("scaleY",e.scaleY),this.angle=e.angle,this.skewX=e.skewX,this.skewY=0}},_removeTransformMatrix:function(e){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=t.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,e&&(this.scaleX*=e.scaleX,this.scaleY*=e.scaleY,this.cropX=e.cropX,this.cropY=e.cropY,n.x+=e.offsetLeft,n.y+=e.offsetTop,this.width=e.width,this.height=e.height),this.setPositionByOrigin(n,"center","center")},clone:function(e,n){var i=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(i,e):t.Object._fromObject("Object",i,e)},cloneAsImage:function(e,n){var i=this.toCanvasElement(n);return e&&e(new t.Image(i)),this},toCanvasElement:function(e){e||(e={});var n=t.util,i=n.saveObjectTransform(this),r=this.group,o=this.shadow,a=Math.abs,s=(e.multiplier||1)*(e.enableRetinaScaling?t.devicePixelRatio:1);delete this.group,e.withoutTransform&&n.resetObjectTransform(this),e.withoutShadow&&(this.shadow=null);var l,c,h,d,u=t.util.createCanvasElement(),p=this.getBoundingRect(!0,!0),f=this.shadow,m={x:0,y:0};f&&(c=f.blur,l=f.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),m.x=2*Math.round(a(f.offsetX)+c)*a(l.scaleX),m.y=2*Math.round(a(f.offsetY)+c)*a(l.scaleY)),h=p.width+m.x,d=p.height+m.y,u.width=Math.ceil(h),u.height=Math.ceil(d);var g=new t.StaticCanvas(u,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===e.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new t.Point(g.width/2,g.height/2),"center","center");var v=this.canvas;g.add(this);var b=g.toCanvasElement(s||1,e);return this.shadow=o,this.canvas=v,r&&(this.group=r),this.set(i).setCoords(),g._objects=[],g.dispose(),g=null,b},toDataURL:function(e){return e||(e={}),t.util.toDataURL(this.toCanvasElement(e),e.format||"png",e.quality||1)},isType:function(e){return this.type===e},complexity:function(){return 1},toJSON:function(e){return this.toObject(e)},setGradient:function(e,n){n||(n={});var i={colorStops:[]};return i.type=n.type||(n.r1||n.r2?"radial":"linear"),i.coords={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},i.gradientUnits=n.gradientUnits||"pixels",(n.r1||n.r2)&&(i.coords.r1=n.r1,i.coords.r2=n.r2),i.gradientTransform=n.gradientTransform,t.Gradient.prototype.addColorStop.call(i,n.colorStops),this.set(e,t.Gradient.forObject(this,i))},setPatternFill:function(e,n){return this.set("fill",new t.Pattern(e,n))},setShadow:function(e){return this.set("shadow",e?new t.Shadow(e):null)},setColor:function(e){return this.set("fill",e),this},rotate:function(e){var t=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return t&&this._setOriginToCenter(),this.set("angle",e),t&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(e,n){n=n||this.canvas.getPointer(e);var i=new t.Point(n.x,n.y),r=this._getLeftTopCoords();return this.angle&&(i=t.util.rotatePoint(i,r,a(-this.angle))),{x:i.x-r.x,y:i.y-r.y}},_setupCompositeOperation:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}}),t.util.createAccessors&&t.util.createAccessors(t.Object),n(t.Object.prototype,t.Observable),t.Object.NUM_FRACTION_DIGITS=2,t.Object._fromObject=function(e,n,r,o){var a=t[e];n=i(n,!0),t.util.enlivenPatterns([n.fill,n.stroke],(function(e){"undefined"!==typeof e[0]&&(n.fill=e[0]),"undefined"!==typeof e[1]&&(n.stroke=e[1]),t.util.enlivenObjects([n.clipPath],(function(e){n.clipPath=e[0];var t=o?new a(n[o],n):new a(n);r&&r(t)}))}))},t.Object.__uid=0)}(t),function(){var e=r.util.degreesToRadians,t={left:-.5,center:0,right:.5},n={top:-.5,center:0,bottom:.5};r.util.object.extend(r.Object.prototype,{translateToGivenOrigin:function(e,i,o,a,s){var l,c,h,d=e.x,u=e.y;return"string"===typeof i?i=t[i]:i-=.5,"string"===typeof a?a=t[a]:a-=.5,"string"===typeof o?o=n[o]:o-=.5,"string"===typeof s?s=n[s]:s-=.5,c=s-o,((l=a-i)||c)&&(h=this._getTransformedDimensions(),d=e.x+l*h.x,u=e.y+c*h.y),new r.Point(d,u)},translateToCenterPoint:function(t,n,i){var o=this.translateToGivenOrigin(t,n,i,"center","center");return this.angle?r.util.rotatePoint(o,t,e(this.angle)):o},translateToOriginPoint:function(t,n,i){var o=this.translateToGivenOrigin(t,"center","center",n,i);return this.angle?r.util.rotatePoint(o,t,e(this.angle)):o},getCenterPoint:function(){var e=new r.Point(this.left,this.top);return this.translateToCenterPoint(e,this.originX,this.originY)},getPointByOrigin:function(e,t){var n=this.getCenterPoint();return this.translateToOriginPoint(n,e,t)},toLocalPoint:function(t,n,i){var o,a,s=this.getCenterPoint();return o="undefined"!==typeof n&&"undefined"!==typeof i?this.translateToGivenOrigin(s,"center","center",n,i):new r.Point(this.left,this.top),a=new r.Point(t.x,t.y),this.angle&&(a=r.util.rotatePoint(a,s,-e(this.angle))),a.subtractEquals(o)},setPositionByOrigin:function(e,t,n){var i=this.translateToCenterPoint(e,t,n),r=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(n){var i,o,a=e(this.angle),s=this.getScaledWidth(),l=r.util.cos(a)*s,c=r.util.sin(a)*s;i="string"===typeof this.originX?t[this.originX]:this.originX-.5,o="string"===typeof n?t[n]:n-.5,this.left+=l*(o-i),this.top+=c*(o-i),this.setCoords(),this.originX=n},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var e=this.getCenterPoint();this.originX="center",this.originY="center",this.left=e.x,this.top=e.y},_resetOrigin:function(){var e=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=e.x,this.top=e.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var e=r.util.degreesToRadians,t=r.util.multiplyTransformMatrices,n=r.util.transformPoint;r.util.object.extend(r.Object.prototype,{oCoords:null,aCoords:null,ownMatrixCache:null,matrixCache:null,getCoords:function(e,t){this.oCoords||this.setCoords();var n=e?this.aCoords:this.oCoords;return function(e){return[new r.Point(e.tl.x,e.tl.y),new r.Point(e.tr.x,e.tr.y),new r.Point(e.br.x,e.br.y),new r.Point(e.bl.x,e.bl.y)]}(t?this.calcCoords(e):n)},intersectsWithRect:function(e,t,n,i){var o=this.getCoords(n,i);return"Intersection"===r.Intersection.intersectPolygonRectangle(o,e,t).status},intersectsWithObject:function(e,t,n){return"Intersection"===r.Intersection.intersectPolygonPolygon(this.getCoords(t,n),e.getCoords(t,n)).status||e.isContainedWithinObject(this,t,n)||this.isContainedWithinObject(e,t,n)},isContainedWithinObject:function(e,t,n){for(var i=this.getCoords(t,n),r=0,o=e._getImageLines(n?e.calcCoords(t):t?e.aCoords:e.oCoords);r<4;r++)if(!e.containsPoint(i[r],o))return!1;return!0},isContainedWithinRect:function(e,t,n,i){var r=this.getBoundingRect(n,i);return r.left>=e.x&&r.left+r.width<=t.x&&r.top>=e.y&&r.top+r.height<=t.y},containsPoint:function(e,t,n,i){t=t||this._getImageLines(i?this.calcCoords(n):n?this.aCoords:this.oCoords);var r=this._findCrossPoints(e,t);return 0!==r&&r%2===1},isOnScreen:function(e){if(!this.canvas)return!1;for(var t,n=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br,r=this.getCoords(!0,e),o=0;o<4;o++)if((t=r[o]).x<=i.x&&t.x>=n.x&&t.y<=i.y&&t.y>=n.y)return!0;return!!this.intersectsWithRect(n,i,!0,e)||this._containsCenterOfCanvas(n,i,e)},_containsCenterOfCanvas:function(e,t,n){var i={x:(e.x+t.x)/2,y:(e.y+t.y)/2};return!!this.containsPoint(i,null,!0,n)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(t,n,!0,e)||this._containsCenterOfCanvas(t,n,e)},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_findCrossPoints:function(e,t){var n,i,r,o=0;for(var a in t)if(!((r=t[a]).o.y<e.y&&r.d.y<e.y)&&!(r.o.y>=e.y&&r.d.y>=e.y)&&(r.o.x===r.d.x&&r.o.x>=e.x?i=r.o.x:(0,n=(r.d.y-r.o.y)/(r.d.x-r.o.x),i=-(e.y-0*e.x-(r.o.y-n*r.o.x))/(0-n)),i>=e.x&&(o+=1),2===o))break;return o},getBoundingRect:function(e,t){var n=this.getCoords(e,t);return r.util.makeBoundingBoxFromPoints(n)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var n=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e,t){var n=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/n)},calcCoords:function(i){var o=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),s=t(a,o),l=this.getViewportTransform(),c=i?s:t(l,s),h=this._getTransformedDimensions(),d=h.x/2,u=h.y/2,p=n({x:-d,y:-u},c),f=n({x:d,y:-u},c),m=n({x:-d,y:u},c),g=n({x:d,y:u},c);if(!i){var v=this.padding,b=e(this.angle),y=r.util.cos(b),_=r.util.sin(b),x=y*v,w=_*v,C=x+w,S=x-w;v&&(p.x-=S,p.y-=C,f.x+=C,f.y-=S,m.x-=C,m.y+=S,g.x+=S,g.y+=C);var E=new r.Point((p.x+m.x)/2,(p.y+m.y)/2),k=new r.Point((f.x+p.x)/2,(f.y+p.y)/2),O=new r.Point((g.x+f.x)/2,(g.y+f.y)/2),T=new r.Point((g.x+m.x)/2,(g.y+m.y)/2),A=new r.Point(k.x+_*this.rotatingPointOffset,k.y-y*this.rotatingPointOffset)}var I={tl:p,tr:f,br:g,bl:m};return i||(I.ml=E,I.mt=k,I.mr=O,I.mb=T,I.mtr=A),I},setCoords:function(e,t){return this.oCoords=this.calcCoords(e),t||(this.aCoords=this.calcCoords(!0)),e||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){return r.util.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="";return!e&&this.group&&(t=this.group.transformMatrixKey(e)+"_"),t+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){if(e)return this.calcOwnMatrix();var n=this.transformMatrixKey(),i=this.matrixCache||(this.matrixCache={});if(i.key===n)return i.value;var r=this.calcOwnMatrix();return this.group&&(r=t(this.group.calcTransformMatrix(),r)),i.key=n,i.value=r,r},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),t=this.ownMatrixCache||(this.ownMatrixCache={});if(t.key===e)return t.value;var n=this._calcTranslateMatrix();return this.translateX=n[4],this.translateY=n[5],t.key=e,t.value=r.util.composeMatrix(this),t.value},_calcDimensionsTransformMatrix:function(e,t,n){return r.util.calcDimensionsMatrix({skewX:e,skewY:t,scaleX:this.scaleX*(n&&this.flipX?-1:1),scaleY:this.scaleY*(n&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth;return{x:this.width+e,y:this.height+e}},_getTransformedDimensions:function(e,t){"undefined"===typeof e&&(e=this.skewX),"undefined"===typeof t&&(t=this.skewY);var n,i,o=this._getNonTransformedDimensions(),a=0===e&&0===t;if(this.strokeUniform?(n=this.width,i=this.height):(n=o.x,i=o.y),a)return this._finalizeDimensions(n*this.scaleX,i*this.scaleY);var s=[{x:-(n/=2),y:-(i/=2)},{x:n,y:-i},{x:-n,y:i},{x:n,y:i}],l=r.util.calcDimensionsMatrix({scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:t}),c=r.util.makeBoundingBoxFromPoints(s,l);return this._finalizeDimensions(c.width,c.height)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions();return r.util.transformPoint(t,e,!0).scalarAdd(2*this.padding)}})}(),r.util.object.extend(r.Object.prototype,{sendToBack:function(){return this.group?r.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?r.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?r.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?r.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group&&"activeSelection"!==this.group.type?r.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas.moveTo(this,e),this}}),function(){function e(e,t){if(t){if(t.toLive)return e+": url(#SVGID_"+t.id+"); ";var n=new r.Color(t),i=e+": "+n.toRgb()+"; ",o=n.getAlpha();return 1!==o&&(i+=e+"-opacity: "+o.toString()+"; "),i}return e+": none; "}var t=r.util.toFixed;r.util.object.extend(r.Object.prototype,{getSvgStyles:function(t){var n=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c="undefined"!==typeof this.opacity?this.opacity:"1",h=this.visible?"":" visibility: hidden;",d=t?"":this.getSvgFilter(),u=e("fill",this.fill);return[e("stroke",this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",l,"; ",u,"fill-rule: ",n,"; ","opacity: ",c,";",d,h].join("")},getSvgSpanStyles:function(t,n){var i=t.fontFamily?"font-family: "+(-1===t.fontFamily.indexOf("'")&&-1===t.fontFamily.indexOf('"')?"'"+t.fontFamily+"'":t.fontFamily)+"; ":"",r=t.strokeWidth?"stroke-width: "+t.strokeWidth+"; ":"",o=(i=i,t.fontSize?"font-size: "+t.fontSize+"px; ":""),a=t.fontStyle?"font-style: "+t.fontStyle+"; ":"",s=t.fontWeight?"font-weight: "+t.fontWeight+"; ":"",l=t.fill?e("fill",t.fill):"",c=t.stroke?e("stroke",t.stroke):"",h=this.getSvgTextDecoration(t);return h&&(h="text-decoration: "+h+"; "),[c,r,i,o,a,s,h,l,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(e){return"overline"in e||"underline"in e||"linethrough"in e?(e.overline?"overline ":"")+(e.underline?"underline ":"")+(e.linethrough?"line-through ":""):""},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(e,t){var n=e?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+r.util.matrixToSVG(n)+(t||"")+this.getSvgTransformMatrix()+'" '},getSvgTransformMatrix:function(){return this.transformMatrix?" "+r.util.matrixToSVG(this.transformMatrix):""},_setSVGBg:function(e){if(this.backgroundColor){var n=r.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',t(-this.width/2,n),'" y="',t(-this.height/2,n),'" width="',t(this.width,n),'" height="',t(this.height,n),'"></rect>\n')}},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})},toClipPathSVG:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})},_createBaseClipPathSVGMarkup:function(e,t){var n=(t=t||{}).reviver,i=t.additionalTransform||"",r=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),o=e.indexOf("COMMON_PARTS");return e[o]=r,n?n(e.join("")):e.join("")},_createBaseSVGMarkup:function(e,t){var n,i,o=(t=t||{}).noStyle,a=t.reviver,s=o?"":'style="'+this.getSvgStyles()+'" ',l=t.withShadow?'style="'+this.getSvgFilter()+'" ':"",c=this.clipPath,h=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=c&&c.absolutePositioned,u=this.stroke,p=this.fill,f=this.shadow,m=[],g=e.indexOf("COMMON_PARTS"),v=t.additionalTransform;return c&&(c.clipPathId="CLIPPATH_"+r.Object.__uid++,i='<clipPath id="'+c.clipPathId+'" >\n'+c.toClipPathSVG(a)+"</clipPath>\n"),d&&m.push("<g ",l,this.getSvgCommons()," >\n"),m.push("<g ",this.getSvgTransform(!1),d?"":l+this.getSvgCommons()," >\n"),n=[s,h,o?"":this.addPaintOrder()," ",v?'transform="'+v+'" ':""].join(""),e[g]=n,p&&p.toLive&&m.push(p.toSVG(this)),u&&u.toLive&&m.push(u.toSVG(this)),f&&m.push(f.toSVG(this)),c&&m.push(i),m.push(e.join("")),m.push("</g>\n"),d&&m.push("</g>\n"),a?a(m.join("")):m.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var e=r.util.object.extend;function t(t,n,i){var r={};i.forEach((function(e){r[e]=t[e]})),e(t[n],r,!0)}r.util.object.extend(r.Object.prototype,{hasStateChanged:function(e){var t="_"+(e=e||"stateProperties");return Object.keys(this[t]).length<this[e].length||!function e(t,n,i){if(t===n)return!0;if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0,o=t.length;r<o;r++)if(!e(t[r],n[r]))return!1;return!0}if(t&&"object"===typeof t){var a,s=Object.keys(t);if(!n||"object"!==typeof n||!i&&s.length!==Object.keys(n).length)return!1;for(r=0,o=s.length;r<o;r++)if("canvas"!==(a=s[r])&&!e(t[a],n[a]))return!1;return!0}}(this[t],this,!0)},saveState:function(e){var n=e&&e.propertySet||"stateProperties",i="_"+n;return this[i]?(t(this,i,this[n]),e&&e.stateProperties&&t(this,i,e.stateProperties),this):this.setupState(e)},setupState:function(e){var t=(e=e||{}).propertySet||"stateProperties";return e.propertySet=t,this["_"+t]={},this.saveState(e),this}})}(),function(){var e=r.util.degreesToRadians;r.util.object.extend(r.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var t,n,i=e.x,r=e.y;for(var o in this.__corner=0,this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(n=this._getImageLines(this.oCoords[o].corner),0!==(t=this._findCrossPoints({x:i,y:r},n))&&t%2===1))return this.__corner=o,o;return!1},_setCornerCoords:function(){var t,n,i=this.oCoords,o=e(45-this.angle),a=.707106*this.cornerSize,s=a*r.util.cos(o),l=a*r.util.sin(o);for(var c in i)t=i[c].x,n=i[c].y,i[c].corner={tl:{x:t-l,y:n-s},tr:{x:t+s,y:n-l},bl:{x:t-s,y:n+l},br:{x:t+l,y:n+s}}},drawSelectionBackground:function(t){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;t.save();var n=this.getCenterPoint(),i=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return t.translate(n.x,n.y),t.scale(1/r[0],1/r[3]),t.rotate(e(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),t.restore(),this},drawBorders:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),i=1/this.borderScaleFactor,r=n.x+i,o=n.y+i,a="undefined"!==typeof t.hasRotatingPoint?t.hasRotatingPoint:this.hasRotatingPoint,s="undefined"!==typeof t.hasControls?t.hasControls:this.hasControls,l="undefined"!==typeof t.rotatingPointOffset?t.rotatingPointOffset:this.rotatingPointOffset;if(e.save(),e.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(e,t.borderDashArray||this.borderDashArray,null),e.strokeRect(-r/2,-o/2,r,o),a&&this.isControlVisible("mtr")&&s){var c=-o/2;e.beginPath(),e.moveTo(0,c),e.lineTo(0,c-l),e.stroke()}return e.restore(),this},drawBordersInGroup:function(e,t,n){n=n||{};var i=this._getNonTransformedDimensions(),o=r.util.composeMatrix({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX}),a=r.util.transformPoint(i,o),s=1/this.borderScaleFactor,l=a.x+s,c=a.y+s;return e.save(),this._setLineDash(e,n.borderDashArray||this.borderDashArray,null),e.strokeStyle=n.borderColor||this.borderColor,e.strokeRect(-l/2,-c/2,l,c),e.restore(),this},drawControls:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),i=n.x,r=n.y,o=t.cornerSize||this.cornerSize,a=-(i+o)/2,s=-(r+o)/2,l="undefined"!==typeof t.transparentCorners?t.transparentCorners:this.transparentCorners,c="undefined"!==typeof t.hasRotatingPoint?t.hasRotatingPoint:this.hasRotatingPoint,h=l?"stroke":"fill";return e.save(),e.strokeStyle=e.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(e.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(e,t.cornerDashArray||this.cornerDashArray,null),this._drawControl("tl",e,h,a,s,t),this._drawControl("tr",e,h,a+i,s,t),this._drawControl("bl",e,h,a,s+r,t),this._drawControl("br",e,h,a+i,s+r,t),this.get("lockUniScaling")||(this._drawControl("mt",e,h,a+i/2,s,t),this._drawControl("mb",e,h,a+i/2,s+r,t),this._drawControl("mr",e,h,a+i,s+r/2,t),this._drawControl("ml",e,h,a,s+r/2,t)),c&&this._drawControl("mtr",e,h,a+i/2,s-this.rotatingPointOffset,t),e.restore(),this},_drawControl:function(e,t,n,i,r,o){if(o=o||{},this.isControlVisible(e)){var a=this.cornerSize,s=!this.transparentCorners&&this.cornerStrokeColor;switch(o.cornerStyle||this.cornerStyle){case"circle":t.beginPath(),t.arc(i+a/2,r+a/2,a/2,0,2*Math.PI,!1),t[n](),s&&t.stroke();break;default:this.transparentCorners||t.clearRect(i,r,a,a),t[n+"Rect"](i,r,a,a),s&&t.strokeRect(i,r,a,a)}}},isControlVisible:function(e){return this._getControlsVisibility()[e]},setControlVisible:function(e,t){return this._getControlsVisibility()[e]=t,this},setControlsVisibility:function(e){for(var t in e||(e={}),e)this.setControlVisible(t,e[t]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility},onDeselect:function(){},onSelect:function(){}})}(),r.util.object.extend(r.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){var n=function(){},i=(t=t||{}).onComplete||n,o=t.onChange||n,a=this;return r.util.animate({startValue:e.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),a.requestRenderAll(),o()},onComplete:function(){e.setCoords(),i()}}),this},fxCenterObjectV:function(e,t){var n=function(){},i=(t=t||{}).onComplete||n,o=t.onChange||n,a=this;return r.util.animate({startValue:e.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),a.requestRenderAll(),o()},onComplete:function(){e.setCoords(),i()}}),this},fxRemove:function(e,t){var n=function(){},i=(t=t||{}).onComplete||n,o=t.onChange||n,a=this;return r.util.animate({startValue:e.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(t){e.set("opacity",t),a.requestRenderAll(),o()},onComplete:function(){a.remove(e),i()}}),this}}),r.util.object.extend(r.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var e,t,n=[];for(e in arguments[0])n.push(e);for(var i=0,r=n.length;i<r;i++)e=n[i],t=i!==r-1,this._animate(e,arguments[0][e],arguments[1],t)}else this._animate.apply(this,arguments);return this},_animate:function(e,t,n,i){var o,a=this;t=t.toString(),n=n?r.util.object.clone(n):{},~e.indexOf(".")&&(o=e.split("."));var s=o?this.get(o[0])[o[1]]:this.get(e);"from"in n||(n.from=s),t=~t.indexOf("=")?s+parseFloat(t.replace("=","")):parseFloat(t),r.util.animate({startValue:n.from,endValue:t,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(a)},onChange:function(t,r,s){o?a[o[0]][o[1]]=t:a.set(e,t),i||n.onChange&&n.onChange(t,r,s)},onComplete:function(e,t,r){i||(a.setCoords(),n.onComplete&&n.onComplete(e,t,r))}})}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.object.clone,r={x1:1,x2:1,y1:1,y2:1},o=t.StaticCanvas.supports("setLineDash");function a(e,t){var n=e.origin,i=e.axis1,r=e.axis2,o=e.dimension,a=t.nearest,s=t.center,l=t.farthest;return function(){switch(this.get(n)){case a:return Math.min(this.get(i),this.get(r));case s:return Math.min(this.get(i),this.get(r))+.5*this.get(o);case l:return Math.max(this.get(i),this.get(r))}}}t.Line?t.warn("fabric.Line is already defined"):(t.Line=t.util.createClass(t.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:t.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,t){e||(e=[0,0,0,0]),this.callSuper("initialize",t),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(t)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,t){return this.callSuper("_set",e,t),"undefined"!==typeof r[e]&&this._setWidthHeight(),this},_getLeftToOriginX:a({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:a({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){if(e.beginPath(),!this.strokeDashArray||this.strokeDashArray&&o){var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2)}e.lineWidth=this.strokeWidth;var n=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n},_renderDashedStroke:function(e){var n=this.calcLinePoints();e.beginPath(),t.util.drawDashedLine(e,n.x1,n.y1,n.x2,n.y2,this.strokeDashArray),e.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return n(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,t=this.y1<=this.y2?-1:1,n=e*this.width*.5,i=t*this.height*.5;return{x1:n,x2:e*this.width*-.5,y1:i,y2:t*this.height*-.5}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,'" />\n']}}),t.Line.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),t.Line.fromElement=function(e,i,r){r=r||{};var o=t.parseAttributes(e,t.Line.ATTRIBUTE_NAMES),a=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];i(new t.Line(a,n(o,r)))},t.Line.fromObject=function(e,n){var r=i(e,!0);r.points=[e.x1,e.y1,e.x2,e.y2],t.Object._fromObject("Line",r,(function(e){delete e.points,n&&n(e)}),"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.PI;t.Circle?t.warn("fabric.Circle is already defined."):(t.Circle=t.util.createClass(t.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:t.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(e,t){return this.callSuper("_set",e,t),"radius"===e&&this.setRadius(t),this},toObject:function(e){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(e))},_toSVG:function(){var e,i=(this.endAngle-this.startAngle)%(2*n);if(0===i)e=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var r=t.util.cos(this.startAngle)*this.radius,o=t.util.sin(this.startAngle)*this.radius,a=t.util.cos(this.endAngle)*this.radius,s=t.util.sin(this.endAngle)*this.radius,l=i>n?"1":"0";e=['<path d="M '+r+" "+o," A "+this.radius+" "+this.radius," 0 ",+l+" 1"," "+a+" "+s,'" ',"COMMON_PARTS"," />\n"]}return e},_render:function(e){e.beginPath(),e.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){return this.radius=e,this.set("width",2*e).set("height",2*e)}}),t.Circle.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),t.Circle.fromElement=function(e,n){var i,r=t.parseAttributes(e,t.Circle.ATTRIBUTE_NAMES);if(!("radius"in(i=r)&&i.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,n(new t.Circle(r))},t.Circle.fromObject=function(e,n){return t.Object._fromObject("Circle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Triangle?t.warn("fabric.Triangle is already defined"):(t.Triangle=t.util.createClass(t.Object,{type:"triangle",width:100,height:100,_render:function(e){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=this.width/2,i=this.height/2;e.beginPath(),t.util.drawDashedLine(e,-n,i,0,-i,this.strokeDashArray),t.util.drawDashedLine(e,0,-i,n,i,this.strokeDashArray),t.util.drawDashedLine(e,n,i,-n,i,this.strokeDashArray),e.closePath()},_toSVG:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-e+" "+t,"0 "+-t,e+" "+t].join(","),'" />']}}),t.Triangle.fromObject=function(e,n){return t.Object._fromObject("Triangle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=2*Math.PI;t.Ellipse?t.warn("fabric.Ellipse is already defined."):(t.Ellipse=t.util.createClass(t.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this.set("rx",e&&e.rx||0),this.set("ry",e&&e.ry||0)},_set:function(e,t){switch(this.callSuper("_set",e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,n,!1),e.restore(),this._renderPaintInOrder(e)}}),t.Ellipse.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),t.Ellipse.fromElement=function(e,n){var i=t.parseAttributes(e,t.Ellipse.ATTRIBUTE_NAMES);i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,n(new t.Ellipse(i))},t.Ellipse.fromObject=function(e,n){return t.Object._fromObject("Ellipse",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend;t.Rect?t.warn("fabric.Rect is already defined"):(t.Rect=t.util.createClass(t.Object,{stateProperties:t.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e){var t=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,i=this.width,r=this.height,o=-this.width/2,a=-this.height/2,s=0!==t||0!==n,l=.4477152502;e.beginPath(),e.moveTo(o+t,a),e.lineTo(o+i-t,a),s&&e.bezierCurveTo(o+i-l*t,a,o+i,a+l*n,o+i,a+n),e.lineTo(o+i,a+r-n),s&&e.bezierCurveTo(o+i,a+r-l*n,o+i-l*t,a+r,o+i-t,a+r),e.lineTo(o+t,a+r),s&&e.bezierCurveTo(o+l*t,a+r,o,a+r-l*n,o,a+r-n),e.lineTo(o,a+n),s&&e.bezierCurveTo(o,a+l*n,o+l*t,a,o+t,a),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=-this.width/2,i=-this.height/2,r=this.width,o=this.height;e.beginPath(),t.util.drawDashedLine(e,n,i,n+r,i,this.strokeDashArray),t.util.drawDashedLine(e,n+r,i,n+r,i+o,this.strokeDashArray),t.util.drawDashedLine(e,n+r,i+o,n,i+o,this.strokeDashArray),t.util.drawDashedLine(e,n,i+o,n,i,this.strokeDashArray),e.closePath()},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),t.Rect.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),t.Rect.fromElement=function(e,i,r){if(!e)return i(null);r=r||{};var o=t.parseAttributes(e,t.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var a=new t.Rect(n(r?t.util.object.clone(r):{},o));a.visible=a.visible&&a.width>0&&a.height>0,i(a)},t.Rect.fromObject=function(e,n){return t.Object._fromObject("Rect",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.util.array.min,r=t.util.array.max,o=t.util.toFixed;t.Polyline?t.warn("fabric.Polyline is already defined"):(t.Polyline=t.util.createClass(t.Object,{type:"polyline",points:null,cacheProperties:t.Object.prototype.cacheProperties.concat("points"),initialize:function(e,t){t=t||{},this.points=e||[],this.callSuper("initialize",t),this._setPositionDimensions(t)},_setPositionDimensions:function(e){var t,n=this._calcDimensions(e);this.width=n.width,this.height=n.height,e.fromSVG||(t=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),"undefined"===typeof e.left&&(this.left=e.fromSVG?n.left:t.x),"undefined"===typeof e.top&&(this.top=e.fromSVG?n.top:t.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var e=this.points,t=i(e,"x")||0,n=i(e,"y")||0;return{left:t,top:n,width:(r(e,"x")||0)-t,height:(r(e,"y")||0)-n}},toObject:function(e){return n(this.callSuper("toObject",e),{points:this.points.concat()})},_toSVG:function(){for(var e=[],n=this.pathOffset.x,i=this.pathOffset.y,r=t.Object.NUM_FRACTION_DIGITS,a=0,s=this.points.length;a<s;a++)e.push(o(this.points[a].x-n,r),",",o(this.points[a].y-i,r)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',e.join(""),'" />\n']},commonRender:function(e){var t,n=this.points.length,i=this.pathOffset.x,r=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;e.beginPath(),e.moveTo(this.points[0].x-i,this.points[0].y-r);for(var o=0;o<n;o++)t=this.points[o],e.lineTo(t.x-i,t.y-r);return!0},_render:function(e){this.commonRender(e)&&this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n,i;e.beginPath();for(var r=0,o=this.points.length;r<o;r++)n=this.points[r],i=this.points[r+1]||n,t.util.drawDashedLine(e,n.x,n.y,i.x,i.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),t.Polyline.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polyline.fromElementGenerator=function(e){return function(i,r,o){if(!i)return r(null);o||(o={});var a=t.parsePointsAttribute(i.getAttribute("points")),s=t.parseAttributes(i,t[e].ATTRIBUTE_NAMES);s.fromSVG=!0,r(new t[e](a,n(s,o)))}},t.Polyline.fromElement=t.Polyline.fromElementGenerator("Polyline"),t.Polyline.fromObject=function(e,n){return t.Object._fromObject("Polyline",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Polygon?t.warn("fabric.Polygon is already defined"):(t.Polygon=t.util.createClass(t.Polyline,{type:"polygon",_render:function(e){this.commonRender(e)&&(e.closePath(),this._renderPaintInOrder(e))},_renderDashedStroke:function(e){this.callSuper("_renderDashedStroke",e),e.closePath()}}),t.Polygon.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polygon.fromElement=t.Polyline.fromElementGenerator("Polygon"),t.Polygon.fromObject=function(e,n){return t.Object._fromObject("Polygon",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,i=t.util.array.max,r=t.util.object.extend,o=Object.prototype.toString,a=t.util.drawArc,s=t.util.toFixed,l={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};t.Path?t.warn("fabric.Path is already defined"):(t.Path=t.util.createClass(t.Object,{type:"path",path:null,cacheProperties:t.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:t.Object.prototype.stateProperties.concat("path"),initialize:function(e,n){n=n||{},this.callSuper("initialize",n),e||(e=[]);var i="[object Array]"===o.call(e);this.path=i?e:e.match&&e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(i||(this.path=this._parsePath()),t.Polyline.prototype._setPositionDimensions.call(this,n))},_renderPathCommands:function(e){var t,n,i,r=null,o=0,s=0,l=0,c=0,h=0,d=0,u=-this.pathOffset.x,p=-this.pathOffset.y;e.beginPath();for(var f=0,m=this.path.length;f<m;++f){switch((t=this.path[f])[0]){case"l":l+=t[1],c+=t[2],e.lineTo(l+u,c+p);break;case"L":l=t[1],c=t[2],e.lineTo(l+u,c+p);break;case"h":l+=t[1],e.lineTo(l+u,c+p);break;case"H":l=t[1],e.lineTo(l+u,c+p);break;case"v":c+=t[1],e.lineTo(l+u,c+p);break;case"V":c=t[1],e.lineTo(l+u,c+p);break;case"m":o=l+=t[1],s=c+=t[2],e.moveTo(l+u,c+p);break;case"M":o=l=t[1],s=c=t[2],e.moveTo(l+u,c+p);break;case"c":n=l+t[5],i=c+t[6],h=l+t[3],d=c+t[4],e.bezierCurveTo(l+t[1]+u,c+t[2]+p,h+u,d+p,n+u,i+p),l=n,c=i;break;case"C":l=t[5],c=t[6],h=t[3],d=t[4],e.bezierCurveTo(t[1]+u,t[2]+p,h+u,d+p,l+u,c+p);break;case"s":n=l+t[3],i=c+t[4],null===r[0].match(/[CcSs]/)?(h=l,d=c):(h=2*l-h,d=2*c-d),e.bezierCurveTo(h+u,d+p,l+t[1]+u,c+t[2]+p,n+u,i+p),h=l+t[1],d=c+t[2],l=n,c=i;break;case"S":n=t[3],i=t[4],null===r[0].match(/[CcSs]/)?(h=l,d=c):(h=2*l-h,d=2*c-d),e.bezierCurveTo(h+u,d+p,t[1]+u,t[2]+p,n+u,i+p),l=n,c=i,h=t[1],d=t[2];break;case"q":n=l+t[3],i=c+t[4],h=l+t[1],d=c+t[2],e.quadraticCurveTo(h+u,d+p,n+u,i+p),l=n,c=i;break;case"Q":n=t[3],i=t[4],e.quadraticCurveTo(t[1]+u,t[2]+p,n+u,i+p),l=n,c=i,h=t[1],d=t[2];break;case"t":n=l+t[1],i=c+t[2],null===r[0].match(/[QqTt]/)?(h=l,d=c):(h=2*l-h,d=2*c-d),e.quadraticCurveTo(h+u,d+p,n+u,i+p),l=n,c=i;break;case"T":n=t[1],i=t[2],null===r[0].match(/[QqTt]/)?(h=l,d=c):(h=2*l-h,d=2*c-d),e.quadraticCurveTo(h+u,d+p,n+u,i+p),l=n,c=i;break;case"a":a(e,l+u,c+p,[t[1],t[2],t[3],t[4],t[5],t[6]+l+u,t[7]+c+p]),l+=t[6],c+=t[7];break;case"A":a(e,l+u,c+p,[t[1],t[2],t[3],t[4],t[5],t[6]+u,t[7]+p]),l=t[6],c=t[7];break;case"z":case"Z":l=o,c=s,e.closePath()}r=t}},_render:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(e){return r(this.callSuper("toObject",e),{path:this.path.map((function(e){return e.slice()}))})},toDatalessObject:function(e){var t=this.toObject(["sourcePath"].concat(e));return t.sourcePath&&delete t.path,t},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',this.path.map((function(e){return e.join(" ")})).join(" "),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var e=t.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,e)+", "+s(-this.pathOffset.y,e)+")"},toClipPathSVG:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},toSVG:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},complexity:function(){return this.path.length},_parsePath:function(){for(var e,n,i,r,o,a=[],s=[],h=t.rePathCommand,d=0,u=this.path.length;d<u;d++){for(r=(e=this.path[d]).slice(1).trim(),s.length=0;i=h.exec(r);)s.push(i[0]);o=[e.charAt(0)];for(var p=0,f=s.length;p<f;p++)n=parseFloat(s[p]),isNaN(n)||o.push(n);var m=o[0],g=l[m.toLowerCase()],v=c[m]||m;if(o.length-1>g)for(var b=1,y=o.length;b<y;b+=g)a.push([m].concat(o.slice(b,b+g))),m=v;else a.push(o)}return a},_calcDimensions:function(){for(var e,r,o,a,s=[],l=[],c=null,h=0,d=0,u=0,p=0,f=0,m=0,g=0,v=this.path.length;g<v;++g){switch((e=this.path[g])[0]){case"l":u+=e[1],p+=e[2],a=[];break;case"L":u=e[1],p=e[2],a=[];break;case"h":u+=e[1],a=[];break;case"H":u=e[1],a=[];break;case"v":p+=e[1],a=[];break;case"V":p=e[1],a=[];break;case"m":h=u+=e[1],d=p+=e[2],a=[];break;case"M":h=u=e[1],d=p=e[2],a=[];break;case"c":r=u+e[5],o=p+e[6],f=u+e[3],m=p+e[4],a=t.util.getBoundsOfCurve(u,p,u+e[1],p+e[2],f,m,r,o),u=r,p=o;break;case"C":f=e[3],m=e[4],a=t.util.getBoundsOfCurve(u,p,e[1],e[2],f,m,e[5],e[6]),u=e[5],p=e[6];break;case"s":r=u+e[3],o=p+e[4],null===c[0].match(/[CcSs]/)?(f=u,m=p):(f=2*u-f,m=2*p-m),a=t.util.getBoundsOfCurve(u,p,f,m,u+e[1],p+e[2],r,o),f=u+e[1],m=p+e[2],u=r,p=o;break;case"S":r=e[3],o=e[4],null===c[0].match(/[CcSs]/)?(f=u,m=p):(f=2*u-f,m=2*p-m),a=t.util.getBoundsOfCurve(u,p,f,m,e[1],e[2],r,o),u=r,p=o,f=e[1],m=e[2];break;case"q":r=u+e[3],o=p+e[4],f=u+e[1],m=p+e[2],a=t.util.getBoundsOfCurve(u,p,f,m,f,m,r,o),u=r,p=o;break;case"Q":f=e[1],m=e[2],a=t.util.getBoundsOfCurve(u,p,f,m,f,m,e[3],e[4]),u=e[3],p=e[4];break;case"t":r=u+e[1],o=p+e[2],null===c[0].match(/[QqTt]/)?(f=u,m=p):(f=2*u-f,m=2*p-m),a=t.util.getBoundsOfCurve(u,p,f,m,f,m,r,o),u=r,p=o;break;case"T":r=e[1],o=e[2],null===c[0].match(/[QqTt]/)?(f=u,m=p):(f=2*u-f,m=2*p-m),a=t.util.getBoundsOfCurve(u,p,f,m,f,m,r,o),u=r,p=o;break;case"a":a=t.util.getBoundsOfArc(u,p,e[1],e[2],e[3],e[4],e[5],e[6]+u,e[7]+p),u+=e[6],p+=e[7];break;case"A":a=t.util.getBoundsOfArc(u,p,e[1],e[2],e[3],e[4],e[5],e[6],e[7]),u=e[6],p=e[7];break;case"z":case"Z":u=h,p=d}c=e,a.forEach((function(e){s.push(e.x),l.push(e.y)})),s.push(u),l.push(p)}var b=n(s)||0,y=n(l)||0;return{left:b,top:y,width:(i(s)||0)-b,height:(i(l)||0)-y}}}),t.Path.fromObject=function(e,n){if("string"===typeof e.sourcePath){var i=e.sourcePath;t.loadSVGFromURL(i,(function(t){var i=t[0];i.setOptions(e),n&&n(i)}))}else t.Object._fromObject("Path",e,n,"path")},t.Path.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(["d"]),t.Path.fromElement=function(e,n,i){var o=t.parseAttributes(e,t.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,n(new t.Path(o.d,r(o,i)))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,i=t.util.array.max;t.Group||(t.Group=t.util.createClass(t.Object,t.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(e,t,n){t=t||{},this._objects=[],n&&this.callSuper("initialize",t),this._objects=e||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;if(n)this._updateObjectsACoords();else{var r=t&&t.centerPoint;void 0!==t.originX&&(this.originX=t.originX),void 0!==t.originY&&(this.originY=t.originY),r||this._calcBounds(),this._updateObjectsCoords(r),delete t.centerPoint,this.callSuper("initialize",t)}this.setCoords()},_updateObjectsACoords:function(){for(var e=this._objects.length;e--;)this._objects[e].setCoords(!0,!0)},_updateObjectsCoords:function(e){e=e||this.getCenterPoint();for(var t=this._objects.length;t--;)this._updateObjectCoords(this._objects[t],e)},_updateObjectCoords:function(e,t){var n=e.left,i=e.top;e.set({left:n-t.x,top:i-t.y}),e.group=this,e.setCoords(!0,!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),e&&(this._objects.push(e),e.group=this,e._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(e){this.dirty=!0,e.group=this,e._set("canvas",this.canvas)},_onObjectRemoved:function(e){this.dirty=!0,delete e.group},_set:function(e,n){var i=this._objects.length;if(this.useSetOnGroup)for(;i--;)this._objects[i].setOnGroup(e,n);if("canvas"===e)for(;i--;)this._objects[i]._set(e,n);t.Object.prototype._set.call(this,e,n)},toObject:function(e){var n=this.includeDefaultValues,i=this._objects.map((function(t){var i=t.includeDefaultValues;t.includeDefaultValues=n;var r=t.toObject(e);return t.includeDefaultValues=i,r})),r=t.Object.prototype.toObject.call(this,e);return r.objects=i,r},toDatalessObject:function(e){var n,i=this.sourcePath;if(i)n=i;else{var r=this.includeDefaultValues;n=this._objects.map((function(t){var n=t.includeDefaultValues;t.includeDefaultValues=r;var i=t.toDatalessObject(e);return t.includeDefaultValues=n,i}))}var o=t.Object.prototype.toDatalessObject.call(this,e);return o.objects=n,o},render:function(e){this._transformDone=!0,this.callSuper("render",e),this._transformDone=!1},shouldCache:function(){var e=t.Object.prototype.shouldCache.call(this);if(e)for(var n=0,i=this._objects.length;n<i;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return e},willDrawShadow:function(){if(this.shadow)return t.Object.prototype.willDrawShadow.call(this);for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(e){for(var t=0,n=this._objects.length;t<n;t++)this._objects[t].render(e);this._drawClipPath(e)},isCacheDirty:function(e){if(this.callSuper("isCacheDirty",e))return!0;if(!this.statefullCache)return!1;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var i=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-i/2,-r/2,i,r)}return!0}return!1},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(e){var n=e.calcTransformMatrix(),i=t.util.qrDecompose(n),r=new t.Point(i.translateX,i.translateY);return e.flipX=!1,e.flipY=!1,e.set("scaleX",i.scaleX),e.set("scaleY",i.scaleY),e.skewX=i.skewX,e.skewY=i.skewY,e.angle=i.angle,e.setPositionByOrigin(r,"center","center"),e},_restoreObjectState:function(e){return this.realizeTransform(e),e.setCoords(),delete e.group,this},destroy:function(){return this._objects.forEach((function(e){e.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var e=this._objects,n=this.canvas;this._objects=[];var i=this.toObject();delete i.objects;var r=new t.ActiveSelection([]);return r.set(i),r.type="activeSelection",n.remove(this),e.forEach((function(e){e.group=r,e.dirty=!0,n.add(e)})),r.canvas=n,r._objects=e,n._activeObject=r,r.setCoords(),r}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(e){e.setCoords(!0,!0)})),this},_calcBounds:function(e){for(var t,n,i,r=[],o=[],a=["tr","br","bl","tl"],s=0,l=this._objects.length,c=a.length;s<l;++s)for((t=this._objects[s]).setCoords(!0),i=0;i<c;i++)n=a[i],r.push(t.oCoords[n].x),o.push(t.oCoords[n].y);this._getBounds(r,o,e)},_getBounds:function(e,r,o){var a=new t.Point(n(e),n(r)),s=new t.Point(i(e),i(r)),l=a.y||0,c=a.x||0,h=s.x-a.x||0,d=s.y-a.y||0;this.width=h,this.height=d,o||this.setPositionByOrigin({x:c,y:l},"left","top")},_toSVG:function(e){for(var t=["<g ","COMMON_PARTS"," >\n"],n=0,i=this._objects.length;n<i;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t},getSvgStyles:function(){var e="undefined"!==typeof this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")},toClipPathSVG:function(e){for(var t=[],n=0,i=this._objects.length;n<i;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}),t.Group.fromObject=function(e,n){var i=e.objects,r=t.util.object.clone(e,!0);delete r.objects,"string"!==typeof i?t.util.enlivenObjects(i,(function(i){t.util.enlivenObjects([e.clipPath],(function(r){var o=t.util.object.clone(e,!0);o.clipPath=r[0],delete o.objects,n&&n(new t.Group(i,o,!0))}))})):t.loadSVGFromURL(i,(function(o){var a=t.util.groupSVGElements(o,e,i);a.set(r),n&&n(a)}))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.ActiveSelection||(t.ActiveSelection=t.util.createClass(t.Group,{type:"activeSelection",initialize:function(e,n){n=n||{},this._objects=e||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),t.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var e=this._objects.concat();this._objects=[];var n=t.Object.prototype.toObject.call(this),i=new t.Group([]);if(delete n.type,i.set(n),e.forEach((function(e){e.canvas.remove(e),e.group=i})),i._objects=e,!this.canvas)return i;var r=this.canvas;return r.add(i),r._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",e,t),"undefined"===typeof(n=n||{}).hasControls&&(n.hasControls=!1),"undefined"===typeof n.hasRotatingPoint&&(n.hasRotatingPoint=!1),n.forActiveSelection=!0;for(var i=0,r=this._objects.length;i<r;i++)this._objects[i]._renderControls(e,n);e.restore()}}),t.ActiveSelection.fromObject=function(e,n){t.util.enlivenObjects(e.objects,(function(i){delete e.objects,n&&n(new t.ActiveSelection(i,e,!0))}))})}(t),function(e){"use strict";var t=r.util.object.extend;e.fabric||(e.fabric={}),e.fabric.Image?r.warn("fabric.Image is already defined."):(r.Image=r.util.createClass(r.Object,{type:"image",crossOrigin:"",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:r.Object.prototype.stateProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,initialize:function(e,t){t||(t={}),this.filters=[],this.cacheKey="texture"+r.Object.__uid++,this.callSuper("initialize",t),this._initElement(e,t)},getElement:function(){return this._element||{}},setElement:function(e,t){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=e,this._originalElement=e,this._initConfig(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(e){var t=r.filterBackend;t&&t.evictCachesForKey&&t.evictCachesForKey(e)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(e){r.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this))},setCrossOrigin:function(e){return this.crossOrigin=e,this._element.crossOrigin=e,this},getOriginalSize:function(){var e=this.getElement();return{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}},_stroke:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}},_renderDashedStroke:function(e){var t=-this.width/2,n=-this.height/2,i=this.width,o=this.height;e.save(),this._setStrokeStyles(e,this),e.beginPath(),r.util.drawDashedLine(e,t,n,t+i,n,this.strokeDashArray),r.util.drawDashedLine(e,t+i,n,t+i,n+o,this.strokeDashArray),r.util.drawDashedLine(e,t+i,n+o,t,n+o,this.strokeDashArray),r.util.drawDashedLine(e,t,n+o,t,n,this.strokeDashArray),e.closePath(),e.restore()},toObject:function(e){var n=[];this.filters.forEach((function(e){e&&n.push(e.toObject())}));var i=t(this.callSuper("toObject",["crossOrigin","cropX","cropY"].concat(e)),{src:this.getSrc(),filters:n});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var e,t=[],n=[],i=-this.width/2,o=-this.height/2,a="";if(this.hasCrop()){var s=r.Object.__uid++;t.push('<clipPath id="imageCrop_'+s+'">\n','\t<rect x="'+i+'" y="'+o+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),a=' clip-path="url(#imageCrop_'+s+')" '}if(n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',i-this.cropX,'" y="',o-this.cropY,'" width="',this._element.width||this._element.naturalWidth,'" height="',this._element.height||this._element.height,'"',a,"></image>\n"),this.stroke||this.strokeDashArray){var l=this.fill;this.fill=null,e=["\t<rect ",'x="',i,'" y="',o,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=l}return t="fill"!==this.paintFirst?t.concat(e,n):t.concat(n,e)},getSrc:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src"):t.src:this.src||""},setSrc:function(e,t,n){return r.util.loadImage(e,(function(e){this.setElement(e,n),this._setWidthHeight(),t&&t(this)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.scaleX,o=n.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>t&&o>t)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=o);r.filterBackend||(r.filterBackend=r.initFilterBackend());var s=r.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,c=a.width,h=a.height;s.width=c,s.height=h,this._element=s,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=o,r.filterBackend.applyFilters([e],a,c,h,this._element,l),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height},applyFilters:function(e){if(e=(e=e||this.filters||[]).filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===e.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var t=this._originalElement,n=t.naturalWidth||t.width,i=t.naturalHeight||t.height;if(this._element===this._originalElement){var o=r.util.createCanvasElement();o.width=n,o.height=i,this._element=o,this._filteredEl=o}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1;return r.filterBackend||(r.filterBackend=r.initFilterBackend()),r.filterBackend.applyFilters(e,this._originalElement,n,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(e){!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(e){var t=this._element,n=this.width,i=this.height,r=Math.min(t.naturalWidth||t.width,n*this._filterScalingX),o=Math.min(t.naturalHeight||t.height,i*this._filterScalingY),a=-n/2,s=-i/2,l=Math.max(0,this.cropX*this._filterScalingX),c=Math.max(0,this.cropY*this._filterScalingY);t&&e.drawImage(t,l,c,r,o,a,s,n,i)},_needsResize:function(){var e=this.getTotalObjectScaling();return e.scaleX!==this._lastScaleX||e.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(e,t){this.setElement(r.util.getById(e),t),r.util.addClass(this.getElement(),r.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setWidthHeight(e),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(e,t){e&&e.length?r.util.enlivenObjects(e,(function(e){t&&t(e)}),"fabric.Image.filters"):t&&t()},_setWidthHeight:function(e){e||(e={});var t=this.getElement();this.width=e.width||t.naturalWidth||t.width||0,this.height=e.height||t.naturalHeight||t.height||0},parsePreserveAspectRatioAttribute:function(){var e,t=r.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,i=this._element.height,o=1,a=1,s=0,l=0,c=0,h=0,d=this.width,u=this.height,p={width:d,height:u};return!t||"none"===t.alignX&&"none"===t.alignY?(o=d/n,a=u/i):("meet"===t.meetOrSlice&&(e=(d-n*(o=a=r.util.findScaleToFit(this._element,p)))/2,"Min"===t.alignX&&(s=-e),"Max"===t.alignX&&(s=e),e=(u-i*a)/2,"Min"===t.alignY&&(l=-e),"Max"===t.alignY&&(l=e)),"slice"===t.meetOrSlice&&(e=n-d/(o=a=r.util.findScaleToCover(this._element,p)),"Mid"===t.alignX&&(c=e/2),"Max"===t.alignX&&(c=e),e=i-u/a,"Mid"===t.alignY&&(h=e/2),"Max"===t.alignY&&(h=e),n=d/o,i=u/a)),{width:n,height:i,scaleX:o,scaleY:a,offsetLeft:s,offsetTop:l,cropX:c,cropY:h}}}),r.Image.CSS_CANVAS="canvas-img",r.Image.prototype.getSvgSrc=r.Image.prototype.getSrc,r.Image.fromObject=function(e,t){var n=r.util.object.clone(e);r.util.loadImage(n.src,(function(e,i){i?t&&t(null,i):r.Image.prototype._initFilters.call(n,n.filters,(function(i){n.filters=i||[],r.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(i){n.resizeFilter=i[0],r.util.enlivenObjects([n.clipPath],(function(i){n.clipPath=i[0];var o=new r.Image(e,n);t(o)}))}))}))}),null,n.crossOrigin)},r.Image.fromURL=function(e,t,n){r.util.loadImage(e,(function(e){t&&t(new r.Image(e,n))}),null,n&&n.crossOrigin)},r.Image.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),r.Image.fromElement=function(e,n,i){var o=r.parseAttributes(e,r.Image.ATTRIBUTE_NAMES);r.Image.fromURL(o["xlink:href"],n,t(i?r.util.object.clone(i):{},o))})}(t),r.util.object.extend(r.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.angle%360;return e>0?90*Math.round((e-1)/90):90*Math.round(e/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(e){var t=function(){},n=(e=e||{}).onComplete||t,i=e.onChange||t,o=this;return r.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(e){o.rotate(e),i()},onComplete:function(){o.setCoords(),n()}}),this}}),r.util.object.extend(r.StaticCanvas.prototype,{straightenObject:function(e){return e.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(e){return e.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function e(e,t){var n="precision "+t+" float;\nvoid main(){}",i=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(i,n),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS)}function t(e){e&&e.tileSize&&(this.tileSize=e.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}r.isWebglSupported=function(t){if(r.isLikelyNode)return!1;t=t||r.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),i=n.getContext("webgl")||n.getContext("experimental-webgl"),o=!1;if(i){r.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),o=r.maxTextureSize>=t;for(var a=["highp","mediump","lowp"],s=0;s<3;s++)if(e(i,a[s])){r.webGlPrecision=a[s];break}}return this.isSupported=o,o},r.WebglFilterBackend=t,t.prototype={tileSize:2048,resources:{},setupGLContext:function(e,t){this.dispose(),this.createWebGLCanvas(e,t),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(e,t)},chooseFastestCopyGLTo2DMethod:function(e,t){var n,i="undefined"!==typeof window.performance;try{new ImageData(1,1),n=!0}catch(f){n=!1}var o="undefined"!==typeof ArrayBuffer,l="undefined"!==typeof Uint8ClampedArray;if(i&&n&&o&&l){var c=r.util.createCanvasElement(),h=new ArrayBuffer(e*t*4);if(r.forceGLPutImageData)return this.imageBuffer=h,void(this.copyGLTo2D=s);var d,u,p={imageBuffer:h,destinationWidth:e,destinationHeight:t,targetCanvas:c};c.width=e,c.height=t,d=window.performance.now(),a.call(p,this.gl,p),u=window.performance.now()-d,d=window.performance.now(),s.call(p,this.gl,p),u>window.performance.now()-d?(this.imageBuffer=h,this.copyGLTo2D=s):this.copyGLTo2D=a}},createWebGLCanvas:function(e,t){var n=r.util.createCanvasElement();n.width=e,n.height=t;var i={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},o=n.getContext("webgl",i);o||(o=n.getContext("experimental-webgl",i)),o&&(o.clearColor(0,0,0,0),this.canvas=n,this.gl=o)},applyFilters:function(e,t,n,i,r,o){var a,s=this.gl;o&&(a=this.getCachedTexture(o,t));var l={originalWidth:t.width||t.originalWidth,originalHeight:t.height||t.originalHeight,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:s,sourceTexture:this.createTexture(s,n,i,!a&&t),targetTexture:this.createTexture(s,n,i),originalTexture:a||this.createTexture(s,n,i,!a&&t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},c=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,c),e.forEach((function(e){e&&e.applyTo(l)})),function(e){var t=e.targetCanvas,n=t.width,i=t.height,r=e.destinationWidth,o=e.destinationHeight;n===r&&i===o||(t.width=r,t.height=o)}(l),this.copyGLTo2D(s,l),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(l.sourceTexture),s.deleteTexture(l.targetTexture),s.deleteFramebuffer(c),r.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(e,t,n,i){var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),r},getCachedTexture:function(e,t){if(this.textureCache[e])return this.textureCache[e];var n=this.createTexture(this.gl,t.width,t.height,t);return this.textureCache[e]=n,n},evictCachesForKey:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])},copyGLTo2D:a,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var n=e.getExtension("WEBGL_debug_renderer_info");if(n){var i=e.getParameter(n.UNMASKED_RENDERER_WEBGL),r=e.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(t.renderer=i.toLowerCase()),r&&(t.vendor=r.toLowerCase())}return this.gpuInfo=t,t}}}(),function(){"use strict";var e=function(){};function t(){}r.Canvas2dFilterBackend=t,t.prototype={evictCachesForKey:e,dispose:e,clearWebGLCaches:e,resources:{},applyFilters:function(e,t,n,i,r){var o=r.getContext("2d");o.drawImage(t,0,0,n,i);var a={sourceWidth:n,sourceHeight:i,imageData:o.getImageData(0,0,n,i),originalEl:t,originalImageData:o.getImageData(0,0,n,i),canvasEl:r,ctx:o,filterBackend:this};return e.forEach((function(e){e.applyTo(a)})),a.imageData.width===n&&a.imageData.height===i||(r.width=a.imageData.width,r.height=a.imageData.height),o.putImageData(a.imageData,0,0),a}}}(),r.Image=r.Image||{},r.Image.filters=r.Image.filters||{},r.Image.filters.BaseFilter=r.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var t in e)this[t]=e[t]},createProgram:function(e,t,n){t=t||this.fragmentSource,n=n||this.vertexSource,"highp"!==r.webGlPrecision&&(t=t.replace(/precision highp float/g,"precision "+r.webGlPrecision+" float"));var i=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+e.getShaderInfoLog(i));var o=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+e.getShaderInfoLog(o));var a=e.createProgram();if(e.attachShader(a,i),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+e.getProgramInfoLog(a));var s=this.getAttributeLocations(e,a),l=this.getUniformLocations(e,a)||{};return l.uStepW=e.getUniformLocation(a,"uStepW"),l.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:s,uniformLocations:l}},getAttributeLocations:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(e,t,n){var i=t.aPosition,r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)},_setupFrameBuffer:function(e){var t,n,i=e.context;e.passes>1?(t=e.destinationWidth,n=e.destinationHeight,e.sourceWidth===t&&e.sourceHeight===n||(i.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(i,t,n)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t},isNeutralState:function(){var e=this.mainParameter,t=r.Image.filters[this.type].prototype;if(e){if(Array.isArray(t[e])){for(var n=t[e].length;n--;)if(this[e][n]!==t[e][n])return!1;return!0}return t[e]===this[e]}return!1},applyTo:function(e){e.webgl?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},retrieveShader:function(e){return e.programCache.hasOwnProperty(this.type)||(e.programCache[this.type]=this.createProgram(e.context)),e.programCache[this.type]},applyToWebGL:function(e){var t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)},unbindAdditionalTexture:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(e){this[this.mainParameter]=e},sendUniformData:function(){},createHelpLayer:function(e){if(!e.helpLayer){var t=document.createElement("canvas");t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}},toObject:function(){var e={type:this.type},t=this.mainParameter;return t&&(e[t]=this[t]),e},toJSON:function(){return this.toObject()}}),r.Image.filters.BaseFilter.fromObject=function(e,t){var n=new r.Image.filters[e.type](e);return t&&t(n),n},function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.ColorMatrix=i(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(e){this.callSuper("initialize",e),this.matrix=this.matrix.slice(0)},applyTo2d:function(e){var t,n,i,r,o,a=e.imageData.data,s=a.length,l=this.matrix,c=this.colorsOnly;for(o=0;o<s;o+=4)t=a[o],n=a[o+1],i=a[o+2],c?(a[o]=t*l[0]+n*l[1]+i*l[2]+255*l[4],a[o+1]=t*l[5]+n*l[6]+i*l[7]+255*l[9],a[o+2]=t*l[10]+n*l[11]+i*l[12]+255*l[14]):(r=a[o+3],a[o]=t*l[0]+n*l[1]+i*l[2]+r*l[3]+255*l[4],a[o+1]=t*l[5]+n*l[6]+i*l[7]+r*l[8]+255*l[9],a[o+2]=t*l[10]+n*l[11]+i*l[12]+r*l[13]+255*l[14],a[o+3]=t*l[15]+n*l[16]+i*l[17]+r*l[18]+255*l[19])},getUniformLocations:function(e,t){return{uColorMatrix:e.getUniformLocation(t,"uColorMatrix"),uConstants:e.getUniformLocation(t,"uConstants")}},sendUniformData:function(e,t){var n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],r=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,i),e.uniform4fv(t.uConstants,r)}}),t.Image.filters.ColorMatrix.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Brightness=i(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(0!==this.brightness){var t,n=e.imageData.data,i=n.length,r=Math.round(255*this.brightness);for(t=0;t<i;t+=4)n[t]=n[t]+r,n[t+1]=n[t+1]+r,n[t+2]=n[t+2]+r}},getUniformLocations:function(e,t){return{uBrightness:e.getUniformLocation(t,"uBrightness")}},sendUniformData:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}),t.Image.filters.Brightness.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.Image.filters,r=t.util.createClass;i.Convolute=r(i.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),n=this.type+"_"+t+"_"+(this.opaque?1:0),i=this.fragmentSource[n];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,i)),e.programCache[n]},applyTo2d:function(e){var t,n,i,r,o,a,s,l,c,h,d,u,p,f=e.imageData,m=f.data,g=this.matrix,v=Math.round(Math.sqrt(g.length)),b=Math.floor(v/2),y=f.width,_=f.height,x=e.ctx.createImageData(y,_),w=x.data,C=this.opaque?1:0;for(d=0;d<_;d++)for(h=0;h<y;h++){for(o=4*(d*y+h),t=0,n=0,i=0,r=0,p=0;p<v;p++)for(u=0;u<v;u++)a=h+u-b,(s=d+p-b)<0||s>=_||a<0||a>=y||(l=4*(s*y+a),c=g[p*v+u],t+=m[l]*c,n+=m[l+1]*c,i+=m[l+2]*c,C||(r+=m[l+3]*c));w[o]=t,w[o+1]=n,w[o+2]=i,w[o+3]=C?m[o+3]:r}e.imageData=x},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),t.Image.filters.Convolute.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Grayscale=i(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(e){var t,n,i=e.imageData.data,r=i.length,o=this.mode;for(t=0;t<r;t+=4)"average"===o?n=(i[t]+i[t+1]+i[t+2])/3:"lightness"===o?n=(Math.min(i[t],i[t+1],i[t+2])+Math.max(i[t],i[t+1],i[t+2]))/2:"luminosity"===o&&(n=.21*i[t]+.72*i[t+1]+.07*i[t+2]),i[t]=n,i[t+1]=n,i[t+2]=n},retrieveShader:function(e){var t=this.type+"_"+this.mode;if(!e.programCache.hasOwnProperty(t)){var n=this.fragmentSource[this.mode];e.programCache[t]=this.createProgram(e.context,n)}return e.programCache[t]},getUniformLocations:function(e,t){return{uMode:e.getUniformLocation(t,"uMode")}},sendUniformData:function(e,t){e.uniform1i(t.uMode,1)},isNeutralState:function(){return!1}}),t.Image.filters.Grayscale.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Invert=i(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(e){var t,n=e.imageData.data,i=n.length;for(t=0;t<i;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(e,t){return{uInvert:e.getUniformLocation(t,"uInvert")}},sendUniformData:function(e,t){e.uniform1i(t.uInvert,this.invert)}}),t.Image.filters.Invert.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.Image.filters,r=t.util.createClass;i.Noise=r(i.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(e){if(0!==this.noise){var t,n,i=e.imageData.data,r=i.length,o=this.noise;for(t=0,r=i.length;t<r;t+=4)n=(.5-Math.random())*o,i[t]+=n,i[t+1]+=n,i[t+2]+=n}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),t.Image.filters.Noise.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Pixelate=i(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(e){var t,n,i,r,o,a,s,l,c,h,d,u=e.imageData,p=u.data,f=u.height,m=u.width;for(n=0;n<f;n+=this.blocksize)for(i=0;i<m;i+=this.blocksize)for(r=p[t=4*n*m+4*i],o=p[t+1],a=p[t+2],s=p[t+3],h=Math.min(n+this.blocksize,f),d=Math.min(i+this.blocksize,m),l=n;l<h;l++)for(c=i;c<d;c++)p[t=4*l*m+4*c]=r,p[t+1]=o,p[t+2]=a,p[t+3]=s},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(e,t){return{uBlocksize:e.getUniformLocation(t,"uBlocksize"),uStepW:e.getUniformLocation(t,"uStepW"),uStepH:e.getUniformLocation(t,"uStepH")}},sendUniformData:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}),t.Image.filters.Pixelate.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,i=t.Image.filters,r=t.util.createClass;i.RemoveColor=r(i.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(e){var n,i,r,o,a=e.imageData.data,s=255*this.distance,l=new t.Color(this.color).getSource(),c=[l[0]-s,l[1]-s,l[2]-s],h=[l[0]+s,l[1]+s,l[2]+s];for(n=0;n<a.length;n+=4)i=a[n],r=a[n+1],o=a[n+2],i>c[0]&&r>c[1]&&o>c[2]&&i<h[0]&&r<h[1]&&o<h[2]&&(a[n+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,n){var i=new t.Color(this.color).getSource(),r=parseFloat(this.distance),o=[0+i[0]/255-r,0+i[1]/255-r,0+i[2]/255-r,1],a=[i[0]/255+r,i[1]/255+r,i[2]/255+r,1];e.uniform4fv(n.uLow,o),e.uniform4fv(n.uHigh,a)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),t.Image.filters.RemoveColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in r)n[o]=i(n.ColorMatrix,{type:o,matrix:r[o],mainParameter:!1,colorsOnly:!0}),t.Image.filters[o].fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,i=t.util.createClass;n.BlendColor=i(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(e){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[e]+"}\n}"},retrieveShader:function(e){var t,n=this.type+"_"+this.mode;return e.programCache.hasOwnProperty(n)||(t=this.buildSource(this.mode),e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyTo2d:function(e){var n,i,r,o,a,s,l,c=e.imageData.data,h=c.length,d=1-this.alpha;n=(l=new t.Color(this.color).getSource())[0]*this.alpha,i=l[1]*this.alpha,r=l[2]*this.alpha;for(var u=0;u<h;u+=4)switch(o=c[u],a=c[u+1],s=c[u+2],this.mode){case"multiply":c[u]=o*n/255,c[u+1]=a*i/255,c[u+2]=s*r/255;break;case"screen":c[u]=255-(255-o)*(255-n)/255,c[u+1]=255-(255-a)*(255-i)/255,c[u+2]=255-(255-s)*(255-r)/255;break;case"add":c[u]=o+n,c[u+1]=a+i,c[u+2]=s+r;break;case"diff":case"difference":c[u]=Math.abs(o-n),c[u+1]=Math.abs(a-i),c[u+2]=Math.abs(s-r);break;case"subtract":c[u]=o-n,c[u+1]=a-i,c[u+2]=s-r;break;case"darken":c[u]=Math.min(o,n),c[u+1]=Math.min(a,i),c[u+2]=Math.min(s,r);break;case"lighten":c[u]=Math.max(o,n),c[u+1]=Math.max(a,i),c[u+2]=Math.max(s,r);break;case"overlay":c[u]=n<128?2*o*n/255:255-2*(255-o)*(255-n)/255,c[u+1]=i<128?2*a*i/255:255-2*(255-a)*(255-i)/255,c[u+2]=r<128?2*s*r/255:255-2*(255-s)*(255-r)/255;break;case"exclusion":c[u]=n+o-2*n*o/255,c[u+1]=i+a-2*i*a/255,c[u+2]=r+s-2*r*s/255;break;case"tint":c[u]=n+o*d,c[u+1]=i+a*d,c[u+2]=r+s*d}},getUniformLocations:function(e,t){return{uColor:e.getUniformLocation(t,"uColor")}},sendUniformData:function(e,n){var i=new t.Color(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,e.uniform4fv(n.uColor,i)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,i=t.util.createClass;n.BlendImage=i(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(e){var t=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return e.programCache.hasOwnProperty(t)||(e.programCache[t]=this.createProgram(e.context,n)),e.programCache[t]},applyToWebGL:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(t,t.TEXTURE1)},createTexture:function(e,t){return e.getCachedTexture(t.cacheKey,t._element)},calculateMatrix:function(){var e=this.image,t=e._element.width,n=e._element.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]},applyTo2d:function(e){var n,i,r,o,a,s,l,c,h,d,u,p=e.imageData,f=e.filterBackend.resources,m=p.data,g=m.length,v=p.width,b=p.height,y=this.image;f.blendImage||(f.blendImage=t.util.createCanvasElement()),d=(h=f.blendImage).getContext("2d"),h.width!==v||h.height!==b?(h.width=v,h.height=b):d.clearRect(0,0,v,b),d.setTransform(y.scaleX,0,0,y.scaleY,y.left,y.top),d.drawImage(y._element,0,0,v,b),u=d.getImageData(0,0,v,b).data;for(var _=0;_<g;_+=4)switch(a=m[_],s=m[_+1],l=m[_+2],c=m[_+3],n=u[_],i=u[_+1],r=u[_+2],o=u[_+3],this.mode){case"multiply":m[_]=a*n/255,m[_+1]=s*i/255,m[_+2]=l*r/255,m[_+3]=c*o/255;break;case"mask":m[_+3]=o}},getUniformLocations:function(e,t){return{uTransformMatrix:e.getUniformLocation(t,"uTransformMatrix"),uImage:e.getUniformLocation(t,"uImage")}},sendUniformData:function(e,t){var n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendImage.fromObject=function(e,n){t.Image.fromObject(e.image,(function(i){var r=t.util.object.clone(e);r.image=i,n(new t.Image.filters.BlendImage(r))}))}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.pow,i=Math.floor,r=Math.sqrt,o=Math.abs,a=Math.round,s=Math.sin,l=Math.ceil,c=t.Image.filters,h=t.util.createClass;c.Resize=h(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(e,t){return{uDelta:e.getUniformLocation(t,"uDelta"),uTaps:e.getUniformLocation(t,"uTaps")}},sendUniformData:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)},retrieveShader:function(e){var t=this.getFilterWindow(),n=this.type+"_"+t;if(!e.programCache.hasOwnProperty(n)){var i=this.generateShader(t);e.programCache[n]=this.createProgram(e.context,i)}return e.programCache[n]},getFilterWindow:function(){var e=this.tempScale;return Math.ceil(this.lanczosLobes/e)},getTaps:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),i=new Array(n),r=1;r<=n;r++)i[r-1]=e(r*t);return i},generateShader:function(e){for(var t=new Array(e),n=this.fragmentSourceTOP,i=1;i<=e;i++)t[i-1]=i+".0 * uDelta";return n+="uniform float uTaps["+e+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",t.forEach((function(e,t){n+="  color += texture2D(uTexture, vTexCoord + "+e+") * uTaps["+t+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+e+") * uTaps["+t+"];\n",n+="  sum += 2.0 * uTaps["+t+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(e){e.webgl?(e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceHeight=e.destinationHeight):this.applyTo2d(e)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var n=(t*=Math.PI)/e;return s(t)/t*s(n)/n}},applyTo2d:function(e){var t=e.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;var r,o=t.width,s=t.height,l=a(o*n),c=a(s*i);"sliceHack"===this.resizeType?r=this.sliceByTwo(e,o,s,l,c):"hermite"===this.resizeType?r=this.hermiteFastResize(e,o,s,l,c):"bilinear"===this.resizeType?r=this.bilinearFiltering(e,o,s,l,c):"lanczos"===this.resizeType&&(r=this.lanczosResize(e,o,s,l,c)),e.imageData=r},sliceByTwo:function(e,n,r,o,a){var s,l,c=e.imageData,h=!1,d=!1,u=.5*n,p=.5*r,f=t.filterBackend.resources,m=0,g=0,v=n,b=0;for(f.sliceByTwo||(f.sliceByTwo=document.createElement("canvas")),((s=f.sliceByTwo).width<1.5*n||s.height<r)&&(s.width=1.5*n,s.height=r),(l=s.getContext("2d")).clearRect(0,0,1.5*n,r),l.putImageData(c,0,0),o=i(o),a=i(a);!h||!d;)n=u,r=p,o<i(.5*u)?u=i(.5*u):(u=o,h=!0),a<i(.5*p)?p=i(.5*p):(p=a,d=!0),l.drawImage(s,m,g,n,r,v,b,u,p),m=v,g=b,b+=p;return l.getImageData(m,g,o,a)},lanczosResize:function(e,t,a,s,c){var h=e.imageData.data,d=e.ctx.createImageData(s,c),u=d.data,p=this.lanczosCreate(this.lanczosLobes),f=this.rcpScaleX,m=this.rcpScaleY,g=2/this.rcpScaleX,v=2/this.rcpScaleY,b=l(f*this.lanczosLobes/2),y=l(m*this.lanczosLobes/2),_={},x={},w={};return function e(l){var C,S,E,k,O,T,A,I,j,P,M;for(x.x=(l+.5)*f,w.x=i(x.x),C=0;C<c;C++){for(x.y=(C+.5)*m,w.y=i(x.y),O=0,T=0,A=0,I=0,j=0,S=w.x-b;S<=w.x+b;S++)if(!(S<0||S>=t)){P=i(1e3*o(S-x.x)),_[P]||(_[P]={});for(var R=w.y-y;R<=w.y+y;R++)R<0||R>=a||(M=i(1e3*o(R-x.y)),_[P][M]||(_[P][M]=p(r(n(P*g,2)+n(M*v,2))/1e3)),(E=_[P][M])>0&&(O+=E,T+=E*h[k=4*(R*t+S)],A+=E*h[k+1],I+=E*h[k+2],j+=E*h[k+3]))}u[k=4*(C*s+l)]=T/O,u[k+1]=A/O,u[k+2]=I/O,u[k+3]=j/O}return++l<s?e(l):d}(0)},bilinearFiltering:function(e,t,n,r,o){var a,s,l,c,h,d,u,p,f,m=0,g=this.rcpScaleX,v=this.rcpScaleY,b=4*(t-1),y=e.imageData.data,_=e.ctx.createImageData(r,o),x=_.data;for(l=0;l<o;l++)for(c=0;c<r;c++)for(h=g*c-(a=i(g*c)),d=v*l-(s=i(v*l)),f=4*(s*t+a),u=0;u<4;u++)p=y[f+u]*(1-h)*(1-d)+y[f+4+u]*h*(1-d)+y[f+b+u]*d*(1-h)+y[f+b+4+u]*h*d,x[m++]=p;return _},hermiteFastResize:function(e,t,n,a,s){for(var c=this.rcpScaleX,h=this.rcpScaleY,d=l(c/2),u=l(h/2),p=e.imageData.data,f=e.ctx.createImageData(a,s),m=f.data,g=0;g<s;g++)for(var v=0;v<a;v++){for(var b=4*(v+g*a),y=0,_=0,x=0,w=0,C=0,S=0,E=0,k=(g+.5)*h,O=i(g*h);O<(g+1)*h;O++)for(var T=o(k-(O+.5))/u,A=(v+.5)*c,I=T*T,j=i(v*c);j<(v+1)*c;j++){var P=o(A-(j+.5))/d,M=r(I+P*P);M>1&&M<-1||(y=2*M*M*M-3*M*M+1)>0&&(E+=y*p[(P=4*(j+O*t))+3],x+=y,p[P+3]<255&&(y=y*p[P+3]/250),w+=y*p[P],C+=y*p[P+1],S+=y*p[P+2],_+=y)}m[b]=w/_,m[b+1]=C/_,m[b+2]=S/_,m[b+3]=E/x}return f},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),t.Image.filters.Resize.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Contrast=i(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(0!==this.contrast){var t,n=e.imageData.data,i=n.length,r=Math.floor(255*this.contrast),o=259*(r+255)/(255*(259-r));for(t=0;t<i;t+=4)n[t]=o*(n[t]-128)+128,n[t+1]=o*(n[t+1]-128)+128,n[t+2]=o*(n[t+2]-128)+128}},getUniformLocations:function(e,t){return{uContrast:e.getUniformLocation(t,"uContrast")}},sendUniformData:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}),t.Image.filters.Contrast.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Saturation=i(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(0!==this.saturation){var t,n,i=e.imageData.data,r=i.length,o=-this.saturation;for(t=0;t<r;t+=4)n=Math.max(i[t],i[t+1],i[t+2]),i[t]+=n!==i[t]?(n-i[t])*o:0,i[t+1]+=n!==i[t+1]?(n-i[t+1])*o:0,i[t+2]+=n!==i[t+2]?(n-i[t+2])*o:0}},getUniformLocations:function(e,t){return{uSaturation:e.getUniformLocation(t,"uSaturation")}},sendUniformData:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}}),t.Image.filters.Saturation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Blur=i(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(e){e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyTo2d:function(e){e.imageData=this.simpleBlur(e)},simpleBlur:function(e){var n,i,r=e.filterBackend.resources,o=e.imageData.width,a=e.imageData.height;r.blurLayer1||(r.blurLayer1=t.util.createCanvasElement(),r.blurLayer2=t.util.createCanvasElement()),n=r.blurLayer1,i=r.blurLayer2,n.width===o&&n.height===a||(i.width=n.width=o,i.height=n.height=a);var s,l,c,h,d=n.getContext("2d"),u=i.getContext("2d"),p=.06*this.blur*.5;for(d.putImageData(e.imageData,0,0),u.clearRect(0,0,o,a),h=-15;h<=15;h++)c=p*(l=h/15)*o+(s=(Math.random()-.5)/4),u.globalAlpha=1-Math.abs(l),u.drawImage(n,c,s),d.drawImage(i,0,0),u.globalAlpha=1,u.clearRect(0,0,i.width,i.height);for(h=-15;h<=15;h++)c=p*(l=h/15)*a+(s=(Math.random()-.5)/4),u.globalAlpha=1-Math.abs(l),u.drawImage(n,s,c),d.drawImage(i,0,0),u.globalAlpha=1,u.clearRect(0,0,i.width,i.height);e.ctx.drawImage(n,0,0);var f=e.ctx.getImageData(0,0,n.width,n.height);return d.globalAlpha=1,d.clearRect(0,0,n.width,n.height),f},getUniformLocations:function(e,t){return{delta:e.getUniformLocation(t,"uDelta")}},sendUniformData:function(e,t){var n=this.chooseRightDelta();e.uniform2fv(t.delta,n)},chooseRightDelta:function(){var e,t=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),e=t*this.blur*.12,this.horizontal?n[0]=e:n[1]=e,n}}),n.Blur.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Gamma=i(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,e)},applyTo2d:function(e){var t,n=e.imageData.data,i=this.gamma,r=n.length,o=1/i[0],a=1/i[1],s=1/i[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),t=0,r=256;t<r;t++)this.rVals[t]=255*Math.pow(t/255,o),this.gVals[t]=255*Math.pow(t/255,a),this.bVals[t]=255*Math.pow(t/255,s);for(t=0,r=n.length;t<r;t+=4)n[t]=this.rVals[n[t]],n[t+1]=this.gVals[n[t+1]],n[t+2]=this.bVals[n[t+2]]},getUniformLocations:function(e,t){return{uGamma:e.getUniformLocation(t,"uGamma")}},sendUniformData:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}}),t.Image.filters.Gamma.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.Composed=i(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(e){this.callSuper("initialize",e),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach((function(t){t.applyTo(e)}))},toObject:function(){return t.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(e){return e.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}),t.Image.filters.Composed.fromObject=function(e,n){var i=(e.subFilters||[]).map((function(e){return new t.Image.filters[e.type](e)})),r=new t.Image.filters.Composed({subFilters:i});return n&&n(r),r}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,i=t.util.createClass;n.HueRotation=i(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var e=this.rotation*Math.PI,n=t.util.cos(e),i=t.util.sin(e),r=Math.sqrt(1/3)*i,o=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+o/3,this.matrix[1]=1/3*o-r,this.matrix[2]=1/3*o+r,this.matrix[5]=1/3*o+r,this.matrix[6]=n+1/3*o,this.matrix[7]=1/3*o-r,this.matrix[10]=1/3*o-r,this.matrix[11]=1/3*o+r,this.matrix[12]=n+1/3*o},isNeutralState:function(e){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,e)},applyTo:function(e){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,e)}}),t.Image.filters.HueRotation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.clone;t.Text?t.warn("fabric.Text is already defined"):(t.Text=t.util.createClass(t.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:t.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:t.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(e,t){this.styles=t&&t.styles||{},this.text=e,this.__skipDimension=!0,this.callSuper("initialize",t),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return t._measuringContext||(t._measuringContext=this.canvas&&this.canvas.contextCache||t.util.createCanvasElement().getContext("2d")),t._measuringContext},_splitText:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var e,t,n,i,r,o,a,s=0,l=this._textLines.length;s<l;s++)if(("justify"===this.textAlign||s!==l-1&&!this.isEndOfWrapping(s))&&(i=0,r=this._textLines[s],(t=this.getLineWidth(s))<this.width&&(a=this.textLines[s].match(this._reSpacesAndTabs)))){n=a.length,e=(this.width-t)/n;for(var c=0,h=r.length;c<=h;c++)o=this.__charBounds[s][c],this._reSpaceAndTab.test(r[c])?(o.width+=e,o.kernedWidth+=e,o.left+=i,i+=e):o.left+=i}},isEndOfWrapping:function(e){return e===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions"),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e},_render:function(e){this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")},_renderText:function(e){"stroke"===this.paintFirst?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))},_setTextStyles:function(e,t,n){e.textBaseline="alphabetic",e.font=this._getFontDeclaration(t,n)},calcTextWidth:function(){for(var e=this.getLineWidth(0),t=1,n=this._textLines.length;t<n;t++){var i=this.getLineWidth(t);i>e&&(e=i)}return e},_renderTextLine:function(e,t,n,i,r,o){this._renderChars(e,t,n,i,r,o)},_renderTextLinesBackground:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t,n,i,r,o,a,s=0,l=e.fillStyle,c=this._getLeftOffset(),h=this._getTopOffset(),d=0,u=0,p=0,f=this._textLines.length;p<f;p++)if(t=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){i=this._textLines[p],n=this._getLineLeftOffset(p),u=0,d=0,r=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var m=0,g=i.length;m<g;m++)o=this.__charBounds[p][m],(a=this.getValueOfPropertyAt(p,m,"textBackgroundColor"))!==r?(e.fillStyle=r,r&&e.fillRect(c+n+d,h+s,u,t/this.lineHeight),d=o.left,u=o.width,r=a):u+=o.kernedWidth;a&&(e.fillStyle=a,e.fillRect(c+n+d,h+s,u,t/this.lineHeight)),s+=t}else s+=t;e.fillStyle=l,this._removeShadow(e)}},getFontCache:function(e){var n=e.fontFamily.toLowerCase();t.charWidthsCache[n]||(t.charWidthsCache[n]={});var i=t.charWidthsCache[n],r=e.fontStyle.toLowerCase()+"_"+(e.fontWeight+"").toLowerCase();return i[r]||(i[r]={}),i[r]},_applyCharStyles:function(e,t,n,i,r){this._setFillStyles(t,r),this._setStrokeStyles(t,r),t.font=this._getFontDeclaration(r)},_measureChar:function(e,t,n,i){var r,o,a,s,l=this.getFontCache(t),c=n+e,h=this._getFontDeclaration(t)===this._getFontDeclaration(i),d=t.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==l[n]&&(a=l[n]),void 0!==l[e]&&(s=r=l[e]),h&&void 0!==l[c]&&(s=(o=l[c])-a),void 0===r||void 0===a||void 0===o){var u=this.getMeasuringContext();this._setTextStyles(u,t,!0)}return void 0===r&&(s=r=u.measureText(e).width,l[e]=r),void 0===a&&h&&n&&(a=u.measureText(n).width,l[n]=a),h&&void 0===o&&(o=u.measureText(c).width,l[c]=o,s=o-a),{width:r*d,kernedWidth:s*d}},getHeightOfChar:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")},measureLine:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t},_measureLine:function(e){var t,n,i,r,o=0,a=this._textLines[e],s=new Array(a.length);for(this.__charBounds[e]=s,t=0;t<a.length;t++)n=a[t],r=this._getGraphemeBox(n,e,t,i),s[t]=r,o+=r.kernedWidth,i=n;return s[t]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:o,numOfSpaces:0}},_getGraphemeBox:function(e,t,n,i,r){var o,a=this.getCompleteStyleDeclaration(t,n),s=i?this.getCompleteStyleDeclaration(t,n-1):{},l=this._measureChar(e,a,i,s),c=l.kernedWidth,h=l.width;0!==this.charSpacing&&(h+=o=this._getWidthOfCharSpacing(),c+=o);var d={width:h,left:0,height:a.fontSize,kernedWidth:c,deltaY:a.deltaY};if(n>0&&!r){var u=this.__charBounds[t][n-1];d.left=u.left+u.width+l.kernedWidth-l.width}return d},getHeightOfLine:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this._textLines[e],n=this.getHeightOfChar(e,0),i=1,r=t.length;i<r;i++)n=Math.max(this.getHeightOfChar(e,i),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var e,t=0,n=0,i=this._textLines.length;n<i;n++)e=this.getHeightOfLine(n),t+=n===i-1?e/this.lineHeight:e;return t},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return e.transform(1,0,0,1,n,i),{offsetX:n,offsetY:i}},_renderTextCommon:function(e,t){e.save();for(var n=0,i=this._getLeftOffset(),r=this._getTopOffset(),o=this._applyPatternGradientTransform(e,"fillText"===t?this.fill:this.stroke),a=0,s=this._textLines.length;a<s;a++){var l=this.getHeightOfLine(a),c=l/this.lineHeight,h=this._getLineLeftOffset(a);this._renderTextLine(t,e,this._textLines[a],i+h-o.offsetX,r+n+c-o.offsetY,a),n+=l}e.restore()},_renderTextFill:function(e){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(e,"fillText")},_renderTextStroke:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())},_renderChars:function(e,t,n,i,r,o){var a,s,l,c,h=this.getHeightOfLine(o),d=-1!==this.textAlign.indexOf("justify"),u="",p=0,f=!d&&0===this.charSpacing&&this.isEmptyStyles(o);if(t.save(),r-=h*this._fontSizeFraction/this.lineHeight,f)return this._renderChar(e,t,o,0,this.textLines[o],i,r,h),void t.restore();for(var m=0,g=n.length-1;m<=g;m++)c=m===g||this.charSpacing,u+=n[m],l=this.__charBounds[o][m],0===p?(i+=l.kernedWidth-l.width,p+=l.width):p+=l.kernedWidth,d&&!c&&this._reSpaceAndTab.test(n[m])&&(c=!0),c||(a=a||this.getCompleteStyleDeclaration(o,m),s=this.getCompleteStyleDeclaration(o,m+1),c=this._hasStyleChanged(a,s)),c&&(this._renderChar(e,t,o,m,u,i,r,h),u="",a=s,i+=p,p=0);t.restore()},_renderChar:function(e,t,n,i,r,o,a){var s=this._getStyleDeclaration(n,i),l=this.getCompleteStyleDeclaration(n,i),c="fillText"===e&&l.fill,h="strokeText"===e&&l.stroke&&l.strokeWidth;(h||c)&&(s&&t.save(),this._applyCharStyles(e,t,n,i,l),s&&s.textBackgroundColor&&this._removeShadow(t),s&&s.deltaY&&(a+=s.deltaY),c&&t.fillText(r,o,a),h&&t.strokeText(r,o,a),s&&t.restore())},setSuperscript:function(e,t){return this._setScript(e,t,this.superscript)},setSubscript:function(e,t){return this._setScript(e,t,this.subscript)},_setScript:function(e,t,n){var i=this.get2DCursorLocation(e,!0),r=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),a={fontSize:r*n.size,deltaY:o+r*n.baseline};return this.setSelectionStyles(a,e,t),this},_hasStyleChanged:function(e,t){return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.deltaY!==t.deltaY},_hasStyleChangedForSvg:function(e,t){return this._hasStyleChanged(e,t)||e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough},_getLineLeftOffset:function(e){var t=this.getLineWidth(e);return"center"===this.textAlign?(this.width-t)/2:"right"===this.textAlign?this.width-t:"justify-center"===this.textAlign&&this.isEndOfWrapping(e)?(this.width-t)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(e)?this.width-t:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var e=this._forceClearCache;return e||(e=this.hasStateChanged("_dimensionAffectingProps")),e&&(this.dirty=!0,this._forceClearCache=!1),e},getLineWidth:function(e){return this.__lineWidths[e]?this.__lineWidths[e]:(t=""===this._textLines[e]?0:this.measureLine(e).width,this.__lineWidths[e]=t,t);var t},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(e,t,n){var i=this._getStyleDeclaration(e,t);return i&&"undefined"!==typeof i[n]?i[n]:this[n]},_renderTextDecoration:function(e,t){if(this[t]||this.styleHas(t)){for(var n,i,r,o,a,s,l,c,h,d,u,p,f,m,g,v,b=this._getLeftOffset(),y=this._getTopOffset(),_=this._getWidthOfCharSpacing(),x=0,w=this._textLines.length;x<w;x++)if(n=this.getHeightOfLine(x),this[t]||this.styleHas(t,x)){l=this._textLines[x],m=n/this.lineHeight,o=this._getLineLeftOffset(x),d=0,u=0,c=this.getValueOfPropertyAt(x,0,t),v=this.getValueOfPropertyAt(x,0,"fill"),h=y+m*(1-this._fontSizeFraction),i=this.getHeightOfChar(x,0),a=this.getValueOfPropertyAt(x,0,"deltaY");for(var C=0,S=l.length;C<S;C++)p=this.__charBounds[x][C],f=this.getValueOfPropertyAt(x,C,t),g=this.getValueOfPropertyAt(x,C,"fill"),r=this.getHeightOfChar(x,C),s=this.getValueOfPropertyAt(x,C,"deltaY"),(f!==c||g!==v||r!==i||s!==a)&&u>0?(e.fillStyle=v,c&&v&&e.fillRect(b+o+d,h+this.offsets[t]*i+a,u,this.fontSize/15),d=p.left,u=p.width,c=f,v=g,i=r,a=s):u+=p.kernedWidth;e.fillStyle=g,f&&g&&e.fillRect(b+o+d,h+this.offsets[t]*i+a,u-_,this.fontSize/15),y+=n}else y+=n;this._removeShadow(e)}},_getFontDeclaration:function(e,n){var i=e||this,r=this.fontFamily,o=t.Text.genericFonts.indexOf(r.toLowerCase())>-1,a=void 0===r||r.indexOf("'")>-1||r.indexOf(",")>-1||r.indexOf('"')>-1||o?i.fontFamily:'"'+i.fontFamily+'"';return[t.isLikelyNode?i.fontWeight:i.fontStyle,t.isLikelyNode?i.fontStyle:i.fontWeight,n?this.CACHE_FONT_SIZE+"px":i.fontSize+"px",a].join(" ")},render:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",e)))},_splitTextIntoLines:function(e){for(var n=e.split(this._reNewline),i=new Array(n.length),r=["\n"],o=[],a=0;a<n.length;a++)i[a]=t.util.string.graphemeSplit(n[a]),o=o.concat(i[a],r);return o.pop(),{_unwrappedLines:i,lines:n,graphemeText:o,graphemeLines:i}},toObject:function(e){var t=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(e),i=this.callSuper("toObject",t);return i.styles=n(this.styles,!0),i},set:function(e,t){this.callSuper("set",e,t);var n=!1;if("object"===typeof e)for(var i in e)n=n||-1!==this._dimensionAffectingProps.indexOf(i);else n=-1!==this._dimensionAffectingProps.indexOf(e);return n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),t.Text.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),t.Text.DEFAULT_SVG_FONT_SIZE=16,t.Text.fromElement=function(e,i,r){if(!e)return i(null);var o=t.parseAttributes(e,t.Text.ATTRIBUTE_NAMES),a=o.textAnchor||"left";if((r=t.util.object.extend(r?n(r):{},o)).top=r.top||0,r.left=r.left||0,o.textDecoration){var s=o.textDecoration;-1!==s.indexOf("underline")&&(r.underline=!0),-1!==s.indexOf("overline")&&(r.overline=!0),-1!==s.indexOf("line-through")&&(r.linethrough=!0),delete r.textDecoration}"dx"in o&&(r.left+=o.dx),"dy"in o&&(r.top+=o.dy),"fontSize"in r||(r.fontSize=t.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in e?l=e.textContent:"firstChild"in e&&null!==e.firstChild&&"data"in e.firstChild&&null!==e.firstChild.data&&(l=e.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=r.strokeWidth;r.strokeWidth=0;var h=new t.Text(l,r),d=h.getScaledHeight()/h.height,u=((h.height+h.strokeWidth)*h.lineHeight-h.height)*d,p=h.getScaledHeight()+u,f=0;"center"===a&&(f=h.getScaledWidth()/2),"right"===a&&(f=h.getScaledWidth()),h.set({left:h.left-f,top:h.top-(p-h.fontSize*(.07+h._fontSizeFraction))/h.lineHeight,strokeWidth:"undefined"!==typeof c?c:1}),i(h)},t.Text.fromObject=function(e,n){return t.Object._fromObject("Text",e,n,"text")},t.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],t.util.createAccessors&&t.util.createAccessors(t.Text))}(t),r.util.object.extend(r.Text.prototype,{isEmptyStyles:function(e){if(!this.styles)return!0;if("undefined"!==typeof e&&!this.styles[e])return!0;var t="undefined"===typeof e?this.styles:{line:this.styles[e]};for(var n in t)for(var i in t[n])for(var r in t[n][i])return!1;return!0},styleHas:function(e,t){if(!this.styles||!e||""===e)return!1;if("undefined"!==typeof t&&!this.styles[t])return!1;var n="undefined"===typeof t?this.styles:{0:this.styles[t]};for(var i in n)for(var r in n[i])if("undefined"!==typeof n[i][r][e])return!0;return!1},cleanStyle:function(e){if(!this.styles||!e||""===e)return!1;var t,n,i=this.styles,r=0,o=!0,a=0;for(var s in i){for(var l in t=0,i[s]){var c;r++,(c=i[s][l]).hasOwnProperty(e)?(n?c[e]!==n&&(o=!1):n=c[e],c[e]===this[e]&&delete c[e]):o=!1,0!==Object.keys(c).length?t++:delete i[s][l]}0===t&&delete i[s]}for(var h=0;h<this._textLines.length;h++)a+=this._textLines[h].length;o&&r===a&&(this[e]=n,this.removeStyle(e))},removeStyle:function(e){if(this.styles&&e&&""!==e){var t,n,i,r=this.styles;for(n in r){for(i in t=r[n])delete t[i][e],0===Object.keys(t[i]).length&&delete t[i];0===Object.keys(t).length&&delete r[n]}}},_extendStyles:function(e,t){var n=this.get2DCursorLocation(e);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),r.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),t)},get2DCursorLocation:function(e,t){"undefined"===typeof e&&(e=this.selectionStart);for(var n=t?this._unwrappedTextLines:this._textLines,i=n.length,r=0;r<i;r++){if(e<=n[r].length)return{lineIndex:r,charIndex:e};e-=n[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:n[r-1].length<e?n[r-1].length:e}},getSelectionStyles:function(e,t,n){"undefined"===typeof e&&(e=this.selectionStart||0),"undefined"===typeof t&&(t=this.selectionEnd||e);for(var i=[],r=e;r<t;r++)i.push(this.getStyleAtPosition(r,n));return i},getStyleAtPosition:function(e,t){var n=this.get2DCursorLocation(e);return(t?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(e,t,n){"undefined"===typeof t&&(t=this.selectionStart||0),"undefined"===typeof n&&(n=this.selectionEnd||t);for(var i=t;i<n;i++)this._extendStyles(i,e);return this._forceClearCache=!0,this},_getStyleDeclaration:function(e,t){var n=this.styles&&this.styles[e];return n?n[t]:null},getCompleteStyleDeclaration:function(e,t){for(var n,i=this._getStyleDeclaration(e,t)||{},r={},o=0;o<this._styleProperties.length;o++)r[n=this._styleProperties[o]]="undefined"===typeof i[n]?this[n]:i[n];return r},_setStyleDeclaration:function(e,t,n){this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){delete this.styles[e][t]},_getLineStyle:function(e){return!!this.styles[e]},_setLineStyle:function(e){this.styles[e]={}},_deleteLineStyle:function(e){delete this.styles[e]}}),function(){function e(e){e.textDecoration&&(e.textDecoration.indexOf("underline")>-1&&(e.underline=!0),e.textDecoration.indexOf("line-through")>-1&&(e.linethrough=!0),e.textDecoration.indexOf("overline")>-1&&(e.overline=!0),delete e.textDecoration)}r.IText=r.util.createClass(r.Text,r.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(e,t){this.callSuper("initialize",e,t),this.initBehavior()},setSelectionStart:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)},setSelectionEnd:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)},_updateAndFire:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(e){this.clearContextTop(),this.callSuper("render",e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(e){this.callSuper("_render",e)},clearContextTop:function(e){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop,n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._clearTextArea(t),e||t.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(e){var t=this.width+4,n=this.height+4;e.clearRect(-t/2,-n/2,t,n)},_getCursorBoundaries:function(e){"undefined"===typeof e&&(e=this.selectionStart);var t=this._getLeftOffset(),n=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e);return{left:t,top:n,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,n,i,r,o=0,a=0,s=this.get2DCursorLocation(e);i=s.charIndex,n=s.lineIndex;for(var l=0;l<n;l++)o+=this.getHeightOfLine(l);t=this._getLineLeftOffset(n);var c=this.__charBounds[n][i];return c&&(a=c.left),0!==this.charSpacing&&i===this._textLines[n].length&&(a-=this._getWidthOfCharSpacing()),r={top:o,left:t+(a>0?a:0)},this.cursorOffsetCache=r,this.cursorOffsetCache},renderCursor:function(e,t){var n=this.get2DCursorLocation(),i=n.lineIndex,r=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(i,r,"fontSize"),a=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/a,l=e.topOffset,c=this.getValueOfPropertyAt(i,r,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(e,t),t.fillStyle=this.getValueOfPropertyAt(i,r,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-s/2,l+e.top+c,s,o)},renderSelection:function(e,t){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,r=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(n),a=this.get2DCursorLocation(i),s=o.lineIndex,l=a.lineIndex,c=o.charIndex<0?0:o.charIndex,h=a.charIndex<0?0:a.charIndex,d=s;d<=l;d++){var u,p=this._getLineLeftOffset(d)||0,f=this.getHeightOfLine(d),m=0,g=0;if(d===s&&(m=this.__charBounds[s][c].left),d>=s&&d<l)g=r&&!this.isEndOfWrapping(d)?this.width:this.getLineWidth(d)||5;else if(d===l)if(0===h)g=this.__charBounds[l][h].left;else{var v=this._getWidthOfCharSpacing();g=this.__charBounds[l][h-1].left+this.__charBounds[l][h-1].width-v}u=f,(this.lineHeight<1||d===l&&this.lineHeight>1)&&(f/=this.lineHeight),this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",t.fillRect(e.left+p+m,e.top+e.topOffset+f,g-m,1)):(t.fillStyle=this.selectionColor,t.fillRect(e.left+p+m,e.top+e.topOffset,g-m,f)),e.topOffset+=u}},getCurrentCharFontSize:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")},getCurrentCharColor:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fill")},_getCurrentCharIndex:function(){var e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}}),r.IText.fromObject=function(t,n){if(e(t),t.styles)for(var i in t.styles)for(var o in t.styles[i])e(t.styles[i][o]);r.Object._fromObject("IText",t,n,"text")}}(),function(){var e=r.util.object.clone;r.util.object.extend(r.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var e=this;this.on("added",(function(){var t=e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(e))}))},initRemovedHandler:function(){var e=this;this.on("removed",(function(){var t=e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],r.util.removeFromArray(t._iTextInstances,e),0===t._iTextInstances.length&&(t._hasITextHandlers=!1,e._removeCanvasHandlers(t)))}))},_initCanvasHandlers:function(e){e._mouseUpITextHandler=function(){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.__isMousedown=!1}))},e.on("mouse:up",e._mouseUpITextHandler)},_removeCanvasHandlers:function(e){e.off("mouse:up",e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(e,t,n,i){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},e.animate("_currentCursorOpacity",t,{duration:n,onComplete:function(){r.isAborted||e[i]()},onChange:function(){e.canvas&&e.selectionStart===e.selectionEnd&&e.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){e._currentTickCompleteState=e._animateCursor(e,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(e){var t=this,n=e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){t._tick()}),n)},abortCursorAnimation:function(){var e=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,e&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(e){var t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findWordBoundaryRight:function(e){var t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},findLineBoundaryLeft:function(e){for(var t=0,n=e-1;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findLineBoundaryRight:function(e){for(var t=0,n=e;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},searchWordBoundary:function(e,t){for(var n=this._text,i=this._reSpace.test(n[e])?e-1:e,o=n[i],a=r.reNonWord;!a.test(o)&&i>0&&i<n.length;)o=n[i+=t];return a.test(o)&&(i+=1===t?0:1),i},selectWord:function(e){e=e||this.selectionStart;var t=this.searchWordBoundary(e,-1),n=this.searchWordBoundary(e,1);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(e){e=e||this.selectionStart;var t=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(e){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(e),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(e){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.selected=!1,e.isEditing&&e.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(e){if(this.__isMousedown&&this.isEditing){var t=this.getSelectionStartFromPointer(e.e),n=this.selectionStart,i=this.selectionEnd;(t===this.__selectionStartOnMouseDown&&n!==i||n!==t&&i!==t)&&(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===i||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(e,t,n){var i=n.slice(0,e),o=r.util.string.graphemeSplit(i).length;if(e===t)return{selectionStart:o,selectionEnd:o};var a=n.slice(e,t);return{selectionStart:o,selectionEnd:o+r.util.string.graphemeSplit(a).length}},fromGraphemeToStringSelection:function(e,t,n){var i=n.slice(0,e).join("").length;return e===t?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(e,t).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var e=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),i=n.lineIndex,o=n.charIndex,a=this.getValueOfPropertyAt(i,o,"fontSize")*this.lineHeight,s=t.leftOffset,l=this.calcTransformMatrix(),c={x:t.left+s,y:t.top+t.topOffset+a},h=this.canvas.getRetinaScaling(),d=this.canvas.upperCanvasEl,u=d.width/h,p=d.height/h,f=u-a,m=p-a,g=d.clientWidth/u,v=d.clientHeight/p;return c=r.util.transformPoint(c,l),(c=r.util.transformPoint(c,this.canvas.viewportTransform)).x*=g,c.y*=v,c.x<0&&(c.x=0),c.x>f&&(c.x=f),c.y<0&&(c.y=0),c.y>m&&(c.y=m),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var e=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]},removeStyleFromTo:function(e,t){var n,i,r=this.get2DCursorLocation(e,!0),o=this.get2DCursorLocation(t,!0),a=r.lineIndex,s=r.charIndex,l=o.lineIndex,c=o.charIndex;if(a!==l){if(this.styles[a])for(n=s;n<this._unwrappedTextLines[a].length;n++)delete this.styles[a][n];if(this.styles[l])for(n=c;n<this._unwrappedTextLines[l].length;n++)(i=this.styles[l][n])&&(this.styles[a]||(this.styles[a]={}),this.styles[a][s+n-c]=i);for(n=a+1;n<=l;n++)delete this.styles[n];this.shiftLineStyles(l,a-l)}else if(this.styles[a]){i=this.styles[a];var h,d,u=c-s;for(n=s;n<c;n++)delete i[n];for(d in this.styles[a])(h=parseInt(d,10))>=c&&(i[h-u]=i[d],delete i[d])}},shiftLineStyles:function(t,n){var i=e(this.styles);for(var r in this.styles){var o=parseInt(r,10);o>t&&(this.styles[o+n]=i[o],i[o-n]||delete this.styles[o])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,n,i,r){var o,a={},s=!1;for(var l in i||(i=1),this.shiftLineStyles(t,i),this.styles[t]&&(o=this.styles[t][0===n?n:n-1]),this.styles[t]){var c=parseInt(l,10);c>=n&&(s=!0,a[c-n]=this.styles[t][l],delete this.styles[t][l])}for(s?this.styles[t+i]=a:delete this.styles[t+i];i>1;)i--,r&&r[i]?this.styles[t+i]={0:e(r[i])}:o?this.styles[t+i]={0:e(o)}:delete this.styles[t+i];this._forceClearCache=!0},insertCharStyleObject:function(t,n,i,r){this.styles||(this.styles={});var o=this.styles[t],a=o?e(o):{};for(var s in i||(i=1),a){var l=parseInt(s,10);l>=n&&(o[l+i]=a[l],a[l-i]||delete o[l])}if(this._forceClearCache=!0,r)for(;i--;)Object.keys(r[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][n+i]=e(r[i]));else if(o)for(var c=o[n?n-1:1];c&&i--;)this.styles[t][n+i]=e(c)},insertNewStyleBlock:function(e,t,n){for(var i=this.get2DCursorLocation(t,!0),r=[0],o=0,a=0;a<e.length;a++)"\n"===e[a]?r[++o]=0:r[o]++;r[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,r[0],n),n=n&&n.slice(r[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+r[0],o);for(a=1;a<o;a++)r[a]>0?this.insertCharStyleObject(i.lineIndex+a,0,r[a],n):n&&(this.styles[i.lineIndex+a][0]=n[0]),n=n&&n.slice(r[a]+1);r[a]>0&&this.insertCharStyleObject(i.lineIndex+a,0,r[a],n)},setSelectionStartEndWithShift:function(e,t,n){n<=e?(t===e?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=n)},setSelectionInBoundaries:function(){var e=this.text.length;this.selectionStart>e?this.selectionStart=e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>e?this.selectionEnd=e:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),r.util.object.extend(r.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),this._stopEvent(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))},tripleClickHandler:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.__isMousedown=!0,this.selected&&this.setCursorByClick(e.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(e){if(this.__isMousedown=!1,!(!this.editable||this.group||e.transform&&e.transform.actionPerformed||e.e.button&&1!==e.e.button)){if(this.canvas){var t=this.canvas._activeObject;if(t&&t!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(e){var t=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,i,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(e){for(var t=this.getLocalPointer(e),n=0,i=0,r=0,o=0,a=0,s=0,l=this._textLines.length;s<l&&r<=t.y;s++)r+=this.getHeightOfLine(s)*this.scaleY,a=s,s>0&&(o+=this._textLines[s-1].length+this.missingNewlineOffset(s-1));i=this._getLineLeftOffset(a)*this.scaleX;for(var c=0,h=this._textLines[a].length;c<h&&(n=i,(i+=this.__charBounds[a][c].kernedWidth*this.scaleX)<=t.x);c++)o++;return this._getNewSelectionStartFromOffset(t,n,i,o,h)},_getNewSelectionStartFromOffset:function(e,t,n,i,r){var o=e.x-t,a=n-e.x,s=i+(a>o||a<0?0:1);return this.flipX&&(s=r-s),s>this._text.length&&(s=this._text.length),s}}),r.util.object.extend(r.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=r.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var e=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+e.top+"; left: "+e.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+e.fontSize+";",r.document.body.appendChild(this.hiddenTextarea),r.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),r.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),r.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),r.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),r.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),r.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),r.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),r.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),r.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(r.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(e){if(this.isEditing&&!this.inCompositionMode){if(e.keyCode in this.keysMap)this[this.keysMap[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown&&(e.ctrlKey||e.metaKey)))return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(e){var t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n,i,o=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,a=this._text.length,s=o.length,l=s-a;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var c=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),h=this.selectionStart>c.selectionStart;this.selectionStart!==this.selectionEnd?(n=this._text.slice(this.selectionStart,this.selectionEnd),l+=this.selectionEnd-this.selectionStart):s<a&&(n=h?this._text.slice(this.selectionEnd+l,this.selectionEnd):this._text.slice(this.selectionStart,this.selectionStart-l)),i=o.slice(c.selectionEnd-l,c.selectionEnd),n&&n.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):h?this.removeStyleFromTo(this.selectionEnd-n.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+n.length)),i.length&&(t&&i.join("")===r.copiedText&&!r.disableStyleCopyPaste?this.insertNewStyleBlock(i,this.selectionStart,r.copiedTextStyle):this.insertNewStyleBlock(i,this.selectionStart)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(e){this.compositionStart=e.target.selectionStart,this.compositionEnd=e.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(r.copiedText=this.getSelectedText(),r.disableStyleCopyPaste?r.copiedTextStyle=null:r.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(e){return e&&e.clipboardData||r.window.clipboardData},_getWidthBeforeCursor:function(e,t){var n,i=this._getLineLeftOffset(e);return t>0&&(i+=(n=this.__charBounds[e][t-1]).left+n.width),i},getDownCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),i=this.get2DCursorLocation(n),r=i.lineIndex;if(r===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;var o=i.charIndex,a=this._getWidthBeforeCursor(r,o),s=this._getIndexOnLine(r+1,a);return this._textLines[r].slice(o).length+s+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),i=this.get2DCursorLocation(n),r=i.lineIndex;if(0===r||e.metaKey||33===e.keyCode)return-n;var o=i.charIndex,a=this._getWidthBeforeCursor(r,o),s=this._getIndexOnLine(r-1,a),l=this._textLines[r].slice(0,o),c=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+s-l.length+(1-c)},_getIndexOnLine:function(e,t){for(var n,i,r=this._textLines[e],o=this._getLineLeftOffset(e),a=0,s=0,l=r.length;s<l;s++)if((o+=n=this.__charBounds[e][s].width)>t){i=!0;var c=o-n,h=o,d=Math.abs(c-t);a=Math.abs(h-t)<d?s:s-1;break}return i||(a=r.length-1),a},moveCursorDown:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)},moveCursorUp:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)},_moveCursorUpOrDown:function(e,t){var n=this["get"+e+"CursorOffset"](t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(e){var t="left"===this._selectionDirection?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e},moveCursorWithoutShift:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e},moveCursorLeft:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)},_move:function(e,t,n){var i;if(e.altKey)i=this["findWordBoundary"+n](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;i=this["findLineBoundary"+n](this[t])}if(void 0!==typeof i&&this[t]!==i)return this[t]=i,!0},_moveLeft:function(e,t){return this._move(e,t,"Left")},_moveRight:function(e,t){return this._move(e,t,"Right")},moveCursorLeftWithoutShift:function(e){var t=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t},moveCursorLeftWithShift:function(e){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(e,"selectionStart")):void 0},moveCursorRight:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)},_moveCursorLeftOrRight:function(e,t){var n="moveCursor"+e+"With";this._currentCursorOpacity=1,t.shiftKey?n+="Shift":n+="outShift",this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(e){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(e,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(e){var t=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t},removeChars:function(e,t){"undefined"===typeof t&&(t=e+1),this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(e,t,n,i){"undefined"===typeof i&&(i=n),i>n&&this.removeStyleFromTo(n,i);var o=r.util.string.graphemeSplit(e);this.insertNewStyleBlock(o,n,t),this._text=[].concat(this._text.slice(0,n),o,this._text.slice(i)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var e=r.util.toFixed,t=/  +/g;r.util.object.extend(r.Text.prototype,{_toSVG:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(e){var t=this.getSvgTextDecoration(this);return[e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",t?'text-decoration="'+t+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(e,t){var n,i=[],r=[],o=e;this._setSVGBg(r);for(var a=0,s=this._textLines.length;a<s;a++)n=this._getLineLeftOffset(a),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(r,a,t+n,o),this._setSVGTextLineText(i,a,t+n,o),o+=this.getHeightOfLine(a);return{textSpans:i,textBgRects:r}},_createTextCharSpan:function(n,i,o,a){var s=n!==n.trim()||n.match(t),l=this.getSvgSpanStyles(i,s),c=l?'style="'+l+'"':"",h=i.deltaY,d="",u=r.Object.NUM_FRACTION_DIGITS;return h&&(d=' dy="'+e(h,u)+'" '),['<tspan x="',e(o,u),'" y="',e(a,u),'" ',d,c,">",r.util.string.escapeXml(n),"</tspan>"].join("")},_setSVGTextLineText:function(e,t,n,i){var r,o,a,s,l,c=this.getHeightOfLine(t),h=-1!==this.textAlign.indexOf("justify"),d="",u=0,p=this._textLines[t];i+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var f=0,m=p.length-1;f<=m;f++)l=f===m||this.charSpacing,d+=p[f],a=this.__charBounds[t][f],0===u?(n+=a.kernedWidth-a.width,u+=a.width):u+=a.kernedWidth,h&&!l&&this._reSpaceAndTab.test(p[f])&&(l=!0),l||(r=r||this.getCompleteStyleDeclaration(t,f),o=this.getCompleteStyleDeclaration(t,f+1),l=this._hasStyleChangedForSvg(r,o)),l&&(s=this._getStyleDeclaration(t,f)||{},e.push(this._createTextCharSpan(d,s,n,i)),d="",r=o,n+=u,u=0)},_pushTextBgRect:function(t,n,i,o,a,s){var l=r.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(n),' x="',e(i,l),'" y="',e(o,l),'" width="',e(a,l),'" height="',e(s,l),'"></rect>\n')},_setSVGTextLineBg:function(e,t,n,i){for(var r,o,a=this._textLines[t],s=this.getHeightOfLine(t)/this.lineHeight,l=0,c=0,h=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),d=0,u=a.length;d<u;d++)r=this.__charBounds[t][d],(o=this.getValueOfPropertyAt(t,d,"textBackgroundColor"))!==h?(h&&this._pushTextBgRect(e,h,n+c,i,l,s),c=r.left,l=r.width,h=o):l+=r.kernedWidth;o&&this._pushTextBgRect(e,o,n+c,i,l,s)},_getFillAttributes:function(e){var t=e&&"string"===typeof e?new r.Color(e):"";return t&&t.getSource()&&1!==t.getAlpha()?'opacity="'+t.getAlpha()+'" fill="'+t.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},_getSVGLineTopOffset:function(e){for(var t,n=0,i=0;i<e;i++)n+=this.getHeightOfLine(i);return t=this.getHeightOfLine(i),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*t/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(e){return r.Object.prototype.getSvgStyles.call(this,e)+" white-space: pre;"}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Textbox=t.util.createClass(t.IText,t.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:t.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(e){for(var t=0,n=0,i=0,r={},o=0;o<e.graphemeLines.length;o++)"\n"===e.graphemeText[i]&&o>0?(n=0,i++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&o>0&&(n++,i++),r[o]={line:t,offset:n},i+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return r},styleHas:function(e,n){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[n];i&&(n=i.line)}return t.Text.prototype.styleHas.call(this,e,n)},isEmptyStyles:function(e){if(!this.styles)return!0;var t,n,i=0,r=!1,o=this._styleMap[e],a=this._styleMap[e+1];for(var s in o&&(e=o.line,i=o.offset),a&&(r=a.line===e,t=a.offset),n="undefined"===typeof e?this.styles:{line:this.styles[e]})for(var l in n[s])if(l>=i&&(!r||l<t))for(var c in n[s][l])return!1;return!0},_getStyleDeclaration:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return null;e=n.line,t=n.offset+t}return this.callSuper("_getStyleDeclaration",e,t)},_setStyleDeclaration:function(e,t,n){var i=this._styleMap[e];e=i.line,t=i.offset+t,this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){var n=this._styleMap[e];e=n.line,t=n.offset+t,delete this.styles[e][t]},_getLineStyle:function(e){var t=this._styleMap[e];return!!this.styles[t.line]},_setLineStyle:function(e){var t=this._styleMap[e];this.styles[t.line]={}},_wrapText:function(e,t){var n,i=[];for(this.isWrapping=!0,n=0;n<e.length;n++)i=i.concat(this._wrapLine(e[n],n,t));return this.isWrapping=!1,i},_measureWord:function(e,t,n){var i,r=0;n=n||0;for(var o=0,a=e.length;o<a;o++){r+=this._getGraphemeBox(e[o],t,o+n,i,!0).kernedWidth,i=e[o]}return r},_wrapLine:function(e,n,i,r){var o=0,a=this.splitByGrapheme,s=[],l=[],c=a?t.util.string.graphemeSplit(e):e.split(this._wordJoiners),h="",d=0,u=a?"":" ",p=0,f=0,m=0,g=!0,v=a?0:this._getWidthOfCharSpacing();r=r||0;0===c.length&&c.push([]),i-=r;for(var b=0;b<c.length;b++)h=a?c[b]:t.util.string.graphemeSplit(c[b]),p=this._measureWord(h,n,d),d+=h.length,(o+=f+p-v)>=i&&!g?(s.push(l),l=[],o=p,g=!0):o+=v,g||a||l.push(u),l=l.concat(h),f=this._measureWord([u],n,d),d++,g=!1,p>m&&(m=p);return b&&s.push(l),m+r>this.dynamicMinWidth&&(this.dynamicMinWidth=m-v+r),s},isEndOfWrapping:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line},missingNewlineOffset:function(e){return this.splitByGrapheme?this.isEndOfWrapping(e)?1:0:1},_splitTextIntoLines:function(e){for(var n=t.Text.prototype._splitTextIntoLines.call(this,e),i=this._wrapText(n.lines,this.width),r=new Array(i.length),o=0;o<i.length;o++)r[o]=i[o].join("");return n.lines=r,n.graphemeLines=i,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var e={};for(var t in this._styleMap)this._textLines[t]&&(e[this._styleMap[t].line]=1);for(var t in this.styles)e[t]||delete this.styles[t]},toObject:function(e){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(e))}}),t.Textbox.fromObject=function(e,n){return t.Object._fromObject("Textbox",e,n,"text")}}(t)}).call(this,n(1729).Buffer)},1980:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c}));const i=50,r=1024,o="dot",a={"500ms":500,"1s":1e3,"1.5s":1500,"2s":2e3,"3s":3e3,"5s":5e3},s=a["500ms"],l=[{type:o,content:'digraph g {\r\n    bgcolor="transparent"\r\n    rankdir=LR\r\n    a -> b\r\n    b -> c\r\n    c -> a\r\n}',delay:s,caption:""},{type:o,content:'digraph g {\r\n    bgcolor="transparent"\r\n    rankdir=LR\r\n    a -> b\r\n    b -> c\r\n    a -> c\r\n}',delay:s,caption:""}],c={type:o,content:'digraph g {\r\n    bgcolor="transparent"\r\n    a -> b\r\n }',delay:s,caption:""}},1981:function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=32)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14);t.IBufferService=i.createDecorator("BufferService"),t.ICoreMouseService=i.createDecorator("CoreMouseService"),t.ICoreService=i.createDecorator("CoreService"),t.ICharsetService=i.createDecorator("CharsetService"),t.IDirtyRowService=i.createDecorator("DirtyRowService"),t.IInstantiationService=i.createDecorator("InstantiationService"),t.ILogService=i.createDecorator("LogService"),t.IOptionsService=i.createDecorator("OptionsService"),t.IUnicodeService=i.createDecorator("UnicodeService")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._listeners=[],this._disposed=!1}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t){return e._listeners.push(t),{dispose:function(){if(!e._disposed)for(var n=0;n<e._listeners.length;n++)if(e._listeners[n]===t)return void e._listeners.splice(n,1)}}}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e,t){for(var n=[],i=0;i<this._listeners.length;i++)n.push(this._listeners[i]);for(i=0;i<n.length;i++)n[i].call(void 0,e,t)},e.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},e}();t.EventEmitter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){this._isDisposed=!0,this._disposables.forEach((function(e){return e.dispose()})),this._disposables.length=0},e.prototype.register=function(e){this._disposables.push(e)},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();t.Disposable=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_COLOR=256,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14);t.ICharSizeService=i.createDecorator("CharSizeService"),t.ICoreBrowserService=i.createDecorator("CoreBrowserService"),t.IMouseService=i.createDecorator("MouseService"),t.IRenderService=i.createDecorator("RenderService"),t.ISelectionService=i.createDecorator("SelectionService"),t.ISoundService=i.createDecorator("SoundService")},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=n(3),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=0,t.fg=0,t.bg=0,t.combinedData="",t}return r(t,e),t.fromCharData=function(e){var n=new t;return n.setFromCharData(e),n},t.prototype.isCombined=function(){return 2097152&this.content},t.prototype.getWidth=function(){return this.content>>22},t.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?o.stringFromCodePoint(2097151&this.content):""},t.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},t.prototype.setFromCharData=function(e){this.fg=e[a.CHAR_DATA_ATTR_INDEX],this.bg=0;var t=!1;if(e[a.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[a.CHAR_DATA_CHAR_INDEX].length){var n=e[a.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=n&&n<=56319){var i=e[a.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=i&&i<=57343?this.content=1024*(n-55296)+i-56320+65536|e[a.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[a.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[a.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[a.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[a.CHAR_DATA_WIDTH_INDEX]<<22)},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(n(6).AttributeData);t.CellData=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.fg=0,this.bg=0}return e.toColorRGB=function(e){return[e>>>16&255,e>>>8&255,255&e]},e.fromColorRGB=function(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},e.prototype.clone=function(){var t=new e;return t.fg=this.fg,t.bg=this.bg,t},e.prototype.isInverse=function(){return 67108864&this.fg},e.prototype.isBold=function(){return 134217728&this.fg},e.prototype.isUnderline=function(){return 268435456&this.fg},e.prototype.isBlink=function(){return 536870912&this.fg},e.prototype.isInvisible=function(){return 1073741824&this.fg},e.prototype.isItalic=function(){return 67108864&this.bg},e.prototype.isDim=function(){return 134217728&this.bg},e.prototype.getFgColorMode=function(){return 50331648&this.fg},e.prototype.getBgColorMode=function(){return 50331648&this.bg},e.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},e.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},e.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},e.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},e.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},e.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},e.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},e.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},e.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},e}();t.AttributeData=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);for(var i="",r=t;r<n;++r){var o=e[r];o>65535?(o-=65536,i+=String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):i+=String.fromCharCode(o)}return i};var i=function(){function e(){this._interim=0}return e.prototype.clear=function(){this._interim=0},e.prototype.decode=function(e,t){var n=e.length;if(!n)return 0;var i=0,r=0;this._interim&&(56320<=(s=e.charCodeAt(r++))&&s<=57343?t[i++]=1024*(this._interim-55296)+s-56320+65536:(t[i++]=this._interim,t[i++]=s),this._interim=0);for(var o=r;o<n;++o){var a=e.charCodeAt(o);if(55296<=a&&a<=56319){if(++o>=n)return this._interim=a,i;var s;56320<=(s=e.charCodeAt(o))&&s<=57343?t[i++]=1024*(a-55296)+s-56320+65536:(t[i++]=a,t[i++]=s)}else t[i++]=a}return i},e}();t.StringToUtf32=i;var r=function(){function e(){this.interim=new Uint8Array(3)}return e.prototype.clear=function(){this.interim.fill(0)},e.prototype.decode=function(e,t){var n=e.length;if(!n)return 0;var i,r,o,a,s=0,l=0,c=0;if(this.interim[0]){var h=!1,d=this.interim[0];d&=192==(224&d)?31:224==(240&d)?15:7;for(var u=0,p=void 0;(p=63&this.interim[++u])&&u<4;)d<<=6,d|=p;for(var f=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,m=f-u;c<m;){if(c>=n)return 0;if(128!=(192&(p=e[c++]))){c--,h=!0;break}this.interim[u++]=p,d<<=6,d|=63&p}h||(2===f?d<128?c--:t[s++]=d:3===f?d<2048||d>=55296&&d<=57343||(t[s++]=d):d<65536||d>1114111||(t[s++]=d)),this.interim.fill(0)}for(var g=n-4,v=c;v<n;){for(;!(!(v<g)||128&(i=e[v])||128&(r=e[v+1])||128&(o=e[v+2])||128&(a=e[v+3]));)t[s++]=i,t[s++]=r,t[s++]=o,t[s++]=a,v+=4;if((i=e[v++])<128)t[s++]=i;else if(192==(224&i)){if(v>=n)return this.interim[0]=i,s;if(128!=(192&(r=e[v++]))){v--;continue}if((l=(31&i)<<6|63&r)<128){v--;continue}t[s++]=l}else if(224==(240&i)){if(v>=n)return this.interim[0]=i,s;if(128!=(192&(r=e[v++]))){v--;continue}if(v>=n)return this.interim[0]=i,this.interim[1]=r,s;if(128!=(192&(o=e[v++]))){v--;continue}if((l=(15&i)<<12|(63&r)<<6|63&o)<2048||l>=55296&&l<=57343)continue;t[s++]=l}else if(240==(248&i)){if(v>=n)return this.interim[0]=i,s;if(128!=(192&(r=e[v++]))){v--;continue}if(v>=n)return this.interim[0]=i,this.interim[1]=r,s;if(128!=(192&(o=e[v++]))){v--;continue}if(v>=n)return this.interim[0]=i,this.interim[1]=r,this.interim[2]=o,s;if(128!=(192&(a=e[v++]))){v--;continue}if((l=(7&i)<<18|(63&r)<<12|(63&o)<<6|63&a)<65536||l>1114111)continue;t[s++]=l}}return s},e}();t.Utf8ToUtf32=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=function(e,t,n,i){e.addEventListener(t,n,i);var r=!1;return{dispose:function(){r&&(r=!0,e.removeEventListener(t,n,i))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.CHAR_ATLAS_CELL_SPACING=1},function(e,t,n){"use strict";var i,r,o,a;function s(e){var t=e.toString(16);return t.length<2?"0"+t:t}function l(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.toCss=function(e,t,n,i){return void 0!==i?"#"+s(e)+s(t)+s(n)+s(i):"#"+s(e)+s(t)+s(n)},e.toRgba=function(e,t,n,i){return void 0===i&&(i=255),(e<<24|t<<16|n<<8|i)>>>0}}(i=t.channels||(t.channels={})),(r=t.color||(t.color={})).blend=function(e,t){var n=(255&t.rgba)/255;if(1===n)return{css:t.css,rgba:t.rgba};var r=t.rgba>>24&255,o=t.rgba>>16&255,a=t.rgba>>8&255,s=e.rgba>>24&255,l=e.rgba>>16&255,c=e.rgba>>8&255,h=s+Math.round((r-s)*n),d=l+Math.round((o-l)*n),u=c+Math.round((a-c)*n);return{css:i.toCss(h,d,u),rgba:i.toRgba(h,d,u)}},r.ensureContrastRatio=function(e,t,n){var i=a.ensureContrastRatio(e.rgba,t.rgba,n);if(i)return a.toColor(i>>24&255,i>>16&255,i>>8&255)},r.opaque=function(e){var t=(255|e.rgba)>>>0,n=a.toChannels(t),r=n[0],o=n[1],s=n[2];return{css:i.toCss(r,o,s),rgba:t}},(t.css||(t.css={})).toColor=function(e){return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0}},function(e){function t(e,t,n){var i=e/255,r=t/255,o=n/255;return.2126*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(o=t.rgb||(t.rgb={})),function(e){function t(e,t,n){for(var i=e>>24&255,r=e>>16&255,a=e>>8&255,s=t>>24&255,c=t>>16&255,h=t>>8&255,d=l(o.relativeLuminance2(s,h,c),o.relativeLuminance2(i,r,a));d<n&&(s>0||c>0||h>0);)s-=Math.max(0,Math.ceil(.1*s)),c-=Math.max(0,Math.ceil(.1*c)),h-=Math.max(0,Math.ceil(.1*h)),d=l(o.relativeLuminance2(s,h,c),o.relativeLuminance2(i,r,a));return(s<<24|c<<16|h<<8|255)>>>0}function n(e,t,n){for(var i=e>>24&255,r=e>>16&255,a=e>>8&255,s=t>>24&255,c=t>>16&255,h=t>>8&255,d=l(o.relativeLuminance2(s,h,c),o.relativeLuminance2(i,r,a));d<n&&(s<255||c<255||h<255);)s=Math.min(255,s+Math.ceil(.1*(255-s))),c=Math.min(255,c+Math.ceil(.1*(255-c))),h=Math.min(255,h+Math.ceil(.1*(255-h))),d=l(o.relativeLuminance2(s,h,c),o.relativeLuminance2(i,r,a));return(s<<24|c<<16|h<<8|255)>>>0}e.ensureContrastRatio=function(e,i,r){var a=o.relativeLuminance(e>>8),s=o.relativeLuminance(i>>8);if(l(a,s)<r)return s<a?t(e,i,r):n(e,i,r)},e.reduceLuminance=t,e.increaseLuminance=n,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,n){return{css:i.toCss(e,t,n),rgba:i.toRgba(e,t,n)}}}(a=t.rgba||(t.rgba={})),t.toPaddedHex=s,t.contrastRatio=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"==typeof navigator,r=i?"node":navigator.userAgent,o=i?"node":navigator.platform;function a(e,t){return e.indexOf(t)>=0}t.isFirefox=!!~r.indexOf("Firefox"),t.isSafari=/^((?!chrome|android).)*safari/i.test(r),t.isMac=a(["Macintosh","MacIntel","MacPPC","Mac68K"],o),t.isIpad="iPad"===o,t.isIphone="iPhone"===o,t.isWindows=a(["Windows","Win16","Win32","WinCE"],o),t.isLinux=o.indexOf("Linux")>=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NUL="\0",e.SOH="\x01",e.STX="\x02",e.ETX="\x03",e.EOT="\x04",e.ENQ="\x05",e.ACK="\x06",e.BEL="\x07",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="\x0e",e.SI="\x0f",e.DLE="\x10",e.DC1="\x11",e.DC2="\x12",e.DC3="\x13",e.DC4="\x14",e.NAK="\x15",e.SYN="\x16",e.ETB="\x17",e.CAN="\x18",e.EM="\x19",e.SUB="\x1a",e.ESC="\x1b",e.FS="\x1c",e.GS="\x1d",e.RS="\x1e",e.US="\x1f",e.SP=" ",e.DEL="\x7f"}(t.C0||(t.C0={})),function(e){e.PAD="\x80",e.HOP="\x81",e.BPH="\x82",e.NBH="\x83",e.IND="\x84",e.NEL="\x85",e.SSA="\x86",e.ESA="\x87",e.HTS="\x88",e.HTJ="\x89",e.VTS="\x8a",e.PLD="\x8b",e.PLU="\x8c",e.RI="\x8d",e.SS2="\x8e",e.SS3="\x8f",e.DCS="\x90",e.PU1="\x91",e.PU2="\x92",e.STS="\x93",e.CCH="\x94",e.MW="\x95",e.SPA="\x96",e.EPA="\x97",e.SOS="\x98",e.SGCI="\x99",e.SCI="\x9a",e.CSI="\x9b",e.ST="\x9c",e.OSC="\x9d",e.PM="\x9e",e.APC="\x9f"}(t.C1||(t.C1={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(9),o=n(23),a=n(6),s=n(26),l=n(10),c=function(){function e(e,t,n,i,r,o,a,s){this._container=e,this._alpha=i,this._colors=r,this._rendererId=o,this._bufferService=a,this._optionsService=s,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=n.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){var e;this._container.removeChild(this._canvas),null===(e=this._charAtlas)||void 0===e||e.dispose()},e.prototype._initCanvas=function(){this._ctx=s.throwIfFalsy(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},e.prototype.onOptionsChanged=function(){},e.prototype.onBlur=function(){},e.prototype.onFocus=function(){},e.prototype.onCursorMove=function(){},e.prototype.onGridChanged=function(e,t){},e.prototype.onSelectionChanged=function(e,t,n){void 0===n&&(n=!1)},e.prototype.setColors=function(e){this._refreshCharAtlas(e)},e.prototype._setTransparency=function(e){if(e!==this._alpha){var t=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,t),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},e.prototype._refreshCharAtlas=function(e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=o.acquireCharAtlas(this._optionsService.options,this._rendererId,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},e.prototype._fillCells=function(e,t,n,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight)},e.prototype._fillBottomLineAtCells=function(e,t,n){void 0===n&&(n=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,n*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillLeftLineAtCell=function(e,t,n){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio*n,this._scaledCellHeight)},e.prototype._strokeRectAtCell=function(e,t,n,i){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,n*this._scaledCellWidth-window.devicePixelRatio,i*this._scaledCellHeight-window.devicePixelRatio)},e.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype._clearCells=function(e,t,n,i){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight))},e.prototype._fillCharTrueColor=function(e,t,n){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline="middle",this._clipRow(n),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,n*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2)},e.prototype._drawChars=function(e,t,n){var o,a,s=this._getContrastColor(e);s||e.isFgRGB()||e.isBgRGB()?this._drawUncachedChars(e,t,n,s):(e.isInverse()?(o=e.isBgDefault()?r.INVERTED_DEFAULT_COLOR:e.getBgColor(),a=e.isFgDefault()?r.INVERTED_DEFAULT_COLOR:e.getFgColor()):(a=e.isBgDefault()?i.DEFAULT_COLOR:e.getBgColor(),o=e.isFgDefault()?i.DEFAULT_COLOR:e.getFgColor()),o+=this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8?8:0,this._currentGlyphIdentifier.chars=e.getChars()||i.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||i.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=a,this._currentGlyphIdentifier.fg=o,this._currentGlyphIdentifier.bold=!!e.isBold(),this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic(),this._charAtlas&&this._charAtlas.draw(this._ctx,this._currentGlyphIdentifier,t*this._scaledCellWidth+this._scaledCharLeft,n*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(e,t,n))},e.prototype._drawUncachedChars=function(e,t,n,i){if(this._ctx.save(),this._ctx.font=this._getFont(!!e.isBold(),!!e.isItalic()),this._ctx.textBaseline="middle",e.isInverse())if(i)this._ctx.fillStyle=i.css;else if(e.isBgDefault())this._ctx.fillStyle=l.color.opaque(this._colors.background).css;else if(e.isBgRGB())this._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var o=e.getBgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),this._ctx.fillStyle=this._colors.ansi[o].css}else if(i)this._ctx.fillStyle=i.css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var s=e.getFgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&s<8&&(s+=8),this._ctx.fillStyle=this._colors.ansi[s].css}this._clipRow(n),e.isDim()&&(this._ctx.globalAlpha=r.DIM_OPACITY),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,n*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2),this._ctx.restore()},e.prototype._clipRow=function(e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t){return(t?"italic":"")+" "+(e?this._optionsService.options.fontWeightBold:this._optionsService.options.fontWeight)+" "+this._optionsService.options.fontSize*window.devicePixelRatio+"px "+this._optionsService.options.fontFamily},e.prototype._getContrastColor=function(e){if(1!==this._optionsService.options.minimumContrastRatio){var t=this._colors.contrastCache.getColor(e.bg,e.fg);if(void 0!==t)return t||void 0;var n=e.getFgColor(),i=e.getFgColorMode(),r=e.getBgColor(),o=e.getBgColorMode(),a=!!e.isInverse(),s=!!e.isInverse();if(a){var c=n;n=r,r=c;var h=i;i=o,o=h}var d=this._resolveBackgroundRgba(o,r,a),u=this._resolveForegroundRgba(i,n,a,s),p=l.rgba.ensureContrastRatio(d,u,this._optionsService.options.minimumContrastRatio);if(p){var f={css:l.channels.toCss(p>>24&255,p>>16&255,p>>8&255),rgba:p};return this._colors.contrastCache.setColor(e.bg,e.fg,f),f}this._colors.contrastCache.setColor(e.bg,e.fg,null)}},e.prototype._resolveBackgroundRgba=function(e,t,n){switch(e){case 16777216:case 33554432:return this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return n?this._colors.foreground.rgba:this._colors.background.rgba}},e.prototype._resolveForegroundRgba=function(e,t,n,i){switch(e){case 16777216:case 33554432:return this._optionsService.options.drawBoldTextInBrightColors&&i&&t<8&&(t+=8),this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return n?this._colors.background.rgba:this._colors.foreground.rgba}},e}();t.BaseRenderLayer=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="di$target",r="di$dependencies";function o(e,t,n){t[i]===t?t[r].push({id:e,index:n}):(t[r]=[{id:e,index:n}],t[i]=t)}t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e[r]||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);var n=function e(t,n,i){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");o(e,t,i)};return n.toString=function(){return e},t.serviceRegistry.set(e,n),n}},function(e,t,n){"use strict";function i(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),n>=e.length)return e;n=(e.length+n)%e.length,i=i>=e.length?e.length:(e.length+i)%e.length;for(var r=n;r<i;++r)e[r]=t;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.fill=function(e,t,n,r){return e.fill?e.fill(t,n,r):i(e,t,n,r)},t.fillFallback=i,t.concat=function(e,t){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),r=n(3),o=n(5),a=n(6);t.DEFAULT_ATTR_DATA=Object.freeze(new a.AttributeData);var s=function(){function e(e,t,n){void 0===n&&(n=!1),this.isWrapped=n,this._combined={},this._data=new Uint32Array(3*e);for(var i=t||o.CellData.fromCharData([0,r.NULL_CELL_CHAR,r.NULL_CELL_WIDTH,r.NULL_CELL_CODE]),a=0;a<e;++a)this.setCell(a,i);this.length=e}return e.prototype.get=function(e){var t=this._data[3*e+0],n=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:n?i.stringFromCodePoint(n):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):n]},e.prototype.set=function(e,t){this._data[3*e+1]=t[r.CHAR_DATA_ATTR_INDEX],t[r.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[r.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[r.CHAR_DATA_WIDTH_INDEX]<<22},e.prototype.getWidth=function(e){return this._data[3*e+0]>>22},e.prototype.hasWidth=function(e){return 12582912&this._data[3*e+0]},e.prototype.getFg=function(e){return this._data[3*e+1]},e.prototype.getBg=function(e){return this._data[3*e+2]},e.prototype.hasContent=function(e){return 4194303&this._data[3*e+0]},e.prototype.getCodePoint=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t},e.prototype.isCombined=function(e){return 2097152&this._data[3*e+0]},e.prototype.getString=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?i.stringFromCodePoint(2097151&t):""},e.prototype.loadCell=function(e,t){var n=3*e;return t.content=this._data[n+0],t.fg=this._data[n+1],t.bg=this._data[n+2],2097152&t.content&&(t.combinedData=this._combined[e]),t},e.prototype.setCell=function(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg},e.prototype.setCellFromCodePoint=function(e,t,n,i,r){this._data[3*e+0]=t|n<<22,this._data[3*e+1]=i,this._data[3*e+2]=r},e.prototype.addCodepointToCell=function(e,t){var n=this._data[3*e+0];2097152&n?this._combined[e]+=i.stringFromCodePoint(t):(2097151&n?(this._combined[e]=i.stringFromCodePoint(2097151&n)+i.stringFromCodePoint(t),n&=-2097152,n|=2097152):n=t|1<<22,this._data[3*e+0]=n)},e.prototype.insertCells=function(e,t,n,i){var r,a,s,l;if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null===(r=i)||void 0===r?void 0:r.fg)||0,(null===(a=i)||void 0===a?void 0:a.bg)||0),t<this.length-e){for(var c=new o.CellData,h=this.length-e-t-1;h>=0;--h)this.setCell(e+t+h,this.loadCell(e+h,c));for(h=0;h<t;++h)this.setCell(e+h,n)}else for(h=e;h<this.length;++h)this.setCell(h,n);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null===(s=i)||void 0===s?void 0:s.fg)||0,(null===(l=i)||void 0===l?void 0:l.bg)||0)},e.prototype.deleteCells=function(e,t,n,i){var r,a,s,l;if(e%=this.length,t<this.length-e){for(var c=new o.CellData,h=0;h<this.length-e-t;++h)this.setCell(e+h,this.loadCell(e+t+h,c));for(h=this.length-t;h<this.length;++h)this.setCell(h,n)}else for(h=e;h<this.length;++h)this.setCell(h,n);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null===(r=i)||void 0===r?void 0:r.fg)||0,(null===(a=i)||void 0===a?void 0:a.bg)||0),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null===(s=i)||void 0===s?void 0:s.fg)||0,(null===(l=i)||void 0===l?void 0:l.bg)||0)},e.prototype.replaceCells=function(e,t,n,i){var r,o,a,s;for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null===(r=i)||void 0===r?void 0:r.fg)||0,(null===(o=i)||void 0===o?void 0:o.bg)||0),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null===(a=i)||void 0===a?void 0:a.fg)||0,(null===(s=i)||void 0===s?void 0:s.bg)||0);e<t&&e<this.length;)this.setCell(e++,n)},e.prototype.resize=function(e,t){if(e!==this.length){if(e>this.length){var n=new Uint32Array(3*e);this.length&&(3*e<this._data.length?n.set(this._data.subarray(0,3*e)):n.set(this._data)),this._data=n;for(var i=this.length;i<e;++i)this.setCell(i,t)}else if(e){(n=new Uint32Array(3*e)).set(this._data.subarray(0,3*e)),this._data=n;var r=Object.keys(this._combined);for(i=0;i<r.length;i++){var o=parseInt(r[i],10);o>=e&&delete this._combined[o]}}else this._data=new Uint32Array(0),this._combined={};this.length=e}},e.prototype.fill=function(e){this._combined={};for(var t=0;t<this.length;++t)this.setCell(t,e)},e.prototype.copyFrom=function(e){for(var t in this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];this.isWrapped=e.isWrapped},e.prototype.clone=function(){var t=new e(0);for(var n in t._data=new Uint32Array(this._data),t.length=this.length,this._combined)t._combined[n]=this._combined[n];return t.isWrapped=this.isWrapped,t},e.prototype.getTrimmedLength=function(){for(var e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0},e.prototype.copyCellsFrom=function(e,t,n,i,r){var o=e._data;if(r)for(var a=i-1;a>=0;a--)for(var s=0;s<3;s++)this._data[3*(n+a)+s]=o[3*(t+a)+s];else for(a=0;a<i;a++)for(s=0;s<3;s++)this._data[3*(n+a)+s]=o[3*(t+a)+s];var l=Object.keys(e._combined);for(s=0;s<l.length;s++){var c=parseInt(l[s],10);c>=t&&(this._combined[c-t+n]=e._combined[c])}},e.prototype.translateToString=function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===n&&(n=this.length),e&&(n=Math.min(n,this.getTrimmedLength()));for(var o="";t<n;){var a=this._data[3*t+0],s=2097151&a;o+=2097152&a?this._combined[t]:s?i.stringFromCodePoint(s):r.WHITESPACE_CELL_CHAR,t+=a>>22||1}return o},e}();t.BufferLine=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},t.CHARSETS.A={"#":"\xa3"},t.CHARSETS.B=null,t.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},t.CHARSETS.C=t.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},t.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},t.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},t.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},t.CHARSETS.E=t.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},t.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},t.CHARSETS.H=t.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){if(void 0===e&&(e=32),void 0===t&&(t=32),this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return e.fromArray=function(t){var n=new e;if(!t.length)return n;for(var i=t[0]instanceof Array?1:0;i<t.length;++i){var r=t[i];if(r instanceof Array)for(var o=0;o<r.length;++o)n.addSubParam(r[o]);else n.addParam(r)}return n},e.prototype.clone=function(){var t=new e(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t},e.prototype.toArray=function(){for(var e=[],t=0;t<this.length;++t){e.push(this.params[t]);var n=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-n>0&&e.push(Array.prototype.slice.call(this._subParams,n,i))}return e},e.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},e.prototype.addParam=function(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>2147483647?2147483647:e}},e.prototype.addSubParam=function(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>2147483647?2147483647:e,this._subParamsIdx[this.length-1]++}},e.prototype.hasSubParams=function(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0},e.prototype.getSubParams=function(e){var t=this._subParamsIdx[e]>>8,n=255&this._subParamsIdx[e];return n-t>0?this._subParams.subarray(t,n):null},e.prototype.getSubParamsAll=function(){for(var e={},t=0;t<this.length;++t){var n=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-n>0&&(e[t]=this._subParams.slice(n,i))}return e},e.prototype.addDigit=function(e){var t;if(!(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var n=this._digitIsSub?this._subParams:this.params,i=n[t-1];n[t-1]=~i?Math.min(10*i+e,2147483647):e}},e}();t.Params=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),r=n(7),o=function(){function e(){this._state=0,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){}}return e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var n=this._handlers[e];return n.push(t),{dispose:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.reset=function(){2===this._state&&this.end(!1),this._id=-1,this._state=0},e.prototype._start=function(){var e=this._handlers[this._id];if(e)for(var t=e.length-1;t>=0;t--)e[t].start();else this._handlerFb(this._id,"START")},e.prototype._put=function(e,t,n){var i=this._handlers[this._id];if(i)for(var o=i.length-1;o>=0;o--)i[o].put(e,t,n);else this._handlerFb(this._id,"PUT",r.utf32ToString(e,t,n))},e.prototype._end=function(e){var t=this._handlers[this._id];if(t){for(var n=t.length-1;n>=0&&!1===t[n].end(e);n--);for(n--;n>=0;n--)t[n].end(!1)}else this._handlerFb(this._id,"END",e)},e.prototype.start=function(){this.reset(),this._id=-1,this._state=1},e.prototype.put=function(e,t,n){if(3!==this._state){if(1===this._state)for(;t<n;){var i=e[t++];if(59===i){this._state=2,this._start();break}if(i<48||57<i)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+i-48}2===this._state&&n-t>0&&this._put(e,t,n)}},e.prototype.end=function(e){0!==this._state&&(3!==this._state&&(1===this._state&&this._start(),this._end(e)),this._id=-1,this._state=0)},e}();t.OscParser=o;var a=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.start=function(){this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,n){this._hitLimit||(this._data+=r.utf32ToString(e,t,n),this._data.length>i.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.end=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data)),this._data="",this._hitLimit=!1,t},e}();t.OscHandler=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=1e7},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),r=n(19),o=n(21),a=[],s=function(){function e(){this._handlers=Object.create(null),this._active=a,this._ident=0,this._handlerFb=function(){}}return e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var n=this._handlers[e];return n.push(t),{dispose:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.reset=function(){this._active.length&&this.unhook(!1),this._active=a,this._ident=0},e.prototype.hook=function(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||a,this._active.length)for(var n=this._active.length-1;n>=0;n--)this._active[n].hook(t);else this._handlerFb(this._ident,"HOOK",t)},e.prototype.put=function(e,t,n){if(this._active.length)for(var r=this._active.length-1;r>=0;r--)this._active[r].put(e,t,n);else this._handlerFb(this._ident,"PUT",i.utf32ToString(e,t,n))},e.prototype.unhook=function(e){if(this._active.length){for(var t=this._active.length-1;t>=0&&!1===this._active[t].unhook(e);t--);for(t--;t>=0;t--)this._active[t].unhook(!1)}else this._handlerFb(this._ident,"UNHOOK",e);this._active=a,this._ident=0},e}();t.DcsParser=s;var l=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.hook=function(e){this._params=e.clone(),this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,n){this._hitLimit||(this._data+=i.utf32ToString(e,t,n),this._data.length>o.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.unhook=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data,this._params?this._params:new r.Params)),this._params=void 0,this._data="",this._hitLimit=!1,t},e}();t.DcsHandler=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),r=n(42),o=[];t.acquireCharAtlas=function(e,t,n,a,s){for(var l=i.generateConfig(a,s,e,n),c=0;c<o.length;c++){var h=(d=o[c]).ownedBy.indexOf(t);if(h>=0){if(i.configEquals(d.config,l))return d.atlas;1===d.ownedBy.length?(d.atlas.dispose(),o.splice(c,1)):d.ownedBy.splice(h,1);break}}for(c=0;c<o.length;c++){var d=o[c];if(i.configEquals(d.config,l))return d.ownedBy.push(t),d.atlas}var u={atlas:new r.DynamicCharAtlas(document,l),config:l,ownedBy:[t]};return o.push(u),u.atlas},t.removeTerminalFromCache=function(e){for(var t=0;t<o.length;t++){var n=o[t].ownedBy.indexOf(e);if(-1!==n){1===o[t].ownedBy.length?(o[t].atlas.dispose(),o.splice(t,1)):o[t].ownedBy.splice(n,1);break}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3);t.generateConfig=function(e,t,n,i){var r={foreground:i.foreground,background:i.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:i.ansi.slice(0,16)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:n.fontFamily,fontSize:n.fontSize,fontWeight:n.fontWeight,fontWeightBold:n.fontWeightBold,allowTransparency:n.allowTransparency,colors:r}},t.configEquals=function(e,t){for(var n=0;n<e.colors.ansi.length;n++)if(e.colors.ansi[n].rgba!==t.colors.ansi[n].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},t.is256Color=function(e){return e<i.DEFAULT_COLOR}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=n(44),o=i.css.toColor("#ffffff"),a=i.css.toColor("#000000"),s=i.css.toColor("#ffffff"),l=i.css.toColor("#000000"),c={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=function(){for(var e=[i.css.toColor("#2e3436"),i.css.toColor("#cc0000"),i.css.toColor("#4e9a06"),i.css.toColor("#c4a000"),i.css.toColor("#3465a4"),i.css.toColor("#75507b"),i.css.toColor("#06989a"),i.css.toColor("#d3d7cf"),i.css.toColor("#555753"),i.css.toColor("#ef2929"),i.css.toColor("#8ae234"),i.css.toColor("#fce94f"),i.css.toColor("#729fcf"),i.css.toColor("#ad7fa8"),i.css.toColor("#34e2e2"),i.css.toColor("#eeeeec")],t=[0,95,135,175,215,255],n=0;n<216;n++){var r=t[n/36%6|0],o=t[n/6%6|0],a=t[n%6];e.push({css:i.channels.toCss(r,o,a),rgba:i.channels.toRgba(r,o,a)})}for(n=0;n<24;n++){var s=8+10*n;e.push({css:i.channels.toCss(s,s,s),rgba:i.channels.toRgba(s,s,s)})}return e}();var h=function(){function e(e,n){this.allowTransparency=n;var h=e.createElement("canvas");h.width=1,h.height=1;var d=h.getContext("2d");if(!d)throw new Error("Could not get rendering context");this._ctx=d,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new r.ColorContrastCache,this.colors={foreground:o,background:a,cursor:s,cursorAccent:l,selection:c,selectionOpaque:i.color.blend(a,c),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache}}return e.prototype.onOptionsChange=function(e){"minimumContrastRatio"===e&&this._contrastCache.clear()},e.prototype.setTheme=function(e){void 0===e&&(e={}),this.colors.foreground=this._parseColor(e.foreground,o),this.colors.background=this._parseColor(e.background,a),this.colors.cursor=this._parseColor(e.cursor,s,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,l,!0),this.colors.selection=this._parseColor(e.selection,c,!0),this.colors.selectionOpaque=i.color.blend(this.colors.background,this.colors.selection),this.colors.ansi[0]=this._parseColor(e.black,t.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,t.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,t.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,t.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,t.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,t.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,t.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,t.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear()},e.prototype._parseColor=function(e,t,n){if(void 0===n&&(n=this.allowTransparency),void 0===e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+e+" is invalid using fallback "+t.css),t;this._ctx.fillRect(0,0,1,1);var r=this._ctx.getImageData(0,0,1,1).data;if(255!==r[3]){if(!n)return console.warn("Color: "+e+" is using transparency, but allowTransparency is false. Using fallback "+t.css+"."),t;var o=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map((function(e){return Number(e)})),a=o[0],s=o[1],l=o[2],c=o[3],h=Math.round(255*c);return{rgba:i.channels.toRgba(a,s,l,h),css:i.channels.toCss(a,s,l,h)}}return{css:this._ctx.fillStyle,rgba:i.channels.toRgba(r[0],r[1],r[2],r[3])}},e}();t.ColorManager=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(3),s=n(5),l=function(e){function t(t,n,i){var r=e.call(this)||this;return r.content=0,r.combinedData="",r.fg=t.fg,r.bg=t.bg,r.combinedData=n,r._width=i,r}return r(t,e),t.prototype.isCombined=function(){return 2097152},t.prototype.getWidth=function(){return this._width},t.prototype.getChars=function(){return this.combinedData},t.prototype.getCode=function(){return 2097151},t.prototype.setFromCharData=function(e){throw new Error("not implemented")},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(o.AttributeData);t.JoinedCellData=l;var c=function(){function e(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new s.CellData}return e.prototype.registerCharacterJoiner=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},e.prototype.deregisterCharacterJoiner=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},e.prototype.getJoinedCharacters=function(e){if(0===this._characterJoiners.length)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];for(var n=[],i=t.translateToString(!0),r=0,o=0,s=0,l=t.getFg(0),c=t.getBg(0),h=0;h<t.getTrimmedLength();h++)if(t.loadCell(h,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==l||this._workCell.bg!==c){if(h-r>1)for(var d=this._getJoinedRanges(i,s,o,t,r),u=0;u<d.length;u++)n.push(d[u]);r=h,s=o,l=this._workCell.fg,c=this._workCell.bg}o+=this._workCell.getChars().length||a.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-r>1)for(d=this._getJoinedRanges(i,s,o,t,r),u=0;u<d.length;u++)n.push(d[u]);return n},e.prototype._getJoinedRanges=function(t,n,i,r,o){for(var a=t.substring(n,i),s=this._characterJoiners[0].handler(a),l=1;l<this._characterJoiners.length;l++)for(var c=this._characterJoiners[l].handler(a),h=0;h<c.length;h++)e._mergeRanges(s,c[h]);return this._stringRangesToCellRanges(s,r,o),s},e.prototype._stringRangesToCellRanges=function(e,t,n){var i=0,r=!1,o=0,s=e[i];if(s){for(var l=n;l<this._bufferService.cols;l++){var c=t.getWidth(l),h=t.getString(l).length||a.WHITESPACE_CELL_CHAR.length;if(0!==c){if(!r&&s[0]<=o&&(s[0]=l,r=!0),s[1]<=o){if(s[1]=l,!(s=e[++i]))break;s[0]<=o?(s[0]=l,r=!0):r=!1}o+=h}}s&&(s[1]=this._bufferService.cols)}},e._mergeRanges=function(e,t){for(var n=!1,i=0;i<e.length;i++){var r=e[i];if(n){if(t[1]<=r[0])return e[i-1][1]=t[1],e;if(t[1]<=r[1])return e[i-1][1]=Math.max(t[1],r[1]),e.splice(i,1),e;e.splice(i,1),i--}else{if(t[1]<=r[0])return e.splice(i,0,t),e;if(t[1]<=r[1])return r[0]=Math.min(t[0],r[0]),e;t[0]<r[1]&&(r[0]=Math.min(t[0],r[0]),n=!0)}}return n?e[e.length-1][1]=t[1]:e.push(t),e},e}();t.CharacterJoinerRegistry=c},function(e,t,n){"use strict";function i(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left,e.clientY-n.top]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoordsRelativeToElement=i,t.getCoords=function(e,t,n,r,o,a,s,l){if(o){var c=i(e,t);if(c)return c[0]=Math.ceil((c[0]+(l?a/2:0))/a),c[1]=Math.ceil(c[1]/s),c[0]=Math.min(Math.max(c[0],1),n+(l?1:0)),c[1]=Math.min(Math.max(c[1],1),r),c}},t.getRawByteCoords=function(e){if(e)return{x:e[0]+32,y:e[1]+32}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._renderCallback=e}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.refresh=function(e,t,n){var i=this;this._rowCount=n,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return i._innerRefresh()})))},e.prototype._innerRefresh=function(){void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount&&(this._rowStart=Math.max(this._rowStart,0),this._rowEnd=Math.min(this._rowEnd,this._rowCount-1),this._renderCallback(this._rowStart,this._rowEnd),this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0)},e}();t.RenderDebouncer=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentDevicePixelRatio=window.devicePixelRatio,t}return r(t,e),t.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener&&(t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr())},this._updateDpr()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearListener()},t.prototype._updateDpr=function(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},t.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},t}(n(2).Disposable);t.ScreenDprMonitor=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function e(t,n){if(void 0===n&&(n=5),"object"!=typeof t)return t;var i=Array.isArray(t)?[]:{};for(var r in t)i[r]=n<=1?t[r]:t[r]?e(t[r],n-1):t[r];return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(33),o=n(17),a=n(80),s=function(){function e(e){this._core=new r.Terminal(e),this._addonManager=new a.AddonManager}return Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._core.onData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._core.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parser",{get:function(){return this._parser||(this._parser=new h(this._core)),this._parser},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unicode",{get:function(){return new d(this._core)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._core.rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._core.cols},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return new l(this._core.buffer)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markers",{get:function(){return this._core.markers},enumerable:!0,configurable:!0}),e.prototype.blur=function(){this._core.blur()},e.prototype.focus=function(){this._core.focus()},e.prototype.resize=function(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)},e.prototype.open=function(e){this._core.open(e)},e.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},e.prototype.registerLinkMatcher=function(e,t,n){return this._core.registerLinkMatcher(e,t,n)},e.prototype.deregisterLinkMatcher=function(e){this._core.deregisterLinkMatcher(e)},e.prototype.registerCharacterJoiner=function(e){return this._core.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){this._core.deregisterCharacterJoiner(e)},e.prototype.registerMarker=function(e){return this._verifyIntegers(e),this._core.addMarker(e)},e.prototype.addMarker=function(e){return this.registerMarker(e)},e.prototype.hasSelection=function(){return this._core.hasSelection()},e.prototype.select=function(e,t,n){this._verifyIntegers(e,t,n),this._core.select(e,t,n)},e.prototype.getSelection=function(){return this._core.getSelection()},e.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},e.prototype.clearSelection=function(){this._core.clearSelection()},e.prototype.selectAll=function(){this._core.selectAll()},e.prototype.selectLines=function(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)},e.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},e.prototype.scrollLines=function(e){this._verifyIntegers(e),this._core.scrollLines(e)},e.prototype.scrollPages=function(e){this._verifyIntegers(e),this._core.scrollPages(e)},e.prototype.scrollToTop=function(){this._core.scrollToTop()},e.prototype.scrollToBottom=function(){this._core.scrollToBottom()},e.prototype.scrollToLine=function(e){this._verifyIntegers(e),this._core.scrollToLine(e)},e.prototype.clear=function(){this._core.clear()},e.prototype.write=function(e,t){this._core.write(e,t)},e.prototype.writeUtf8=function(e,t){this._core.write(e,t)},e.prototype.writeln=function(e,t){this._core.write(e),this._core.write("\r\n",t)},e.prototype.paste=function(e){this._core.paste(e)},e.prototype.getOption=function(e){return this._core.optionsService.getOption(e)},e.prototype.setOption=function(e,t){this._core.optionsService.setOption(e,t)},e.prototype.refresh=function(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)},e.prototype.reset=function(){this._core.reset()},e.prototype.loadAddon=function(e){return this._addonManager.loadAddon(this,e)},Object.defineProperty(e,"strings",{get:function(){return o},enumerable:!0,configurable:!0}),e.prototype._verifyIntegers=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){if(e===1/0||isNaN(e)||e%1!=0)throw new Error("This API only accepts integers")}))},e}();t.Terminal=s;var l=function(){function e(e){this._buffer=e}return Object.defineProperty(e.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!0,configurable:!0}),e.prototype.getLine=function(e){var t=this._buffer.lines.get(e);if(t)return new c(t)},e.prototype.getNullCell=function(){return new i.CellData},e}(),c=function(){function e(e){this._line=e}return Object.defineProperty(e.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._line.length},enumerable:!0,configurable:!0}),e.prototype.getCell=function(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new i.CellData)},e.prototype.translateToString=function(e,t,n){return this._line.translateToString(e,t,n)},e}(),h=function(){function e(e){this._core=e}return e.prototype.registerCsiHandler=function(e,t){return this._core.addCsiHandler(e,(function(e){return t(e.toArray())}))},e.prototype.addCsiHandler=function(e,t){return this.registerCsiHandler(e,t)},e.prototype.registerDcsHandler=function(e,t){return this._core.addDcsHandler(e,(function(e,n){return t(e,n.toArray())}))},e.prototype.addDcsHandler=function(e,t){return this.registerDcsHandler(e,t)},e.prototype.registerEscHandler=function(e,t){return this._core.addEscHandler(e,t)},e.prototype.addEscHandler=function(e,t){return this.registerEscHandler(e,t)},e.prototype.registerOscHandler=function(e,t){return this._core.addOscHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this.registerOscHandler(e,t)},e}(),d=function(){function e(e){this._core=e}return e.prototype.register=function(e){this._core.unicodeService.register(e)},Object.defineProperty(e.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(e){this._core.unicodeService.activeVersion=e},enumerable:!0,configurable:!0}),e}()},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),a=n(35),s=n(36),l=n(12),c=n(37),h=n(39),d=n(49),u=n(50),p=n(11),f=n(8),m=n(17),g=n(53),v=n(54),b=n(55),y=n(56),_=n(58),x=n(1),w=n(16),C=n(59),S=n(25),E=n(60),k=n(0),O=n(61),T=n(4),A=n(62),I=n(63),j=n(2),P=n(69),M=n(70),R=n(71),D=n(72),L=n(73),N=n(74),B=n(75),F=n(76),z=n(77),H=n(79),U="undefined"!=typeof window?window.document:null,q=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.browser=p,n.mouseEvents=0,n._keyDownHandled=!1,n._blankLine=null,n._onCursorMove=new x.EventEmitter,n._onData=new x.EventEmitter,n._onBinary=new x.EventEmitter,n._onKey=new x.EventEmitter,n._onLineFeed=new x.EventEmitter,n._onRender=new x.EventEmitter,n._onResize=new x.EventEmitter,n._onScroll=new x.EventEmitter,n._onSelectionChange=new x.EventEmitter,n._onTitleChange=new x.EventEmitter,n._onFocus=new x.EventEmitter,n._onBlur=new x.EventEmitter,n.onA11yCharEmitter=new x.EventEmitter,n.onA11yTabEmitter=new x.EventEmitter,n._instantiationService=new L.InstantiationService,n.optionsService=new O.OptionsService(t),n._instantiationService.setService(k.IOptionsService,n.optionsService),n._bufferService=n._instantiationService.createInstance(I.BufferService),n._instantiationService.setService(k.IBufferService,n._bufferService),n._logService=n._instantiationService.createInstance(R.LogService),n._instantiationService.setService(k.ILogService,n._logService),n._coreService=n._instantiationService.createInstance(M.CoreService,(function(){return n.scrollToBottom()})),n._instantiationService.setService(k.ICoreService,n._coreService),n._coreService.onData((function(e){return n._onData.fire(e)})),n._coreService.onBinary((function(e){return n._onBinary.fire(e)})),n._coreMouseService=n._instantiationService.createInstance(N.CoreMouseService),n._instantiationService.setService(k.ICoreMouseService,n._coreMouseService),n._dirtyRowService=n._instantiationService.createInstance(D.DirtyRowService),n._instantiationService.setService(k.IDirtyRowService,n._dirtyRowService),n.unicodeService=n._instantiationService.createInstance(z.UnicodeService),n._instantiationService.setService(k.IUnicodeService,n.unicodeService),n._charsetService=n._instantiationService.createInstance(H.CharsetService),n._instantiationService.setService(k.ICharsetService,n._charsetService),n._setupOptionsListeners(),n._setup(),n._writeBuffer=new B.WriteBuffer((function(e){return n._inputHandler.parse(e)})),n}return r(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this.optionsService.options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this.onA11yCharEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this.onA11yTabEmitter.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t,n,i,r;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0,null===(n=this._renderService)||void 0===n||n.dispose(),this._customKeyEventHandler=null,this.write=function(){},null===(r=null===(i=this.element)||void 0===i?void 0:i.parentNode)||void 0===r||r.removeChild(this.element))},t.prototype._setup=function(){var e=this;this._customKeyEventHandler=null,this.insertMode=!1,this.bracketedPasteMode=!1,this._userScrolling=!1,this._inputHandler?this._inputHandler.reset():(this._inputHandler=new c.InputHandler(this,this._bufferService,this._charsetService,this._coreService,this._dirtyRowService,this._logService,this.optionsService,this._coreMouseService,this.unicodeService,this._instantiationService),this._inputHandler.onRequestBell((function(){return e.bell()})),this._inputHandler.onRequestRefreshRows((function(t,n){return e.refresh(t,n)})),this._inputHandler.onRequestReset((function(){return e.reset()})),this._inputHandler.onCursorMove((function(){return e._onCursorMove.fire()})),this._inputHandler.onLineFeed((function(){return e._onLineFeed.fire()})),this.register(this._inputHandler)),this.linkifier||(this.linkifier=new d.Linkifier(this._bufferService,this._logService,this.optionsService,this.unicodeService)),this.options.windowsMode&&this._enableWindowsMode()},t.prototype._enableWindowsMode=function(){var e=this;if(!this._windowsMode){var t=[];t.push(this.onLineFeed(C.updateWindowsModeWrappedState.bind(null,this._bufferService))),t.push(this.addCsiHandler({final:"H"},(function(){return C.updateWindowsModeWrappedState(e._bufferService),!1}))),this._windowsMode={dispose:function(){t.forEach((function(e){return e.dispose()}))}}}},Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},t.prototype._setupOptionsListeners=function(){var e=this;this.optionsService.onOptionChange((function(t){var n,i,r,o,a;switch(t){case"fontFamily":case"fontSize":null===(n=e._renderService)||void 0===n||n.clear(),null===(i=e._charSizeService)||void 0===i||i.measure();break;case"cursorBlink":case"cursorStyle":e.refresh(e.buffer.y,e.buffer.y);break;case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":e._renderService&&(e._renderService.clear(),e._renderService.onResize(e.cols,e.rows),e.refresh(0,e.rows-1));break;case"rendererType":e._renderService&&(e._renderService.setRenderer(e._createRenderer()),e._renderService.onResize(e.cols,e.rows));break;case"scrollback":e.buffers.resize(e.cols,e.rows),null===(r=e.viewport)||void 0===r||r.syncScrollArea();break;case"screenReaderMode":e.optionsService.options.screenReaderMode?!e._accessibilityManager&&e._renderService&&(e._accessibilityManager=new b.AccessibilityManager(e,e._renderService)):(null===(o=e._accessibilityManager)||void 0===o||o.dispose(),e._accessibilityManager=null);break;case"tabStopWidth":e.buffers.setupTabStops();break;case"theme":e._setTheme(e.optionsService.options.theme);break;case"windowsMode":e.optionsService.options.windowsMode?e._enableWindowsMode():(null===(a=e._windowsMode)||void 0===a||a.dispose(),e._windowsMode=void 0)}}))},t.prototype._onTextAreaFocus=function(e){this.sendFocus&&this._coreService.triggerDataEvent(l.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this.showCursor(),this._onFocus.fire()},t.prototype.blur=function(){return this.textarea.blur()},t.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.sendFocus&&this._coreService.triggerDataEvent(l.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},t.prototype._initGlobal=function(){var e=this;this._bindKeys(),this.register(f.addDisposableDomListener(this.element,"copy",(function(t){e.hasSelection()&&s.copyHandler(t,e._selectionService)})));var t=function(t){return s.handlePasteEvent(t,e.textarea,e.bracketedPasteMode,e._coreService)};this.register(f.addDisposableDomListener(this.textarea,"paste",t)),this.register(f.addDisposableDomListener(this.element,"paste",t)),p.isFirefox?this.register(f.addDisposableDomListener(this.element,"mousedown",(function(t){2===t.button&&s.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))):this.register(f.addDisposableDomListener(this.element,"contextmenu",(function(t){s.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))),p.isLinux&&this.register(f.addDisposableDomListener(this.element,"auxclick",(function(t){1===t.button&&s.moveTextAreaUnderMouseCursor(t,e.textarea,e.screenElement)})))},t.prototype._bindKeys=function(){var e=this;this.register(f.addDisposableDomListener(this.textarea,"keyup",(function(t){return e._keyUp(t)}),!0)),this.register(f.addDisposableDomListener(this.textarea,"keydown",(function(t){return e._keyDown(t)}),!0)),this.register(f.addDisposableDomListener(this.textarea,"keypress",(function(t){return e._keyPress(t)}),!0)),this.register(f.addDisposableDomListener(this.textarea,"compositionstart",(function(){return e._compositionHelper.compositionstart()}))),this.register(f.addDisposableDomListener(this.textarea,"compositionupdate",(function(t){return e._compositionHelper.compositionupdate(t)}))),this.register(f.addDisposableDomListener(this.textarea,"compositionend",(function(){return e._compositionHelper.compositionend()}))),this.register(this.onRender((function(){return e._compositionHelper.updateCompositionElements()}))),this.register(this.onRender((function(t){return e._queueLinkification(t.start,t.end)})))},t.prototype.open=function(e){var t=this;if(!e)throw new Error("Terminal requires a parent element.");U.body.contains(e)||this._logService.warn("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),e.appendChild(this.element);var n=U.createDocumentFragment();this._viewportElement=U.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),n.appendChild(this._viewportElement),this._viewportScrollArea=U.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=U.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=U.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),n.appendChild(this.screenElement),this.textarea=U.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",m.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register(f.addDisposableDomListener(this.textarea,"focus",(function(e){return t._onTextAreaFocus(e)}))),this.register(f.addDisposableDomListener(this.textarea,"blur",(function(){return t._onTextAreaBlur()}))),this._helperContainer.appendChild(this.textarea);var i=this._instantiationService.createInstance(F.CoreBrowserService,this.textarea);this._instantiationService.setService(T.ICoreBrowserService,i),this._charSizeService=this._instantiationService.createInstance(A.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(T.ICharSizeService,this._charSizeService),this._compositionView=U.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(o.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(n),this._theme=this.options.theme||this._theme,this.options.theme=void 0,this._colorManager=new S.ColorManager(U,this.options.allowTransparency),this.optionsService.onOptionChange((function(e){return t._colorManager.onOptionsChange(e)})),this._colorManager.setTheme(this._theme);var r=this._createRenderer();this._renderService=this._instantiationService.createInstance(E.RenderService,r,this.rows,this.screenElement),this._instantiationService.setService(T.IRenderService,this._renderService),this._renderService.onRender((function(e){return t._onRender.fire(e)})),this.onResize((function(e){return t._renderService.resize(e.cols,e.rows)})),this._soundService=this._instantiationService.createInstance(g.SoundService),this._instantiationService.setService(T.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(P.MouseService),this._instantiationService.setService(T.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(a.Viewport,(function(e,n){return t.scrollLines(e,n)}),this._viewportElement,this._viewportScrollArea),this.viewport.onThemeChange(this._colorManager.colors),this.register(this.viewport),this.register(this.onCursorMove((function(){return t._renderService.onCursorMove()}))),this.register(this.onResize((function(){return t._renderService.onResize(t.cols,t.rows)}))),this.register(this.onBlur((function(){return t._renderService.onBlur()}))),this.register(this.onFocus((function(){return t._renderService.onFocus()}))),this.register(this._renderService.onDimensionsChange((function(){return t.viewport.syncScrollArea()}))),this._selectionService=this._instantiationService.createInstance(u.SelectionService,(function(e,n){return t.scrollLines(e,n)}),this.element,this.screenElement),this._instantiationService.setService(T.ISelectionService,this._selectionService),this.register(this._selectionService.onSelectionChange((function(){return t._onSelectionChange.fire()}))),this.register(this._selectionService.onRedrawRequest((function(e){return t._renderService.onSelectionChanged(e.start,e.end,e.columnSelectMode)}))),this.register(this._selectionService.onLinuxMouseSelection((function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()}))),this.register(this.onScroll((function(){t.viewport.syncScrollArea(),t._selectionService.refresh()}))),this.register(f.addDisposableDomListener(this._viewportElement,"scroll",(function(){return t._selectionService.refresh()}))),this._mouseZoneManager=this._instantiationService.createInstance(v.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll((function(){return t._mouseZoneManager.clearAll()}))),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.register(f.addDisposableDomListener(this.element,"mousedown",(function(e){return t._selectionService.onMouseDown(e)}))),this.mouseEvents?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new b.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},t.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(h.Renderer,this._colorManager.colors,this.screenElement,this.linkifier);case"dom":return this._instantiationService.createInstance(y.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},t.prototype._setTheme=function(e){var t,n,i;this._theme=e,null===(t=this._colorManager)||void 0===t||t.setTheme(e),null===(n=this._renderService)||void 0===n||n.setColors(this._colorManager.colors),null===(i=this.viewport)||void 0===i||i.onThemeChange(this._colorManager.colors)},t.prototype.bindMouse=function(){var e=this,t=this,n=this.element;function i(e){var n,i,r;if(!(n=t._mouseService.getRawByteCoords(e,t.screenElement,t.cols,t.rows)))return!1;switch(e.overrideType||e.type){case"mousemove":r=32,void 0===e.buttons?(i=3,void 0!==e.button&&(i=e.button<3?e.button:3)):i=1&e.buttons?0:4&e.buttons?1:2&e.buttons?2:3;break;case"mouseup":r=0,i=e.button<3?e.button:3;break;case"mousedown":r=1,i=e.button<3?e.button:3;break;case"wheel":0!==e.deltaY&&(r=e.deltaY<0?0:1),i=4;break;default:return!1}return!(void 0===r||void 0===i||i>4)&&t._coreMouseService.triggerMouseEvent({col:n.x-33,row:n.y-33,button:i,action:r,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey})}var r={mouseup:null,wheel:null,mousedrag:null,mousemove:null},o=function(t){return i(t),t.buttons||(e._document.removeEventListener("mouseup",r.mouseup),r.mousedrag&&e._document.removeEventListener("mousemove",r.mousedrag)),e.cancel(t)},a=function(t){return i(t),t.preventDefault(),e.cancel(t)},s=function(e){e.buttons&&i(e)},c=function(e){e.buttons||i(e)};this._coreMouseService.onProtocolChange((function(t){e.mouseEvents=t,t?("debug"===e.optionsService.options.logLevel&&e._logService.debug("Binding to mouse events:",e._coreMouseService.explainEvents(t)),e.element.classList.add("enable-mouse-events"),e._selectionService.disable()):(e._logService.debug("Unbinding from mouse events."),e.element.classList.remove("enable-mouse-events"),e._selectionService.enable()),8&t?r.mousemove||(n.addEventListener("mousemove",c),r.mousemove=c):(n.removeEventListener("mousemove",r.mousemove),r.mousemove=null),16&t?r.wheel||(n.addEventListener("wheel",a),r.wheel=a):(n.removeEventListener("wheel",r.wheel),r.wheel=null),2&t?r.mouseup||(r.mouseup=o):(e._document.removeEventListener("mouseup",r.mouseup),r.mouseup=null),4&t?r.mousedrag||(r.mousedrag=s):(e._document.removeEventListener("mousemove",r.mousedrag),r.mousedrag=null)})),this._coreMouseService.activeProtocol=this._coreMouseService.activeProtocol,this.register(f.addDisposableDomListener(n,"mousedown",(function(t){if(t.preventDefault(),e.focus(),e.mouseEvents&&!e._selectionService.shouldForceSelection(t))return i(t),r.mouseup&&e._document.addEventListener("mouseup",r.mouseup),r.mousedrag&&e._document.addEventListener("mousemove",r.mousedrag),e.cancel(t)}))),this.register(f.addDisposableDomListener(n,"wheel",(function(t){if(r.wheel);else if(!e.buffer.hasScrollback){var n=e.viewport.getLinesScrolled(t);if(0===n)return;for(var i=l.C0.ESC+(e._coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(t.deltaY<0?"A":"B"),o="",a=0;a<Math.abs(n);a++)o+=i;e._coreService.triggerDataEvent(o,!0)}}))),this.register(f.addDisposableDomListener(n,"wheel",(function(t){if(!r.wheel)return e.viewport.onWheel(t)?void 0:e.cancel(t)}))),this.register(f.addDisposableDomListener(n,"touchstart",(function(t){if(!e.mouseEvents)return e.viewport.onTouchStart(t),e.cancel(t)}))),this.register(f.addDisposableDomListener(n,"touchmove",(function(t){if(!e.mouseEvents)return e.viewport.onTouchMove(t)?void 0:e.cancel(t)})))},t.prototype.refresh=function(e,t){var n;null===(n=this._renderService)||void 0===n||n.refreshRows(e,t)},t.prototype._queueLinkification=function(e,t){var n;null===(n=this.linkifier)||void 0===n||n.linkifyRows(e,t)},t.prototype.updateCursorStyle=function(e){this._selectionService&&this._selectionService.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},t.prototype.showCursor=function(){this._coreService.isCursorInitialized||(this._coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scroll=function(e,t){var n;void 0===t&&(t=!1),(n=this._blankLine)&&n.length===this.cols&&n.getFg(0)===e.fg&&n.getBg(0)===e.bg||(n=this.buffer.getBlankLine(e,t),this._blankLine=n),n.isWrapped=t;var i=this.buffer.ybase+this.buffer.scrollTop,r=this.buffer.ybase+this.buffer.scrollBottom;if(0===this.buffer.scrollTop){var o=this.buffer.lines.isFull;r===this.buffer.lines.length-1?o?this.buffer.lines.recycle().copyFrom(n):this.buffer.lines.push(n.clone()):this.buffer.lines.splice(r+1,0,n.clone()),o?this._userScrolling&&(this.buffer.ydisp=Math.max(this.buffer.ydisp-1,0)):(this.buffer.ybase++,this._userScrolling||this.buffer.ydisp++)}else{var a=r-i+1;this.buffer.lines.shiftElements(i+1,a-1,-1),this.buffer.lines.set(r,n.clone())}this._userScrolling||(this.buffer.ydisp=this.buffer.ybase),this._dirtyRowService.markRangeDirty(this.buffer.scrollTop,this.buffer.scrollBottom),this._onScroll.fire(this.buffer.ydisp)},t.prototype.scrollLines=function(e,t){if(e<0){if(0===this.buffer.ydisp)return;this._userScrolling=!0}else e+this.buffer.ydisp>=this.buffer.ybase&&(this._userScrolling=!1);var n=this.buffer.ydisp;this.buffer.ydisp=Math.max(Math.min(this.buffer.ydisp+e,this.buffer.ybase),0),n!==this.buffer.ydisp&&(t||this._onScroll.fire(this.buffer.ydisp),this.refresh(0,this.rows-1))},t.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},t.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},t.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},t.prototype.scrollToLine=function(e){var t=e-this.buffer.ydisp;0!==t&&this.scrollLines(t)},t.prototype.paste=function(e){s.paste(e,this.textarea,this.bracketedPasteMode,this._coreService)},t.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},t.prototype.addEscHandler=function(e,t){return this._inputHandler.addEscHandler(e,t)},t.prototype.addDcsHandler=function(e,t){return this._inputHandler.addDcsHandler(e,t)},t.prototype.addCsiHandler=function(e,t){return this._inputHandler.addCsiHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._inputHandler.addOscHandler(e,t)},t.prototype.registerLinkMatcher=function(e,t,n){var i=this.linkifier.registerLinkMatcher(e,t,n);return this.refresh(0,this.rows-1),i},t.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},t.prototype.registerCharacterJoiner=function(e){var t=this._renderService.registerCharacterJoiner(e);return this.refresh(0,this.rows-1),t},t.prototype.deregisterCharacterJoiner=function(e){this._renderService.deregisterCharacterJoiner(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(t.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!0,configurable:!0}),t.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},t.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},t.prototype.select=function(e,t,n){this._selectionService.setSelection(e,t,n)},t.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},t.prototype.getSelectionPosition=function(){if(this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},t.prototype.clearSelection=function(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()},t.prototype.selectAll=function(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()},t.prototype.selectLines=function(e,t){var n;null===(n=this._selectionService)||void 0===n||n.selectLines(e,t)},t.prototype._keyDown=function(e){if(this._keyDownHandled=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var t=_.evaluateKeyboardEvent(e,this._coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===t.type||2===t.type){var n=this.rows-1;return this.scrollLines(2===t.type?-n:n),this.cancel(e,!0)}return 1===t.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(t.cancel&&this.cancel(e,!0),!t.key||(t.key!==l.C0.ETX&&t.key!==l.C0.CR||(this.textarea.value=""),this._onKey.fire({key:t.key,domEvent:e}),this.showCursor(),this._coreService.triggerDataEvent(t.key,!0),this.optionsService.options.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(e,!0)))},t.prototype._isThirdLevelShift=function(e,t){var n=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey;return"keypress"===t.type?n:n&&(!t.keyCode||t.keyCode>47)},t.prototype._keyUp=function(e){this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e))},t.prototype._keyPress=function(e){var t;if(this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e))&&(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this.showCursor(),this._coreService.triggerDataEvent(t,!0),!0)},t.prototype.bell=function(){var e=this;this._soundBell()&&this._soundService.playBellSound(),this._visualBell()&&(this.element.classList.add("visual-bell-active"),clearTimeout(this._visualBellTimer),this._visualBellTimer=window.setTimeout((function(){e.element.classList.remove("visual-bell-active")}),200))},t.prototype.resize=function(e,t){var n,i;isNaN(e)||isNaN(t)||(e!==this.cols||t!==this.rows?(e<I.MINIMUM_COLS&&(e=I.MINIMUM_COLS),t<I.MINIMUM_ROWS&&(t=I.MINIMUM_ROWS),this.buffers.resize(e,t),this._bufferService.resize(e,t),this.buffers.setupTabStops(this.cols),null===(n=this._charSizeService)||void 0===n||n.measure(),null===(i=this.viewport)||void 0===i||i.syncScrollArea(!0),this.refresh(0,this.rows-1),this._onResize.fire({cols:e,rows:t})):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure())},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(w.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire(this.buffer.ydisp)}},t.prototype.is=function(e){return 0===(this.options.termName+"").indexOf(e)},t.prototype.handleTitle=function(e){this._onTitleChange.fire(e)},t.prototype.reset=function(){var e,t;this.options.rows=this.rows,this.options.cols=this.cols;var n=this._customKeyEventHandler,i=this._userScrolling;this._setup(),this._bufferService.reset(),this._charsetService.reset(),this._coreService.reset(),this._coreMouseService.reset(),null===(e=this._selectionService)||void 0===e||e.reset(),this._customKeyEventHandler=n,this._userScrolling=i,this.refresh(0,this.rows-1),null===(t=this.viewport)||void 0===t||t.syncScrollArea()},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype._visualBell=function(){return!1},t.prototype._soundBell=function(){return"sound"===this.options.bellStyle},t.prototype.write=function(e,t){this._writeBuffer.write(e,t)},t.prototype.writeSync=function(e){this._writeBuffer.writeSync(e)},t}(j.Disposable);t.Terminal=q},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(0),s=function(){function e(e,t,n,i,r,o){this._textarea=e,this._compositionView=t,this._bufferService=n,this._optionsService=i,this._charSizeService=r,this._coreService=o,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0}}return e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout((function(){t._compositionPosition.end=t._textarea.value.length}),0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,this._clearTextareaPosition(),e){var n={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((function(){var e;t._isSendingComposition&&(t._isSendingComposition=!1,e=t._isComposing?t._textarea.value.substring(n.start,n.end):t._textarea.value.substring(n.start),t._coreService.triggerDataEvent(e,!0))}),0)}else{this._isSendingComposition=!1;var i=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(i,!0)}},e.prototype._handleAnyTextareaChanges=function(){var e=this,t=this._textarea.value;setTimeout((function(){if(!e._isComposing){var n=e._textarea.value.replace(t,"");n.length>0&&e._coreService.triggerDataEvent(n,!0)}}),0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var n=Math.ceil(this._charSizeService.height*this._optionsService.options.lineHeight),i=this._bufferService.buffer.y*n,r=this._bufferService.buffer.x*this._charSizeService.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=i+"px",this._compositionView.style.height=n+"px",this._compositionView.style.lineHeight=n+"px",this._compositionView.style.fontFamily=this._optionsService.options.fontFamily,this._compositionView.style.fontSize=this._optionsService.options.fontSize+"px";var o=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=i+"px",this._textarea.style.width=o.width+"px",this._textarea.style.height=o.height+"px",this._textarea.style.lineHeight=o.height+"px"}e||setTimeout((function(){return t.updateCompositionElements(!0)}),0)}},e.prototype._clearTextareaPosition=function(){this._textarea.style.left="",this._textarea.style.top=""},i([r(2,a.IBufferService),r(3,a.IOptionsService),r(4,o.ICharSizeService),r(5,a.ICoreService)],e)}();t.CompositionHelper=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=n(8),c=n(4),h=n(0),d=function(e){function t(t,n,i,r,o,a,s){var c=e.call(this)||this;return c._scrollLines=t,c._viewportElement=n,c._scrollArea=i,c._bufferService=r,c._optionsService=o,c._charSizeService=a,c._renderService=s,c.scrollBarWidth=0,c._currentRowHeight=0,c._lastRecordedBufferLength=0,c._lastRecordedViewportHeight=0,c._lastRecordedBufferHeight=0,c._lastTouchY=0,c._lastScrollTop=0,c._wheelPartialScroll=0,c._refreshAnimationFrame=null,c._ignoreNextScrollEvent=!1,c.scrollBarWidth=c._viewportElement.offsetWidth-c._scrollArea.offsetWidth||15,c.register(l.addDisposableDomListener(c._viewportElement,"scroll",c._onScroll.bind(c))),setTimeout((function(){return c.syncScrollArea()}),0),c}return r(t,e),t.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(e){var t=this;if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame((function(){return t._innerRefresh()})))},t.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(e){if(void 0===e&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);if(this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight){var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._lastScrollTop===t&&this._lastScrollTop===this._viewportElement.scrollTop&&this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio===this._currentRowHeight||this._refresh(e)}else this._refresh(e)},t.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent)if(this._ignoreNextScrollEvent)this._ignoreNextScrollEvent=!1;else{var t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(t,!0)}},t.prototype._bubbleScroll=function(e,t){var n=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&n<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},t.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return 0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},t.prototype._getPixelsScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},t.prototype.getLinesScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},t.prototype._applyScrollModifier=function(e,t){var n=this._optionsService.options.fastScrollModifier;return"alt"===n&&t.altKey||"ctrl"===n&&t.ctrlKey||"shift"===n&&t.shiftKey?e*this._optionsService.options.fastScrollSensitivity*this._optionsService.options.scrollSensitivity:e*this._optionsService.options.scrollSensitivity},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},o([a(3,h.IBufferService),a(4,h.IOptionsService),a(5,c.ICharSizeService),a(6,c.IRenderService)],t)}(s.Disposable);t.Viewport=d},function(e,t,n){"use strict";function i(e){return e.replace(/\r?\n/g,"\r")}function r(e,t){return t?"\x1b[200~"+e+"\x1b[201~":e}function o(e,t,n,o){e=r(e=i(e),n),o.triggerDataEvent(e,!0),t.value=""}function a(e,t,n){var i=n.getBoundingClientRect(),r=e.clientX-i.left-10,o=e.clientY-i.top-10;t.style.position="absolute",t.style.width="20px",t.style.height="20px",t.style.left=r+"px",t.style.top=o+"px",t.style.zIndex="1000",t.focus(),setTimeout((function(){t.style.position="",t.style.width="",t.style.height="",t.style.left="",t.style.top="",t.style.zIndex=""}),200)}Object.defineProperty(t,"__esModule",{value:!0}),t.prepareTextForTerminal=i,t.bracketTextForPaste=r,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,n,i){e.stopPropagation(),e.clipboardData&&o(e.clipboardData.getData("text/plain"),t,n,i)},t.paste=o,t.moveTextAreaUnderMouseCursor=a,t.rightClickHandler=function(e,t,n,i,r){a(e,t,n),r&&!i.isClickInSelection(e)&&i.selectWordAtCursor(e),t.value=i.selectionText,t.select()}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=n(18),s=n(38),l=n(2),c=n(15),h=n(7),d=n(16),u=n(1),p=n(3),f=n(5),m=n(6),g=n(20),v=n(22),b=n(4),y={"(":0,")":1,"*":2,"+":3,"-":1,".":2};function _(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var x=function(){function e(e,t,n,i){this._bufferService=e,this._coreService=t,this._logService=n,this._optionsService=i,this._data=new Uint32Array(0)}return e.prototype.hook=function(e){this._data=new Uint32Array(0)},e.prototype.put=function(e,t,n){this._data=c.concat(this._data,e.subarray(t,n))},e.prototype.unhook=function(e){if(e){var t=h.utf32ToString(this._data);switch(this._data=new Uint32Array(0),t){case'"q':return this._coreService.triggerDataEvent(o.C0.ESC+'P1$r0"q'+o.C0.ESC+"\\");case'"p':return this._coreService.triggerDataEvent(o.C0.ESC+'P1$r61;1"p'+o.C0.ESC+"\\");case"r":var n=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";return this._coreService.triggerDataEvent(o.C0.ESC+"P1$r"+n+o.C0.ESC+"\\");case"m":return this._coreService.triggerDataEvent(o.C0.ESC+"P1$r0m"+o.C0.ESC+"\\");case" q":var i={block:2,underline:4,bar:6}[this._optionsService.options.cursorStyle];return i-=this._optionsService.options.cursorBlink?1:0,this._coreService.triggerDataEvent(o.C0.ESC+"P1$r"+i+" q"+o.C0.ESC+"\\");default:this._logService.debug("Unknown DCS $q %s",t),this._coreService.triggerDataEvent(o.C0.ESC+"P0$r"+o.C0.ESC+"\\")}}else this._data=new Uint32Array(0)},e}(),w=function(e){function t(t,n,i,r,l,c,p,m,v,b,y){void 0===y&&(y=new s.EscapeSequenceParser);var _=e.call(this)||this;_._terminal=t,_._bufferService=n,_._charsetService=i,_._coreService=r,_._dirtyRowService=l,_._logService=c,_._optionsService=p,_._coreMouseService=m,_._unicodeService=v,_._instantiationService=b,_._parser=y,_._parseBuffer=new Uint32Array(4096),_._stringDecoder=new h.StringToUtf32,_._utf8Decoder=new h.Utf8ToUtf32,_._workCell=new f.CellData,_._windowTitle="",_._iconName="",_._windowTitleStack=[],_._iconNameStack=[],_._curAttrData=d.DEFAULT_ATTR_DATA.clone(),_._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone(),_._onRequestRefreshRows=new u.EventEmitter,_._onRequestReset=new u.EventEmitter,_._onRequestBell=new u.EventEmitter,_._onCursorMove=new u.EventEmitter,_._onLineFeed=new u.EventEmitter,_._onScroll=new u.EventEmitter,_.register(_._parser),_._parser.setCsiHandlerFallback((function(e,t){_._logService.debug("Unknown CSI code: ",{identifier:_._parser.identToString(e),params:t.toArray()})})),_._parser.setEscHandlerFallback((function(e){_._logService.debug("Unknown ESC code: ",{identifier:_._parser.identToString(e)})})),_._parser.setExecuteHandlerFallback((function(e){_._logService.debug("Unknown EXECUTE code: ",{code:e})})),_._parser.setOscHandlerFallback((function(e,t,n){_._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:n})})),_._parser.setDcsHandlerFallback((function(e,t,n){"HOOK"===t&&(n=n.toArray()),_._logService.debug("Unknown DCS code: ",{identifier:_._parser.identToString(e),action:t,payload:n})})),_._parser.setPrintHandler((function(e,t,n){return _.print(e,t,n)})),_._parser.setCsiHandler({final:"@"},(function(e){return _.insertChars(e)})),_._parser.setCsiHandler({intermediates:" ",final:"@"},(function(e){return _.scrollLeft(e)})),_._parser.setCsiHandler({final:"A"},(function(e){return _.cursorUp(e)})),_._parser.setCsiHandler({intermediates:" ",final:"A"},(function(e){return _.scrollRight(e)})),_._parser.setCsiHandler({final:"B"},(function(e){return _.cursorDown(e)})),_._parser.setCsiHandler({final:"C"},(function(e){return _.cursorForward(e)})),_._parser.setCsiHandler({final:"D"},(function(e){return _.cursorBackward(e)})),_._parser.setCsiHandler({final:"E"},(function(e){return _.cursorNextLine(e)})),_._parser.setCsiHandler({final:"F"},(function(e){return _.cursorPrecedingLine(e)})),_._parser.setCsiHandler({final:"G"},(function(e){return _.cursorCharAbsolute(e)})),_._parser.setCsiHandler({final:"H"},(function(e){return _.cursorPosition(e)})),_._parser.setCsiHandler({final:"I"},(function(e){return _.cursorForwardTab(e)})),_._parser.setCsiHandler({final:"J"},(function(e){return _.eraseInDisplay(e)})),_._parser.setCsiHandler({prefix:"?",final:"J"},(function(e){return _.eraseInDisplay(e)})),_._parser.setCsiHandler({final:"K"},(function(e){return _.eraseInLine(e)})),_._parser.setCsiHandler({prefix:"?",final:"K"},(function(e){return _.eraseInLine(e)})),_._parser.setCsiHandler({final:"L"},(function(e){return _.insertLines(e)})),_._parser.setCsiHandler({final:"M"},(function(e){return _.deleteLines(e)})),_._parser.setCsiHandler({final:"P"},(function(e){return _.deleteChars(e)})),_._parser.setCsiHandler({final:"S"},(function(e){return _.scrollUp(e)})),_._parser.setCsiHandler({final:"T"},(function(e){return _.scrollDown(e)})),_._parser.setCsiHandler({final:"X"},(function(e){return _.eraseChars(e)})),_._parser.setCsiHandler({final:"Z"},(function(e){return _.cursorBackwardTab(e)})),_._parser.setCsiHandler({final:"`"},(function(e){return _.charPosAbsolute(e)})),_._parser.setCsiHandler({final:"a"},(function(e){return _.hPositionRelative(e)})),_._parser.setCsiHandler({final:"b"},(function(e){return _.repeatPrecedingCharacter(e)})),_._parser.setCsiHandler({final:"c"},(function(e){return _.sendDeviceAttributesPrimary(e)})),_._parser.setCsiHandler({prefix:">",final:"c"},(function(e){return _.sendDeviceAttributesSecondary(e)})),_._parser.setCsiHandler({final:"d"},(function(e){return _.linePosAbsolute(e)})),_._parser.setCsiHandler({final:"e"},(function(e){return _.vPositionRelative(e)})),_._parser.setCsiHandler({final:"f"},(function(e){return _.hVPosition(e)})),_._parser.setCsiHandler({final:"g"},(function(e){return _.tabClear(e)})),_._parser.setCsiHandler({final:"h"},(function(e){return _.setMode(e)})),_._parser.setCsiHandler({prefix:"?",final:"h"},(function(e){return _.setModePrivate(e)})),_._parser.setCsiHandler({final:"l"},(function(e){return _.resetMode(e)})),_._parser.setCsiHandler({prefix:"?",final:"l"},(function(e){return _.resetModePrivate(e)})),_._parser.setCsiHandler({final:"m"},(function(e){return _.charAttributes(e)})),_._parser.setCsiHandler({final:"n"},(function(e){return _.deviceStatus(e)})),_._parser.setCsiHandler({prefix:"?",final:"n"},(function(e){return _.deviceStatusPrivate(e)})),_._parser.setCsiHandler({intermediates:"!",final:"p"},(function(e){return _.softReset(e)})),_._parser.setCsiHandler({intermediates:" ",final:"q"},(function(e){return _.setCursorStyle(e)})),_._parser.setCsiHandler({final:"r"},(function(e){return _.setScrollRegion(e)})),_._parser.setCsiHandler({final:"s"},(function(e){return _.saveCursor(e)})),_._parser.setCsiHandler({final:"t"},(function(e){return _.windowOptions(e)})),_._parser.setCsiHandler({final:"u"},(function(e){return _.restoreCursor(e)})),_._parser.setCsiHandler({intermediates:"'",final:"}"},(function(e){return _.insertColumns(e)})),_._parser.setCsiHandler({intermediates:"'",final:"~"},(function(e){return _.deleteColumns(e)})),_._parser.setExecuteHandler(o.C0.BEL,(function(){return _.bell()})),_._parser.setExecuteHandler(o.C0.LF,(function(){return _.lineFeed()})),_._parser.setExecuteHandler(o.C0.VT,(function(){return _.lineFeed()})),_._parser.setExecuteHandler(o.C0.FF,(function(){return _.lineFeed()})),_._parser.setExecuteHandler(o.C0.CR,(function(){return _.carriageReturn()})),_._parser.setExecuteHandler(o.C0.BS,(function(){return _.backspace()})),_._parser.setExecuteHandler(o.C0.HT,(function(){return _.tab()})),_._parser.setExecuteHandler(o.C0.SO,(function(){return _.shiftOut()})),_._parser.setExecuteHandler(o.C0.SI,(function(){return _.shiftIn()})),_._parser.setExecuteHandler(o.C1.IND,(function(){return _.index()})),_._parser.setExecuteHandler(o.C1.NEL,(function(){return _.nextLine()})),_._parser.setExecuteHandler(o.C1.HTS,(function(){return _.tabSet()})),_._parser.setOscHandler(0,new g.OscHandler((function(e){_.setTitle(e),_.setIconName(e)}))),_._parser.setOscHandler(1,new g.OscHandler((function(e){return _.setIconName(e)}))),_._parser.setOscHandler(2,new g.OscHandler((function(e){return _.setTitle(e)}))),_._parser.setEscHandler({final:"7"},(function(){return _.saveCursor()})),_._parser.setEscHandler({final:"8"},(function(){return _.restoreCursor()})),_._parser.setEscHandler({final:"D"},(function(){return _.index()})),_._parser.setEscHandler({final:"E"},(function(){return _.nextLine()})),_._parser.setEscHandler({final:"H"},(function(){return _.tabSet()})),_._parser.setEscHandler({final:"M"},(function(){return _.reverseIndex()})),_._parser.setEscHandler({final:"="},(function(){return _.keypadApplicationMode()})),_._parser.setEscHandler({final:">"},(function(){return _.keypadNumericMode()})),_._parser.setEscHandler({final:"c"},(function(){return _.fullReset()})),_._parser.setEscHandler({final:"n"},(function(){return _.setgLevel(2)})),_._parser.setEscHandler({final:"o"},(function(){return _.setgLevel(3)})),_._parser.setEscHandler({final:"|"},(function(){return _.setgLevel(3)})),_._parser.setEscHandler({final:"}"},(function(){return _.setgLevel(2)})),_._parser.setEscHandler({final:"~"},(function(){return _.setgLevel(1)})),_._parser.setEscHandler({intermediates:"%",final:"@"},(function(){return _.selectDefaultCharset()})),_._parser.setEscHandler({intermediates:"%",final:"G"},(function(){return _.selectDefaultCharset()}));var w=function(e){C._parser.setEscHandler({intermediates:"(",final:e},(function(){return _.selectCharset("("+e)})),C._parser.setEscHandler({intermediates:")",final:e},(function(){return _.selectCharset(")"+e)})),C._parser.setEscHandler({intermediates:"*",final:e},(function(){return _.selectCharset("*"+e)})),C._parser.setEscHandler({intermediates:"+",final:e},(function(){return _.selectCharset("+"+e)})),C._parser.setEscHandler({intermediates:"-",final:e},(function(){return _.selectCharset("-"+e)})),C._parser.setEscHandler({intermediates:".",final:e},(function(){return _.selectCharset("."+e)})),C._parser.setEscHandler({intermediates:"/",final:e},(function(){return _.selectCharset("/"+e)}))},C=this;for(var S in a.CHARSETS)w(S);return _._parser.setEscHandler({intermediates:"#",final:"8"},(function(){return _.screenAlignmentPattern()})),_._parser.setErrorHandler((function(e){return _._logService.error("Parsing error: ",e),e})),_._parser.setDcsHandler({intermediates:"$",final:"q"},new x(_._bufferService,_._coreService,_._logService,_._optionsService)),_}return r(t,e),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.parse=function(e){var t=this._bufferService.buffer,n=t.x,i=t.y;if(this._logService.debug("parsing data",e),this._parseBuffer.length<e.length&&this._parseBuffer.length<131072&&(this._parseBuffer=new Uint32Array(Math.min(e.length,131072))),this._dirtyRowService.clearRange(),e.length>131072)for(var r=0;r<e.length;r+=131072){var o=r+131072<e.length?r+131072:e.length,a="string"==typeof e?this._stringDecoder.decode(e.substring(r,o),this._parseBuffer):this._utf8Decoder.decode(e.subarray(r,o),this._parseBuffer);this._parser.parse(this._parseBuffer,a)}else a="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer),this._parser.parse(this._parseBuffer,a);(t=this._bufferService.buffer).x===n&&t.y===i||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},t.prototype.print=function(e,t,n){var i,r,o=this._bufferService.buffer,a=this._charsetService.charset,s=this._optionsService.options.screenReaderMode,l=this._bufferService.cols,c=this._coreService.decPrivateModes.wraparound,d=this._terminal.insertMode,u=this._curAttrData,f=o.lines.get(o.y+o.ybase);this._dirtyRowService.markDirty(o.y),o.x&&n-t>0&&2===f.getWidth(o.x-1)&&f.setCellFromCodePoint(o.x-1,0,1,u.fg,u.bg);for(var m=t;m<n;++m){if(i=e[m],r=this._unicodeService.wcwidth(i),i<127&&a){var g=a[String.fromCharCode(i)];g&&(i=g.charCodeAt(0))}if(s&&this._terminal.onA11yCharEmitter.fire(h.stringFromCodePoint(i)),r||!o.x){if(o.x+r-1>=l)if(c)o.x=0,o.y++,o.y===o.scrollBottom+1?(o.y--,this._terminal.scroll(this._eraseAttrData(),!0)):(o.y>=this._bufferService.rows&&(o.y=this._bufferService.rows-1),o.lines.get(o.y).isWrapped=!0),f=o.lines.get(o.y+o.ybase);else if(o.x=l-1,2===r)continue;if(d&&(f.insertCells(o.x,r,o.getNullCell(u),u),2===f.getWidth(l-1)&&f.setCellFromCodePoint(l-1,p.NULL_CELL_CODE,p.NULL_CELL_WIDTH,u.fg,u.bg)),f.setCellFromCodePoint(o.x++,i,r,u.fg,u.bg),r>0)for(;--r;)f.setCellFromCodePoint(o.x++,0,0,u.fg,u.bg)}else f.getWidth(o.x-1)?f.addCodepointToCell(o.x-1,i):f.addCodepointToCell(o.x-2,i)}n-t>0&&(f.loadCell(o.x-1,this._workCell),2===this._workCell.getWidth()||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),o.x<l&&n-t>0&&0===f.getWidth(o.x)&&!f.hasContent(o.x)&&f.setCellFromCodePoint(o.x,0,1,u.fg,u.bg),this._dirtyRowService.markDirty(o.y)},t.prototype.addCsiHandler=function(e,t){var n=this;return"t"!==e.final||e.prefix||e.intermediates?this._parser.addCsiHandler(e,t):this._parser.addCsiHandler(e,(function(e){return!_(e.params[0],n._optionsService.options.windowOptions)||t(e)}))},t.prototype.addDcsHandler=function(e,t){return this._parser.addDcsHandler(e,new v.DcsHandler(t))},t.prototype.addEscHandler=function(e,t){return this._parser.addEscHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._parser.addOscHandler(e,new g.OscHandler(t))},t.prototype.bell=function(){this._onRequestBell.fire()},t.prototype.lineFeed=function(){var e=this._bufferService.buffer;this._dirtyRowService.markDirty(e.y),this._optionsService.options.convertEol&&(e.x=0),e.y++,e.y===e.scrollBottom+1?(e.y--,this._terminal.scroll(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),e.x>=this._bufferService.cols&&e.x--,this._dirtyRowService.markDirty(e.y),this._onLineFeed.fire()},t.prototype.carriageReturn=function(){this._bufferService.buffer.x=0},t.prototype.backspace=function(){this._restrictCursor(),this._bufferService.buffer.x>0&&this._bufferService.buffer.x--},t.prototype.tab=function(){if(!(this._bufferService.buffer.x>=this._bufferService.cols)){var e=this._bufferService.buffer.x;this._bufferService.buffer.x=this._bufferService.buffer.nextStop(),this._optionsService.options.screenReaderMode&&this._terminal.onA11yTabEmitter.fire(this._bufferService.buffer.x-e)}},t.prototype.shiftOut=function(){this._charsetService.setgLevel(1)},t.prototype.shiftIn=function(){this._charsetService.setgLevel(0)},t.prototype._restrictCursor=function(){this._bufferService.buffer.x=Math.min(this._bufferService.cols-1,Math.max(0,this._bufferService.buffer.x)),this._bufferService.buffer.y=this._coreService.decPrivateModes.origin?Math.min(this._bufferService.buffer.scrollBottom,Math.max(this._bufferService.buffer.scrollTop,this._bufferService.buffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._bufferService.buffer.y)),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype._setCursor=function(e,t){this._dirtyRowService.markDirty(this._bufferService.buffer.y),this._coreService.decPrivateModes.origin?(this._bufferService.buffer.x=e,this._bufferService.buffer.y=this._bufferService.buffer.scrollTop+t):(this._bufferService.buffer.x=e,this._bufferService.buffer.y=t),this._restrictCursor(),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype._moveCursor=function(e,t){this._restrictCursor(),this._setCursor(this._bufferService.buffer.x+e,this._bufferService.buffer.y+t)},t.prototype.cursorUp=function(e){var t=this._bufferService.buffer.y-this._bufferService.buffer.scrollTop;t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1))},t.prototype.cursorDown=function(e){var t=this._bufferService.buffer.scrollBottom-this._bufferService.buffer.y;t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1)},t.prototype.cursorForward=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.cursorBackward=function(e){this._moveCursor(-(e.params[0]||1),0)},t.prototype.cursorNextLine=function(e){this.cursorDown(e),this._bufferService.buffer.x=0},t.prototype.cursorPrecedingLine=function(e){this.cursorUp(e),this._bufferService.buffer.x=0},t.prototype.cursorCharAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.cursorPosition=function(e){this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1)},t.prototype.charPosAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.hPositionRelative=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.linePosAbsolute=function(e){this._setCursor(this._bufferService.buffer.x,(e.params[0]||1)-1)},t.prototype.vPositionRelative=function(e){this._moveCursor(0,e.params[0]||1)},t.prototype.hVPosition=function(e){this.cursorPosition(e)},t.prototype.tabClear=function(e){var t=e.params[0];0===t?delete this._bufferService.buffer.tabs[this._bufferService.buffer.x]:3===t&&(this._bufferService.buffer.tabs={})},t.prototype.cursorForwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1;t--;)this._bufferService.buffer.x=this._bufferService.buffer.nextStop()},t.prototype.cursorBackwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1,n=this._bufferService.buffer;t--;)n.x=n.prevStop()},t.prototype._eraseInBufferLine=function(e,t,n,i){void 0===i&&(i=!1);var r=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);r.replaceCells(t,n,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i&&(r.isWrapped=!1)},t.prototype._resetBufferLine=function(e){var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);t.fill(this._bufferService.buffer.getNullCell(this._eraseAttrData())),t.isWrapped=!1},t.prototype.eraseInDisplay=function(e){var t;switch(this._restrictCursor(),e.params[0]){case 0:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t++,this._bufferService.buffer.x,this._bufferService.cols,0===this._bufferService.buffer.x);t<this._bufferService.rows;t++)this._resetBufferLine(t);this._dirtyRowService.markDirty(t);break;case 1:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t,0,this._bufferService.buffer.x+1,!0),this._bufferService.buffer.x+1>=this._bufferService.cols&&(this._bufferService.buffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowService.markDirty(t-1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 3:var n=this._bufferService.buffer.lines.length-this._bufferService.rows;n>0&&(this._bufferService.buffer.lines.trimStart(n),this._bufferService.buffer.ybase=Math.max(this._bufferService.buffer.ybase-n,0),this._bufferService.buffer.ydisp=Math.max(this._bufferService.buffer.ydisp-n,0),this._onScroll.fire(0))}},t.prototype.eraseInLine=function(e){switch(this._restrictCursor(),e.params[0]){case 0:this._eraseInBufferLine(this._bufferService.buffer.y,this._bufferService.buffer.x,this._bufferService.cols);break;case 1:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.buffer.x+1);break;case 2:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.cols)}this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype.insertLines=function(e){this._restrictCursor();var t=e.params[0]||1,n=this._bufferService.buffer;if(!(n.y>n.scrollBottom||n.y<n.scrollTop)){for(var i=n.y+n.ybase,r=this._bufferService.rows-1-n.scrollBottom,o=this._bufferService.rows-1+n.ybase-r+1;t--;)n.lines.splice(o-1,1),n.lines.splice(i,0,n.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(n.y,n.scrollBottom),n.x=0}},t.prototype.deleteLines=function(e){this._restrictCursor();var t=e.params[0]||1,n=this._bufferService.buffer;if(!(n.y>n.scrollBottom||n.y<n.scrollTop)){var i,r=n.y+n.ybase;for(i=this._bufferService.rows-1-n.scrollBottom,i=this._bufferService.rows-1+n.ybase-i;t--;)n.lines.splice(r,1),n.lines.splice(i,0,n.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(n.y,n.scrollBottom),n.x=0}},t.prototype.insertChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.y+this._bufferService.buffer.ybase);t&&(t.insertCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.deleteChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.y+this._bufferService.buffer.ybase);t&&(t.deleteCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.scrollUp=function(e){for(var t=e.params[0]||1,n=this._bufferService.buffer;t--;)n.lines.splice(n.ybase+n.scrollTop,1),n.lines.splice(n.ybase+n.scrollBottom,0,n.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(n.scrollTop,n.scrollBottom)},t.prototype.scrollDown=function(e){for(var t=e.params[0]||1,n=this._bufferService.buffer;t--;)n.lines.splice(n.ybase+n.scrollBottom,1),n.lines.splice(n.ybase+n.scrollTop,0,n.getBlankLine(d.DEFAULT_ATTR_DATA));this._dirtyRowService.markRangeDirty(n.scrollTop,n.scrollBottom)},t.prototype.scrollLeft=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var n=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i){var r=t.lines.get(t.ybase+i);r.deleteCells(0,n,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.scrollRight=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var n=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i){var r=t.lines.get(t.ybase+i);r.insertCells(0,n,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.insertColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var n=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i){var r=this._bufferService.buffer.lines.get(t.ybase+i);r.insertCells(t.x,n,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.deleteColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var n=e.params[0]||1,i=t.scrollTop;i<=t.scrollBottom;++i){var r=t.lines.get(t.ybase+i);r.deleteCells(t.x,n,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.eraseChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.y+this._bufferService.buffer.ybase);t&&(t.replaceCells(this._bufferService.buffer.x,this._bufferService.buffer.x+(e.params[0]||1),this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.repeatPrecedingCharacter=function(e){if(this._parser.precedingCodepoint){for(var t=e.params[0]||1,n=new Uint32Array(t),i=0;i<t;++i)n[i]=this._parser.precedingCodepoint;this.print(n,0,n.length)}},t.prototype.sendDeviceAttributesPrimary=function(e){e.params[0]>0||(this._terminal.is("xterm")||this._terminal.is("rxvt-unicode")||this._terminal.is("screen")?this._coreService.triggerDataEvent(o.C0.ESC+"[?1;2c"):this._terminal.is("linux")&&this._coreService.triggerDataEvent(o.C0.ESC+"[?6c"))},t.prototype.sendDeviceAttributesSecondary=function(e){e.params[0]>0||(this._terminal.is("xterm")?this._coreService.triggerDataEvent(o.C0.ESC+"[>0;276;0c"):this._terminal.is("rxvt-unicode")?this._coreService.triggerDataEvent(o.C0.ESC+"[>85;95;0c"):this._terminal.is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._terminal.is("screen")&&this._coreService.triggerDataEvent(o.C0.ESC+"[>83;40003;0c"))},t.prototype.setMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._terminal.insertMode=!0}},t.prototype.setModePrivate=function(e){for(var t,n,i=0;i<e.length;i++)switch(e.params[i]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),this._charsetService.setgCharset(1,a.DEFAULT_CHARSET),this._charsetService.setgCharset(2,a.DEFAULT_CHARSET),this._charsetService.setgCharset(3,a.DEFAULT_CHARSET);break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._terminal.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,null===(t=this._terminal.viewport)||void 0===t||t.syncScrollArea();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),null===(n=this._terminal.viewport)||void 0===n||n.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!0}},t.prototype.resetMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._terminal.insertMode=!1}},t.prototype.resetModePrivate=function(e){for(var t,n,i=0;i<e.length;i++)switch(e.params[i]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._terminal.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,null===(t=this._terminal.viewport)||void 0===t||t.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._terminal.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[i]&&this.restoreCursor(),this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),null===(n=this._terminal.viewport)||void 0===n||n.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!1}},t.prototype._extractColor=function(e,t,n){var i=[0,0,-1,0,0,0],r=0,o=0;do{if(i[o+r]=e.params[t+o],e.hasSubParams(t+o)){var a=e.getSubParams(t+o),s=0;do{5===i[1]&&(r=1),i[o+s+1+r]=a[s]}while(++s<a.length&&s+o+1+r<i.length);break}if(5===i[1]&&o+r>=2||2===i[1]&&o+r>=5)break;i[1]&&(r=1)}while(++o+t<e.length&&o+r<i.length);for(s=2;s<i.length;++s)-1===i[s]&&(i[s]=0);return 38===i[0]?2===i[1]?(n.fg|=50331648,n.fg&=-16777216,n.fg|=m.AttributeData.fromColorRGB([i[3],i[4],i[5]])):5===i[1]&&(n.fg&=-50331904,n.fg|=33554432|255&i[3]):48===i[0]&&(2===i[1]?(n.bg|=50331648,n.bg&=-16777216,n.bg|=m.AttributeData.fromColorRGB([i[3],i[4],i[5]])):5===i[1]&&(n.bg&=-50331904,n.bg|=33554432|255&i[3])),o},t.prototype.charAttributes=function(e){if(1===e.length&&0===e.params[0])return this._curAttrData.fg=d.DEFAULT_ATTR_DATA.fg,void(this._curAttrData.bg=d.DEFAULT_ATTR_DATA.bg);for(var t,n=e.length,i=this._curAttrData,r=0;r<n;r++)(t=e.params[r])>=30&&t<=37?(i.fg&=-50331904,i.fg|=16777216|t-30):t>=40&&t<=47?(i.bg&=-50331904,i.bg|=16777216|t-40):t>=90&&t<=97?(i.fg&=-50331904,i.fg|=16777224|t-90):t>=100&&t<=107?(i.bg&=-50331904,i.bg|=16777224|t-100):0===t?(i.fg=d.DEFAULT_ATTR_DATA.fg,i.bg=d.DEFAULT_ATTR_DATA.bg):1===t?i.fg|=134217728:3===t?i.bg|=67108864:4===t?i.fg|=268435456:5===t?i.fg|=536870912:7===t?i.fg|=67108864:8===t?i.fg|=1073741824:2===t?i.bg|=134217728:22===t?(i.fg&=-134217729,i.bg&=-134217729):23===t?i.bg&=-67108865:24===t?i.fg&=-268435457:25===t?i.fg&=-536870913:27===t?i.fg&=-67108865:28===t?i.fg&=-1073741825:39===t?(i.fg&=-67108864,i.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):49===t?(i.bg&=-67108864,i.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):38===t||48===t?r+=this._extractColor(e,r,i):100===t?(i.fg&=-67108864,i.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,i.bg&=-67108864,i.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",t)},t.prototype.deviceStatus=function(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(o.C0.ESC+"[0n");break;case 6:var t=this._bufferService.buffer.y+1,n=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(o.C0.ESC+"["+t+";"+n+"R")}},t.prototype.deviceStatusPrivate=function(e){switch(e.params[0]){case 6:var t=this._bufferService.buffer.y+1,n=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(o.C0.ESC+"[?"+t+";"+n+"R")}},t.prototype.softReset=function(e){var t;this._coreService.isCursorHidden=!1,this._terminal.insertMode=!1,null===(t=this._terminal.viewport)||void 0===t||t.syncScrollArea(),this._bufferService.buffer.scrollTop=0,this._bufferService.buffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._bufferService.buffer.x=this._bufferService.buffer.y=0,this._coreService.reset(),this._charsetService.reset()},t.prototype.setCursorStyle=function(e){var t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var n=t%2==1;this._optionsService.options.cursorBlink=n},t.prototype.setScrollRegion=function(e){var t,n=e.params[0]||1;(e.length<2||(t=e.params[1])>this._bufferService.rows||0===t)&&(t=this._bufferService.rows),t>n&&(this._bufferService.buffer.scrollTop=n-1,this._bufferService.buffer.scrollBottom=t-1,this._setCursor(0,0))},t.prototype.windowOptions=function(e){if(_(e.params[0],this._optionsService.options.windowOptions)){var t=e.length>1?e.params[1]:0,n=this._instantiationService.getService(b.IRenderService);switch(e.params[0]){case 14:if(n&&2!==t){console.log(n.dimensions);var i=n.dimensions.scaledCanvasWidth.toFixed(0),r=n.dimensions.scaledCanvasHeight.toFixed(0);this._coreService.triggerDataEvent(o.C0.ESC+"[4;"+r+";"+i+"t")}break;case 16:n&&(i=n.dimensions.scaledCellWidth.toFixed(0),r=n.dimensions.scaledCellHeight.toFixed(0),this._coreService.triggerDataEvent(o.C0.ESC+"[6;"+r+";"+i+"t"));break;case 18:this._bufferService&&this._coreService.triggerDataEvent(o.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}}},t.prototype.saveCursor=function(e){this._bufferService.buffer.savedX=this._bufferService.buffer.x,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase+this._bufferService.buffer.y,this._bufferService.buffer.savedCurAttrData.fg=this._curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._curAttrData.bg,this._bufferService.buffer.savedCharset=this._charsetService.charset},t.prototype.restoreCursor=function(e){this._bufferService.buffer.x=this._bufferService.buffer.savedX||0,this._bufferService.buffer.y=Math.max(this._bufferService.buffer.savedY-this._bufferService.buffer.ybase,0),this._curAttrData.fg=this._bufferService.buffer.savedCurAttrData.fg,this._curAttrData.bg=this._bufferService.buffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._bufferService.buffer.savedCharset&&(this._charsetService.charset=this._bufferService.buffer.savedCharset),this._restrictCursor()},t.prototype.setTitle=function(e){this._windowTitle=e,this._terminal.handleTitle(e)},t.prototype.setIconName=function(e){this._iconName=e},t.prototype.nextLine=function(){this._bufferService.buffer.x=0,this.index()},t.prototype.keypadApplicationMode=function(){var e;this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,null===(e=this._terminal.viewport)||void 0===e||e.syncScrollArea()},t.prototype.keypadNumericMode=function(){var e;this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,null===(e=this._terminal.viewport)||void 0===e||e.syncScrollArea()},t.prototype.selectDefaultCharset=function(){this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,a.DEFAULT_CHARSET)},t.prototype.selectCharset=function(e){2===e.length?"/"!==e[0]&&this._charsetService.setgCharset(y[e[0]],a.CHARSETS[e[1]]||a.DEFAULT_CHARSET):this.selectDefaultCharset()},t.prototype.index=function(){this._restrictCursor();var e=this._bufferService.buffer;this._bufferService.buffer.y++,e.y===e.scrollBottom+1?(e.y--,this._terminal.scroll(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),this._restrictCursor()},t.prototype.tabSet=function(){this._bufferService.buffer.tabs[this._bufferService.buffer.x]=!0},t.prototype.reverseIndex=function(){this._restrictCursor();var e=this._bufferService.buffer;if(e.y===e.scrollTop){var t=e.scrollBottom-e.scrollTop;e.lines.shiftElements(e.y+e.ybase,t,1),e.lines.set(e.y+e.ybase,e.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(e.scrollTop,e.scrollBottom)}else e.y--,this._restrictCursor()},t.prototype.fullReset=function(){this._parser.reset(),this._onRequestReset.fire()},t.prototype.reset=function(){this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone()},t.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},t.prototype.setgLevel=function(e){this._charsetService.setgLevel(e)},t.prototype.screenAlignmentPattern=function(){var e=new f.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg;var t=this._bufferService.buffer;this._setCursor(0,0);for(var n=0;n<this._bufferService.rows;++n){var i=t.y+t.ybase+n;t.lines.get(i).fill(e),t.lines.get(i).isWrapped=!1}this._dirtyRowService.markAllDirty(),this._setCursor(0,0)},t}(l.Disposable);t.InputHandler=w},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(15),s=n(19),l=n(20),c=n(22),h=function(){function e(e){this.table=new Uint8Array(e)}return e.prototype.setDefault=function(e,t){a.fill(this.table,e<<4|t)},e.prototype.add=function(e,t,n,i){this.table[t<<8|e]=n<<4|i},e.prototype.addMany=function(e,t,n,i){for(var r=0;r<e.length;r++)this.table[t<<8|e[r]]=n<<4|i},e}();t.TransitionTable=h,t.VT500_TRANSITION_TABLE=function(){var e=new h(4095),t=Array.apply(null,Array(256)).map((function(e,t){return t})),n=function(e,n){return t.slice(e,n)},i=n(32,127),r=n(0,24);r.push(25),r.push.apply(r,n(28,32));var o,a=n(0,14);for(o in e.setDefault(1,0),e.addMany(i,0,2,0),a)e.addMany([24,26,153,154],o,3,0),e.addMany(n(128,144),o,3,0),e.addMany(n(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(r,0,3,0),e.addMany(r,1,3,1),e.add(127,1,0,1),e.addMany(r,8,0,8),e.addMany(r,3,3,3),e.add(127,3,0,3),e.addMany(r,4,3,4),e.add(127,4,0,4),e.addMany(r,6,3,6),e.addMany(r,5,3,5),e.add(127,5,0,5),e.addMany(r,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(i,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(n(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(i,7,0,7),e.addMany(r,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(n(64,127),3,7,0),e.addMany(n(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(n(48,60),4,8,4),e.addMany(n(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(n(32,64),6,0,6),e.add(127,6,0,6),e.addMany(n(64,127),6,0,0),e.addMany(n(32,48),3,9,5),e.addMany(n(32,48),5,9,5),e.addMany(n(48,64),5,0,6),e.addMany(n(64,127),5,7,0),e.addMany(n(32,48),4,9,5),e.addMany(n(32,48),1,9,2),e.addMany(n(32,48),2,9,2),e.addMany(n(48,127),2,10,0),e.addMany(n(48,80),1,10,0),e.addMany(n(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(n(96,127),1,10,0),e.add(80,1,11,9),e.addMany(r,9,0,9),e.add(127,9,0,9),e.addMany(n(28,32),9,0,9),e.addMany(n(32,48),9,9,12),e.addMany(n(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(r,11,0,11),e.addMany(n(32,128),11,0,11),e.addMany(n(28,32),11,0,11),e.addMany(r,10,0,10),e.add(127,10,0,10),e.addMany(n(28,32),10,0,10),e.addMany(n(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(n(32,48),10,9,12),e.addMany(r,12,0,12),e.add(127,12,0,12),e.addMany(n(28,32),12,0,12),e.addMany(n(32,48),12,9,12),e.addMany(n(48,64),12,0,11),e.addMany(n(64,127),12,12,13),e.addMany(n(64,127),10,12,13),e.addMany(n(64,127),9,12,13),e.addMany(r,13,13,13),e.addMany(i,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(160,0,2,0),e.add(160,8,5,8),e.add(160,6,0,6),e.add(160,11,0,11),e.add(160,13,13,13),e}();var d=function(e){function n(n){void 0===n&&(n=t.VT500_TRANSITION_TABLE);var i=e.call(this)||this;return i.TRANSITIONS=n,i.initialState=0,i.currentState=i.initialState,i._params=new s.Params,i._params.addParam(0),i._collect=0,i.precedingCodepoint=0,i._printHandlerFb=function(e,t,n){},i._executeHandlerFb=function(e){},i._csiHandlerFb=function(e,t){},i._escHandlerFb=function(e){},i._errorHandlerFb=function(e){return e},i._printHandler=i._printHandlerFb,i._executeHandlers=Object.create(null),i._csiHandlers=Object.create(null),i._escHandlers=Object.create(null),i._oscParser=new l.OscParser,i._dcsParser=new c.DcsParser,i._errorHandler=i._errorHandlerFb,i.setEscHandler({final:"\\"},(function(){})),i}return r(n,e),n.prototype._identifier=function(e,t){void 0===t&&(t=[64,126]);var n=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if((n=e.prefix.charCodeAt(0))&&60>n||n>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var i=0;i<e.intermediates.length;++i){var r=e.intermediates.charCodeAt(i);if(32>r||r>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");n<<=8,n|=r}}if(1!==e.final.length)throw new Error("final must be a single byte");var o=e.final.charCodeAt(0);if(t[0]>o||o>t[1])throw new Error("final must be in range "+t[0]+" .. "+t[1]);return(n<<=8)|o},n.prototype.identToString=function(e){for(var t=[];e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")},n.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},n.prototype.setPrintHandler=function(e){this._printHandler=e},n.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},n.prototype.addEscHandler=function(e,t){var n=this._identifier(e,[48,126]);void 0===this._escHandlers[n]&&(this._escHandlers[n]=[]);var i=this._escHandlers[n];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},n.prototype.setEscHandler=function(e,t){this._escHandlers[this._identifier(e,[48,126])]=[t]},n.prototype.clearEscHandler=function(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]},n.prototype.setEscHandlerFallback=function(e){this._escHandlerFb=e},n.prototype.setExecuteHandler=function(e,t){this._executeHandlers[e.charCodeAt(0)]=t},n.prototype.clearExecuteHandler=function(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]},n.prototype.setExecuteHandlerFallback=function(e){this._executeHandlerFb=e},n.prototype.addCsiHandler=function(e,t){var n=this._identifier(e);void 0===this._csiHandlers[n]&&(this._csiHandlers[n]=[]);var i=this._csiHandlers[n];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},n.prototype.setCsiHandler=function(e,t){this._csiHandlers[this._identifier(e)]=[t]},n.prototype.clearCsiHandler=function(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]},n.prototype.setCsiHandlerFallback=function(e){this._csiHandlerFb=e},n.prototype.addDcsHandler=function(e,t){return this._dcsParser.addHandler(this._identifier(e),t)},n.prototype.setDcsHandler=function(e,t){this._dcsParser.setHandler(this._identifier(e),t)},n.prototype.clearDcsHandler=function(e){this._dcsParser.clearHandler(this._identifier(e))},n.prototype.setDcsHandlerFallback=function(e){this._dcsParser.setHandlerFallback(e)},n.prototype.addOscHandler=function(e,t){return this._oscParser.addHandler(e,t)},n.prototype.setOscHandler=function(e,t){this._oscParser.setHandler(e,t)},n.prototype.clearOscHandler=function(e){this._oscParser.clearHandler(e)},n.prototype.setOscHandlerFallback=function(e){this._oscParser.setHandlerFallback(e)},n.prototype.setErrorHandler=function(e){this._errorHandler=e},n.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},n.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0},n.prototype.parse=function(e,t){for(var n=0,i=0,r=this.currentState,o=this._oscParser,a=this._dcsParser,s=this._collect,l=this._params,c=this.TRANSITIONS.table,h=0;h<t;++h){switch((i=c[r<<8|((n=e[h])<160?n:160)])>>4){case 2:for(var d=h+1;;++d){if(d>=t||(n=e[d])<32||n>126&&n<160){this._printHandler(e,h,d),h=d-1;break}if(++d>=t||(n=e[d])<32||n>126&&n<160){this._printHandler(e,h,d),h=d-1;break}if(++d>=t||(n=e[d])<32||n>126&&n<160){this._printHandler(e,h,d),h=d-1;break}if(++d>=t||(n=e[d])<32||n>126&&n<160){this._printHandler(e,h,d),h=d-1;break}}break;case 3:this._executeHandlers[n]?this._executeHandlers[n]():this._executeHandlerFb(n),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:h,code:n,currentState:r,collect:s,params:l,abort:!1}).abort)return;break;case 7:for(var u=this._csiHandlers[s<<8|n],p=u?u.length-1:-1;p>=0&&!1===u[p](l);p--);p<0&&this._csiHandlerFb(s<<8|n,l),this.precedingCodepoint=0;break;case 8:do{switch(n){case 59:l.addParam(0);break;case 58:l.addSubParam(-1);break;default:l.addDigit(n-48)}}while(++h<t&&(n=e[h])>47&&n<60);h--;break;case 9:s<<=8,s|=n;break;case 10:for(var f=this._escHandlers[s<<8|n],m=f?f.length-1:-1;m>=0&&!1===f[m]();m--);m<0&&this._escHandlerFb(s<<8|n),this.precedingCodepoint=0;break;case 11:l.reset(),l.addParam(0),s=0;break;case 12:a.hook(s<<8|n,l);break;case 13:for(var g=h+1;;++g)if(g>=t||24===(n=e[g])||26===n||27===n||n>127&&n<160){a.put(e,h,g),h=g-1;break}break;case 14:a.unhook(24!==n&&26!==n),27===n&&(i|=1),l.reset(),l.addParam(0),s=0,this.precedingCodepoint=0;break;case 4:o.start();break;case 5:for(var v=h+1;;v++)if(v>=t||(n=e[v])<32||n>127&&n<=159){o.put(e,h,v),h=v-1;break}break;case 6:o.end(24!==n&&26!==n),27===n&&(i|=1),l.reset(),l.addParam(0),s=0,this.precedingCodepoint=0}r=15&i}this._collect=s,this.currentState=r},n}(o.Disposable);t.EscapeSequenceParser=d},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(40),l=n(46),c=n(47),h=n(48),d=n(27),u=n(2),p=n(4),f=n(0),m=n(23),g=n(1),v=1,b=function(e){function t(t,n,i,r,o,a,u,p){var f=e.call(this)||this;f._colors=t,f._screenElement=n,f._linkifier=i,f._bufferService=r,f._charSizeService=o,f._optionsService=a,f.coreService=u,f.coreBrowserService=p,f._id=v++,f._onRequestRefreshRows=new g.EventEmitter;var m=f._optionsService.options.allowTransparency;return f._characterJoinerRegistry=new d.CharacterJoinerRegistry(f._bufferService),f._renderLayers=[new s.TextRenderLayer(f._screenElement,0,f._colors,f._characterJoinerRegistry,m,f._id,f._bufferService,a),new l.SelectionRenderLayer(f._screenElement,1,f._colors,f._id,f._bufferService,a),new h.LinkRenderLayer(f._screenElement,2,f._colors,f._id,f._linkifier,f._bufferService,a),new c.CursorRenderLayer(f._screenElement,3,f._colors,f._id,f._onRequestRefreshRows,f._bufferService,a,u,p)],f.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},f._devicePixelRatio=window.devicePixelRatio,f._updateDimensions(),f.onOptionsChanged(),f}return r(t,e),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._renderLayers.forEach((function(e){return e.dispose()})),m.removeTerminalFromCache(this._id)},t.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},t.prototype.setColors=function(e){var t=this;this._colors=e,this._renderLayers.forEach((function(e){e.setColors(t._colors),e.reset()}))},t.prototype.onResize=function(e,t){var n=this;this._updateDimensions(),this._renderLayers.forEach((function(e){return e.resize(n.dimensions)})),this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},t.prototype.onBlur=function(){this._runOperation((function(e){return e.onBlur()}))},t.prototype.onFocus=function(){this._runOperation((function(e){return e.onFocus()}))},t.prototype.onSelectionChanged=function(e,t,n){void 0===n&&(n=!1),this._runOperation((function(i){return i.onSelectionChanged(e,t,n)}))},t.prototype.onCursorMove=function(){this._runOperation((function(e){return e.onCursorMove()}))},t.prototype.onOptionsChanged=function(){this._runOperation((function(e){return e.onOptionsChanged()}))},t.prototype.clear=function(){this._runOperation((function(e){return e.reset()}))},t.prototype._runOperation=function(e){this._renderLayers.forEach((function(t){return e(t)}))},t.prototype.renderRows=function(e,t){this._renderLayers.forEach((function(n){return n.onGridChanged(e,t)}))},t.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},t.prototype.registerCharacterJoiner=function(e){return this._characterJoinerRegistry.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._characterJoinerRegistry.deregisterCharacterJoiner(e)},o([a(3,f.IBufferService),a(4,p.ICharSizeService),a(5,f.IOptionsService),a(6,f.ICoreService),a(7,p.ICoreBrowserService)],t)}(u.Disposable);t.Renderer=b},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),a=n(13),s=n(6),l=n(3),c=n(27),h=n(5),d=function(e){function t(t,n,i,r,a,s,l,c){var d=e.call(this,t,"text",n,a,i,s,l,c)||this;return d.bufferService=l,d.optionsService=c,d._characterWidth=0,d._characterFont="",d._characterOverlapCache={},d._workCell=new h.CellData,d._state=new o.GridCache,d._characterJoinerRegistry=r,d}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t);var n=this._getFont(!1,!1);this._characterWidth===t.scaledCharWidth&&this._characterFont===n||(this._characterWidth=t.scaledCharWidth,this._characterFont=n,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},t.prototype.reset=function(){this._state.clear(),this._clearAll()},t.prototype._forEachCell=function(e,t,n,i){for(var r=e;r<=t;r++)for(var o=r+this._bufferService.buffer.ydisp,a=this._bufferService.buffer.lines.get(o),s=n?n.getJoinedCharacters(o):[],h=0;h<this._bufferService.cols;h++){a.loadCell(h,this._workCell);var d=this._workCell,u=!1,p=h;if(0!==d.getWidth()){if(s.length>0&&h===s[0][0]){u=!0;var f=s.shift();d=new c.JoinedCellData(this._workCell,a.translateToString(!0,f[0],f[1]),f[1]-f[0]),p=f[1]-1}!u&&this._isOverlapping(d)&&p<a.length-1&&a.getCodePoint(p+1)===l.NULL_CELL_CODE&&(d.content&=-12582913,d.content|=2<<22),i(d,h,r),h=p}}},t.prototype._drawBackground=function(e,t){var n=this,i=this._ctx,r=this._bufferService.cols,o=0,a=0,l=null;i.save(),this._forEachCell(e,t,null,(function(e,t,c){var h=null;e.isInverse()?h=e.isFgDefault()?n._colors.foreground.css:e.isFgRGB()?"rgb("+s.AttributeData.toColorRGB(e.getFgColor()).join(",")+")":n._colors.ansi[e.getFgColor()].css:e.isBgRGB()?h="rgb("+s.AttributeData.toColorRGB(e.getBgColor()).join(",")+")":e.isBgPalette()&&(h=n._colors.ansi[e.getBgColor()].css),null===l&&(o=t,a=c),c!==a?(i.fillStyle=l||"",n._fillCells(o,a,r-o,1),o=t,a=c):l!==h&&(i.fillStyle=l||"",n._fillCells(o,a,t-o,1),o=t,a=c),l=h})),null!==l&&(i.fillStyle=l,this._fillCells(o,a,r-o,1)),i.restore()},t.prototype._drawForeground=function(e,t){var n=this;this._forEachCell(e,t,this._characterJoinerRegistry,(function(e,t,i){if(!e.isInvisible()&&(n._drawChars(e,t,i),e.isUnderline())){if(n._ctx.save(),e.isInverse())if(e.isBgDefault())n._ctx.fillStyle=n._colors.background.css;else if(e.isBgRGB())n._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var r=e.getBgColor();n._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&r<8&&(r+=8),n._ctx.fillStyle=n._colors.ansi[r].css}else if(e.isFgDefault())n._ctx.fillStyle=n._colors.foreground.css;else if(e.isFgRGB())n._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var o=e.getFgColor();n._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),n._ctx.fillStyle=n._colors.ansi[o].css}n._fillBottomLineAtCells(t,i,e.getWidth()),n._ctx.restore()}}))},t.prototype.onGridChanged=function(e,t){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,e,this._bufferService.cols,t-e+1),this._drawBackground(e,t),this._drawForeground(e,t))},t.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.options.allowTransparency)},t.prototype._isOverlapping=function(e){if(1!==e.getWidth())return!1;if(e.getCode()<256)return!1;var t=e.getChars();if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var n=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=n,n},t}(a.BaseRenderLayer);t.TextRenderLayer=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var n=0;n<e;n++){this.cache.length<=n&&this.cache.push([]);for(var i=this.cache[n].length;i<t;i++)this.cache[n].push(void 0);this.cache[n].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=void 0},e}();t.GridCache=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=n(43),s=n(25),l=n(45),c=n(11),h=n(26),d=n(10),u={css:"rgba(0, 0, 0, 0)",rgba:0};function p(e){return e.code<<21|e.bg<<12|e.fg<<3|(e.bold?0:4)+(e.dim?0:2)+(e.italic?0:1)}t.getGlyphCacheKey=p;var f=function(e){function t(t,n){var i=e.call(this)||this;i._config=n,i._drawToCacheCount=0,i._glyphsWaitingOnBitmap=[],i._bitmapCommitTimeout=null,i._bitmap=null,i._cacheCanvas=t.createElement("canvas"),i._cacheCanvas.width=1024,i._cacheCanvas.height=1024,i._cacheCtx=h.throwIfFalsy(i._cacheCanvas.getContext("2d",{alpha:!0}));var r=t.createElement("canvas");r.width=i._config.scaledCharWidth,r.height=i._config.scaledCharHeight,i._tmpCtx=h.throwIfFalsy(r.getContext("2d",{alpha:i._config.allowTransparency})),i._width=Math.floor(1024/i._config.scaledCharWidth),i._height=Math.floor(1024/i._config.scaledCharHeight);var o=i._width*i._height;return i._cacheMap=new l.LRUMap(o),i._cacheMap.prealloc(o),i}return r(t,e),t.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},t.prototype.beginFrame=function(){this._drawToCacheCount=0},t.prototype.draw=function(e,t,n,i){if(32===t.code)return!0;if(!this._canCache(t))return!1;var r=p(t),o=this._cacheMap.get(r);if(null!=o)return this._drawFromCache(e,o,n,i),!0;if(this._drawToCacheCount<100){var a;a=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var s=this._drawToCache(t,a);return this._cacheMap.set(r,s),this._drawFromCache(e,s,n,i),!0}return!1},t.prototype._canCache=function(e){return e.code<256},t.prototype._toCoordinateX=function(e){return e%this._width*this._config.scaledCharWidth},t.prototype._toCoordinateY=function(e){return Math.floor(e/this._width)*this._config.scaledCharHeight},t.prototype._drawFromCache=function(e,t,n,i){if(!t.isEmpty){var r=this._toCoordinateX(t.index),o=this._toCoordinateY(t.index);e.drawImage(t.inBitmap?this._bitmap:this._cacheCanvas,r,o,this._config.scaledCharWidth,this._config.scaledCharHeight,n,i,this._config.scaledCharWidth,this._config.scaledCharHeight)}},t.prototype._getColorFromAnsiIndex=function(e){return e<this._config.colors.ansi.length?this._config.colors.ansi[e]:s.DEFAULT_ANSI_COLORS[e]},t.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?u:e.bg===o.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:e.bg<256?this._getColorFromAnsiIndex(e.bg):this._config.colors.background},t.prototype._getForegroundColor=function(e){return e.fg===o.INVERTED_DEFAULT_COLOR?d.color.opaque(this._config.colors.background):e.fg<256?this._getColorFromAnsiIndex(e.fg):this._config.colors.foreground},t.prototype._drawToCache=function(e,t){this._drawToCacheCount++,this._tmpCtx.save();var n=this._getBackgroundColor(e);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=n.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var i=e.bold?this._config.fontWeightBold:this._config.fontWeight,r=e.italic?"italic":"";this._tmpCtx.font=r+" "+i+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline="middle",this._tmpCtx.fillStyle=this._getForegroundColor(e).css,e.dim&&(this._tmpCtx.globalAlpha=o.DIM_OPACITY),this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight/2),this._tmpCtx.restore();var a=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),s=!1;this._config.allowTransparency||(s=function(e,t){for(var n=!0,i=t.rgba>>>24,r=t.rgba>>>16&255,o=t.rgba>>>8&255,a=0;a<e.data.length;a+=4)e.data[a]===i&&e.data[a+1]===r&&e.data[a+2]===o?e.data[a+3]=0:n=!1;return n}(a,n));var l=this._toCoordinateX(t),c=this._toCoordinateY(t);this._cacheCtx.putImageData(a,l,c);var h={index:t,isEmpty:s,inBitmap:!1};return this._addGlyphToBitmap(h),h},t.prototype._addGlyphToBitmap=function(e){var t=this;"createImageBitmap"in window&&!c.isFirefox&&!c.isSafari&&(this._glyphsWaitingOnBitmap.push(e),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout((function(){return t._generateBitmap()}),100)))},t.prototype._generateBitmap=function(){var e=this,t=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then((function(n){e._bitmap=n;for(var i=0;i<t.length;i++)t[i].inBitmap=!0})),this._bitmapCommitTimeout=null},t}(a.BaseCharAtlas);t.DynamicCharAtlas=f;var m=function(e){function t(t,n){return e.call(this)||this}return r(t,e),t.prototype.draw=function(e,t,n,i){return!1},t}(a.BaseCharAtlas);t.NoneCharAtlas=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._didWarmUp=!1}return e.prototype.dispose=function(){},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){},e.prototype.beginFrame=function(){},e}();t.BaseCharAtlas=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._color={},this._rgba={}}return e.prototype.clear=function(){this._color={},this._rgba={}},e.prototype.setCss=function(e,t,n){this._rgba[e]||(this._rgba[e]={}),this._rgba[e][t]=n},e.prototype.getCss=function(e,t){return this._rgba[e]?this._rgba[e][t]:void 0},e.prototype.setColor=function(e,t,n){this._color[e]||(this._color[e]={}),this._color[e][t]=n},e.prototype.getColor=function(e,t){return this._color[e]?this._color[e][t]:void 0},e}();t.ColorContrastCache=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.capacity=e,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return e.prototype._unlinkNode=function(e){var t=e.prev,n=e.next;e===this._head&&(this._head=n),e===this._tail&&(this._tail=t),null!==t&&(t.next=n),null!==n&&(n.prev=t)},e.prototype._appendNode=function(e){var t=this._tail;null!==t&&(t.next=e),e.prev=t,e.next=null,this._tail=e,null===this._head&&(this._head=e)},e.prototype.prealloc=function(e){for(var t=this._nodePool,n=0;n<e;n++)t.push({prev:null,next:null,key:null,value:null})},e.prototype.get=function(e){var t=this._map[e];return void 0!==t?(this._unlinkNode(t),this._appendNode(t),t.value):null},e.prototype.peekValue=function(e){var t=this._map[e];return void 0!==t?t.value:null},e.prototype.peek=function(){var e=this._head;return null===e?null:e.value},e.prototype.set=function(e,t){var n=this._map[e];if(void 0!==n)n=this._map[e],this._unlinkNode(n),n.value=t;else if(this.size>=this.capacity)n=this._head,this._unlinkNode(n),delete this._map[n.key],n.key=e,n.value=t,this._map[e]=n;else{var i=this._nodePool;i.length>0?((n=i.pop()).key=e,n.value=t):n={prev:null,next:null,key:e,value:t},this._map[e]=n,this.size++}this._appendNode(n)},e}();t.LRUMap=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,i,r,o,a){var s=e.call(this,t,"selection",n,!0,i,r,o,a)||this;return s.bufferService=o,s.optionsService=a,s._clearState(),s}return r(t,e),t.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._clearState()},t.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},t.prototype.onSelectionChanged=function(e,t,n){if(this._didStateChange(e,t,n,this._bufferService.buffer.ydisp))if(this._clearAll(),e&&t){var i=e[1]-this._bufferService.buffer.ydisp,r=t[1]-this._bufferService.buffer.ydisp,o=Math.max(i,0),a=Math.min(r,this._bufferService.rows-1);if(!(o>=this._bufferService.rows||a<0)){if(this._ctx.fillStyle=this._colors.selection.css,n){var s=e[0],l=t[0]-s,c=a-o+1;this._fillCells(s,o,l,c)}else{s=i===o?e[0]:0;var h=o===a?t[0]:this._bufferService.cols;this._fillCells(s,o,h-s,1);var d=Math.max(a-o-1,0);if(this._fillCells(0,o+1,this._bufferService.cols,d),o!==a){var u=r===a?t[0]:this._bufferService.cols;this._fillCells(0,a,u,1)}}this._state.start=[e[0],e[1]],this._state.end=[t[0],t[1]],this._state.columnSelectMode=n,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},t.prototype._didStateChange=function(e,t,n,i){return!this._areCoordinatesEqual(e,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||n!==this._state.columnSelectMode||i!==this._state.ydisp},t.prototype._areCoordinatesEqual=function(e,t){return!(!e||!t)&&e[0]===t[0]&&e[1]===t[1]},t}(n(13).BaseRenderLayer);t.SelectionRenderLayer=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=n(5),s=function(e){function t(t,n,i,r,o,s,l,c,h){var d=e.call(this,t,"cursor",n,!0,i,r,s,l)||this;return d._onRequestRefreshRowsEvent=o,d.bufferService=s,d.optionsService=l,d._coreService=c,d._coreBrowserService=h,d._cell=new a.CellData,d._state={x:0,y:0,isFocused:!1,style:"",width:0},d._cursorRenderers={bar:d._renderBarCursor.bind(d),block:d._renderBlockCursor.bind(d),underline:d._renderUnderlineCursor.bind(d)},d}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},t.prototype.reset=function(){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0,this.onOptionsChanged())},t.prototype.onBlur=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),this._onRequestRefreshRowsEvent.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onFocus=function(){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume():this._onRequestRefreshRowsEvent.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onOptionsChanged=function(){var e,t=this;this._optionsService.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new l(this._coreBrowserService.isFocused,(function(){t._render(!0)}))):(null===(e=this._cursorBlinkStateManager)||void 0===e||e.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRefreshRowsEvent.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onCursorMove=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype.onGridChanged=function(e,t){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype._render=function(e){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var t=this._bufferService.buffer.ybase+this._bufferService.buffer.y,n=t-this._bufferService.buffer.ydisp;if(n<0||n>=this._bufferService.rows)this._clearCursor();else if(this._bufferService.buffer.lines.get(t).loadCell(this._bufferService.buffer.x,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var i=this._optionsService.options.cursorStyle;return i&&"block"!==i?this._cursorRenderers[i](this._bufferService.buffer.x,n,this._cell):this._renderBlurCursor(this._bufferService.buffer.x,n,this._cell),this._ctx.restore(),this._state.x=this._bufferService.buffer.x,this._state.y=n,this._state.isFocused=!1,this._state.style=i,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===this._bufferService.buffer.x&&this._state.y===n&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.options.cursorStyle||"block"](this._bufferService.buffer.x,n,this._cell),this._ctx.restore(),this._state.x=this._bufferService.buffer.x,this._state.y=n,this._state.isFocused=!1,this._state.style=this._optionsService.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},t.prototype._renderBarCursor=function(e,t,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(e,t,this._optionsService.options.cursorWidth),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(e,t,n.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(n,e,t),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(e,t),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,n){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(e,t,n.getWidth(),1),this._ctx.restore()},t}(o.BaseRenderLayer);t.CursorRenderLayer=s;var l=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0}))))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=setTimeout((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=void 0,e>0)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0})),t._blinkInterval=setInterval((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=void 0,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0}))}),600)}),e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=n(9),s=n(24),l=function(e){function t(t,n,i,r,o,a,s){var l=e.call(this,t,"link",n,!0,i,r,a,s)||this;return l.bufferService=a,l.optionsService=s,o.onLinkHover((function(e){return l._onLinkHover(e)})),o.onLinkLeave((function(e){return l._onLinkLeave(e)})),l}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onLinkHover=function(e){if(e.fg===a.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&s.is256Color(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onLinkLeave=function(e){this._clearCurrentLink()},t}(o.BaseRenderLayer);t.LinkRenderLayer=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e,t,n,r){this._bufferService=e,this._logService=t,this._optionsService=n,this._unicodeService=r,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onLinkHover=new i.EventEmitter,this._onLinkLeave=new i.EventEmitter,this._onLinkTooltip=new i.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(e.prototype,"onLinkHover",{get:function(){return this._onLinkHover.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onLinkLeave",{get:function(){return this._onLinkLeave.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!0,configurable:!0}),e.prototype.attachToDom=function(e,t){this._element=e,this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,n){var i=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=t,this._rowsToLinkify.end=n):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,t),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,n)),this._mouseZoneManager.clearAll(t,n),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout((function(){return i._linkifyRows()}),e._timeBeforeLatency))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var e=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var t=e.ydisp+this._rowsToLinkify.start;if(!(t>=e.lines.length)){for(var n=e.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,i=Math.ceil(2e3/this._bufferService.cols),r=this._bufferService.buffer.iterator(!1,t,n,i,i);r.hasNext();)for(var o=r.next(),a=0;a<this._linkMatchers.length;a++)this._doLinkifyRow(o.range.first,o.content,this._linkMatchers[a]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},e.prototype.registerLinkMatcher=function(e,t,n){if(void 0===n&&(n={}),!t)throw new Error("handler must be defined");var i={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:n.matchIndex,validationCallback:n.validationCallback,hoverTooltipCallback:n.tooltipCallback,hoverLeaveCallback:n.leaveCallback,willLinkActivate:n.willLinkActivate,priority:n.priority||0};return this._addLinkMatcherToList(i),i.id},e.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;t>=0;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},e.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},e.prototype._doLinkifyRow=function(e,t,n){for(var i,r=this,o=new RegExp(n.regex.source,(n.regex.flags||"")+"g"),a=-1,s=function(){var s=i["number"!=typeof n.matchIndex?0:n.matchIndex];if(!s)return l._logService.debug("match found without corresponding matchIndex",i,n),"break";if(a=t.indexOf(s,a+1),o.lastIndex=a+s.length,a<0)return"break";var c=l._bufferService.buffer.stringIndexToBufferIndex(e,a);if(c[0]<0)return"break";var h=l._bufferService.buffer.lines.get(c[0]);if(!h)return"break";var d=h.getFg(c[1]),u=d?d>>9&511:void 0;n.validationCallback?n.validationCallback(s,(function(e){r._rowsTimeoutId||e&&r._addLink(c[1],c[0]-r._bufferService.buffer.ydisp,s,n,u)})):l._addLink(c[1],c[0]-l._bufferService.buffer.ydisp,s,n,u)},l=this;null!==(i=o.exec(t))&&"break"!==s(););},e.prototype._addLink=function(e,t,n,i,r){var a=this;if(this._mouseZoneManager&&this._element){var s=this._unicodeService.getStringCellWidth(n),l=e%this._bufferService.cols,c=t+Math.floor(e/this._bufferService.cols),h=(l+s)%this._bufferService.cols,d=c+Math.floor((l+s)/this._bufferService.cols);0===h&&(h=this._bufferService.cols,d--),this._mouseZoneManager.add(new o(l+1,c+1,h+1,d+1,(function(e){if(i.handler)return i.handler(e,n);var t=window.open();t?(t.opener=null,t.location.href=n):console.warn("Opening link blocked as opener could not be cleared")}),(function(){a._onLinkHover.fire(a._createLinkHoverEvent(l,c,h,d,r)),a._element.classList.add("xterm-cursor-pointer")}),(function(e){a._onLinkTooltip.fire(a._createLinkHoverEvent(l,c,h,d,r)),i.hoverTooltipCallback&&i.hoverTooltipCallback(e,n,{start:{x:l,y:c},end:{x:h,y:d}})}),(function(){a._onLinkLeave.fire(a._createLinkHoverEvent(l,c,h,d,r)),a._element.classList.remove("xterm-cursor-pointer"),i.hoverLeaveCallback&&i.hoverLeaveCallback()}),(function(e){return!i.willLinkActivate||i.willLinkActivate(e,n)})))}},e.prototype._createLinkHoverEvent=function(e,t,n,i,r){return{x1:e,y1:t,x2:n,y2:i,cols:this._bufferService.cols,fg:r}},e._timeBeforeLatency=200,e}();t.Linkifier=r;var o=function(e,t,n,i,r,o,a,s,l){this.x1=e,this.y1=t,this.x2=n,this.y2=i,this.clickCallback=r,this.hoverCallback=o,this.tooltipCallback=a,this.leaveCallback=s,this.willLinkActivate=l};t.MouseZone=o},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),a=n(51),s=n(5),l=n(1),c=n(4),h=n(0),d=n(28),u=n(52),p=String.fromCharCode(160),f=new RegExp(p,"g"),m=function(){function e(e,t,n,i,r,o,c,h){var d=this;this._scrollLines=e,this._element=t,this._screenElement=n,this._charSizeService=i,this._bufferService=r,this._coreService=o,this._mouseService=c,this._optionsService=h,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new s.CellData,this._mouseDownTimeStamp=0,this._onLinuxMouseSelection=new l.EventEmitter,this._onRedrawRequest=new l.EventEmitter,this._onSelectionChange=new l.EventEmitter,this._mouseMoveListener=function(e){return d._onMouseMove(e)},this._mouseUpListener=function(e){return d._onMouseUp(e)},this._coreService.onUserInput((function(){d.hasSelection&&d.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((function(e){return d._onTrim(e)})),this._bufferService.buffers.onBufferActivate((function(e){return d._onBufferActivate(e)})),this.enable(),this._model=new a.SelectionModel(this._bufferService),this._activeSelectionMode=0}return Object.defineProperty(e.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onRedrawRequest",{get:function(){return this._onRedrawRequest.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._removeMouseDownListeners()},e.prototype.reset=function(){this.clearSelection()},e.prototype.disable=function(){this.clearSelection(),this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},Object.defineProperty(e.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t)&&(e[0]!==t[0]||e[1]!==t[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var n=this._bufferService.buffer,i=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";for(var r=e[1];r<=t[1];r++){var a=n.translateBufferLineToString(r,!0,e[0],t[0]);i.push(a)}}else{var s=e[1]===t[1]?t[0]:void 0;for(i.push(n.translateBufferLineToString(e[1],!0,e[0],s)),r=e[1]+1;r<=t[1]-1;r++){var l=n.lines.get(r);a=n.translateBufferLineToString(r,!0),l&&l.isWrapped?i[i.length-1]+=a:i.push(a)}e[1]!==t[1]&&(l=n.lines.get(t[1]),a=n.translateBufferLineToString(t[1],!0,0,t[0]),l&&l.isWrapped?i[i.length-1]+=a:i.push(a))}return i.map((function(e){return e.replace(f," ")})).join(o.isWindows?"\r\n":"\n")},enumerable:!0,configurable:!0}),e.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},e.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame((function(){return t._refresh()}))),o.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},e.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},e.prototype.isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),n=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!!(n&&i&&t)&&this._areCoordsInSelection(t,n,i)},e.prototype._areCoordsInSelection=function(e,t,n){return e[1]>t[1]&&e[1]<n[1]||t[1]===n[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<n[0]||t[1]<n[1]&&e[1]===n[1]&&e[0]<n[0]||t[1]<n[1]&&e[1]===t[1]&&e[0]>=t[0]},e.prototype.selectWordAtCursor=function(e){var t=this._getMouseBufferCoords(e);t&&(this._selectWordAt(t,!1),this._model.selectionEnd=void 0,this.refresh(!0))},e.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},e.prototype.selectLines=function(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()},e.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},e.prototype._getMouseBufferCoords=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t},e.prototype._getMouseEventScrollAmount=function(e){var t=d.getCoordsRelativeToElement(e,this._screenElement)[1],n=this._bufferService.rows*Math.ceil(this._charSizeService.height*this._optionsService.options.lineHeight);return t>=0&&t<=n?0:(t>n&&(t-=n),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},e.prototype.shouldForceSelection=function(e){return o.isMac?e.altKey&&this._optionsService.options.macOptionClickForcesSelection:e.shiftKey},e.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},e.prototype._addMouseDownListeners=function(){var e=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval((function(){return e._dragScroll()}),50)},e.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},e.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},e.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=void 0;var t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},e.prototype._onDoubleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=1,this._selectWordAt(t,!0))},e.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))},e.prototype.shouldColumnSelect=function(e){return e.altKey&&!(o.isMac&&this._optionsService.options.macOptionClickForcesSelection)},e.prototype._onMouseMove=function(e){if(e.stopImmediatePropagation(),this._model.selectionStart){var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var n=this._bufferService.buffer;if(this._model.selectionEnd[1]<n.lines.length){var i=n.lines.get(this._model.selectionEnd[1]);i&&0===i.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},e.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._scrollLines(this._dragScrollAmount,!1);var e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}},e.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500){if(e.altKey&&this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var n=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(n&&void 0!==n[0]&&void 0!==n[1]){var i=u.moveToCellSequence(n[0]-1,n[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(i,!0)}}}else this.hasSelection&&this._onSelectionChange.fire()},e.prototype._onBufferActivate=function(e){var t=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim((function(e){return t._onTrim(e)}))},e.prototype._convertViewportColToCharacterIndex=function(e,t){for(var n=t[0],i=0;t[0]>=i;i++){var r=e.loadCell(i,this._workCell).getChars().length;0===this._workCell.getWidth()?n--:r>1&&t[0]!==i&&(n+=r-1)}return n},e.prototype.setSelection=function(e,t,n){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=n,this.refresh()},e.prototype._getWordAt=function(e,t,n,i){if(void 0===n&&(n=!0),void 0===i&&(i=!0),!(e[0]>=this._bufferService.cols)){var r=this._bufferService.buffer,o=r.lines.get(e[1]);if(o){var a=r.translateBufferLineToString(e[1],!1),s=this._convertViewportColToCharacterIndex(o,e),l=s,c=e[0]-s,h=0,d=0,u=0,p=0;if(" "===a.charAt(s)){for(;s>0&&" "===a.charAt(s-1);)s--;for(;l<a.length&&" "===a.charAt(l+1);)l++}else{var f=e[0],m=e[0];0===o.getWidth(f)&&(h++,f--),2===o.getWidth(m)&&(d++,m++);var g=o.getString(m).length;for(g>1&&(p+=g-1,l+=g-1);f>0&&s>0&&!this._isCharWordSeparator(o.loadCell(f-1,this._workCell));){o.loadCell(f-1,this._workCell);var v=this._workCell.getChars().length;0===this._workCell.getWidth()?(h++,f--):v>1&&(u+=v-1,s-=v-1),s--,f--}for(;m<o.length&&l+1<a.length&&!this._isCharWordSeparator(o.loadCell(m+1,this._workCell));){o.loadCell(m+1,this._workCell);var b=this._workCell.getChars().length;2===this._workCell.getWidth()?(d++,m++):b>1&&(p+=b-1,l+=b-1),l++,m++}}l++;var y=s+c-h+u,_=Math.min(this._bufferService.cols,l-s+h+d-u-p);if(t||""!==a.slice(s,l).trim()){if(n&&0===y&&32!==o.getCodePoint(0)){var x=r.lines.get(e[1]-1);if(x&&o.isWrapped&&32!==x.getCodePoint(this._bufferService.cols-1)){var w=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(w){var C=this._bufferService.cols-w.start;y-=C,_+=C}}}if(i&&y+_===this._bufferService.cols&&32!==o.getCodePoint(this._bufferService.cols-1)){var S=r.lines.get(e[1]+1);if(S&&S.isWrapped&&32!==S.getCodePoint(0)){var E=this._getWordAt([0,e[1]+1],!1,!1,!0);E&&(_+=E.length)}}return{start:y,length:_}}}}},e.prototype._selectWordAt=function(e,t){var n=this._getWordAt(e,t);if(n){for(;n.start<0;)n.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[n.start,e[1]],this._model.selectionStartLength=n.length}},e.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);if(t){for(var n=e[1];t.start<0;)t.start+=this._bufferService.cols,n--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,n++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,n]}},e.prototype._isCharWordSeparator=function(e){return 0!==e.getWidth()&&this._optionsService.options.wordSeparator.indexOf(e.getChars())>=0},e.prototype._selectLineAt=function(e){var t=this._bufferService.buffer.getWrappedRangeForLine(e);this._model.selectionStart=[0,t.first],this._model.selectionEnd=[this._bufferService.cols,t.last],this._model.selectionStartLength=0},i([r(3,c.ICharSizeService),r(4,h.IBufferService),r(5,h.ICoreService),r(6,c.IMouseService),r(7,h.IOptionsService)],e)}();t.SelectionService=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}return e.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!0,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();t.SelectionModel=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12);function r(e,t,n,i){var r=e-o(n,e),s=t-o(n,t);return c(Math.abs(r-s)-function(e,t,n){for(var i=0,r=e-o(n,e),s=t-o(n,t),l=0;l<Math.abs(r-s);l++){var c="A"===a(e,t)?-1:1,h=n.buffer.lines.get(r+c*l);h&&h.isWrapped&&i++}return i}(e,t,n),l(a(e,t),i))}function o(e,t){for(var n=0,i=e.buffer.lines.get(t),r=i&&i.isWrapped;r&&t>=0&&t<e.rows;)n++,r=(i=e.buffer.lines.get(--t))&&i.isWrapped;return n}function a(e,t){return e>t?"A":"B"}function s(e,t,n,i,r,o){for(var a=e,s=t,l="";a!==n||s!==i;)a+=r?1:-1,r&&a>o.cols-1?(l+=o.buffer.translateBufferLineToString(s,!1,e,a),a=0,e=0,s++):!r&&a<0&&(l+=o.buffer.translateBufferLineToString(s,!1,0,e+1),e=a=o.cols-1,s--);return l+o.buffer.translateBufferLineToString(s,!1,e,a)}function l(e,t){var n=t?"O":"[";return i.C0.ESC+n+e}function c(e,t){e=Math.floor(e);for(var n="",i=0;i<e;i++)n+=t;return n}t.moveToCellSequence=function(e,t,n,i){var a,h=n.buffer.x,d=n.buffer.y;if(!n.buffer.hasScrollback)return function(e,t,n,i,a,h){return 0===r(t,i,a,h).length?"":c(s(e,t,e,t-o(a,t),!1,a).length,l("D",h))}(h,d,0,t,n,i)+r(d,t,n,i)+function(e,t,n,i,a,h){var d;d=r(t,i,a,h).length>0?i-o(a,i):t;var u=i,p=function(e,t,n,i,a,s){var l;return l=r(n,i,a,s).length>0?i-o(a,i):t,e<n&&l<=i||e>=n&&l<i?"C":"D"}(e,t,n,i,a,h);return c(s(e,d,n,u,"C"===p,a).length,l(p,h))}(h,d,e,t,n,i);if(d===t)return a=h>e?"D":"C",c(Math.abs(h-e),l(a,i));a=d>t?"D":"C";var u=Math.abs(d-t);return c(function(e,t){return t.cols-e}(d>t?e:h,n)+(u-1)*n.cols+1+((d>t?h:e)-1),l(a,i))}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(){function e(e){this._optionsService=e}return Object.defineProperty(e,"audioContext",{get:function(){if(!e._audioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;e._audioContext=new t}return e._audioContext},enumerable:!0,configurable:!0}),e.prototype.playBellSound=function(){var t=e.audioContext;if(t){var n=t.createBufferSource();t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.options.bellSound)),(function(e){n.buffer=e,n.connect(t.destination),n.start(0)}))}},e.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n),r=0;r<n;r++)i[r]=t.charCodeAt(r);return i.buffer},e.prototype._removeMimeType=function(e){return e.split(",")[1]},e=i([r(0,o.IOptionsService)],e)}();t.SoundService=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=n(8),c=n(4),h=n(0),d=function(e){function t(t,n,i,r,o){var a=e.call(this)||this;return a._element=t,a._screenElement=n,a._bufferService=i,a._mouseService=r,a._selectionService=o,a._zones=[],a._areZonesActive=!1,a._lastHoverCoords=[void 0,void 0],a._initialSelectionLength=0,a.register(l.addDisposableDomListener(a._element,"mousedown",(function(e){return a._onMouseDown(e)}))),a._mouseMoveListener=function(e){return a._onMouseMove(e)},a._mouseLeaveListener=function(e){return a._onMouseLeave(e)},a._clickListener=function(e){return a._onClick(e)},a}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(e,t){if(0!==this._zones.length){e&&t||(e=0,t=this._bufferService.rows-1);for(var n=0;n<this._zones.length;n++){var i=this._zones[n];(i.y1>e&&i.y1<=t+1||i.y2>e&&i.y2<=t+1||i.y1<e&&i.y2>t+1)&&(this._currentZone&&this._currentZone===i&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(n--,1))}0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var t=this,n=this._findZoneEventAt(e);n!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),n&&(this._currentZone=n,n.hoverCallback&&n.hoverCallback(e),this._tooltipTimeout=setTimeout((function(){return t._onTooltip(e)}),500)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);t&&t.tooltipCallback&&t.tooltipCallback(e)},t.prototype._onMouseDown=function(e){var t;this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive&&(null===(t=this._findZoneEventAt(e))||void 0===t?void 0:t.willLinkActivate(e))&&(e.preventDefault(),e.stopImmediatePropagation())},t.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},t.prototype._onClick=function(e){var t=this._findZoneEventAt(e),n=this._getSelectionLength();t&&n===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},t.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var n=t[0],i=t[1],r=0;r<this._zones.length;r++){var o=this._zones[r];if(o.y1===o.y2){if(i===o.y1&&n>=o.x1&&n<o.x2)return o}else if(i===o.y1&&n>=o.x1||i===o.y2&&n<o.x2||i>o.y1&&i<o.y2)return o}},o([a(2,h.IBufferService),a(3,c.IMouseService),a(4,c.ISelectionService)],t)}(s.Disposable);t.MouseZoneManager=d},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),a=n(11),s=n(29),l=n(8),c=n(2),h=n(30),d=function(e){function t(t,n){var i=e.call(this)||this;i._terminal=t,i._renderService=n,i._liveRegionLineCount=0,i._charsToConsume=[],i._charsToAnnounce="",i._accessibilityTreeRoot=document.createElement("div"),i._accessibilityTreeRoot.classList.add("xterm-accessibility"),i._rowContainer=document.createElement("div"),i._rowContainer.classList.add("xterm-accessibility-tree"),i._rowElements=[];for(var r=0;r<i._terminal.rows;r++)i._rowElements[r]=i._createAccessibilityTreeNode(),i._rowContainer.appendChild(i._rowElements[r]);return i._topBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,0)},i._bottomBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,1)},i._rowElements[0].addEventListener("focus",i._topBoundaryFocusListener),i._rowElements[i._rowElements.length-1].addEventListener("focus",i._bottomBoundaryFocusListener),i._refreshRowsDimensions(),i._accessibilityTreeRoot.appendChild(i._rowContainer),i._renderRowsDebouncer=new s.RenderDebouncer(i._renderRows.bind(i)),i._refreshRows(),i._liveRegion=document.createElement("div"),i._liveRegion.classList.add("live-region"),i._liveRegion.setAttribute("aria-live","assertive"),i._accessibilityTreeRoot.appendChild(i._liveRegion),i._terminal.element.insertAdjacentElement("afterbegin",i._accessibilityTreeRoot),i.register(i._renderRowsDebouncer),i.register(i._terminal.onResize((function(e){return i._onResize(e.rows)}))),i.register(i._terminal.onRender((function(e){return i._refreshRows(e.start,e.end)}))),i.register(i._terminal.onScroll((function(){return i._refreshRows()}))),i.register(i._terminal.onA11yChar((function(e){return i._onChar(e)}))),i.register(i._terminal.onLineFeed((function(){return i._onChar("\n")}))),i.register(i._terminal.onA11yTab((function(e){return i._onTab(e)}))),i.register(i._terminal.onKey((function(e){return i._onKey(e.key)}))),i.register(i._terminal.onBlur((function(){return i._clearLiveRegion()}))),i.register(i._renderService.onDimensionsChange((function(){return i._refreshRowsDimensions()}))),i._screenDprMonitor=new h.ScreenDprMonitor,i.register(i._screenDprMonitor),i._screenDprMonitor.setListener((function(){return i._refreshRowsDimensions()})),i.register(l.addDisposableDomListener(window,"resize",(function(){return i._refreshRowsDimensions()}))),i}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._terminal.element.removeChild(this._accessibilityTreeRoot),this._rowElements.length=0},t.prototype._onBoundaryFocus=function(e,t){var n=e.target,i=this._rowElements[0===t?1:this._rowElements.length-2];if(n.getAttribute("aria-posinset")!==(0===t?"1":""+this._terminal.buffer.lines.length)&&e.relatedTarget===i){var r,o;if(0===t?(r=n,o=this._rowElements.pop(),this._rowContainer.removeChild(o)):(r=this._rowElements.shift(),o=n,this._rowContainer.removeChild(r)),r.removeEventListener("focus",this._topBoundaryFocusListener),o.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){var a=this._createAccessibilityTreeNode();this._rowElements.unshift(a),this._rowContainer.insertAdjacentElement("afterbegin",a)}else a=this._createAccessibilityTreeNode(),this._rowElements.push(a),this._rowContainer.appendChild(a);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},t.prototype._onResize=function(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},t.prototype._createAccessibilityTreeNode=function(){var e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e},t.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(" ")},t.prototype._onChar=function(e){var t=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=o.tooMuchOutput)),a.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)}),0))},t.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,a.isMac&&this._liveRegion.parentNode&&this._accessibilityTreeRoot.removeChild(this._liveRegion)},t.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},t.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t,this._terminal.rows)},t.prototype._renderRows=function(e,t){for(var n=this._terminal.buffer,i=n.lines.length.toString(),r=e;r<=t;r++){var o=n.translateBufferLineToString(n.ydisp+r,!0),a=(n.ydisp+r+1).toString(),s=this._rowElements[r];s&&(0===o.length?s.innerHTML="&nbsp;":s.textContent=o,s.setAttribute("aria-posinset",a),s.setAttribute("aria-setsize",i))}this._announceCharacters()},t.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}},t.prototype._refreshRowDimensions=function(e){e.style.height=this._renderService.dimensions.actualCellHeight+"px"},t.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},t}(c.Disposable);t.AccessibilityManager=d},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(57),l=n(9),c=n(2),h=n(4),d=n(0),u=n(1),p=n(10),f="xterm-dom-renderer-owner-",m="xterm-rows",g="xterm-selection",v=1,b=function(e){function t(t,n,i,r,o,a,l,c){var h=e.call(this)||this;return h._colors=t,h._element=n,h._screenElement=i,h._viewportElement=r,h._linkifier=o,h._charSizeService=a,h._optionsService=l,h._bufferService=c,h._terminalClass=v++,h._rowElements=[],h._onRequestRefreshRows=new u.EventEmitter,h._rowContainer=document.createElement("div"),h._rowContainer.classList.add(m),h._rowContainer.style.lineHeight="normal",h._rowContainer.setAttribute("aria-hidden","true"),h._refreshRowElements(h._bufferService.cols,h._bufferService.rows),h._selectionContainer=document.createElement("div"),h._selectionContainer.classList.add(g),h._selectionContainer.setAttribute("aria-hidden","true"),h.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},h._updateDimensions(),h._injectCss(),h._rowFactory=new s.DomRendererRowFactory(document,h._optionsService,h._colors),h._element.classList.add(f+h._terminalClass),h._screenElement.appendChild(h._rowContainer),h._screenElement.appendChild(h._selectionContainer),h._linkifier.onLinkHover((function(e){return h._onLinkHover(e)})),h._linkifier.onLinkLeave((function(e){return h._onLinkLeave(e)})),h}return r(t,e),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._element.classList.remove(f+this._terminalClass),this._screenElement.removeChild(this._rowContainer),this._screenElement.removeChild(this._selectionContainer),this._screenElement.removeChild(this._themeStyleElement),this._screenElement.removeChild(this._dimensionsStyleElement),e.prototype.dispose.call(this)},t.prototype._updateDimensions=function(){var e=this;this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this._rowElements.forEach((function(t){t.style.width=e.dimensions.canvasWidth+"px",t.style.height=e.dimensions.actualCellHeight+"px",t.style.lineHeight=e.dimensions.actualCellHeight+"px",t.style.overflow="hidden"})),this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var t=this._terminalSelector+" ."+m+" span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.innerHTML=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.setColors=function(e){this._colors=e,this._injectCss()},t.prototype._injectCss=function(){var e=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var t=this._terminalSelector+" ."+m+" { color: "+this._colors.foreground.css+"; background-color: "+this._colors.background.css+"; font-family: "+this._optionsService.options.fontFamily+"; font-size: "+this._optionsService.options.fontSize+"px;}";t+=this._terminalSelector+" span:not(."+s.BOLD_CLASS+") { font-weight: "+this._optionsService.options.fontWeight+";}"+this._terminalSelector+" span."+s.BOLD_CLASS+" { font-weight: "+this._optionsService.options.fontWeightBold+";}"+this._terminalSelector+" span."+s.ITALIC_CLASS+" { font-style: italic;}",t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",t+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",t+=this._terminalSelector+" ."+m+":not(.xterm-focus) ."+s.CURSOR_CLASS+"."+s.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" ."+m+".xterm-focus ."+s.CURSOR_CLASS+"."+s.CURSOR_BLINK_CLASS+":not(."+s.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" ."+m+".xterm-focus ."+s.CURSOR_CLASS+"."+s.CURSOR_BLINK_CLASS+"."+s.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" ."+m+".xterm-focus ."+s.CURSOR_CLASS+"."+s.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" ."+m+" ."+s.CURSOR_CLASS+"."+s.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.options.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" ."+m+" ."+s.CURSOR_CLASS+"."+s.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",t+=this._terminalSelector+" ."+g+" { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" ."+g+" div { position: absolute; background-color: "+this._colors.selection.css+";}",this._colors.ansi.forEach((function(n,i){t+=e._terminalSelector+" .xterm-fg-"+i+" { color: "+n.css+"; }"+e._terminalSelector+" .xterm-bg-"+i+" { background-color: "+n.css+"; }"})),t+=this._terminalSelector+" .xterm-fg-"+l.INVERTED_DEFAULT_COLOR+" { color: "+p.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" .xterm-bg-"+l.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.innerHTML=t},t.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},t.prototype._refreshRowElements=function(e,t){for(var n=this._rowElements.length;n<=t;n++){var i=document.createElement("div");this._rowContainer.appendChild(i),this._rowElements.push(i)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())},t.prototype.onResize=function(e,t){this._refreshRowElements(e,t),this._updateDimensions()},t.prototype.onCharSizeChanged=function(){this._updateDimensions()},t.prototype.onBlur=function(){this._rowContainer.classList.remove("xterm-focus")},t.prototype.onFocus=function(){this._rowContainer.classList.add("xterm-focus")},t.prototype.onSelectionChanged=function(e,t,n){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(e&&t){var i=e[1]-this._bufferService.buffer.ydisp,r=t[1]-this._bufferService.buffer.ydisp,o=Math.max(i,0),a=Math.min(r,this._bufferService.rows-1);if(!(o>=this._bufferService.rows||a<0)){var s=document.createDocumentFragment();if(n)s.appendChild(this._createSelectionElement(o,e[0],t[0],a-o+1));else{var l=i===o?e[0]:0,c=o===a?t[0]:this._bufferService.cols;s.appendChild(this._createSelectionElement(o,l,c));var h=a-o-1;if(s.appendChild(this._createSelectionElement(o+1,0,this._bufferService.cols,h)),o!==a){var d=r===a?t[0]:this._bufferService.cols;s.appendChild(this._createSelectionElement(a,0,d))}}this._selectionContainer.appendChild(s)}}},t.prototype._createSelectionElement=function(e,t,n,i){void 0===i&&(i=1);var r=document.createElement("div");return r.style.height=i*this.dimensions.actualCellHeight+"px",r.style.top=e*this.dimensions.actualCellHeight+"px",r.style.left=t*this.dimensions.actualCellWidth+"px",r.style.width=this.dimensions.actualCellWidth*(n-t)+"px",r},t.prototype.onCursorMove=function(){},t.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},t.prototype.clear=function(){this._rowElements.forEach((function(e){return e.innerHTML=""}))},t.prototype.renderRows=function(e,t){for(var n=this._bufferService.buffer.ybase+this._bufferService.buffer.y,i=this._bufferService.buffer.x,r=this._optionsService.options.cursorBlink,o=e;o<=t;o++){var a=this._rowElements[o];a.innerHTML="";var s=o+this._bufferService.buffer.ydisp,l=this._bufferService.buffer.lines.get(s),c=this._optionsService.options.cursorStyle;a.appendChild(this._rowFactory.createRow(l,s===n,c,i,r,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(t.prototype,"_terminalSelector",{get:function(){return"."+f+this._terminalClass},enumerable:!0,configurable:!0}),t.prototype.registerCharacterJoiner=function(e){return-1},t.prototype.deregisterCharacterJoiner=function(e){return!1},t.prototype._onLinkHover=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)},t.prototype._onLinkLeave=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)},t.prototype._setCellUnderline=function(e,t,n,i,r,o){for(;e!==t||n!==i;){var a=this._rowElements[n];if(!a)return;var s=a.children[e];s&&(s.style.textDecoration=o?"underline":"none"),++e>=r&&(e=0,n++)}},o([a(5,h.ICharSizeService),a(6,d.IOptionsService),a(7,d.IBufferService)],t)}(c.Disposable);t.DomRenderer=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),r=n(3),o=n(5),a=n(10);t.BOLD_CLASS="xterm-bold",t.DIM_CLASS="xterm-dim",t.ITALIC_CLASS="xterm-italic",t.UNDERLINE_CLASS="xterm-underline",t.CURSOR_CLASS="xterm-cursor",t.CURSOR_BLINK_CLASS="xterm-cursor-blink",t.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",t.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",t.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var s=function(){function e(e,t,n){this._document=e,this._optionsService=t,this._colors=n,this._workCell=new o.CellData}return e.prototype.setColors=function(e){this._colors=e},e.prototype.createRow=function(e,n,o,s,c,h,d){for(var u=this._document.createDocumentFragment(),p=0,f=Math.min(e.length,d)-1;f>=0;f--)if(e.loadCell(f,this._workCell).getCode()!==r.NULL_CELL_CODE||n&&f===s){p=f+1;break}for(f=0;f<p;f++){e.loadCell(f,this._workCell);var m=this._workCell.getWidth();if(0!==m){var g=this._document.createElement("span");if(m>1&&(g.style.width=h*m+"px"),n&&f===s)switch(g.classList.add(t.CURSOR_CLASS),c&&g.classList.add(t.CURSOR_BLINK_CLASS),o){case"bar":g.classList.add(t.CURSOR_STYLE_BAR_CLASS);break;case"underline":g.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);break;default:g.classList.add(t.CURSOR_STYLE_BLOCK_CLASS)}this._workCell.isBold()&&g.classList.add(t.BOLD_CLASS),this._workCell.isItalic()&&g.classList.add(t.ITALIC_CLASS),this._workCell.isDim()&&g.classList.add(t.DIM_CLASS),this._workCell.isUnderline()&&g.classList.add(t.UNDERLINE_CLASS),this._workCell.isInvisible()?g.textContent=r.WHITESPACE_CELL_CHAR:g.textContent=this._workCell.getChars()||r.WHITESPACE_CELL_CHAR;var v=this._workCell.getFgColor(),b=this._workCell.getFgColorMode(),y=this._workCell.getBgColor(),_=this._workCell.getBgColorMode(),x=!!this._workCell.isInverse();if(x){var w=v;v=y,y=w;var C=b;b=_,_=C}switch(b){case 16777216:case 33554432:this._workCell.isBold()&&v<8&&this._optionsService.options.drawBoldTextInBrightColors&&(v+=8),this._applyMinimumContrast(g,this._colors.background,this._colors.ansi[v])||g.classList.add("xterm-fg-"+v);break;case 50331648:var S=a.rgba.toColor(v>>16&255,v>>8&255,255&v);this._applyMinimumContrast(g,this._colors.background,S)||this._addStyle(g,"color:#"+l(v.toString(16),"0",6));break;case 0:default:this._applyMinimumContrast(g,this._colors.background,this._colors.foreground)||x&&g.classList.add("xterm-fg-"+i.INVERTED_DEFAULT_COLOR)}switch(_){case 16777216:case 33554432:g.classList.add("xterm-bg-"+y);break;case 50331648:this._addStyle(g,"background-color:#"+l(y.toString(16),"0",6));break;case 0:default:x&&g.classList.add("xterm-bg-"+i.INVERTED_DEFAULT_COLOR)}u.appendChild(g)}}return u},e.prototype._applyMinimumContrast=function(e,t,n){if(1===this._optionsService.options.minimumContrastRatio)return!1;var i=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return void 0===i&&(i=a.color.ensureContrastRatio(t,n,this._optionsService.options.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,null!=i?i:null)),!!i&&(this._addStyle(e,"color:"+i.css),!0)},e.prototype._addStyle=function(e,t){e.setAttribute("style",""+(e.getAttribute("style")||"")+t+";")},e}();function l(e,t,n){for(;e.length<n;)e=t+e;return e}t.DomRendererRowFactory=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),r={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,n,o){var a={type:0,cancel:!1,key:void 0},s=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?a.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?a.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?a.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(a.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B");break;case 8:if(e.shiftKey){a.key=i.C0.BS;break}if(e.altKey){a.key=i.C0.ESC+i.C0.DEL;break}a.key=i.C0.DEL;break;case 9:if(e.shiftKey){a.key=i.C0.ESC+"[Z";break}a.key=i.C0.HT,a.cancel=!0;break;case 13:a.key=i.C0.CR,a.cancel=!0;break;case 27:a.key=i.C0.ESC,a.cancel=!0;break;case 37:if(e.metaKey)break;s?(a.key=i.C0.ESC+"[1;"+(s+1)+"D",a.key===i.C0.ESC+"[1;3D"&&(a.key=i.C0.ESC+(n?"b":"[1;5D"))):a.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D";break;case 39:if(e.metaKey)break;s?(a.key=i.C0.ESC+"[1;"+(s+1)+"C",a.key===i.C0.ESC+"[1;3C"&&(a.key=i.C0.ESC+(n?"f":"[1;5C"))):a.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C";break;case 38:if(e.metaKey)break;s?(a.key=i.C0.ESC+"[1;"+(s+1)+"A",n||a.key!==i.C0.ESC+"[1;3A"||(a.key=i.C0.ESC+"[1;5A")):a.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A";break;case 40:if(e.metaKey)break;s?(a.key=i.C0.ESC+"[1;"+(s+1)+"B",n||a.key!==i.C0.ESC+"[1;3B"||(a.key=i.C0.ESC+"[1;5B")):a.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(a.key=i.C0.ESC+"[2~");break;case 46:a.key=s?i.C0.ESC+"[3;"+(s+1)+"~":i.C0.ESC+"[3~";break;case 36:a.key=s?i.C0.ESC+"[1;"+(s+1)+"H":t?i.C0.ESC+"OH":i.C0.ESC+"[H";break;case 35:a.key=s?i.C0.ESC+"[1;"+(s+1)+"F":t?i.C0.ESC+"OF":i.C0.ESC+"[F";break;case 33:e.shiftKey?a.type=2:a.key=i.C0.ESC+"[5~";break;case 34:e.shiftKey?a.type=3:a.key=i.C0.ESC+"[6~";break;case 112:a.key=s?i.C0.ESC+"[1;"+(s+1)+"P":i.C0.ESC+"OP";break;case 113:a.key=s?i.C0.ESC+"[1;"+(s+1)+"Q":i.C0.ESC+"OQ";break;case 114:a.key=s?i.C0.ESC+"[1;"+(s+1)+"R":i.C0.ESC+"OR";break;case 115:a.key=s?i.C0.ESC+"[1;"+(s+1)+"S":i.C0.ESC+"OS";break;case 116:a.key=s?i.C0.ESC+"[15;"+(s+1)+"~":i.C0.ESC+"[15~";break;case 117:a.key=s?i.C0.ESC+"[17;"+(s+1)+"~":i.C0.ESC+"[17~";break;case 118:a.key=s?i.C0.ESC+"[18;"+(s+1)+"~":i.C0.ESC+"[18~";break;case 119:a.key=s?i.C0.ESC+"[19;"+(s+1)+"~":i.C0.ESC+"[19~";break;case 120:a.key=s?i.C0.ESC+"[20;"+(s+1)+"~":i.C0.ESC+"[20~";break;case 121:a.key=s?i.C0.ESC+"[21;"+(s+1)+"~":i.C0.ESC+"[21~";break;case 122:a.key=s?i.C0.ESC+"[23;"+(s+1)+"~":i.C0.ESC+"[23~";break;case 123:a.key=s?i.C0.ESC+"[24;"+(s+1)+"~":i.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(n&&!o||!e.altKey||e.metaKey)n&&!e.altKey&&!e.ctrlKey&&e.metaKey?65===e.keyCode&&(a.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?a.key=e.key:e.key&&e.ctrlKey&&"_"===e.key&&(a.key=i.C0.US);else{var l=r[e.keyCode],c=l&&l[e.shiftKey?1:0];if(c)a.key=i.C0.ESC+c;else if(e.keyCode>=65&&e.keyCode<=90){var h=e.ctrlKey?e.keyCode-64:e.keyCode+32;a.key=i.C0.ESC+String.fromCharCode(h)}}else e.keyCode>=65&&e.keyCode<=90?a.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?a.key=i.C0.NUL:e.keyCode>=51&&e.keyCode<=55?a.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?a.key=i.C0.DEL:219===e.keyCode?a.key=i.C0.ESC:220===e.keyCode?a.key=i.C0.FS:221===e.keyCode&&(a.key=i.C0.GS)}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3);t.updateWindowsModeWrappedState=function(e){var t,n=null===(t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1))||void 0===t?void 0:t.get(e.cols-1),r=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);r&&n&&(r.isWrapped=n[i.CHAR_DATA_CODE_INDEX]!==i.NULL_CELL_CODE&&n[i.CHAR_DATA_CODE_INDEX]!==i.WHITESPACE_CELL_CODE)}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(29),l=n(1),c=n(2),h=n(30),d=n(8),u=n(0),p=n(4),f=function(e){function t(t,n,i,r,o){var a=e.call(this)||this;if(a._renderer=t,a._rowCount=n,a.screenElement=i,a.optionsService=r,a.charSizeService=o,a._isPaused=!1,a._needsFullRefresh=!1,a._canvasWidth=0,a._canvasHeight=0,a._onDimensionsChange=new l.EventEmitter,a._onRender=new l.EventEmitter,a._onRefreshRequest=new l.EventEmitter,a._renderDebouncer=new s.RenderDebouncer((function(e,t){return a._renderRows(e,t)})),a.register(a._renderDebouncer),a._screenDprMonitor=new h.ScreenDprMonitor,a._screenDprMonitor.setListener((function(){return a.onDevicePixelRatioChange()})),a.register(a._screenDprMonitor),a.register(r.onOptionChange((function(){return a._renderer.onOptionsChanged()}))),a.register(o.onCharSizeChange((function(){return a.onCharSizeChanged()}))),a._renderer.onRequestRefreshRows((function(e){return a.refreshRows(e.start,e.end)})),a.register(d.addDisposableDomListener(window,"resize",(function(){return a.onDevicePixelRatioChange()}))),"IntersectionObserver"in window){var c=new IntersectionObserver((function(e){return a._onIntersectionChange(e[e.length-1])}),{threshold:0});c.observe(i),a.register({dispose:function(){return c.disconnect()}})}return a}return r(t,e),Object.defineProperty(t.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!0,configurable:!0}),t.prototype._onIntersectionChange=function(e){this._isPaused=0===e.intersectionRatio,!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},t.prototype.refreshRows=function(e,t){this._isPaused?this._needsFullRefresh=!0:this._renderDebouncer.refresh(e,t,this._rowCount)},t.prototype._renderRows=function(e,t){this._renderer.renderRows(e,t),this._onRender.fire({start:e,end:t})},t.prototype.resize=function(e,t){this._rowCount=t,this._fireOnCanvasResize()},t.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},t.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},t.prototype.dispose=function(){this._renderer.dispose(),e.prototype.dispose.call(this)},t.prototype.setRenderer=function(e){var t=this;this._renderer.dispose(),this._renderer=e,this._renderer.onRequestRefreshRows((function(e){return t.refreshRows(e.start,e.end)})),this.refreshRows(0,this._rowCount-1)},t.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},t.prototype.setColors=function(e){this._renderer.setColors(e),this._fullRefresh()},t.prototype.onDevicePixelRatioChange=function(){this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},t.prototype.onResize=function(e,t){this._renderer.onResize(e,t),this._fullRefresh()},t.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},t.prototype.onBlur=function(){this._renderer.onBlur()},t.prototype.onFocus=function(){this._renderer.onFocus()},t.prototype.onSelectionChanged=function(e,t,n){this._renderer.onSelectionChanged(e,t,n)},t.prototype.onCursorMove=function(){this._renderer.onCursorMove()},t.prototype.clear=function(){this._renderer.clear()},t.prototype.registerCharacterJoiner=function(e){return this._renderer.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._renderer.deregisterCharacterJoiner(e)},o([a(3,u.IOptionsService),a(4,p.ICharSizeService)],t)}(c.Disposable);t.RenderService=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(11),o=n(31);t.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.DEFAULT_OPTIONS=Object.freeze({cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,bellSound:t.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:r.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",convertEol:!1,termName:"xterm",cancelEvents:!1});var a=["cols","rows"],s=function(){function e(e){var n=this;this._onOptionChange=new i.EventEmitter,this.options=o.clone(t.DEFAULT_OPTIONS),Object.keys(e).forEach((function(t){if(t in n.options){var i=e[t];n.options[t]=i}}))}return Object.defineProperty(e.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!0,configurable:!0}),e.prototype.setOption=function(e,n){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');if(-1!==a.indexOf(e))throw new Error('Option "'+e+'" can only be set in the constructor');this.options[e]!==n&&(n=this._sanitizeAndValidateOption(e,n),this.options[e]!==n&&(this.options[e]=n,this._onOptionChange.fire(e)))},e.prototype._sanitizeAndValidateOption=function(e,n){switch(e){case"bellStyle":case"cursorStyle":case"fontWeight":case"fontWeightBold":case"rendererType":case"wordSeparator":n||(n=t.DEFAULT_OPTIONS[e]);break;case"cursorWidth":n=Math.floor(n);case"lineHeight":case"tabStopWidth":if(n<1)throw new Error(e+" cannot be less than 1, value: "+n);break;case"minimumContrastRatio":n=Math.max(1,Math.min(21,Math.round(10*n)/10));break;case"scrollback":if((n=Math.min(n,4294967295))<0)throw new Error(e+" cannot be less than 0, value: "+n);break;case"fastScrollSensitivity":case"scrollSensitivity":if(n<=0)throw new Error(e+" cannot be less than or equal to 0, value: "+n)}return n},e.prototype.getOption=function(e){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');return this.options[e]},e}();t.OptionsService=s},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(){function e(e,t,n){this.document=e,this.parentElement=t,this._optionsService=n,this.width=0,this.height=0,this._onCharSizeChange=new a.EventEmitter,this._measureStrategy=new l(e,t,this._optionsService)}return Object.defineProperty(e.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!0,configurable:!0}),e.prototype.measure=function(){var e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())},i([r(2,o.IOptionsService)],e)}();t.CharSizeService=s;var l=function(){function e(e,t,n){this._document=e,this._parentElement=t,this._optionsService=n,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return e.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.options.fontFamily,this._measureElement.style.fontSize=this._optionsService.options.fontSize+"px";var e=this._measureElement.getBoundingClientRect();return 0!==e.width&&0!==e.height&&(this._result.width=e.width,this._result.height=Math.ceil(e.height)),this._result},e}()},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(64);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;var s=function(){function e(e){this._optionsService=e,this.cols=Math.max(e.options.cols,t.MINIMUM_COLS),this.rows=Math.max(e.options.rows,t.MINIMUM_ROWS),this.buffers=new a.BufferSet(e,this)}return Object.defineProperty(e.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){this.cols=e,this.rows=t},e.prototype.reset=function(){this.buffers=new a.BufferSet(this._optionsService,this)},i([r(0,o.IOptionsService)],e)}();t.BufferService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),r=n(1),o=function(){function e(e,t){this.optionsService=e,this.bufferService=t,this._onBufferActivate=new r.EventEmitter,this._normal=new i.Buffer(!0,e,t),this._normal.fillViewportRows(),this._alt=new i.Buffer(!1,e,t),this._activeBuffer=this._normal,this.setupTabStops()}return Object.defineProperty(e.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alt",{get:function(){return this._alt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal},enumerable:!0,configurable:!0}),e.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},e.prototype.activateAltBuffer=function(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},e.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},e.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},e}();t.BufferSet=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(66),r=n(16),o=n(5),a=n(3),s=n(67),l=n(68),c=n(18);t.MAX_BUFFER_SIZE=4294967295;var h=function(){function e(e,t,n){this._hasScrollback=e,this._optionsService=t,this._bufferService=n,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=r.DEFAULT_ATTR_DATA.clone(),this.savedCharset=c.DEFAULT_CHARSET,this.markers=[],this._nullCell=o.CellData.fromCharData([0,a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]),this._whitespaceCell=o.CellData.fromCharData([0,a.WHITESPACE_CELL_CHAR,a.WHITESPACE_CELL_WIDTH,a.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new i.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return e.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg):(this._nullCell.fg=0,this._nullCell.bg=0),this._nullCell},e.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0),this._whitespaceCell},e.prototype.getBlankLine=function(e,t){return new r.BufferLine(this._bufferService.cols,this.getNullCell(e),t)},Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows},enumerable:!0,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var n=e+this._optionsService.options.scrollback;return n>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:n},e.prototype.fillViewportRows=function(e){if(0===this.lines.length){void 0===e&&(e=r.DEFAULT_ATTR_DATA);for(var t=this._rows;t--;)this.lines.push(this.getBlankLine(e))}},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new i.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var n=this.getNullCell(r.DEFAULT_ATTR_DATA),i=this._getCorrectBufferLength(t);if(i>this.lines.maxLength&&(this.lines.maxLength=i),this.lines.length>0){if(this._cols<e)for(var o=0;o<this.lines.length;o++)this.lines.get(o).resize(e,n);var a=0;if(this._rows<t)for(var s=this._rows;s<t;s++)this.lines.length<t+this.ybase&&(this._optionsService.options.windowsMode?this.lines.push(new r.BufferLine(e,n)):this.ybase>0&&this.lines.length<=this.ybase+this.y+a+1?(this.ybase--,a++,this.ydisp>0&&this.ydisp--):this.lines.push(new r.BufferLine(e,n)));else for(s=this._rows;s>t;s--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(i<this.lines.maxLength){var l=this.lines.length-i;l>0&&(this.lines.trimStart(l),this.ybase=Math.max(this.ybase-l,0),this.ydisp=Math.max(this.ydisp-l,0),this.savedY=Math.max(this.savedY-l,0)),this.lines.maxLength=i}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),a&&(this.y+=a),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(o=0;o<this.lines.length;o++)this.lines.get(o).resize(e,n);this._cols=e,this._rows=t},Object.defineProperty(e.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.options.windowsMode},enumerable:!0,configurable:!0}),e.prototype._reflow=function(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))},e.prototype._reflowLarger=function(e,t){var n=s.reflowLargerGetLinesToRemove(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(r.DEFAULT_ATTR_DATA));if(n.length>0){var i=s.reflowLargerCreateNewLayout(this.lines,n);s.reflowLargerApplyNewLayout(this.lines,i.layout),this._reflowLargerAdjustViewport(e,t,i.countRemoved)}},e.prototype._reflowLargerAdjustViewport=function(e,t,n){for(var i=this.getNullCell(r.DEFAULT_ATTR_DATA),o=n;o-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new r.BufferLine(e,i))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-n,0)},e.prototype._reflowSmaller=function(e,t){for(var n=this.getNullCell(r.DEFAULT_ATTR_DATA),i=[],o=0,a=this.lines.length-1;a>=0;a--){var l=this.lines.get(a);if(!(!l||!l.isWrapped&&l.getTrimmedLength()<=e)){for(var c=[l];l.isWrapped&&a>0;)l=this.lines.get(--a),c.unshift(l);var h=this.ybase+this.y;if(!(h>=a&&h<a+c.length)){var d,u=c[c.length-1].getTrimmedLength(),p=s.reflowSmallerGetNewLineLengths(c,this._cols,e),f=p.length-c.length;d=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+f):Math.max(0,this.lines.length-this.lines.maxLength+f);for(var m=[],g=0;g<f;g++){var v=this.getBlankLine(r.DEFAULT_ATTR_DATA,!0);m.push(v)}m.length>0&&(i.push({start:a+c.length+o,newLines:m}),o+=m.length),c.push.apply(c,m);var b=p.length-1,y=p[b];0===y&&(y=p[--b]);for(var _=c.length-f-1,x=u;_>=0;){var w=Math.min(x,y);if(c[b].copyCellsFrom(c[_],x-w,y-w,w,!0),0===(y-=w)&&(y=p[--b]),0===(x-=w)){_--;var C=Math.max(_,0);x=s.getWrappedLineTrimmedLength(c,C,this._cols)}}for(g=0;g<c.length;g++)p[g]<e&&c[g].setCell(p[g],n);for(var S=f-d;S-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+o)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+f,this.ybase+t-1)}}}if(i.length>0){var E=[],k=[];for(g=0;g<this.lines.length;g++)k.push(this.lines.get(g));var O=this.lines.length,T=O-1,A=0,I=i[A];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+o);var j=0;for(g=Math.min(this.lines.maxLength-1,O+o-1);g>=0;g--)if(I&&I.start>T+j){for(var P=I.newLines.length-1;P>=0;P--)this.lines.set(g--,I.newLines[P]);g++,E.push({index:T+1,amount:I.newLines.length}),j+=I.newLines.length,I=i[++A]}else this.lines.set(g,k[T--]);var M=0;for(g=E.length-1;g>=0;g--)E[g].index+=M,this.lines.onInsertEmitter.fire(E[g]),M+=E[g].amount;var R=Math.max(0,O+o-this.lines.maxLength);R>0&&this.lines.onTrimEmitter.fire(R)}},e.prototype.stringIndexToBufferIndex=function(e,t,n){for(void 0===n&&(n=!1);t;){var i=this.lines.get(e);if(!i)return[-1,-1];for(var r=n?i.getTrimmedLength():i.length,o=0;o<r;++o)if(i.get(o)[a.CHAR_DATA_WIDTH_INDEX]&&(t-=i.get(o)[a.CHAR_DATA_CHAR_INDEX].length||1),t<0)return[e,o];e++}return[e,0]},e.prototype.translateBufferLineToString=function(e,t,n,i){void 0===n&&(n=0);var r=this.lines.get(e);return r?r.translateToString(t,n,i):""},e.prototype.getWrappedRangeForLine=function(e){for(var t=e,n=e;t>0&&this.lines.get(t).isWrapped;)t--;for(;n+1<this.lines.length&&this.lines.get(n+1).isWrapped;)n++;return{first:t,last:n}},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.options.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.addMarker=function(e){var t=this,n=new l.Marker(e);return this.markers.push(n),n.register(this.lines.onTrim((function(e){n.line-=e,n.line<0&&n.dispose()}))),n.register(this.lines.onInsert((function(e){n.line>=e.index&&(n.line+=e.amount)}))),n.register(this.lines.onDelete((function(e){n.line>=e.index&&n.line<e.index+e.amount&&n.dispose(),n.line>e.index&&(n.line-=e.amount)}))),n.register(n.onDispose((function(){return t._removeMarker(n)}))),n},e.prototype._removeMarker=function(e){this.markers.splice(this.markers.indexOf(e),1)},e.prototype.iterator=function(e,t,n,i,r){return new d(this,e,t,n,i,r)},e}();t.Buffer=h;var d=function(){function e(e,t,n,i,r,o){void 0===n&&(n=0),void 0===i&&(i=e.lines.length),void 0===r&&(r=0),void 0===o&&(o=0),this._buffer=e,this._trimRight=t,this._startIndex=n,this._endIndex=i,this._startOverscan=r,this._endOverscan=o,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return e.prototype.hasNext=function(){return this._current<this._endIndex},e.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var t="",n=e.first;n<=e.last;++n)t+=this._buffer.translateBufferLineToString(n,this._trimRight);return this._current=e.last+1,{range:e,content:t}},e}();t.BufferStringIterator=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e){this._maxLength=e,this.onDeleteEmitter=new i.EventEmitter,this.onInsertEmitter=new i.EventEmitter,this.onTrimEmitter=new i.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(e.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),n=0;n<Math.min(e,this.length);n++)t[n]=this._array[this._getCyclicIndex(n)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},e.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},e.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},e.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(e.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!0,configurable:!0}),e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(t){for(var r=e;r<this._length-t;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+t)];this._length-=t}for(r=this._length-1;r>=e;r--)this._array[this._getCyclicIndex(r+n.length)]=this._array[this._getCyclicIndex(r)];for(r=0;r<n.length;r++)this._array[this._getCyclicIndex(e+r)]=n[r];if(this._length+n.length>this._maxLength){var o=this._length+n.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=n.length},e.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)},e.prototype.shiftElements=function(e,t,n){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+n<0)throw new Error("Cannot shift elements in list beyond index 0");if(n>0){for(var i=t-1;i>=0;i--)this.set(e+i+n,this.get(e+i));var r=e+t+n-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(i=0;i<t;i++)this.set(e+i+n,this.get(e+i))}},e.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this._maxLength},e}();t.CircularList=r},function(e,t,n){"use strict";function i(e,t,n){if(t===e.length-1)return e[t].getTrimmedLength();var i=!e[t].hasContent(n-1)&&1===e[t].getWidth(n-1),r=2===e[t+1].getWidth(0);return i&&r?n-1:n}Object.defineProperty(t,"__esModule",{value:!0}),t.reflowLargerGetLinesToRemove=function(e,t,n,r,o){for(var a=[],s=0;s<e.length-1;s++){var l=s,c=e.get(++l);if(c.isWrapped){for(var h=[e.get(s)];l<e.length&&c.isWrapped;)h.push(c),c=e.get(++l);if(r>=s&&r<l)s+=h.length-1;else{for(var d=0,u=i(h,d,t),p=1,f=0;p<h.length;){var m=i(h,p,t),g=m-f,v=n-u,b=Math.min(g,v);h[d].copyCellsFrom(h[p],f,u,b,!1),(u+=b)===n&&(d++,u=0),(f+=b)===m&&(p++,f=0),0===u&&0!==d&&2===h[d-1].getWidth(n-1)&&(h[d].copyCellsFrom(h[d-1],n-1,u++,1,!1),h[d-1].setCell(n-1,o))}h[d].replaceCells(u,n,o);for(var y=0,_=h.length-1;_>0&&(_>d||0===h[_].getTrimmedLength());_--)y++;y>0&&(a.push(s+h.length-y),a.push(y)),s+=h.length-1}}}return a},t.reflowLargerCreateNewLayout=function(e,t){for(var n=[],i=0,r=t[i],o=0,a=0;a<e.length;a++)if(r===a){var s=t[++i];e.onDeleteEmitter.fire({index:a-o,amount:s}),a+=s-1,o+=s,r=t[++i]}else n.push(a);return{layout:n,countRemoved:o}},t.reflowLargerApplyNewLayout=function(e,t){for(var n=[],i=0;i<t.length;i++)n.push(e.get(t[i]));for(i=0;i<n.length;i++)e.set(i,n[i]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,n){for(var r=[],o=e.map((function(n,r){return i(e,r,t)})).reduce((function(e,t){return e+t})),a=0,s=0,l=0;l<o;){if(o-l<n){r.push(o-l);break}a+=n;var c=i(e,s,t);a>c&&(a-=c,s++);var h=2===e[s].getWidth(a-1);h&&a--;var d=h?n-1:n;r.push(d),l+=d}return r},t.getWrappedLineTrimmedLength=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=function(e){function t(n){var i=e.call(this)||this;return i.line=n,i._id=t._nextId++,i.isDisposed=!1,i._onDispose=new o.EventEmitter,i}return r(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire())},t._nextId=1,t}(n(2).Disposable);t.Marker=a},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(28),s=function(){function e(e,t){this._renderService=e,this._charSizeService=t}return e.prototype.getCoords=function(e,t,n,i,r){return a.getCoords(e,t,n,i,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,r)},e.prototype.getRawByteCoords=function(e,t,n,i){var r=this.getCoords(e,t,n,i);return a.getRawByteCoords(r)},i([r(0,o.IRenderService),r(1,o.ICharSizeService)],e)}();t.MouseService=s},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=n(31),l=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,origin:!1,wraparound:!0}),c=function(){function e(e,t,n,i){this._scrollToBottom=e,this._bufferService=t,this._logService=n,this._optionsService=i,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=new a.EventEmitter,this._onUserInput=new a.EventEmitter,this._onBinary=new a.EventEmitter,this.decPrivateModes=s.clone(l)}return Object.defineProperty(e.prototype,"onData",{get:function(){return this._onData.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.decPrivateModes=s.clone(l)},e.prototype.triggerDataEvent=function(e,t){if(void 0===t&&(t=!1),!this._optionsService.options.disableStdin){var n=this._bufferService.buffer;n.ybase!==n.ydisp&&this._scrollToBottom(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onData.fire(e)}},e.prototype.triggerBinaryEvent=function(e){this._optionsService.options.disableStdin||(this._logService.debug('sending binary "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onBinary.fire(e))},i([r(1,o.IBufferService),r(2,o.ILogService),r(3,o.IOptionsService)],e)}();t.CoreService=c},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0);!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(a=t.LogLevel||(t.LogLevel={}));var l={debug:a.DEBUG,info:a.INFO,warn:a.WARN,error:a.ERROR,off:a.OFF},c=function(){function e(e){var t=this;this._optionsService=e,this._updateLogLevel(),this._optionsService.onOptionChange((function(e){"logLevel"===e&&t._updateLogLevel()}))}return e.prototype._updateLogLevel=function(){this._logLevel=l[this._optionsService.options.logLevel]},e.prototype._evalLazyOptionalParams=function(e){for(var t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())},e.prototype._log=function(e,t,n){this._evalLazyOptionalParams(n),e.call.apply(e,o([console,"xterm.js: "+t],n))},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logLevel<=a.DEBUG&&this._log(console.log,e,t)},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logLevel<=a.INFO&&this._log(console.info,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logLevel<=a.WARN&&this._log(console.warn,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._logLevel<=a.ERROR&&this._log(console.error,e,t)},i([r(0,s.IOptionsService)],e)}();t.LogService=c},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(){function e(e){this._bufferService=e,this.clearRange()}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),e.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},e.prototype.markDirty=function(e){e<this._start?this._start=e:e>this._end&&(this._end=e)},e.prototype.markRangeDirty=function(e,t){if(e>t){var n=e;e=t,t=n}e<this._start&&(this._start=e),t>this._end&&(this._end=t)},e.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},i([r(0,o.IBufferService)],e)}();t.DirtyRowService=a},function(e,t,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(14),a=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var n=0,i=e;n<i.length;n++){var r=i[n],o=r[0],a=r[1];this.set(o,a)}}return e.prototype.set=function(e,t){var n=this._entries.get(e);return this._entries.set(e,t),n},e.prototype.forEach=function(e){this._entries.forEach((function(t,n){return e(n,t)}))},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}();t.ServiceCollection=a;var s=function(){function e(){this._services=new a,this._services.set(r.IInstantiationService,this)}return e.prototype.setService=function(e,t){this._services.set(e,t)},e.prototype.getService=function(e){return this._services.get(e)},e.prototype.createInstance=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=o.getServiceDependencies(e).sort((function(e,t){return e.index-t.index})),a=[],s=0,l=r;s<l.length;s++){var c=l[s],h=this._services.get(c.id);if(!h)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+c.id+".");a.push(h)}var d=r.length>0?r[0].index:t.length;if(t.length!==d)throw new Error("[createInstance] First service dependency of "+e.name+" at position "+(d+1)+" conflicts with "+t.length+" static arguments");return new(e.bind.apply(e,i([void 0],i(t,a))))},e}();t.InstantiationService=s},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(e){return 4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)}},VT200:{events:19,restrict:function(e){return 32!==e.action}},DRAG:{events:23,restrict:function(e){return 32!==e.action||3!==e.button}},ANY:{events:31,restrict:function(e){return!0}}};function l(e,t){var n=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(n|=64,n|=e.action):(n|=3&e.button,4&e.button&&(n|=64),8&e.button&&(n|=128),32===e.action?n|=32:0!==e.action||t||(n|=3)),n}var c=String.fromCharCode,h={DEFAULT:function(e){var t=[l(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"\x1b[M"+c(t[0])+c(t[1])+c(t[2])},SGR:function(e){var t=0===e.action&&4!==e.button?"m":"M";return"\x1b[<"+l(e,!0)+";"+e.col+";"+e.row+t}},d=function(){function e(e,t){var n=this;this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new a.EventEmitter,this._lastEvent=null,Object.keys(s).forEach((function(e){return n.addProtocol(e,s[e])})),Object.keys(h).forEach((function(e){return n.addEncoding(e,h[e])})),this.reset()}return e.prototype.addProtocol=function(e,t){this._protocols[e]=t},e.prototype.addEncoding=function(e,t){this._encodings[e]=t},Object.defineProperty(e.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(e){if(!this._protocols[e])throw new Error('unknown protocol "'+e+'"');this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(e){if(!this._encodings[e])throw new Error('unknown encoding "'+e+'"');this._activeEncoding=e},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(e.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!0,configurable:!0}),e.prototype.triggerMouseEvent=function(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._compareEvents(this._lastEvent,e))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;var t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0},e.prototype.explainEvents=function(e){return{DOWN:!!(1&e),UP:!!(2&e),DRAG:!!(4&e),MOVE:!!(8&e),WHEEL:!!(16&e)}},e.prototype._compareEvents=function(e,t){return e.col===t.col&&e.row===t.row&&e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift},i([r(0,o.IBufferService),r(1,o.ICoreService)],e)}();t.CoreMouseService=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0}return e.prototype.writeSync=function(e){if(this._writeBuffer.length){for(var t=this._bufferOffset;t<this._writeBuffer.length;++t){var n=this._writeBuffer[t],i=this._callbacks[t];this._action(n),i&&i()}this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=2147483647}this._action(e)},e.prototype.write=function(e,t){var n=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout((function(){return n._innerWrite()}))),this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)},e.prototype._innerWrite=function(){for(var e=this,t=Date.now();this._writeBuffer.length>this._bufferOffset;){var n=this._writeBuffer[this._bufferOffset],i=this._callbacks[this._bufferOffset];if(this._bufferOffset++,this._action(n),this._pendingData-=n.length,i&&i(),Date.now()-t>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((function(){return e._innerWrite()}),0)):(this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0)},e}();t.WriteBuffer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._textarea=e}return Object.defineProperty(e.prototype,"isFocused",{get:function(){return document.activeElement===this._textarea&&document.hasFocus()},enumerable:!0,configurable:!0}),e}();t.CoreBrowserService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(78),o=function(){function e(){this._providers=Object.create(null),this._active="",this._onChange=new i.EventEmitter;var e=new r.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._active},set:function(e){if(!this._providers[e])throw new Error('unknown Unicode version "'+e+'"');this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)},enumerable:!0,configurable:!0}),e.prototype.register=function(e){this._providers[e.version]=e},e.prototype.wcwidth=function(e){return this._activeProvider.wcwidth(e)},e.prototype.getStringCellWidth=function(e){for(var t=0,n=e.length,i=0;i<n;++i){var r=e.charCodeAt(i);if(55296<=r&&r<=56319){if(++i>=n)return t+this.wcwidth(r);var o=e.charCodeAt(i);56320<=o&&o<=57343?r=1024*(r-55296)+o-56320+65536:t+=this.wcwidth(o)}t+=this.wcwidth(r)}return t},e}();t.UnicodeService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(15),o=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],a=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],s=function(){function e(){if(this.version="6",!i){i=new Uint8Array(65536),r.fill(i,1),i[0]=0,r.fill(i,0,1,32),r.fill(i,0,127,160),r.fill(i,2,4352,4448),i[9001]=2,i[9002]=2,r.fill(i,2,11904,42192),i[12351]=1,r.fill(i,2,44032,55204),r.fill(i,2,63744,64256),r.fill(i,2,65040,65050),r.fill(i,2,65072,65136),r.fill(i,2,65280,65377),r.fill(i,2,65504,65511);for(var e=0;e<o.length;++e)r.fill(i,0,o[e][0],o[e][1]+1)}}return e.prototype.wcwidth=function(e){return e<32?0:e<127?1:e<65536?i[e]:function(e,t){var n,i=0,r=t.length-1;if(e<t[0][0]||e>t[r][1])return!1;for(;r>=i;)if(e>t[n=i+r>>1][1])i=n+1;else{if(!(e<t[n][0]))return!0;r=n-1}return!1}(e,a)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1},e}();t.UnicodeV6=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.charsets=[],this.glevel=0}return e.prototype.reset=function(){this.charset=void 0,this.charsets=[],this.glevel=0},e.prototype.setgLevel=function(e){this.glevel=e,this.charset=this.charsets[e]},e.prototype.setgCharset=function(e,t){this.charsets[e]=t,this.glevel===e&&(this.charset=t)},e}();t.CharsetService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._addons=[]}return e.prototype.dispose=function(){for(var e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()},e.prototype.loadAddon=function(e,t){var n=this,i={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(i),t.dispose=function(){return n._wrappedAddonDispose(i)},t.activate(e)},e.prototype._wrappedAddonDispose=function(e){if(!e.isDisposed){for(var t=-1,n=0;n<this._addons.length;n++)if(this._addons[n]===e){t=n;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},e}();t.AddonManager=i}])},1982:function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.activate=function(e){this._terminal=e},e.prototype.dispose=function(){},e.prototype.fit=function(){var e=this.proposeDimensions();if(e&&this._terminal){var t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}},e.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var e=this._terminal._core,t=window.getComputedStyle(this._terminal.element.parentElement),n=parseInt(t.getPropertyValue("height")),i=Math.max(0,parseInt(t.getPropertyValue("width"))),r=window.getComputedStyle(this._terminal.element),o=n-(parseInt(r.getPropertyValue("padding-top"))+parseInt(r.getPropertyValue("padding-bottom"))),a=i-(parseInt(r.getPropertyValue("padding-right"))+parseInt(r.getPropertyValue("padding-left")))-e.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(a/e._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(o/e._renderService.dimensions.actualCellHeight))}}},e}();t.FitAddon=i}])},1983:function(e,t,n){},1984:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));var i=n(14),r=n(2144),o=n.n(r),a=n(1985),s=n(20);const l=()=>Math.floor(1e13*Math.random())+1,c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r={url:e,type:n};return t&&(r=Object(i.a)({},r,{headers:{Authorization:"token ".concat(t)}})),Object(s.a)(r)};async function h(e,t){const n=o()(e);if(!n.name||!n.owner||!n.branch)throw new Error("Invalid repo url");let i="https://api.github.com/repos/".concat(n.owner,"/").concat(n.name,"/git/trees/").concat(n.branch);const{tree:r}=await c(i,t).then(JSON.parse);if(!r)throw new Error("The tree couldn't be loaded");const a=n.path.split("/").slice(4),s=await async function e(t,n,i){if(t.length<1)return n;const r=t[0];let{url:o}=n.filter(e=>e.path===r)[0];const{tree:a}=await c(o,i).then(JSON.parse);return e(t.slice(1),a,i)}(a,r,t);if(!s)throw new Error("The tree couldn't be loaded");return s}async function d(e,t){const{children:n,maxId:r,firstFileId:o}=await async function e(t,n,r,o){const s=[];let h=n,d=null;const{dirs:p,files:f}=t.reduce((e,t)=>("blob"===t.type?e.files.push(t):"tree"===t.type&&e.dirs.push(t),e),{dirs:[],files:[]}),m=await async function(e,t){const n=e.map(e=>{let{url:n}=e;return c(n,t).then(JSON.parse)});return(await Promise.all(n)).reduce((e,t)=>Object(i.a)({},e,{[t.sha]:t.tree}),{})}(p,o),g=(await Promise.all(p.map(t=>e(m[t.sha],h,t.sha,o)))).reduce((e,t)=>Object(i.a)({},e,{[t.sha]:t}),{});p.forEach(e=>{const t=e.path.replace(/\s/g,"");h=Number(l()),s.push({id:h,module:t,leaf:!1,collapsed:!0,children:g[e.sha].children})});const v=await async function(e,t){const n=e.map(e=>{let{url:n}=e;return c(n,t).then(JSON.parse)});return(await Promise.all(n)).reduce((t,n,i)=>("base64"===n.encoding&&(u(e[i].path)?t[n.sha]=n.content:t[n.sha]=atob(n.content)),t),{})}(f,o);return f.forEach(e=>{const t=e.path.replace(/\s/g,"");h=Number(l()),d||(d=h),s.push({id:h,module:t,leaf:!0,data:{content:v[e.sha]||"",language:Object(a.a)(t),staticFile:!1,hidden:!1,highlightedLines:""}})}),{children:s,maxId:h,sha:r,firstFileId:d}}(e,0,null,t);return{module:"/",id:0,selectedId:o,maxId:r,children:n}}function u(e){return e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".png")}},1985:function(e,t,n){"use strict";t.a=e=>{switch(function(e){return e.split(".").pop()}(e).toLowerCase()){case"js":case"jsx":return"jsx";case"html":return"html";case"css":case"scss":case"sass":return"css";case"svg":case"xml":return"xml";default:return"javascript"}}},1986:function(e,t,n){"use strict";t.a={Java:{title:"Java",jsonFile:"javaAndroid.json",buildPath:"app/build/outputs/apk/app-debug.apk",packageName:"com.educative.android.hello",apkBuildScript:"\x03\n\r cd /usercode && gradle assembleDebug -g gradle-user-home && echo EDSTATUSCODE 1 && echo Build Completed\n\r"},Kotlin:{title:"Kotlin",jsonFile:"kotlinAndroid.json",buildPath:"app/build/outputs/apk/debug/app-debug.apk",packageName:"com.educative.android.hello",apkBuildScript:"\x03\n\r cd /usercode && gradle assembleDebug -g gradle-user-home && echo EDSTATUSCODE 1 && echo Build Completed\n\r"},Flutter:{title:"Flutter",jsonFile:"flutterAndroid.json",buildPath:"build/app/outputs/apk/debug/app-debug.apk",packageName:"com.example.helloworld",apkBuildScript:"\x03\n\r cd /usercode/android && gradle assembleDebug -g gradle-user-home && echo EDSTATUSCODE 1 && echo Build Completed\n\r"},ReactNative:{title:"React Native",jsonFile:"reactNativeAndroid.json",buildPath:"android/app/build/outputs/apk/debug/app-debug.apk",packageName:"com.reactnativeapp",dockerImage:"author-4846590743281664-collection-4800942627094528-rev-1-container-5701498082164736-gradlev5",apkBuildScript:"\x03\n\r cd /usercode && npm i && react-native bundle --platform android --dev false --entry-file index.js --bundle-output android/app/src/main/assets/index.android.bundle --assets-dest android/app/src/main/res/ && rm -rf ./android/app/src/main/res/drawable-*/ && rm -rf ./android/app/src/main/res/raw/ && cd android && gradle assembleDebug -g gradle-user-home && echo EDSTATUSCODE 1 && echo Build Completed\n\r"}}},1989:function(e,t,n){"use strict";n.r(t),function(e){var i=n(14),r=n(0),o=n.n(r),a=n(533),s=n(37),l=n(1967),c=n(2625),h=n.n(c),d=n(650),u=n(85),p=n(1783),f=n(2626),m=n(1730),g=n(532),v=n(814),b=n(1749),y=n(1994),_=n(2107),x=n(261),w=n(2642),C=n(2627),S=n(1990),E=n(1538),k=n(2643);l.fabric.PathGroup={},l.fabric.PathGroup.fromObject=function(e,t){var n=e.paths;delete e.paths,"string"===typeof n?l.fabric.loadSVGFromURL(n,(function(i){var r=n,o=l.fabric.util.groupSVGElements(i,e,r);o.type="group",e.paths=n,t(o)})):l.fabric.util.enlivenObjects(n,(function(i){i.forEach((function(e){"text"===e.type&&(e.set({left:e.left-.5*e.width}),e.set({top:e.top-.5*e.height})),e._removeTransformMatrix()}));var r=new l.fabric.Group(i,e);r.type="group",e.paths=n,t(r)}))};const O={drop:()=>({})};function T(e){"CanvasImage"!==e.type&&"Graph"!==e.type||(e.content.image_data=null)}function A(e){let t=e.replace(' fill-opacity="null"',"");return t=t.replace(' stroke-opacity="null"',""),t}function I(e,t){l.fabric.Image.fromURL(e,t)}function j(e,t){I(e.content.image_data,t)}class P extends r.Component{constructor(t,n){var r;super(t,n),r=this,this.sceneRef=o.a.createRef(),this.gridLinesRuler=null,this.componentAction=null,this.objectsDict={},this.saveComponent=()=>{if(!this.state.canvas)return;this.removeGridLines(),Object.values(this.objectsDict).forEach(e=>this.cleanupComponents(e));const{content:e}=this.state;e.svg_string=this.state.canvas.toSVG({viewBox:{x:0,y:0,width:e.width,height:e.height}});const t=JSON.stringify(this.state.canvas);this.props.updateContentState({width:e.width,height:e.height,objectsDict:this.objectsDict,svg_string:e.svg_string,canvasJSON:t,caption:e.caption,version:e.version}),this.createGridLines()},this.createCanvas=()=>{if(null==this.state.canvas){const{addListener:e}=l.fabric.util,{removeListener:t}=l.fabric.util;l.fabric.CanvasEx=l.fabric.util.createClass(l.fabric.Canvas,{tapholdThreshold:2e3,_bindEvents(){this.callSuper("_bindEvents"),this.onDoubleClick=this.onDoubleClick.bind(this)},onDoubleClick(e){const t=this.findTarget(e);this.fire("mouse:dblclick",{target:t,e:e}),t&&!this.isDrawingMode&&t.fire("object:dblclick",{e:e})},_onDoubleTap(e){const t=this.findTarget(e);this.fire("touch:doubletap",{target:t,e:e}),t&&!this.isDrawingMode&&t.fire("object:doubletap",{e:e})},_initEventListeners(){this.callSuper("_initEventListeners"),e(this.upperCanvasEl,"dblclick",this.onDoubleClick)},removeListeners(){this.callSuper("removeListeners"),t(this.upperCanvasEl,"dblclick",this.onDoubleClick)}});const{width:n}=this.props.content,{height:i}=this.props.content,r=new l.fabric.CanvasEx(this.sceneRef.current,{width:n,height:i});h()(r),this.outOfBoundsPreventer||(this.outOfBoundsPreventer=new f.a({frameWidth:n,frameHeight:i,objectToBoundingRect:e=>e.getBoundingRect(),revertState:(e,t)=>{e.set(t),e.setCoords(),r.renderAll()}})),r.on("selection:cleared",this.onSelectionCleared),r.on("mouse:dblclick",this.onObjectDoubleClicked),r.on("mouse:down",e=>{this.outOfBoundsPreventer.track(e.target)}),r.on("object:modified",e=>{this.outOfBoundsPreventer.update(e.target)}),this.setState({canvas:r},()=>{if(null!=this.props.content.canvasJSON&&""!==this.props.content.canvasJSON){const e=this.cleanComponentsInJSON(this.props.content.canvasJSON);this.loadCanvasFromJSON(e)}this.createGridLines()})}else{const{width:e,height:t}=this.props.content;this.state.canvas.setWidth(e),this.state.canvas.setHeight(t),this.outOfBoundsPreventer.setWidth(e),this.outOfBoundsPreventer.setHeight(t);const n=JSON.stringify(this.state.canvas);if(!this.state.currentComponentEdContent===!this.state.currentComponentEdId){const e=this.cleanComponentsInJSON(n);JSON.parse(e).objects.length>0&&this.props.updateCanvasObjectCallback({width:this.state.content.width,height:this.state.content.height,objectsDict:this.objectsDict,svg_string:this.state.content.svg_string,canvasJSON:n,caption:this.state.content.caption,version:this.state.content.version})}}},this.cleanComponentsInJSON=e=>{const t=JSON.parse(e);return t.objects=t.objects.filter(e=>e&&void 0!==e.edID),JSON.stringify(t)},this.switchGridLines=()=>{null==this.gridLinesRuler?this.createGridLines():this.removeGridLines()},this.createGridLines=()=>{if(null==this.gridLinesRuler){const e=20,t=[];for(let i=0;i<this.state.canvas.height;i+=e){const e=i%100===0&&0!==i?2:1,n=new l.fabric.Line([0,i,this.state.canvas.width,i],{stroke:"#F0EDED",strokeWidth:e,selectable:!1});if(t.push(n),i%100===0&&0!==i){const e=new l.fabric.Text("".concat(i),{fontFamily:"Courier New",left:0,top:i,fontSize:10,fill:"#000000",selectable:!1});t.push(e)}}for(let i=0;i<this.state.canvas.width;i+=e){const e=i%100===0&&0!==i?2:1,n=new l.fabric.Line([i,0,i,this.state.canvas.height],{stroke:"#F0EDED",strokeWidth:e,selectable:!1});if(t.push(n),i%100===0&&0!==i){const e=new l.fabric.Text("".concat(i),{fontFamily:"Courier New",left:i,top:0,fontSize:10,fill:"#000000",selectable:!1});t.push(e)}}const n=new l.fabric.Group(t);this.state.canvas.add(n),n.set("selectable",!1),this.gridLinesRuler=n,this.sendGridLinesBack()}},this.removeGridLines=()=>{if(this.gridLinesRuler){const{canvas:e}=this.state;e.setActiveObject(this.gridLinesRuler),e.getActiveObjects()&&(e.getActiveObjects().forEach(t=>e.remove(t)),e.discardActiveObject(),e.renderAll()),this.gridLinesRuler=null}},this.sendGridLinesBack=()=>{this.gridLinesRuler&&this.gridLinesRuler.sendToBack()},this.removeCanvas=()=>{null!=this.state.canvas&&(this.state.canvas.clear(),this.setState({canvas:null}))},this.loadCanvasFromJSON=e=>{const{canvas:t}=this.state,{setupFabricObjEventHandlers:n}=this,{onObjectSelected:i}=this,{objectsDict:r}=this;t.loadFromJSON(e,t.renderAll.bind(t),(e,t)=>{const{edID:o}=t;n(t,()=>{this.objectsDict[o]={educativeObjContent:r[o].educativeObjContent}},()=>i(t))})},this.onSelectionCleared=e=>{this.clearSelected()},this.clearSelected=()=>{this.setState({selectedReactComponentToRender:null,currentComponentEdContent:null,currentComponentEdId:null,currentFabricComponent:null})},this.onObjectModified=()=>{this.createCanvas()},this.onObjectSelected=e=>{this.setState({currentFabricComponent:e,currentComponentEdId:e.edID,currentComponentEdContent:this.objectsDict[e.edID].educativeObjContent})},this.onObjectDoubleClicked=e=>{if(null==e.target||null==e.target.edID||!1===e.isClick)return;const t=e.target;this.setState({currentFabricComponent:t,currentComponentEdId:t.edID,currentComponentEdContent:this.objectsDict[t.edID].educativeObjContent}),this.editToggleComponent()},this.removeEdComponentSvg=e=>{"SVG"!==e.type&&"CanvasText"!==e.type&&"CanvasImage"!==e.type&&"Graph"!==e.type&&"SequenceDiagrams"!==e.type&&(e.content.svg_string=null,e.content.dirty=!0)},this.cleanupComponents=e=>{null===e||void 0===e||delete e.fabricObj,this.removeEdComponentSvg(e.educativeObjContent),T(e.educativeObjContent)},this.addObjectToFabricCanvasInt=(e,t,n)=>{const{canvas:i}=this.state,{setupFabricObjEventHandlers:r}=this,{addFabricObjectToState:o}=this,{onObjectSelected:a}=this;n&&e.set({left:i.width-e.getWidth()-10,top:10}).setCoords(),r(e,()=>o(e,t),()=>a(e)),i.add(e),i.discardActiveObject(),i.renderAll(),this.setState({canvas:i})},this.uploadImageOnApi=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{locationProps:i}=r.props;let o=i.collectionId?u.u:u.o;o=i.shotId?u.x:o,o=i.editorPageId?u.w:o;let a=i.collectionId?{author_id:i.authorId,collection_id:i.collectionId,page_id:i.pageId}:i.pageId;a=i.shotId?i.shotId:a,a=i.editorPageId?i.editorPageId:a;const s=await o(a),{upload_url:l}=JSON.parse(s),{file:c}=e.content;Object(u.P)({upload_url:l,file:c}).then(o=>{const{image_id:a}=JSON.parse(o);I(Object(p.a)(i.collectionId,i.authorId||i.userId,i.pageId,a,i.shotId,i.editorPageId),i=>{"add"===t?r.addObjectToFabricCanvasInt(i,e,null):r.updateObjectOnFabricCanvasInt(i,n,e),T(e)})})},this.addObjectToFabricCanvas=t=>{if("CanvasText"===t.type)return E.default.createTextComponent(t,this.addObjectToFabricCanvasInt,null);if("CanvasImage"===t.type)return t.content.file&&this.uploadImageOnApi(t,"add"),null;if("Graph"===t.type)return j(t,e=>{this.addObjectToFabricCanvasInt(e,t),T(t)}),null;if("MxGraph"===t.type){let n;return n=t.content.path?t.content.path:"data:image/svg+xml;base64,".concat(e.from(t.content.svg_string||"").toString("base64")),I(n,e=>{this.addObjectToFabricCanvasInt(e,t),this.removeEdComponentSvg(t)}),null}let n=t.content.svg_string;"SVG"===t.type&&(n=A(n));const{addObjectToFabricCanvasInt:i}=this;return l.fabric.loadSVGFromString(n,(e,n)=>{const r=l.fabric.util.groupSVGElements(e,n);i(r,t)}),this.removeEdComponentSvg(t),null},this.updateObjectOnFabricCanvasInt=(e,t,n)=>{const{canvas:i}=this.state,{onObjectSelected:r}=this;i.remove(t),this.replicatePreviousObjectAttributes(t,e),this.setupFabricObjEventHandlers(e,()=>{this.objectsDict[e.edID]={educativeObjContent:n}},()=>r(e)),i.add(e).renderAll()},this.updateObjectOnFabricCanvas=(t,n)=>{const{updateObjectOnFabricCanvasInt:i}=this;if("CanvasText"===n.type)return E.default.createTextComponent(n,i,t);if("CanvasImage"===n.type)try{return this.uploadImageOnApi(n,"update",t),null}catch(o){console.log(o,"updateObjectOnFabricCanvas error, CanvasComponentInternal")}else{if("Graph"===n.type)return j(n,e=>{i(e,t,n),T(n)}),null;if("MxGraph"===n.type){let r;return r=n.content.path?n.content.path:"data:image/svg+xml;base64,".concat(e.from(n.content.svg_string||"").toString("base64")),I(r,e=>{i(e,t,n),this.removeEdComponentSvg(n)}),null}}let r=n.content.svg_string;return"SVG"===n.type&&(r=A(r)),l.fabric.loadSVGFromString(r,(e,r)=>{const o=l.fabric.util.groupSVGElements(e,r);i(o,t,n)}),this.removeEdComponentSvg(n),null},this.replicatePreviousObjectAttributes=(e,t)=>{t.set({angle:e.get("angle")}),t.set({left:e.left,top:e.top}).setCoords(),t.set({originX:e.get("originX")}),t.set({originY:e.get("originY")}),t.set({scaleX:e.get("scaleX")}),t.set({scaleY:e.get("scaleY")}),t.set({flipX:e.get("flipX")}),t.set({flipY:e.get("flipY")}),t.edID=e.edID},this.setupFabricObjEventHandlers=(e,t,n)=>{var i;e.on("selected",n),e.on("added",t),e.on("modified",this.onObjectModified),e.toObject=(i=e.toObject,function(){try{return l.fabric.util.object.extend(i.call(this),{edID:this.edID})}catch(e){console.log(e)}return null})},this.addFabricObjectToState=(e,t)=>{e.edID=this.state.id,this.objectsDict[e.edID]={educativeObjContent:t},this.setState({id:e.edID+1})},this.addComponent=async e=>{if(this.componentAction="add",-1!==e.indexOf("svg-")){const t=v.a((await Object(y.c)(e)).defaultVal);this.setState({currentComponentEdContent:t,selectedReactComponentToRender:null}),this.addComponentCompleteCallback(!0)}else{const t=s.fromJS((await Object(y.c)(e)).defaultVal),n={disableCaption:!0},{pageId:i,authorId:r,collectionId:a,userId:l,shotId:c,editorPageId:h}=this.props,d={pageId:i,authorId:r,collectionId:a,userId:l,shotId:c,editorPageId:h},u=o.a.createElement(k.a,Object.assign({config:n,comp:t,index:"1",key:"102"},d,{dispatch:this.props.dispatch,onEdCompnentUpdate:this.onEdCompnentUpdate,onEdCompnentCancelUpdate:this.onEdCompnentCancelUpdate}));this.setState({currentComponentEdContent:t,selectedReactComponentToRender:u}),this.showEditDialog()}},this.editToggleComponent=()=>{if(null==this.state.currentComponentEdContent)return;const{pageId:e,authorId:t,collectionId:n,userId:i,shotId:r,editorPageId:a}=this.props,l={pageId:e,authorId:t,collectionId:n,userId:i,shotId:r,editorPageId:a},{currentComponentEdContent:c}=this.state;if("CanvasImage"===c.type)c.content.image_data=this.state.currentFabricComponent.getSrc();else if("CanvasText"===this.state.currentComponentEdContent.type)c.content.text_json=JSON.stringify(this.state.currentFabricComponent);else if("MxGraph"===c.type){const{path:e}=c.content;e?this.props.dispatch(Object(u.v)(e,(e,t)=>{const n=(new XMLSerializer).serializeToString(t);c.content.svg_string=n})):c.content.svg_string=this.state.content.svg_string}const h=s.fromJS(c),d=o.a.createElement(k.a,Object.assign({key:"101",config:{disableCaption:!0},comp:h},l,{dispatch:this.props.dispatch,onEdCompnentUpdate:this.onEdCompnentUpdate,onEdCompnentCancelUpdate:this.onEdCompnentCancelUpdate}));this.componentAction="edit",this.setState({selectedReactComponentToRender:d},()=>this.showEditDialog())},this.editComponentCompleteCallback=e=>{e?this.updateObjectOnFabricCanvas(this.state.currentFabricComponent,this.state.currentComponentEdContent):this.setState({selectedReactComponentToRender:null})},this.removeComponent=()=>{const{canvas:e}=this.state,{objectsDict:t}=this;if(e.getActiveObjects())e.getActiveObjects().forEach(n=>{e.remove(n),delete t[n.edID]}),e.discardActiveObject(),e.renderAll();else if(null!=e.getActiveObjects()){const n=e.getActiveObject();e.remove(n),delete t[n.edID]}},this.onEdCompnentUpdate=e=>{this.setState({currentComponentEdContent:e},()=>{"add"===this.componentAction?this.addComponentCompleteCallback(!0):this.editComponentCompleteCallback(!0),b.a.remove()})},this.onEdCompnentCancelUpdate=()=>{b.a.remove()},this.showEditDialog=()=>{b.a.create(M,this.state.selectedReactComponentToRender,this.props.theme)},this.onWidthChange=e=>{let t=parseInt(e.target.value,10);isNaN(t)&&(t=0),this.state.content.width!==t&&(null!=this.props.config&&!0===this.props.config.canvasInAnimation&&this.props.onWidthChange(t),this.outOfBoundsPreventer.setWidth(t),this.setState(e=>({content:Object(i.a)({},e.content,{width:t})})),this.removeGridLines(),this.state.canvas.setWidth(t),this.createGridLines())},this.onHeightChange=e=>{let t=parseInt(e.target.value,10);isNaN(t)&&(t=0),this.state.content.height!==t&&(null!=this.props.config&&!0===this.props.config.canvasInAnimation&&this.props.onHeightChange(t),this.outOfBoundsPreventer.setHeight(t),this.setState(e=>({content:Object(i.a)({},e.content,{height:t})})),this.removeGridLines(),this.state.canvas.setHeight(t),this.createGridLines())},this.bringToFront=()=>{const{canvas:e}=this.state;if(e.getActiveObjects())e.getActiveObjects().forEach(t=>e.bringToFront(t));else if(null!=e.getActiveObject()){const t=e.getActiveObject();e.bringToFront(t)}},this.sendToBack=()=>{const{canvas:e}=this.state;if(e.getActiveObjects())e.getActiveObjects().forEach(t=>e.sendToBack(t));else if(null!=e.getActiveObject()){const t=e.getActiveObject();e.sendToBack(t)}this.sendGridLinesBack()},this.testSerialization=()=>{const e=JSON.stringify(this.state.canvas);this.state.canvas.clear();const{canvas:t}=this.state;alert("123");const{setupFabricObjEventHandlers:n}=this,{onObjectSelected:i}=this,{objectsDict:r}=this;t.loadFromJSON(e,t.renderAll.bind(t),(e,t)=>{const{edID:o}=t;n(t,()=>{this.objectsDict[o]={educativeObjContent:r[o].educativeObjContent}},()=>i(t))})},this.onCaptionChange=e=>{const{content:t}=this.state;t.caption=e},this.onComponentHeightChange=e=>{if(this.state.currentFabricComponent){let t=parseFloat(e.target.value);const n=this.state.currentFabricComponent.height*this.state.currentFabricComponent.scaleY;if(Math.abs(t-n)<.01)return;isNaN(t)&&(t=n),this.state.currentFabricComponent.scaleToHeight(t.toFixed(2)),this.state.currentFabricComponent.setCoords()}this.createCanvas()},this.onComponentWidthChange=e=>{if(this.state.currentFabricComponent){let t=parseFloat(e.target.value);const n=this.state.currentFabricComponent.width*this.state.currentFabricComponent.scaleX;if(Math.abs(t-n)<.01)return;isNaN(t)&&(t=n),this.state.currentFabricComponent.scaleToWidth(t.toFixed(2)),this.state.currentFabricComponent.setCoords()}this.createCanvas()},this.onComponentXChange=e=>{if(this.state.currentFabricComponent){let t=parseInt(e.target.value,10);isNaN(t)&&(t=parseInt(this.state.currentFabricComponent.left,10)),this.state.currentFabricComponent.set({left:t})}this.createCanvas()},this.onComponentYChange=e=>{if(this.state.currentFabricComponent){let t=parseInt(e.target.value,10);isNaN(t)&&(t=parseInt(this.state.currentFabricComponent.top,10)),this.state.currentFabricComponent.set({top:t}),this.state.currentFabricComponent.setCoords()}this.createCanvas()},this.onComponentAngleChange=e=>{if(this.state.currentFabricComponent){let t=parseInt(e.target.value,10);isNaN(t)&&(t=parseInt(this.state.currentFabricComponent.angle,10)),this.state.currentFabricComponent.set({angle:t}),this.state.currentFabricComponent.setCoords()}this.createCanvas()},this.onComponentScaleChange=e=>{if("NA"===e.target.value)return;let t=parseFloat(e.target.value);isNaN(t)&&(t=100),t=(t/100).toFixed(2),this.state.currentFabricComponent&&this.state.currentFabricComponent.scale(t),this.createCanvas()},this.centerComponent=()=>{this.state.currentFabricComponent&&(this.state.currentFabricComponent.center(),this.state.currentFabricComponent.setCoords()),this.createCanvas()},this.centerComponentHorizontal=()=>{this.state.currentFabricComponent&&(this.state.currentFabricComponent.centerH(),this.state.currentFabricComponent.setCoords()),this.createCanvas()},this.centerComponentVertical=()=>{this.state.currentFabricComponent&&(this.state.currentFabricComponent.centerV(),this.state.currentFabricComponent.setCoords()),this.createCanvas()},this.setDuplicatedComponentPosition=e=>{e.set("top",e.top+20).set("left",e.left+20).setCoords()},this.duplicateComponent=()=>{if(this.state.currentFabricComponent){const{canvas:e}=this.state;if(e.getActiveObject()){const t=v.a(this.state.currentComponentEdContent),{addObjectToFabricCanvasInt:n}=this,{setDuplicatedComponentPosition:i}=this;e.getActiveObject().clone(e=>{i(e),n(e,t,!1)})}this.clearSelected()}},this.objectsDict=this.props.content.objectsDict,this.state={id:g.a.getKey(),content:this.props.content,canvas:null,selectedReactComponentToRender:null,currentComponentEdContent:null,currentComponentEdId:null,currentFabricComponent:null}}componentDidMount(){this.createCanvas()}componentDidUpdate(){this.createCanvas()}componentWillUnmount(){this.removeCanvas()}addComponentCompleteCallback(e){e?(this.addObjectToFabricCanvas(this.state.currentComponentEdContent),this.clearSelected()):this.setState({selectedReactComponentToRender:null})}render(){const{connectDropTarget:e,shotId:t,isFullscreen:n}=this.props;let i="";this.props.content.caption&&(i=this.props.content.caption);const r=o.a.createElement(m.a,{caption:i,hookOnChangeEvent:!0,onCaptionChange:this.onCaptionChange,readOnly:!1}),a=this.state.content.height>400?this.state.content.height:400,s={currentFabricComponent:this.state.currentFabricComponent,onComponentHeightChange:this.onComponentHeightChange,onComponentWidthChange:this.onComponentWidthChange,onComponentXChange:this.onComponentXChange,onComponentYChange:this.onComponentYChange,onComponentAngleChange:this.onComponentAngleChange,onComponentScaleChange:this.onComponentScaleChange,centerComponent:this.centerComponent,centerComponentHorizontal:this.centerComponentHorizontal,centerComponentVertical:this.centerComponentVertical,duplicateComponent:this.duplicateComponent,onWidthChange:this.onWidthChange,onHeightChange:this.onHeightChange,bringToFront:this.bringToFront,sendToBack:this.sendToBack,editToggleComponent:this.editToggleComponent,removeComponent:this.removeComponent,switchGridLines:this.switchGridLines,mode:this.props.mode,canvasWidth:this.props.content.width,canvasHeight:this.props.content.height};return o.a.createElement(S.a,null,o.a.createElement(C.a,s),o.a.createElement(S.c,{style:{height:a}},o.a.createElement(S.b,{shotId:t,isFullscreen:n},o.a.createElement(x.a,null),e(o.a.createElement("div",{key:"canvas-wrapper-edit",className:"canvas-wrapper",style:{paddingTop:"0px"}},o.a.createElement("canvas",{ref:this.sceneRef}))),o.a.createElement("div",{className:"svg-edit-dialog",style:{display:"none"}})),o.a.createElement(w.a,{addComponent:this.addComponent})),o.a.createElement("div",{style:{paddingTop:25,paddingBottom:5}},r))}}t.default=Object(a.DropTarget)("CANVASCOMP",O,(e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}))(Object(d.a)(P));class M extends r.PureComponent{constructor(){super(...arguments),this.open=()=>{var e,t,n,i,r;null===this||void 0===this||null===(e=this.modalDgRef)||void 0===e||null===(t=e.current)||void 0===t||null===(n=t.modalRef)||void 0===n||null===(i=n.current)||void 0===i||null===(r=i.open)||void 0===r||r.call(i)},this.modalDgRef=o.a.createRef()}render(){return o.a.createElement(_.a,{ref:this.modalDgRef},this.props.componentToRender)}}}.call(this,n(1729).Buffer)},1990:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"i",(function(){return v}));var i=n(1),r=n(5),o=n(18),a=n(21),s=n(12);const l=i.d.div.attrs({className:"edcomp-toolbar"}).withConfig({displayName:"styles__CanvasMainMenu",componentId:"x9ntuy-0"})(["display:block;padding:5px 10px;background-color:",";margin-bottom:10px;.b-some-with-icon-icon{vertical-align:baseline;}.table-icon{transition:0.2s;width:18px;height:18px;fill:",";margin-top:7px;cursor:pointer;&:hover{fill:"," !important;}}.arrow-up-icon,.arrow-down-icon,.horizontal-align-icon,.vertical-align-icon,.both-align-icon,.clone-icon,.thin-trash-icon,.edit-icon,.repeat-icon{transition:0.2s;width:18px;height:18px;fill:",";cursor:pointer;&:hover{fill:"," !important;}}.grid-icon{transition:0.2s;width:18px;height:18px;stroke:",";fill:transparent;cursor:pointer;margin-top:5px;&:hover{stroke:"," !important;}}.b-btn{padding:4px 6px;&:hover{.table-icon,.arrow-up-icon,.arrow-down-icon,.horizontal-align-icon,.vertical-align-icon,.both-align-icon,.clone-icon,.thin-trash-icon,.edit-icon,.repeat-icon{fill:",";}}&:focus{outline:none;.align-icon,.fa{opacity:1;}}}.fa{font-size:",";}.form-control{margin-left:5px;width:60px;display:inline-block;padding:3px;border-radius:",";}.align-icon{width:18px;height:18px;}.align-icon,.fa{color:",";transition:opacity 0.2s;opacity:0.5;&:hover{opacity:1;}}"],e=>{let{theme:t}=e;return t.palette.grey[100]},e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.grey.A400},s.a.h4,o.v,e=>{let{theme:t}=e;return t.palette.grey[600]}),c=i.d.div.withConfig({displayName:"styles__CanvasMainMenu_Row",componentId:"x9ntuy-1"})(["overflow:hidden;padding:5px 0;&:first-child{padding-top:0;}&:last-child{padding-bottom:0;border-bottom:none;}"]),h=i.d.div.withConfig({displayName:"styles__CanvasMainMenu_RowTitle",componentId:"x9ntuy-2"})(["text-transform:uppercase;display:inline-block;margin-right:10px;min-width:70px;"]),d=i.d.label.attrs({className:"form-label"}).withConfig({displayName:"styles__CanvasMainMenu_Label",componentId:"x9ntuy-3"})(["font-weight:",";cursor:pointer;margin:0 8px 0 0;"],a.f),u=i.d.div.withConfig({displayName:"styles__CanvasComponentInternal",componentId:"x9ntuy-4"})(["display:block;"]),p=i.d.div.withConfig({displayName:"styles__CanvasComponentInternal_Main",componentId:"x9ntuy-5"})(["display:flex;height:100%;@media (max-width:","){height:auto !important;}"],r.m.pixels),f=i.d.div.withConfig({displayName:"styles__CanvasComponentInternal_Canvas",componentId:"x9ntuy-6"})(["",""],e=>{let{shotId:t,isFullscreen:n}=e;return t&&!n?Object(i.c)(["display:flex;flex-basis:100%;flex-direction:column;flex:1;margin-right:10px;max-width:500px;"]):Object(i.c)(["display:flex;flex-basis:100%;flex-direction:column;flex:1;margin-right:10px;"])}),m=i.d.div.withConfig({displayName:"styles__CanvasComponentWidgetItemStyled",componentId:"x9ntuy-7"})(["display:flex;cursor:pointer;flex-direction:column;align-items:center;color:",";justify-content:center;height:60px;border:1px solid ",";width:100%;border-radius:",";transition:0.2s;&:hover{background:",";}svg{stroke:",";height:18px;width:18px;}.header-icon,.code-icon,.question-icon,.paint-brush-icon,.table-icon,.screen-icon,.font-icon{width:22px;height:22px;fill:",";}.list-icon{width:22px;height:22px;fill:yellow;transform:rotate(90deg);}.text,.b-some-with-icon-text{font-size:",";text-transform:capitalize;text-align:center;margin-top:7px;}.text{line-height:120%;white-space:nowrap;}"],e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.primary.lightP2},o.b,e=>{let{theme:t}=e;return t.palette.grey[100]},e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.common.black},s.a.textMedium),g=i.d.div.withConfig({displayName:"styles__CanvasWidgetPanelStyled",componentId:"x9ntuy-8"})(["display:flex;flex-direction:column;max-width:175px;height:100%;.b-search-component{padding:0;margin-bottom:10px;.form-control{height:30px;font-size:",";padding:3px;}.b-btn{width:30px;height:30px;padding:4px;svg{height:17px;}}}"],s.a.textLarge),v=i.d.ul.withConfig({displayName:"styles__CanvasWidgetPanelList",componentId:"x9ntuy-9"})(["margin:0;padding:0;list-style:none;display:flex;height:360px;align-items:flex-end;flex-direction:row;flex-wrap:wrap;li{display:inline-flex;width:50%;}"])},1992:function(e,t,n){"use strict";var i=n(14),r=n(0),o=n.n(r),a=n(2365),s=n(485),l=n(648),c=n(30),h=n(153),d=n(529),u=n(28),p=n(838),f=n(31),m=n(83),g=n(35),v=n(486),b=n(330),y=n(334);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var w=o.a.createElement("path",{d:"M1664 256v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39 14-69l138-138q-148-137-349-137-104 0-198.5 40.5t-163.5 109.5-109.5 163.5-40.5 198.5 40.5 198.5 109.5 163.5 163.5 109.5 198.5 40.5q119 0 225-52t179-147q7-10 23-12 14 0 25 9l137 138q9 8 9.5 20.5t-7.5 22.5q-109 132-264 204.5t-327 72.5q-156 0-298-61t-245-164-164-245-61-298 61-298 164-245 245-164 298-61q147 0 284.5 55.5t244.5 156.5l130-129q29-31 70-14 39 17 39 59z"});const C=e=>{let{svgRef:t,title:n}=e,i=x(e,["svgRef","title"]);return o.a.createElement("svg",_({className:"repeat-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?o.a.createElement("title",null,n):null,w)},S=o.a.forwardRef((e,t)=>o.a.createElement(C,_({svgRef:t},e)));n.p;var E=n(1958),k=n.n(E),O=n(1);const T={EdCanvasDraw:O.d.div.withConfig({displayName:"styles__EdCanvasDraw",componentId:"sc-1n6l9lu-0"})([".repeat-icon{fill:grey;width:14px;height:14px;}"])};function A(e,t){e.circle(2*t.radius).attr({fill:t.fill,"fill-opacity":t.fill_opacity,stroke:t.stroke,"stroke-opacity":t.stroke_opacity,"stroke-width":t.stroke_width,cx:t.cx,cy:t.cy})}function I(e,t){e.rect(t.width,t.height).attr({fill:t.fill,"fill-opacity":t.fill_opacity,stroke:t.stroke,"stroke-opacity":t.stroke_opacity,"stroke-width":t.stroke_width,x:t.x,y:t.y})}function j(e,t){e.ellipse(2*t.rx,2*t.ry).attr({fill:t.fill,"fill-opacity":t.fill_opacity,stroke:t.stroke,"stroke-opacity":t.stroke_opacity,"stroke-width":t.stroke_width,cx:t.cx,cy:t.cy})}function P(e,t){e.line(t.x1,t.y1,t.x2,t.y2).attr({stroke:t.stroke,"stroke-opacity":t.stroke_opacity,"stroke-width":t.stroke_width,x:t.x,y:t.y})}function M(e,t){e.polygon(t.points).attr({fill:t.fill,"fill-opacity":t.fill_opacity,stroke:t.stroke,"stroke-opacity":t.stroke_opacity,"stroke-width":t.stroke_width})}function R(e){console.log(e.svg())}class D extends r.Component{constructor(){super(...arguments),this.draw_surface=null,this.state={current_shape:0,reset:!1,timer:null},this.svgRenderAreaRef=o.a.createRef(),this.handleReset=()=>{this.state.timer&&clearTimeout(this.state.timer),this.draw_surface.clear(),this.setState({timer:null,reset:!1,current_shape:0},this.drawCurrentShape)},this.initializeSVG=()=>{const e=this.svgRenderAreaRef.current;this.draw_surface=k()(e).spof();const t=this.draw_surface;k.a.on(window,"resize",()=>t.spof()),e.style["max-width"]="".concat(this.props.animation.width,"px"),e.style["max-height"]="".concat(this.props.animation.height,"px"),this.draw_surface.viewbox(0,0,this.props.animation.width,this.props.animation.height),this.drawCurrentShape()},this.createSVGFromJSON=(e,t,n,i)=>{let r=n;for(;r<t.length;r++)switch(t[r].type){case"circle":A(e,t[r]);break;case"rect":I(e,t[r]);break;case"line":P(e,t[r]);break;case"ellipse":j(e,t[r]);break;case"polygon":M(e,t[r]);break;case"printSVG":R(e);break;case"wait":{const{interval:e}=t[r];this.setState({current_shape:r+1},(function(){this.setState({timer:setTimeout(this.drawCurrentShape,e)})}))}return;case"clear":e.clear(),e.viewbox(0,0,this.props.animation.width,this.props.animation.height);break;default:console.error("invalid shape found")}r===t.length&&i&&this.setState({current_shape:0},(function(){this.setState({timer:setTimeout(this.handleReset,1e3)})}))},this.drawCurrentShape=()=>{this.createSVGFromJSON(this.draw_surface,this.props.animation.shapes,this.state.current_shape,this.props.animation.repeat)}}componentDidMount(){this.initializeSVG()}componentDidUpdate(){this.state.reset&&this.handleReset()}render(){return o.a.createElement(T.EdCanvasDraw,null,o.a.createElement(y.a,{small:!0,default:!0,link:!0,onClick:this.handleReset,style:{float:"right"}},o.a.createElement(b.a,{icon:o.a.createElement(S,null)})),o.a.createElement("div",{ref:this.svgRenderAreaRef}))}}var L=n(1795),N=n(1510),B=n(1512),F=n(1068),z=n(531),H=n(816),U={downloadFile(e){const t=document.createElement("a"),n=e.currentTarget.id,i=n.lastIndexOf("/"),r=n.substr(i+1);t.download=r,t.href=n,document.body.appendChild(t),t.click(),document.body.removeChild(t)},checkImageExt:e=>["png","jpeg","gif"].includes(e)},q=n(1774),W=n(20),V=n(1528),G=n(146),K=n(18);const Y=Object(O.c)(["margin-left:18px;box-shadow:0px 0px 9px ",";:first-child{margin-left:0px;}:hover,:focus{box-shadow:0px 0px 12px ",";}"],e=>{let{theme:t}=e;return t.palette.alphas.black2},e=>{let{theme:t}=e;return t.palette.alphas.black2}),X=O.d.div.withConfig({displayName:"styles__LoadableChartStyled",componentId:"sujcll-0"})(["margin-bottom:10px;padding:10px 0;border:1px solid ",";border-radius:",";"],e=>{let{theme:t}=e;return t.palette.grey[400]},K.m),J=O.d.div.withConfig({displayName:"styles__ButtonsWrap",componentId:"sujcll-1"})(["display:flex;align-items:center;justify-content:center;"]),$=Object(O.d)(G.a).attrs({children:o.a.createElement(B.a,{size:22,"aria-label":"previous slide"})}).withConfig({displayName:"styles__Left",componentId:"sujcll-2"})(["",";"],Y),Z=Object(O.d)(G.a).attrs({children:o.a.createElement(N.a,{size:22,"aria-label":"next slide"})}).withConfig({displayName:"styles__Right",componentId:"sujcll-3"})(["",";"],Y);var Q=X,ee=n(150);class te extends r.Component{constructor(){super(...arguments),this.state={index:0,loaded:!1,charts:[]},this.previousChart=()=>{const{index:e}=this.state;e-1>=0&&this.setState({index:e-1})},this.nextChart=()=>{const{index:e,charts:t}=this.state;e+1<t.length&&this.setState({index:e+1})}}componentDidMount(){const{url:e}=this.props;Object(W.a)({url:e,type:"GET"},!0).then(e=>{const t=e.data;this.setState({charts:t,loaded:!0})}).catch(e=>{Object(ee.b)(e)})}generateChart(){const{loaded:e,charts:t,index:n}=this.state;if(e){const e=t.length?t[n]:null,i={config:JSON.stringify(e),type:e.type||"scatter3d"};return e?o.a.createElement(Q,null,o.a.createElement(V.default,{showBorder:!1,content:i,mode:"view"}),t.length&&o.a.createElement(J,null,o.a.createElement($,{onClick:this.previousChart,disabled:0===n}),o.a.createElement(Z,{onClick:this.nextChart,disabled:n===t.length-1}))):o.a.createElement("div",null,"Invalid Chart Data")}return o.a.createElement("div",null,"Loading Chart Data...")}render(){return this.generateChart()}}var ne=n(244),ie=n(12);const re={DownloadButton:O.d.button.withConfig({displayName:"styles__DownloadButton",componentId:"sc-9z9aq2-0"})(["font-family:Monaco,Menlo,Consolas,'Courier New',monospace;font-size:",";padding:15px;margin-top:30px;color:",";border:none;background-color:",";"],ie.a.textLarge,e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.success.darkN1}),DownloadButtonCenter:O.d.div.withConfig({displayName:"styles__DownloadButtonCenter",componentId:"sc-9z9aq2-1"})(["text-align:center;margin-top:19px;margin-bottom:50px;"]),ExecutionFile:O.d.div.withConfig({displayName:"styles__ExecutionFile",componentId:"sc-9z9aq2-2"})(["font-family:Monaco,Menlo,Consolas,'Courier New',monospace;font-size:",";color:",";"],ie.a.textMedium,e=>{let{theme:t}=e;return t.palette.common.black})};class oe extends r.Component{constructor(e){super(e),U.downloadFile=U.downloadFile.bind(this)}render(){const{activeIndex:e,direction:t,handleSelect:n,executionResult:i,execResultDiv:r}=this.props;let a=null;const s=i.output_files.files.map((e,t)=>{const n=e.substr(e.indexOf(".")+1);if(a="".concat(i.output_files.rootPath,"/").concat(e),U.checkImageExt(n))return o.a.createElement(F.a.Item,{key:t},o.a.createElement("div",null,o.a.createElement(re.ExecutionFile,null,o.a.createElement(q.a,{imageSrc:a,customStyle:{display:"block",margin:"auto",width:"23%",textAlign:"center",cursor:"zoom-in",height:"150px"},alt:"carousel widget"}))));if("__ed_chart.json"===e){const n="".concat(i.output_files.rootPath,"/").concat(e);return o.a.createElement(F.a.Item,{key:t},o.a.createElement(te,{url:n}))}return o.a.createElement(F.a.Item,{key:t},o.a.createElement(re.DownloadButtonCenter,null,o.a.createElement(re.DownloadButton,{id:a,onClick:U.downloadFile},o.a.createElement(z.a,{icon:H.e}),e," ")))});return o.a.createElement(ne.d,{className:"carousel_style mb_right0",activeIndex:e,direction:t,onSelect:n,wrap:!1,nextIcon:o.a.createElement(N.a,{size:24}),prevIcon:o.a.createElement(B.a,{size:24})},s,o.a.createElement(F.a.Item,null,r))}}var ae=n(676),se=n(1817),le=n(1658),ce=n(1656),he=n(303),de=n(414),ue=n(1881);const pe={junit5:{handler:e=>fe(e)}},fe=e=>{const t=e.junit5_results;if(0===t.length)return null;const n=[{name:"suite",desc:"Test Suite"},{name:"name",desc:"Test Name"},{name:"reason",desc:"Reason"}],i=n.map((e,n)=>{var i;return(null===(i=t[0])||void 0===i?void 0:i[e.name])?o.a.createElement("th",null,e.desc):null}),r=t.map((e,t)=>{const i=n.map((t,n)=>{const i=null===e||void 0===e?void 0:e[t.name];return i?o.a.createElement("td",null,me(i)):null});return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.succeeded?o.a.createElement(ne.a,null):o.a.createElement(ne.k,null)),i)}),a=o.a.createElement(le.a,{responsive:!0,bordered:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Result"),i)),o.a.createElement("tbody",null,r));return o.a.createElement(ue.g,null,a)},me=e=>e&&he.a.isString(e)?e.length>40?o.a.createElement(ce.a,{rootClose:!0,placement:"top",trigger:"click",overlay:ge(e)},o.a.createElement("span",{style:{cursor:"pointer"}},e.substring(0,40),o.a.createElement(z.a,{icon:H.f,style:{padding:"0 5px 0 5px",borderRadius:"6px",float:"right"}}))):e:null,ge=e=>o.a.createElement(ue.c,{id:Object(de.a)()},o.a.createElement("span",null,e));var ve=n(1499),be=n(530),ye=n(649);const _e={CodeSelectForm:Object(O.d)(ye.a).withConfig({displayName:"styles__CodeSelectForm",componentId:"mc2yuq-0"})(["display:inline-block;width:125px;font-size:",";margin-left:5px;border:1px solid ",";color:",";> select{display:inline;font-size:",";border:1px solid;height:24px;}:focus{border-color:"," !important;}"],ie.a.textLarge,e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{theme:t}=e;return t.palette.primary.main},ie.a.textLarge,e=>{let{theme:t}=e;return t.palette.grey[300]})};class xe extends r.Component{constructor(){super(...arguments),this.handleCodeChange=e=>{let t=this.props.hiddenCodeContent;t="prependCode"===t.codeSelection?Object(i.a)({},t,{prependCode:e}):Object(i.a)({},t,{appendCode:e}),this.props.onHiddenCodeContentChange(t,!1)},this.handleCodeSelectionChange=e=>{let t=this.props.hiddenCodeContent;this.props.onHiddenCodeContentChange(Object(i.a)({},t,{codeSelection:e.target.value}),!0)}}render(){const{prependCode:e,appendCode:t,codeSelection:n}=this.props.hiddenCodeContent,i={content:"prependCode"===n?e:t,language:this.props.language,theme:this.props.codeTheme,entryFileName:this.props.entryFileName};return o.a.createElement("div",null,o.a.createElement("div",{style:{paddingTop:5,paddingBottom:10}},o.a.createElement(ce.a,{placement:"top",overlay:(r=" We will prepend and append the hidden codes to the above code while executing.",o.a.createElement(ve.a,{id:r},r))},o.a.createElement("i",null,"Hidden code goes here.")),o.a.createElement(_e.CodeSelectForm,{componentClass:"select",value:n,onChange:this.handleCodeSelectionChange},o.a.createElement("option",{value:"prependCode"},"Prepend"),o.a.createElement("option",{value:"appendCode"},"Append"))),o.a.createElement("div",{style:{marginBottom:20},className:"cmcomp-single-editor-container"},o.a.createElement(be.a,{key:"editor",codeContent:i,readOnly:!1,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.handleCodeChange})));var r}}const we=Object(c.b)(e=>{let{ajaxMode:{enabled:t}}=e;return{isDemo:!t}});class Ce extends r.Component{constructor(){var e;super(...arguments),e=this,this.state={executionInProgress:!1,enableStdin:!1,executionComplete:!1,executionResult:null,outputExpanded:this.props.specialInput===m.e,isOpen:!1,fullImage:null,index:0,direction:null},this.handleExpandCollapse=()=>{this.setState({outputExpanded:!this.state.outputExpanded})},this.onExecutionSuccess=e=>{var t;this.props.logWidgetInteraction({tab_index:this.props.tab_index,code_widget_type:"runnable",status:e.status,reason:e.reason}),this.props.renderReplacementWrapper(),this.props.renderExtractionWrapper(null===e||void 0===e?void 0:null===(t=e.transformedResult)||void 0===t?void 0:t.apiKeys),this.setState({executionSuccessful:!0,executionResult:this.props.executionConfig.transformOutput?e.transformedResult:e})},this.onExecutionFailure=e=>{this.props.logWidgetInteraction({tab_index:this.props.tab_index,code_widget_type:"runnable",status:500,reason:"Execution Failed"}),this.setState({executionSuccessful:!1,executionResult:e})},this.onExecutionStart=()=>{this.setState({executionInProgress:!this.state.executionInProgress,executionComplete:!1,outputExpanded:!0,index:0})},this.onExecutionDone=()=>{this.setState({executionInProgress:!1,executionComplete:!0})},this.handleRun=e=>{e.stopPropagation();const{specialInputData:t}=this.props.executionConfig;if([m.b,m.f].includes(this.props.specialInput)){let e="";this.props.specialInput===m.b?e=f.f:this.props.specialInput===m.f&&(e=f.C),this.props.dispatch(Object(u.b)(e,{imageData:t,isEditMode:"edit"===this.props.mode,updateSpecialInputData:this.props.updateSpecialInputData,continue:this.handleActualRun}))}else this.handleActualRun()},this.handleActualRun=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.executionConfig.sourceCode;arguments.length>1&&arguments[1];const n={authorId:e.props.authorId,collectionId:e.props.collectionId,pageId:e.props.pageId,isDraft:e.props.isDraft};Object(p.a)(Object(i.a)({},e.props.executionConfig,{sourceCode:t}),n,e.onExecutionSuccess,e.onExecutionFailure,e.onExecutionStart,e.onExecutionDone)},this.handleStdinEnable=()=>{this.setState({enableStdin:!this.state.enableStdin,outputExpanded:!0},()=>{this.props.handleStdinChange({target:{value:""}})})},this.handleSelect=(e,t)=>{this.setState({index:e,direction:null===t||void 0===t?void 0:t.direction})}}componentDidUpdate(e){this.props.specialInput===m.e&&e.specialInput!==this.props.specialInput&&this.setState({outputExpanded:!0})}render(){const{executionComplete:e,executionResult:t}=this.state,{additionalFilesLimit:n,entryFileLimit:i}=this.props;if(this.props.isDemo)return o.a.createElement("div",{style:{textAlign:"center"}},"Code Execution not available in demo mode");let r=null,c=null;if(e&&t){let e=null;if(t.rendered_output&&"ed_canvas_draw"===t.rendered_output.type){const n=JSON.parse(t.rendered_output.data);e=o.a.createElement(D,{animation:n})}if(null===t||void 0===t?void 0:t.special_output){const n=pe[this.props.executionConfig.language];n&&(e=n.handler(t))}this.props.treatOutputAsHTML,t.output_files?(c=o.a.createElement(ae.a,{rendered_output:e,executionResult:t,treatOutputAsHTML:this.props.treatOutputAsHTML}),r=o.a.createElement(oe,{activeIndex:this.state.index,direction:this.state.direction,handleSelect:this.handleSelect,executionResult:t,execResultDiv:c})):r=o.a.createElement(ae.a,{rendered_output:e,executionResult:t,treatOutputAsHTML:this.props.treatOutputAsHTML})}let h=null;var u;"edit"===this.props.mode&&this.props.enableHiddenCode&&(h=o.a.createElement(xe,{hiddenCodeContent:this.props.hiddenCodeContent,onHiddenCodeContentChange:this.props.onHiddenCodeContentChange,onlyCodeChanged:this.props.onlyCodeChanged,language:Object.keys(null!==(u=this.props.executionConfig.dockerExecutionContext)&&void 0!==u?u:{}).length>0?"":this.props.executionConfig.language,entryFileName:this.props.executionConfig.entryFileName,codeTheme:this.props.codeTheme}));const p=n<0,f=i<0;return o.a.createElement(se.l,null,h,o.a.createElement("div",null,o.a.createElement(se.a,null,o.a.createElement(se.f,null,o.a.createElement(L.a,{onClick:this.handleRun,executionDisabled:p||f||this.props.editingApiKeys}),this.props.enableStdin&&this.props.specialInput!==m.e&&o.a.createElement(se.i,{onClick:this.handleStdinEnable},o.a.createElement(a.a,{size:20}),o.a.createElement("span",null,"STDIN")),p&&o.a.createElement(se.c,null,"".concat(-1*n," character(s) over limit (Max: ").concat(g.w,"KB)"),"edit"===this.props.mode&&o.a.createElement("span",null,". Consider using the"," ",o.a.createElement(se.d,{to:v.a.AUTHOR_GUIDE,target:"_new"},"code execution resource file."))),f&&!p&&o.a.createElement(se.c,null,"".concat(-1*i," character(s) over limit in first file. (Max: ").concat(g.x,"KB)"),"edit"===this.props.mode&&o.a.createElement("span",null," . Consider creating a new file."))),o.a.createElement(se.f,null,this.props.additionalActions,this.props.fullscreenIconToggle({onClick:this.props.toggleFullScreen}))),o.a.createElement(s.a,null,this.state.outputExpanded&&o.a.createElement(l.a,{classNames:"runnable",timeout:500},o.a.createElement(se.h,{isRunnable:!0},o.a.createElement(se.e,{onClick:this.handleExpandCollapse}),"edit"===this.props.mode&&this.props.specialInput===m.e&&o.a.createElement(se.k,null,"The text entered below will be saved in file",o.a.createElement("strong",null," __ed_input.txt ")),(this.props.enableStdin&&this.state.enableStdin||this.props.specialInput===m.e)&&o.a.createElement(se.j,{componentClass:"textarea",type:"textarea",value:this.props.executionConfig.stdin,placeholder:this.props.specialInput===m.e?"Enter text here":"stdin",onChange:this.props.handleStdinChange}),this.state.executionInProgress&&o.a.createElement(d.a,{statusData:{status:"WAIT",text:"Code Execution In Progress"}}),r||!this.state.executionInProgress&&"Press Run To Execute")))))}}Ce.defaultProps={inEditor:!1,additionalContent:[],logWidgetInteraction:()=>null,tab_index:null,renderExtractionWrapper:()=>null,renderReplacementWrapper:()=>null,editingApiKeys:!1};t.a=Object(h.f)(we(Ce))},1993:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(14),a=n(651),s=n(424),l=n(27),c=n(1846),h=n(1656),d=n(652),u=n(330),p=n(1819),f=n(1998),m=n(253),g=n(650);class v extends i.Component{constructor(){super(...arguments),this.onFilenameChange=e=>{this.props.onFilenameChange(e,this.props.index)}}render(){const e=this.props,{selected:t,index:n}=e,i=Object(l.a)(e,["selected","index"]),s=this.props,{onTabSelect:c,onRemoveTab:g,draggingIndex:v,updateState:b,onFilenameChange:y}=s,_=Object(l.a)(s,["onTabSelect","onRemoveTab","draggingIndex","updateState","onFilenameChange"]),{fileName:x,staticFile:w,defaultFile:C}=this.props.children;let S={display:"inherit"},E={float:"right",background:"transparent",transition:"0.2s",outline:"none"};return(t&&i.draggable||!i.draggable&&t&&0===n)&&(S=Object(o.a)({},S,{borderLeft:"4px solid ".concat(this.props.theme.palette.primary.main),color:"".concat(this.props.theme.palette.primary.main),background:"".concat(this.props.theme.palette.primary.lightP2)}),E=Object(o.a)({},E,{background:"transparent"})),r.a.createElement(h.a,{placement:"top",overlay:Object(d.a)(r.a.createElement("div",{style:{wordBreak:"break-all"}},x))},r.a.createElement("div",Object.assign({},_,{onClick:()=>c(n),style:{display:"flex"}}),r.a.createElement(a.l,{style:S},w?x:r.a.createElement(f.a,{content:x,onValueChange:this.onFilenameChange,maxLength:255}),!w&&!C&&r.a.createElement(m.a,{popoverTitle:"Permanently delete this file?",handleConfirm:()=>g(n),hideOnConfirm:!0,danger:!0},r.a.createElement("button",{className:"cmcomp-glyphicon-remove",style:E},r.a.createElement(u.a,{icon:r.a.createElement(p.a,null)}))))))}}var b=Object(c.sortable)(Object(g.a)(v)),y=n(530);class _ extends i.Component{constructor(){super(...arguments),this.state={mode:"view"},this.editorRef=r.a.createRef(),this.gotoEdit=()=>{this.setState({mode:"edit"})},this.handleKeyUp=e=>{"Enter"===e.key?this.updateValue():"Escape"===e.key&&this.gotoView()},this.updateValue=()=>{if(!this.editorRef.current)return;const e=this.editorRef.current.value.trim();this.gotoView();const t={content:"",fileName:e,hidden:!1,highlightedLines:"",staticFile:!1};this.props.onAddCodeFile(t)}}componentDidUpdate(){"edit"===this.state.mode&&this.editorRef.current&&this.editorRef.current.select()}gotoView(){this.setState({mode:"view"})}render(){return"edit"===this.state.mode?r.a.createElement("div",{className:"cmcomp-edit-text"},r.a.createElement(a.k,{id:"AddFileNameInput",ref:this.editorRef,type:"text",maxLength:"255",placeholder:"Add file name",defaultValue:"",onKeyUp:this.handleKeyUp,onBlur:this.updateValue})):r.a.createElement("div",{className:"cmcomp-edit-text"},r.a.createElement(a.j,{onClick:this.gotoEdit,small:!0},"Add File"))}}var x=n(133),w=n.n(x);class C extends i.Component{constructor(){super(...arguments),this.state={draggingIndex:null},this.onAddCodeFile=e=>{const t=Object(o.a)({},e,{fileName:e.fileName.replace(/\s+/g,"")});if(this.isValidFilename(t.fileName)){const e=w()(this.props.codeContent.additionalContent,{$unshift:[t]});this.props.handleMultiChange({selectedIndex:1,additionalContent:e,onlyCodeChanged:!1})}},this.onRemoveTab=e=>{const t=w()(this.props.codeContent.additionalContent,{$splice:[[e,1]]});this.props.handleMultiChange({additionalContent:t,selectedIndex:0,onlyCodeChanged:!1})},this.onFilenameChange=(e,t)=>{const n=e.replace(/\s+/g,"");if(this.isValidFilename(n)){const e=w()(this.props.codeContent.additionalContent,{[t]:{fileName:{$set:n}}});this.props.handleMultiChange({additionalContent:e})}},this.onDefaultFileNameChange=e=>{const t=e.replace(/\s+/g,"");if(this.isValidFilename(t)){const t=e;this.props.handleMultiChange({entryFileName:t})}},this.onUpdateTabsOrder=e=>{let t=null;({}).hasOwnProperty.call(e,"draggingIndex")&&(t=e.draggingIndex),{}.hasOwnProperty.call(e,"items")&&this.props.handleMultiChange({additionalContent:e.items,selectedIndex:isNaN(t)?this.props.codeContent.selectedIndex:t+1,onlyCodeChanged:!1}),this.setState({draggingIndex:e.draggingIndex})},this.onDefaultTabSelect=e=>{this.props.onSelectedIndexChange(e)},this.onTabSelect=e=>{e<this.props.codeContent.additionalContent.length&&this.props.onSelectedIndexChange(e+1)},this.getDefaultTab=()=>{const{entryFileName:e,content:t,selectedIndex:n,dockerJob:i,staticEntryName:o}=this.props.codeContent,a={selected:0===n,index:0,onTabSelect:this.onDefaultTabSelect,onFilenameChange:this.onDefaultFileNameChange,onSortItems:()=>{},items:[],sortId:0,onRemoveTab:()=>{},draggable:!1},s={content:t,fileName:e,defaultFile:!0,staticFile:Object.keys(null!==i&&void 0!==i?i:{}).length>0||o};return r.a.createElement(b,a,s)},this.getAdditionalTabs=()=>{const{selectedIndex:e,additionalContent:t}=this.props.codeContent;return t.map((n,i)=>{const o={selected:e===i+1,index:i,draggingIndex:this.state.draggingIndex,onTabSelect:this.onTabSelect,onRemoveTab:this.onRemoveTab,onFilenameChange:this.onFilenameChange};return r.a.createElement(b,Object.assign({key:i,updateState:this.onUpdateTabsOrder,items:t,draggingIndex:this.state.draggingIndex,onSortItems:this.onUpdateTabsOrder,sortId:i,outline:"list"},o),n)})}}isValidFilename(e){if(!e||0===e.length)return!1;const{codeContent:t}=this.props;if(t.entryFileName===e)return!1;for(const n of t.additionalContent)if(n.fileName===e)return!1;return!0}render(){const{selectedIndex:e,content:t,additionalContent:n}=this.props.codeContent;let i=t,l=this.props.codeContent;e>0&&e<=n.length&&(i=n[e-1].content,l=Object(o.a)({},l,{content:i,highlightedLines:n[e-1].highlightedLines}));const c=this.getDefaultTab(),h=this.getAdditionalTabs(),d=this.props.isShot?a.n:a.o;return r.a.createElement(a.i,null,r.a.createElement(d,null,r.a.createElement(a.m,null,r.a.createElement(_,{onAddCodeFile:this.onAddCodeFile})),r.a.createElement("div",{style:{display:"block",overflowY:"auto",minHeight:200,maxHeight:600,whiteSpace:"nowrap"}},c,h)),r.a.createElement("div",{style:{width:"100%",minWidth:0}},r.a.createElement(y.a,{inView:this.props.inView,key:Object(s.c)(l),codeContent:l,readOnly:!1,resizable:!1,tabsAsSpaces:!0,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onEditorChange})))}}C.defaultProps={codeContent:{},handleMultiChange:()=>{},onSelectedIndexChange:()=>{},onlyCodeChanged:()=>{},onEditorChange:()=>{}};var S=n(1820),E=n(1499),k=e=>{let{selected:t,onTabSelect:n,fileName:i,index:o,hide:s=!1}=e;return[r.a.createElement(h.a,{placement:"top",overlay:r.a.createElement(E.a,{id:"filename"},i)},r.a.createElement(a.q,{selected:t,hide:s,onClick:()=>n(o)},i)),r.a.createElement(a.z,null)]},O=e=>{let{codeContent:t,getSelectedFilename:n,isAnyOneTabRunnable:i,isCodeTabs:s=!1,isDraft:l,onEditorChange:c,onlyCodeChanged:h,onSelectedIndexChange:d,readOnly:u,inView:p}=e;const{selectedIndex:f,content:m,additionalContent:g,allowDownload:v,entryFileName:b}=t;let _=m,x=t;f>0&&f<=g.length&&(_=g[f-1].content,x=Object(o.a)({},x,{content:_,highlightedLines:g[f-1].highlightedLines}));const w=[r.a.createElement(k,{key:"defaultTab",fileName:b,index:0,selected:0===f,onTabSelect:d}),...g.map((e,t)=>r.a.createElement(k,{key:t,fileName:e.fileName,index:t+1,selected:f===t+1,onTabSelect:d}))];let C={[b]:m};return C=g.reduce((e,t)=>{let{fileName:n,content:i}=t;return Object(o.a)({},e,{[n]:i})},C),r.a.createElement(a.v,{isCodeTabs:s},r.a.createElement(a.s,null,r.a.createElement(a.r,null,w)),r.a.createElement(a.h,null,r.a.createElement(y.a,{inView:p,key:n(x),codeContent:x,readOnly:u,tabsAsSpaces:!0,onlyCodeChanged:h,onEditorChange:c,isAnyOneTabRunnable:i}),r.a.createElement(S.a,{files:C,codeToCopy:_,allowDownload:v})))},T=e=>{let{isAnyOneTabRunnable:t,onEditorChange:n,onlyCodeChanged:i,readOnly:a,codeContent:s,getSelectedFilename:l,inView:c}=e;const{content:h,allowDownload:d,entryFileName:u,additionalContent:p}=s;let f={[u]:h};return f=p.reduce((e,t)=>{let{fileName:n,content:i}=t;return Object(o.a)({},e,{[n]:i})},f),r.a.createElement("div",null,r.a.createElement(y.a,{inView:c,key:"viewEditor",codeContent:s,readOnly:a,showRuler:!1,tabsAsSpaces:!0,onlyCodeChanged:i,onEditorChange:n,isAnyOneTabRunnable:t}),r.a.createElement(S.a,{files:f,codeToCopy:h,allowDownload:d}))};n.d(t,"a",(function(){return A}));class A extends i.Component{constructor(){super(...arguments),this.getSelectedFilename=e=>{const{selectedIndex:t,additionalContent:n}=e;var i;return t>0&&t<=n.length?null===n||void 0===n?void 0:null===(i=n[t-1])||void 0===i?void 0:i.fileName:null===e||void 0===e?void 0:e.entryFileName}}render(){const{isAnyOneTabRunnable:e,isEditMode:t}=this.props,n=this.props.codeContent.judge||this.props.codeContent.runnable;if(t)return r.a.createElement(C,{inView:this.props.inView,codeContent:this.props.codeContent,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onEditorChange,onSelectedIndexChange:this.props.onSelectedIndexChange,handleMultiChange:this.props.handleMultiChange,isAnyOneTabRunnable:e,isShot:this.props.isShot,getSelectedFilename:this.getSelectedFilename});const{additionalContent:i}=this.props.codeContent;return i.length>0?r.a.createElement(O,{inView:this.props.inView,codeContent:this.props.codeContent,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onEditorChange,onSelectedIndexChange:this.props.onSelectedIndexChange,readOnly:this.props.readOnly&&this.props.isDraft&&this.props.inEditor,isDraft:this.props.isDraft,isCodeTabs:this.props.isCodeTabs,isAnyOneTabRunnable:e,getSelectedFilename:this.getSelectedFilename}):r.a.createElement(T,{inView:this.props.inView,codeContent:this.props.codeContent,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onEditorChange,readOnly:this.props.readOnly&&this.props.isDraft&&this.props.inEditor||this.props.readOnly&&!n,isAnyOneTabRunnable:e,getSelectedFilename:this.getSelectedFilename})}}A.defaultProps={isDraft:!1,isCodeTabs:!1,isAnyOneTabRunnable:!1}},1994:function(e,t,n){"use strict";var i=n(37),r=n(1534),o=n(963);const a=[{title:"Markdown",type:"MarkdownEditor",icon:"",img:"markdown.png",canvasSupport:!1,pageSupport:!0,svg_string:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="120" height="62.4" viewBox="0, 0, 800, 416"> <g id="Layer_1" transform="translate(-128, -319.875)"> <path d="M576,703.875 L576,319.875 L448,320 L352,448 L256,320 L128,320 L128,704 L256,704 L256,512 L352,635.077 L448,512 L448,704 L576,703.875 z" fill="#2EB398"/> <path d="M767.091,735.875 L928,512 L832,512 L832,320 L704,320 L704,512 L608,512 L767.091,735.875 z" fill="#2EB398"/> </g> </svg>'},{title:"Columns",type:"Columns",icon:"",img:"columns.png",canvasSupport:!1,pageSupport:!0,customStyles:{marginLeft:"0px",marginRight:"0px"}},{title:"Code",type:"Code",icon:"",img:"code.png",canvasSupport:!1,pageSupport:!0,allows_assessment:!0,customStyles:{marginLeft:"0px",marginRight:"0px"}},{title:"Single Page App",type:"WebpackBin",icon:"",img:"webpack.png",canvasSupport:!1,pageSupport:!0,customStyles:{marginLeft:"10px",marginRight:"10px"}},{title:"Code Tabs",type:"TabbedCode",icon:"",img:"multitab.png",canvasSupport:!1,pageSupport:!0,allows_assessment:!0},{title:"Quiz",type:"Quiz",icon:"questionIcon",img:"",canvasSupport:!1,pageSupport:!0,customStyles:{marginLeft:"0px",marginRight:"0px"}},{title:"Hint",type:"SpoilerEditor",icon:"",img:"hint.png",canvasSupport:!1,pageSupport:!0},{title:"Slides",type:"CanvasAnimation",icon:"",img:"canvas-animation.png",canvasSupport:!1,pageSupport:!0},{title:"Drawing",type:"MxGraph",icon:"",img:"drawing.png",canvasSupport:!0,pageSupport:!1},{title:"Chart",type:"Chart",icon:"",img:"chart.png",canvasSupport:!1,pageSupport:!0},{title:"Image",type:"Image",icon:"",img:"picture.png",disableInDemo:!0,canvasSupport:!1,pageSupport:!0},{title:"Import MD",type:"MarkdownPaste",img:"markdownImport.png",canvasSupport:!1,pageSupport:!0}],s=a.concat([{title:"Drawing",type:"MxGraphWidget",icon:"",img:"drawing.png",canvasSupport:!1,pageSupport:!0},{title:"Graph",type:"Graph",icon:"",img:"graph.png",canvasSupport:!1,pageSupport:!1},{title:"Matrix",type:"Matrix",icon:"",img:"matrix.png",canvasSupport:!0,pageSupport:!0},{title:"Linked List",type:"LinkedList",icon:"",img:"linkedlist.png",canvasSupport:!0,pageSupport:!0,svg_string:'<svg width="104" height="38" xmlns="http://www.w3.org/2000/svg"> <g id="graph0" class="graph" transform="scale(1) translate(4,34) "> <title>%3</title> \x3c!-- node_1 --\x3e <path fill="#d9d9d9" stroke="#050404" stroke-width="1.5" d="m10.1667,-0.5c0,0 9.6666,0 9.6666,0c4.8334,0 9.6667,-4.83333 9.6667,-9.6667c0,0 0,-9.6666 0,-9.6666c0,-4.8334 -4.8333,-9.6667 -9.6667,-9.6667c0,0 -9.6666,0 -9.6666,0c-4.83337,0 -9.6667,4.8333 -9.6667,9.6667c0,0 0,9.6666 0,9.6666c0,4.83337 4.83333,9.6667 9.6667,9.6667" id="svg_2" fill-opacity="0.01"/> <text text-anchor="middle" x="15" y="-10.6" font-family="Courier,monospace" font-size="16" id="svg_3">1</text> \x3c!-- node_2 --\x3e <path fill="#d9d9d9" stroke="#000000" stroke-width="1.5" d="m76.1667,-0.5c0,0 9.6666,0 9.6666,0c4.8334,0 9.6667,-4.83333 9.6667,-9.6667c0,0 0,-9.6666 0,-9.6666c0,-4.8334 -4.8333,-9.6667 -9.6667,-9.6667c0,0 -9.6666,0 -9.6666,0c-4.8334,0 -9.6667,4.8333 -9.6667,9.6667c0,0 0,9.6666 0,9.6666c0,4.83337 4.8333,9.6667 9.6667,9.6667" id="svg_4" fill-opacity="0.01"/> <text text-anchor="middle" x="81" y="-10.6" font-family="Courier,monospace" font-size="16" id="svg_5" fill="black">2</text> \x3c!-- node_1&#45;&gt;node_2 --\x3e <g id="edge1" class="edge"> <title>node_1-&gt;node_2</title> <path fill="none" stroke="#404040" stroke-width="0.6" d="m29.5728,-15c8.3154,0 19.1492,0 28.6428,0" id="svg_6"/> <polygon fill="#404040" stroke="#404040" stroke-width="0.6" points="58.4468,-17.8001 66.4468,-15 58.4468,-12.2001 58.4468,-17.8001" id="svg_7"/> </g> </g> </svg>'},{title:"Array",type:"EducativeArray",icon:"",img:"array.png",canvasSupport:!0,pageSupport:!0,svg_string:'<svg width="96" height="38" xmlns="http://www.w3.org/2000/svg"> <g id="graph0" class="graph" transform="scale(1) translate(4,34) "> <title>%3</title> \x3c!-- node_1437698556683 --\x3e <polygon fill-opacity="0.01" fill="#d9d9d9" stroke="#000000" stroke-width="1.5" points="-0.5,-0.5 -0.5,-29.5 28.5,-29.5 28.5,-0.5 -0.5,-0.5" id="svg_2"/> <text text-anchor="middle" x="13.7992" y="-10.2" font-family="Courier,monospace" font-size="16" id="svg_3">1</text> \x3c!-- node_1437698556684 --\x3e <polygon fill-opacity="0.01" fill="#d9d9d9" stroke="#000000" stroke-width="1.5" points="29.5,-0.5 29.5,-29.5 58.5,-29.5 58.5,-0.5 29.5,-0.5" id="svg_4"/> <text text-anchor="middle" x="43.7992" y="-10.2" font-family="Courier,monospace" font-size="16" id="svg_5" fill="black">2</text> \x3c!-- node_1437698556685 --\x3e <polygon fill-opacity="0.01" fill="#d9d9d9" stroke="#000000" stroke-width="1.5" points="59.5,-0.5 59.5,-29.5 88.5,-29.5 88.5,-0.5 59.5,-0.5" id="svg_6"/> <text text-anchor="middle" x="73.7992" y="-10.2" font-family="Courier,monospace" font-size="16" id="svg_7">3</text> </g> </svg>'},{title:"Binary Tree",type:"BinaryTree",icon:"",img:"binarytree.png",canvasSupport:!0,pageSupport:!0,svg_string:'<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"> <g id="graph0" class="graph" transform="scale(1) translate(4,144) "> <title>%3</title> \x3c!-- node_1437600789810 --\x3e <path fill="#000000" stroke="#000000" stroke-width="1.5" d="m38.1667,-114c0,0 9.6666,0 9.6666,0c4.8334,0 9.6667,-4.833 9.6667,-9.667c0,0 0,-9.66599 0,-9.66599c0,-4.83401 -4.8333,-9.66701 -9.6667,-9.66701c0,0 -9.6666,0 -9.6666,0c-4.8334,0 -9.6667,4.83299 -9.6667,9.66701c0,0 0,9.66599 0,9.66599c0,4.834 4.8333,9.667 9.6667,9.667" id="svg_2" fill-opacity="0.01"/> <text text-anchor="middle" x="42.7992" y="-123.7" font-family="Courier,monospace" font-size="16" id="svg_3" fill="black">2</text> \x3c!-- node_1437600789811 --\x3e <path fill="#fcfcfc" stroke="#000000" stroke-width="1.5" d="m17.1667,-46.5c0,0 9.6666,0 9.6666,0c4.8334,0 9.6667,-4.8333 9.6667,-9.6667c0,0 0,-9.66661 0,-9.66661c0,-4.8334 -4.8333,-9.66669 -9.6667,-9.66669c0,0 -9.6666,0 -9.6666,0c-4.8334,0 -9.6667,4.8333 -9.6667,9.66669c0,0 0,9.66661 0,9.66661c0,4.8334 4.8333,9.6667 9.6667,9.6667" id="svg_4" fill-opacity="0.01"/> <text fill="black" text-anchor="middle" x="21.7992" y="-56.2" font-family="Courier,monospace" font-size="16" id="svg_5">1</text> \x3c!-- node_1437600789810&#45;&gt;node_1437600789811 --\x3e <g id="edge1" class="edge"> <title>node_1437600789810-&gt;node_1437600789811</title> <path fill="none" stroke="black" d="m37.1223,-113.427c-3.0494,8.485 -7.0411,19.5923 -10.5018,29.2222" id="svg_6"/> <polygon fill="black" stroke="black" points="29.211299896240234,-83.13480377197266 23.87070083618164,-76.5531997680664 23.941299438476562,-85.02880096435547 29.211299896240234,-83.13480377197266 " id="svg_7"/> </g> \x3c!-- node_1437600789812 --\x3e <path fill="#fcfcfc" stroke="#000000" stroke-width="1.5" d="m64.1667,-46.5c0,0 9.6666,0 9.6666,0c4.8334,0 9.6667,-4.8333 9.6667,-9.6667c0,0 0,-9.66661 0,-9.66661c0,-4.8334 -4.8333,-9.66669 -9.6667,-9.66669c0,0 -9.6666,0 -9.6666,0c-4.8334,0 -9.6667,4.8333 -9.6667,9.66669c0,0 0,9.66661 0,9.66661c0,4.8334 4.8333,9.6667 9.6667,9.6667" id="svg_8" fill-opacity="0.01"/> <text fill="black" text-anchor="middle" x="68.7992" y="-56.2" font-family="Courier,monospace" font-size="16" id="svg_9">3</text> \x3c!-- node_1437600789810&#45;&gt;node_1437600789812 --\x3e <g id="edge2" class="edge"> <title>node_1437600789810-&gt;node_1437600789812</title> <path fill="none" stroke="black" d="m50.5898,-113.927c3.1819,8.485 7.3472,19.5923 10.9584,29.2222" id="svg_10"/> <polygon fill="black" stroke="black" points="64.2302017211914,-85.5270004272461 64.41759872436523,-77.0531997680664 58.98680114746094,-83.56069946289062 64.2302017211914,-85.5270004272461 " id="svg_11"/> </g> \x3c!-- node_1437600789811_left_invis --\x3e \x3c!-- node_1437600789811&#45;&gt;node_1437600789811_left_invis --\x3e \x3c!-- node_1437600789811_right_invis --\x3e \x3c!-- node_1437600789811&#45;&gt;node_1437600789811_right_invis --\x3e \x3c!-- node_1437600789812_left_invis --\x3e \x3c!-- node_1437600789812&#45;&gt;node_1437600789812_left_invis --\x3e \x3c!-- node_1437600789812_right_invis --\x3e \x3c!-- node_1437600789812&#45;&gt;node_1437600789812_right_invis --\x3e </g> </svg>'},{title:"Nary Tree",type:"NaryTree",icon:"",img:"narytree.png",canvasSupport:!0,pageSupport:!0,svg_string:'<svg width="130" height="104" xmlns="http://www.w3.org/2000/svg"> <g id="graph0" class="graph" transform="scale(1) translate(4,100) "> <title>%3</title> \x3c!-- node_1437697785423 --\x3e <path fill="#d9d9d9" stroke="#000000" stroke-width="1.5" d="m56.1667,-66.5c0,0 9.6666,0 9.6666,0c4.8334,0 9.6667,-4.8333 9.6667,-9.6667c0,0 0,-9.6666 0,-9.6666c0,-4.8334 -4.8333,-9.6667 -9.6667,-9.6667c0,0 -9.6666,0 -9.6666,0c-4.8334,0 -9.6667,4.8333 -9.6667,9.6667c0,0 0,9.6666 0,9.6666c0,4.8334 4.8333,9.6667 9.6667,9.6667" id="svg_2" fill-opacity="0.01"/> <text text-anchor="middle" x="60.7992" y="-76.2" font-family="Courier,monospace" font-size="16" id="svg_3">1</text> \x3c!-- node_1437697785424 --\x3e <path fill="#d9d9d9" stroke="#000000" stroke-width="1.5" d="m9.16667,-0.5c0,0 9.66663,0 9.66663,0c4.8334,0 9.6667,-4.83333 9.6667,-9.6667c0,0 0,-9.6666 0,-9.6666c0,-4.8334 -4.8333,-9.6667 -9.6667,-9.6667c0,0 -9.66663,0 -9.66663,0c-4.83334,0 -9.66667,4.8333 -9.66667,9.6667c0,0 0,9.6666 0,9.6666c0,4.83337 4.83333,9.6667 9.66667,9.6667" id="svg_4" fill-opacity="0.01"/> <text text-anchor="middle" x="13.7992" y="-10.2" font-family="Courier,monospace" font-size="16" id="svg_5">2</text> \x3c!-- node_1437697785423&#45;&gt;node_1437697785424 --\x3e <g id="edge1" class="edge"> <title>node_1437697785423-&gt;node_1437697785424</title> <path fill="none" stroke="black" d="m51.0325,-66.4272c-6.4805,8.8245 -15.0439,20.4853 -22.3034,30.3706" id="svg_6"/> <polygon fill="black" stroke="black" points="30.9453,-34.3439 23.9531,-29.5532 26.4316,-37.6586 30.9453,-34.3439" id="svg_7"/> </g> \x3c!-- node_1437697785425 --\x3e <path fill="#d9d9d9" stroke="#000000" stroke-width="1.5" d="m56.1667,-0.5c0,0 9.6666,0 9.6666,0c4.8334,0 9.6667,-4.83333 9.6667,-9.6667c0,0 0,-9.6666 0,-9.6666c0,-4.8334 -4.8333,-9.6667 -9.6667,-9.6667c0,0 -9.6666,0 -9.6666,0c-4.8334,0 -9.6667,4.8333 -9.6667,9.6667c0,0 0,9.6666 0,9.6666c0,4.83337 4.8333,9.6667 9.6667,9.6667" id="svg_8" fill-opacity="0.01"/> <text text-anchor="middle" x="60.7992" y="-10.2" font-family="Courier,monospace" font-size="16" id="svg_9">3</text> \x3c!-- node_1437697785423&#45;&gt;node_1437697785425 --\x3e <g id="edge2" class="edge"> <title>node_1437697785423-&gt;node_1437697785425</title> <path fill="none" stroke="black" d="m61,-66.4272c0,8.3154 0,19.1492 0,28.6428" id="svg_10"/> <polygon fill="black" stroke="black" points="63.8001,-37.5532 61,-29.5532 58.2001,-37.5532 63.8001,-37.5532" id="svg_11"/> </g> \x3c!-- node_1437697785426 --\x3e <path fill="#d9d9d9" stroke="#000000" stroke-width="1.5" d="m103.167,-0.5c0,0 9.666,0 9.666,0c4.834,0 9.667,-4.83333 9.667,-9.6667c0,0 0,-9.6666 0,-9.6666c0,-4.8334 -4.833,-9.6667 -9.667,-9.6667c0,0 -9.666,0 -9.666,0c-4.8337,0 -9.667,4.8333 -9.667,9.6667c0,0 0,9.6666 0,9.6666c0,4.83337 4.8333,9.6667 9.667,9.6667" id="svg_12" fill-opacity="0.01"/> <text text-anchor="middle" x="107.799" y="-10.2" font-family="Courier,monospace" font-size="16" id="svg_13" fill="black">4</text> \x3c!-- node_1437697785423&#45;&gt;node_1437697785426 --\x3e <g id="edge3" class="edge"> <title>node_1437697785423-&gt;node_1437697785426</title> <path fill="none" stroke="black" d="m70.9675,-66.4272c6.4805,8.8245 15.0439,20.4853 22.3034,30.3706" id="svg_14"/> <polygon fill="black" stroke="black" points="95.5684,-37.6586 98.0469,-29.5532 91.0547,-34.3439 95.5684,-37.6586" id="svg_15"/> </g> </g> </svg>'},{title:"Stack",type:"Stack",icon:"",img:"stack.png",canvasSupport:!0,pageSupport:!0,svg_string:'<svg width="130" height="120" xmlns="http://www.w3.org/2000/svg"> <g id="graph0" class="graph" transform="scale(1) translate(4,116) "> <title>%3</title> \x3c!-- node_1437723297226 --\x3e <polygon fill="#caff70" stroke="#000000" stroke-width="1.55" points="0.5,-0 0.5,-36 81.5,-36 81.5,-0 0.5,-0" id="svg_2" fill-opacity="0.01"/> <text text-anchor="middle" x="41" y="-13.6" font-family="Courier,monospace" font-size="16" id="svg_3">1</text> \x3c!-- node_1437723297227 --\x3e <polygon fill="#caff70" stroke="#000000" stroke-width="1.5" points="0.5,-38 0.5,-74 81.5,-74 81.5,-38 0.5,-38" id="svg_4" fill-opacity="0.01"/> <text text-anchor="middle" x="41" y="-51.6" font-family="Courier,monospace" font-size="16" id="svg_5">2</text> \x3c!-- node_1437723297228 --\x3e <polygon fill="#caff70" stroke="#000000" stroke-width="1.5" points="0.5,-76 0.5,-112 81.5,-112 81.5,-76 0.5,-76" id="svg_6" fill-opacity="0.01"/> <text text-anchor="middle" x="41" y="-89.6" font-family="Courier,monospace" font-size="16" id="svg_7">3</text> \x3c!-- top_node --\x3e \x3c!-- node_1437723297228&#45;&gt;top_node --\x3e <g id="edge1" class="edge"> <title>node_1437723297228-&gt;top_node</title> <path fill="none" stroke="black" d="m91.7706,-94c9.4404,0 18.8434,0 26.8054,0" id="svg_10"/> <polygon fill="black" stroke="black" points="91.5779,-90.5001 81.5779,-94 91.5778,-97.5001 91.5779,-90.5001" id="svg_11"/> </g> </g> </svg>'},{title:"Hash Table",type:"HashTable",icon:"",img:"hashtable.png",canvasSupport:!0,pageSupport:!0,svg_string:'<svg width="331pt" height="109pt" viewBox="0.00 0.00 330.98 109.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 105)"> <title>%19</title> \x3c!-- node_2 --\x3e <g id="node_2" class="node"><title>node_2</title> <polygon fill="#bfefff" stroke="#000000" stroke-width="0.42" points="0,-0.5 0,-30.5 123,-30.5 123,-0.5 0,-0.5"></polygon> <text text-anchor="middle" x="61.5" y="-11.1" font-family="Courier,monospace" font-size="16.00">Key 3</text> </g> \x3c!-- node_1 --\x3e <g id="node_1" class="node"><title>node_1</title> <polygon fill="#bfefff" stroke="#000000" stroke-width="0.42" points="0,-35.5 0,-65.5 123,-65.5 123,-35.5 0,-35.5"></polygon> <text text-anchor="middle" x="61.5" y="-46.1" font-family="Courier,monospace" font-size="16.00">Key 2</text> </g> \x3c!-- node_1_1 --\x3e <g id="node_1_1" class="node"><title>node_1_1</title> <path fill="#e6e6e6" stroke="black" stroke-width="0.5" d="M168.067,-36.9C168.067,-36.9 213.925,-36.9 213.925,-36.9 218.459,-36.9 222.992,-41.4333 222.992,-45.9667 222.992,-45.9667 222.992,-55.0333 222.992,-55.0333 222.992,-59.5667 218.459,-64.1 213.925,-64.1 213.925,-64.1 168.067,-64.1 168.067,-64.1 163.533,-64.1 159,-59.5667 159,-55.0333 159,-55.0333 159,-45.9667 159,-45.9667 159,-41.4333 163.533,-36.9 168.067,-36.9"></path> <text text-anchor="middle" x="190.996" y="-45.7" font-family="Courier,monospace" font-size="16.00">Val 2</text> </g> \x3c!-- node_1&#45;&gt;node_1_1 --\x3e <g id="edge2" class="edge"><title>node_1-&gt;node_1_1</title> <path fill="none" stroke="black" d="M123.261,-50.5C133.651,-50.5 144.147,-50.5 153.642,-50.5"></path> <polygon fill="black" stroke="black" points="153.807,-52.2501 158.807,-50.5 153.807,-48.7501 153.807,-52.2501"></polygon> </g> \x3c!-- node_1_2 --\x3e <g id="node_1_2" class="node"><title>node_1_2</title> <path fill="#e6e6e6" stroke="black" stroke-width="0.5" d="M268.059,-36.9C268.059,-36.9 313.917,-36.9 313.917,-36.9 318.451,-36.9 322.984,-41.4333 322.984,-45.9667 322.984,-45.9667 322.984,-55.0333 322.984,-55.0333 322.984,-59.5667 318.451,-64.1 313.917,-64.1 313.917,-64.1 268.059,-64.1 268.059,-64.1 263.525,-64.1 258.992,-59.5667 258.992,-55.0333 258.992,-55.0333 258.992,-45.9667 258.992,-45.9667 258.992,-41.4333 263.525,-36.9 268.059,-36.9"></path> <text text-anchor="middle" x="290.988" y="-45.7" font-family="Courier,monospace" font-size="16.00">Val 3</text> </g> \x3c!-- node_1_1&#45;&gt;node_1_2 --\x3e <g id="edge1" class="edge"><title>node_1_1-&gt;node_1_2</title> <path fill="none" stroke="black" stroke-width="0.6" d="M223.001,-50.5C231.759,-50.5 241.407,-50.5 250.588,-50.5"></path> <polygon fill="#404040" stroke="black" stroke-width="0.6" points="250.848,-53.3001 258.848,-50.5 250.848,-47.7001 250.848,-53.3001"></polygon> </g> \x3c!-- node_0 --\x3e <g id="node_0" class="node"><title>node_0</title> <polygon fill="#bfefff" stroke="#000000" stroke-width="0.42" points="0,-70.5 0,-100.5 123,-100.5 123,-70.5 0,-70.5"></polygon> <text text-anchor="middle" x="61.5" y="-81.1" font-family="Courier,monospace" font-size="16.00">Key 1</text> </g> \x3c!-- node_0_1 --\x3e <g id="node_0_1" class="node"><title>node_0_1</title> <path fill="#e6e6e6" stroke="black" stroke-width="0.5" d="M168.067,-71.9C168.067,-71.9 213.925,-71.9 213.925,-71.9 218.459,-71.9 222.992,-76.4333 222.992,-80.9667 222.992,-80.9667 222.992,-90.0333 222.992,-90.0333 222.992,-94.5667 218.459,-99.1 213.925,-99.1 213.925,-99.1 168.067,-99.1 168.067,-99.1 163.533,-99.1 159,-94.5667 159,-90.0333 159,-90.0333 159,-80.9667 159,-80.9667 159,-76.4333 163.533,-71.9 168.067,-71.9"></path> <text text-anchor="middle" x="190.996" y="-80.7" font-family="Courier,monospace" font-size="16.00">Val 1</text> </g> \x3c!-- node_0&#45;&gt;node_0_1 --\x3e <g id="edge3" class="edge"><title>node_0-&gt;node_0_1</title> <path fill="none" stroke="black" d="M123.261,-85.5C133.651,-85.5 144.147,-85.5 153.642,-85.5"></path> <polygon fill="black" stroke="black" points="153.807,-87.2501 158.807,-85.5 153.807,-83.7501 153.807,-87.2501"></polygon> </g> </g> </svg>'},{title:"Equation",type:"Equation",icon:"",img:"equation.png",canvasSupport:!1,pageSupport:!1},{title:"Graphviz",type:"Graphviz",icon:"",img:"graphiz.png",canvasSupport:!0,pageSupport:!0,svg_string:'<svg width="120" height="188" xmlns="http://www.w3.org/2000/svg"> <g transform="scale(1) translate(4,184) " class="graph" id="graph0"> <title>g</title> \x3c!-- a --\x3e <ellipse stroke-width="1.5" id="svg_2" ry="18" rx="27" cy="-153" cx="72" stroke="black" fill="none"/> <text id="svg_3" font-size="14" font-family="Times,serif" y="-148.8" x="72" text-anchor="middle">a</text> \x3c!-- b --\x3e <ellipse stroke-width="1.5" id="svg_4" ry="18" rx="27" cy="-90" cx="27" stroke="black" fill="none"/> <text fill="black" id="svg_5" font-size="14" font-family="Times,serif" y="-85.8" x="27" text-anchor="middle">b</text> \x3c!-- a&#45;&gt;b --\x3e <g class="edge" id="edge1"> <title>a-&gt;b</title> <path id="svg_6" d="m47.6014,-144.411c-3.115,8.07599 -6.9351,17.98 -10.436,27.05599" stroke="black" fill="none"/> <polygon id="svg_7" points="40.4045,-116.027 33.5403,-107.956 33.8735,-118.546 40.4045,-116.027" stroke="black" fill="black"/> </g> \x3c!-- c --\x3e <ellipse stroke-width="1.5" id="svg_8" ry="18" rx="27" cy="-26" cx="72" stroke="black" fill="none"/> <text id="svg_9" font-size="14" font-family="Times,serif" y="-21.8" x="72" text-anchor="middle">c</text> \x3c!-- b&#45;&gt;c --\x3e <g class="edge" id="edge2"> <title>b-&gt;c</title> <path id="svg_10" d="m33.3986,-72.411c3.115,8.07581 6.9351,17.9798 10.436,27.0563" stroke="black" fill="none"/> <polygon id="svg_11" points="47.1265,-46.5458 47.4597,-35.9562 40.5955,-44.0267 47.1265,-46.5458" stroke="black" fill="black"/> </g> \x3c!-- c&#45;&gt;a --\x3e <g class="edge" id="edge3"> <title transform="translate(2,2) translate(35,-2) ">c-&gt;a</title> <path id="svg_12" d="m94.6538,-36.0925c2.022,-10.339 4.327,-23.8173 5.3462,-35.9075c1.3441,-15.9434 1.3441,-20.0566 0,-36c-0.7166,-8.501 -2.0689,-17.688 -3.5116,-25.98801" stroke="black" fill="none"/> <polygon id="svg_13" points="93.03089904785156,-133.43800354003906 94.65380096435547,-143.9080047607422 99.91419982910156,-134.71099853515625 93.03089904785156,-133.43800354003906 " stroke="black" fill="black"/> </g> </g> </svg>'},{title:"Animation",type:"GvAnimation",icon:"",img:"graphiz.png",canvasSupport:!1,pageSupport:!1,svg_string:'<svg width="120" height="188" xmlns="http://www.w3.org/2000/svg"> <g transform="scale(1) translate(4,184) " class="graph" id="graph0"> <title>g</title> \x3c!-- a --\x3e <ellipse stroke-width="1.5" id="svg_2" ry="18" rx="27" cy="-153" cx="72" stroke="black" fill="none"/> <text id="svg_3" font-size="14" font-family="Times,serif" y="-148.8" x="72" text-anchor="middle">a</text> \x3c!-- b --\x3e <ellipse stroke-width="1.5" id="svg_4" ry="18" rx="27" cy="-90" cx="27" stroke="black" fill="none"/> <text fill="black" id="svg_5" font-size="14" font-family="Times,serif" y="-85.8" x="27" text-anchor="middle">b</text> \x3c!-- a&#45;&gt;b --\x3e <g class="edge" id="edge1"> <title>a-&gt;b</title> <path id="svg_6" d="m47.6014,-144.411c-3.115,8.07599 -6.9351,17.98 -10.436,27.05599" stroke="black" fill="none"/> <polygon id="svg_7" points="40.4045,-116.027 33.5403,-107.956 33.8735,-118.546 40.4045,-116.027" stroke="black" fill="black"/> </g> \x3c!-- c --\x3e <ellipse stroke-width="1.5" id="svg_8" ry="18" rx="27" cy="-26" cx="72" stroke="black" fill="none"/> <text id="svg_9" font-size="14" font-family="Times,serif" y="-21.8" x="72" text-anchor="middle">c</text> \x3c!-- b&#45;&gt;c --\x3e <g class="edge" id="edge2"> <title>b-&gt;c</title> <path id="svg_10" d="m33.3986,-72.411c3.115,8.07581 6.9351,17.9798 10.436,27.0563" stroke="black" fill="none"/> <polygon id="svg_11" points="47.1265,-46.5458 47.4597,-35.9562 40.5955,-44.0267 47.1265,-46.5458" stroke="black" fill="black"/> </g> \x3c!-- c&#45;&gt;a --\x3e <g class="edge" id="edge3"> <title transform="translate(2,2) translate(35,-2) ">c-&gt;a</title> <path id="svg_12" d="m94.6538,-36.0925c2.022,-10.339 4.327,-23.8173 5.3462,-35.9075c1.3441,-15.9434 1.3441,-20.0566 0,-36c-0.7166,-8.501 -2.0689,-17.688 -3.5116,-25.98801" stroke="black" fill="none"/> <polygon id="svg_13" points="93.03089904785156,-133.43800354003906 94.65380096435547,-143.9080047607422 99.91419982910156,-134.71099853515625 93.03089904785156,-133.43800354003906 " stroke="black" fill="black"/> </g> </g> </svg>'},{title:"Run JS",type:"RunJS",icon:"",img:"runjs.png",canvasSupport:!1,pageSupport:!0,allows_assessment:!0},{title:"Freehand",type:"SVGEdit",icon:"paintBrushIcon",img:"",canvasSupport:!1,pageSupport:!1},{title:"Freehand",type:"SVG",icon:"paintBrushIcon",img:"",canvasSupport:!0,pageSupport:!1},{title:"Text",type:"CanvasText",icon:"fontIcon",img:"",canvasSupport:!0,pageSupport:!1},{title:"Image",type:"CanvasImage",icon:"",img:"picture.png",canvasSupport:!0,pageSupport:!1},{title:"Text",type:"TextEditor",icon:"",img:"text.png",canvasSupport:!1,pageSupport:!1},{title:"Heading",type:"Heading",icon:"",img:"heading.png",canvasSupport:!1,pageSupport:!1},{title:"File",type:"File",icon:"",img:"file.png",canvasSupport:!1,pageSupport:!0},{title:"Video",type:"Video",icon:"",img:"video.png",canvasSupport:!1,pageSupport:!0},{title:"Live App",type:"LiveApp",icon:"",img:"liveapp.png",canvasSupport:!1,pageSupport:!0},{title:"Seq Diagram",type:"SequenceDiagrams",icon:"",img:"sequence_diagram.png",canvasSupport:!0,pageSupport:!0},{title:"Terminal",type:"TerminalWidget",img:"terminal.png",canvasSupport:!1,pageSupport:!0,disableInDemo:!0},{title:"Carousel",type:"Carousel",icon:"",img:"carousel.png",canvasSupport:!1,pageSupport:!0},{title:"ActiveCampaign Form",type:"ActiveCampaignForm",icon:"",img:"form.png",canvasSupport:!1,pageSupport:!0,customStyles:{width:100}},{title:"Recruiting Cost Calculator",type:"RecruitingCostCalculator",icon:"",img:"calculator.png",canvasSupport:!1,pageSupport:!0,customStyles:{marginLeft:"50px",marginRight:"50px"}},{title:"Android (Beta)",type:"Android",icon:"",img:"smartPhone.png",canvasSupport:!1,pageSupport:!0},{title:"Button Link",type:"ButtonLink",icon:"",img:"LinkButtonIcon",canvasSupport:!1,pageSupport:!0},{title:"Testimonials",type:"Testimonials",icon:"",img:"testimonialIcon",canvasSupport:!1,pageSupport:!0},{title:"Video Recorder",type:"VideoRecorder",icon:"",img:"videoRecord",canvasSupport:!1,pageSupport:!0,customStyles:{marginLeft:"20px",marginRight:"20px"}},{title:"InstaCalc",type:"InstaCalc",icon:"",img:"instaCalc.png",canvasSupport:!1,pageSupport:!0}]);var l=[];async function c(e){if(-1!==e.indexOf("svg-")){const t=l.filter(t=>t.type===e);if(1===t.length){const e=r.default.getComponentCustom(t[0].svg_string),n=R.clone(await c("SVG"));return n.defaultVal.content=e,n}throw new Error}const t=s.filter(t=>t.type===e);if(1===t.length){if(!("defaultVal"in t[0])){const n=await o.a[e]();t[0].defaultVal={type:e,mode:"edit",content:i.fromJS(n.default.getComponentDefault())}}return t[0]}throw new Error}n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p}));const h=()=>{const e=s.filter(e=>!0===e.pageSupport);if(0===e.length)throw new Error;return e},d=()=>{const e=a.filter(e=>!0===e.pageSupport);if(0===e.length)throw new Error;return e},u=()=>{const e=s.filter(e=>!0===e.canvasSupport);for(let t=0;t<l.length;t++)e.push(l[t]);if(0===e.length)throw new Error;return e},p=e=>{const t=s.filter((t,n)=>t.type===e);return t.length&&t[0].title}},1996:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(485),a=n(648),s=n(1656),l=n(1658),c=n(30),h=n(153),d=n(1705),u=n(817),p=n.n(u),f=n(531),m=n(816),g=n(1787),v=n(529),b=n(85),y=n(28),_=n(253),x=n(651),w=n(244),C=n(375),S=n(31),E=n(83),k=n(303),O=n(35),T=n(486),A=n(1882),I=n.n(A),j=n(414),P=n(649),M=n(650),R=n(58),D=n(1757),L=n(12),N=n(1960),B=n(530);n(532);class F extends i.Component{constructor(){super(...arguments),this.state={currIndex:0},this.handleSelect=e=>{this.setState({currIndex:e})}}getTabContentEvaluation(){return r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:"10px"}},r.a.createElement("div",null,"Author evaluation code goes here. Evaluate based on"),r.a.createElement(P.a,{componentClass:"select",value:this.props.test_output_on_console?"console":"testresults",onChange:e=>{this.props.changeJudgeType(e.target.value)},style:{width:"125px",fontSize:L.a.textLarge,marginLeft:"5px",border:"1px solid ".concat(this.props.theme.palette.grey[300]),color:this.props.theme.palette.primary.main}},r.a.createElement("option",{value:"testresults"},"Test Results"),r.a.createElement("option",{value:"console"},"Console"))),r.a.createElement(_.a,{popoverTitle:"Caution! All of your code will be replaced with a sample function and test stubs. Do you want to proceed?",handleConfirm:this.props.generateStubEvaluationCode,hideOnConfirm:!0,danger:!0},r.a.createElement(R.a,{purple:!0,small:!0,style:{margin:"15px 5px"}},"Create Stub for ",this.props.language))),r.a.createElement("div",{className:"cmcomp-single-editor-container"},r.a.createElement(B.a,{codeContent:this.props.codeContent,readOnly:!1,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onEditorChange})))}getTabContentPrepend(){return[r.a.createElement("i",{key:"prepend_code_label"},"This code will be prepended before learner code. Use it for declarations."),r.a.createElement("div",{className:"cmcomp-single-editor-container",key:"prepend_code_editor"},r.a.createElement(B.a,{codeContent:this.props.judgeContentPrepend,readOnly:!1,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onJudgeContentPrependChange}))]}getTabContentHints(){return r.a.createElement(N.a,{judgeHints:this.props.judgeHints,onJudgeHintsUpdate:this.props.onJudgeHintsUpdate,onlyCodeChanged:this.props.onlyCodeChanged})}getTabContentSolution(){return[r.a.createElement("i",{key:"code_solution_content"},"Write solution for the exercise here. It will be shown to learners if 'Solution' box above is selected."),r.a.createElement("div",{className:"cmcomp-single-editor-container",key:"code_solution_content_editor"},r.a.createElement(B.a,{codeContent:this.props.solutionContent,readOnly:!1,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onSolutionContentChange}))]}getTabsToShow(){let e=0;const t=[{title:"Evaluation",function:this.getTabContentEvaluation()},{title:"Prepend",function:this.getTabContentPrepend()},{title:"Hints",function:this.getTabContentHints()},{title:"Solution",function:this.getTabContentSolution()}];return null!==this.state.currIndex&&(e=this.state.currIndex),r.a.createElement(D.p,{selectedIndex:e,onSelect:this.handleSelect,style:{marginTop:8}},r.a.createElement(D.n,null,t.map((t,n)=>r.a.createElement(D.m,{key:n,selected:e===n,alignLeft:!0},t.title))),t.map((e,t)=>r.a.createElement(D.o,{key:t,style:{paddingTop:10,borderBottom:"none"}},e.function)))}render(){return r.a.createElement("div",null,this.getTabsToShow())}}var z=Object(M.a)(F),H=n(1799),U=n(1844),q=n(1817),W=n(1818),V=n(1881),G=n(1730);const K=Object(c.b)(e=>{let{ajaxMode:{enabled:t},executionMetadata:n}=e;return{isDemo:!t,executionMetadata:n}});function Y(e){return r.a.createElement(V.c,{id:Object(j.a)()},r.a.createElement("span",null,e))}class X extends i.Component{constructor(){super(...arguments),this.state={executionInProgress:!1,enableStdin:!1,executionComplete:!1,executionResult:null,testResult:null,testPassed:null,testPaneActive:!0,outputExpanded:this.props.specialInput===E.e,solutionInView:!1,judgeHintsInView:!1},this.handleRun=e=>{e.stopPropagation();const{specialInputData:t}=this.props.executionConfig;if([E.b,E.f].includes(this.props.specialInput)){let e="";this.props.specialInput===E.b?e=S.f:this.props.specialInput===E.f&&(e=S.C),this.props.dispatch(Object(y.b)(e,{imageData:t,isEditMode:!this.props.readOnly,updateSpecialInputData:this.props.updateSpecialInputData,continue:this.judgeHelper}))}else this.judgeHelper()},this.judgeHelper=()=>{this.setState({executionInProgress:!this.state.executionInProgress,executionComplete:!1,outputExpanded:!0});let e="";if(this.props.evaluateWithoutExecution&&this.props.judgeContent.userCodeStringFormat){e+="".concat(k.a.formatString(this.props.judgeContent.userCodeStringFormat,[I()(this.props.executionConfig.sourceCode)]),"\n")}this.props.judgeContentPrepend.trim().length>0&&(e+="".concat(this.props.judgeContentPrepend.trim(),"\n")),this.props.evaluateWithoutExecution||(e+="".concat(this.props.executionConfig.sourceCode,"\n")),e+="".concat(this.props.judgeContent.authorCode,"\n").concat(this.props.judgeContent.edCode,"\n");const{authorId:t,collectionId:n,shotId:i,pageType:r,pageId:o,isDraft:a,executionConfig:s}=this.props,{dockerExecutionContext:l}=s;let c;if(Object.keys(null!==l&&void 0!==l?l:{}).length>0){const{job:e,imageName:t,envs:n}=l;c={container_image_name:t,envs:n,entry_filename:e.inputFileName,build_script:e.buildScript,run_script:e.runScript}}const{additionalContent:h,stdin:d,language:u,entryFileName:p,timeLimit:f,comp_id:m}=this.props.executionConfig;Object(b.h)({language:u,entry_filename:p,time_limit:f,source_code:e,additional_files:JSON.stringify(h),stdin:d,test_output_on_console:!!this.props.judgeContent.test_output_on_console,author_id:t,work_id:n||i,work_type:r,page_id:o,is_draft_page:a,comp_id:m||null,docker_container:c?JSON.stringify(c):void 0}).then(e=>{var t,n,i;const r=JSON.parse(e);let o=0;for(let l=0;l<r.test_results.length;l++)r.test_results[l].succeeded&&o++;const a=o===r.test_results.length,s=0===r.execution_result.status?null===(t=r.test_results)||void 0===t?void 0:t.sort((e,t)=>(e.succeeded?2:1)-(t.succeeded?2:1)):null;this.props.renderReplacementWrapper(),this.props.renderExtractionWrapper(null===r||void 0===r?void 0:null===(n=r.execution_result)||void 0===n?void 0:null===(i=n.transformedResult)||void 0===i?void 0:i.apiKeys),this.props.logWidgetInteraction({tab_index:this.props.tab_index,code_widget_type:"judge",status:r.execution_result.status,reason:r.execution_result.reason,test_total_count:r.test_results.length,test_passed_count:o}),this.setState({executionInProgress:!1,executionComplete:!0,executionResult:r.execution_result,testResult:s,testPassed:0===r.execution_result.status&&a,testPassedCount:o,testTotalCount:r.test_results.length,testPaneActive:0===r.execution_result.status})}).catch(e=>{this.props.logWidgetInteraction({tab_index:this.props.tab_index,code_widget_type:"judge",status:500,reason:"Execution Failed"}),console.log(e),this.setState({executionInProgress:!1,executionComplete:!0,testResult:null,testPaneActive:!1,executionResult:{reason:401!==e.status?e.responseText:"Please login to use code judge."}})})},this.getEdCodeAndVersionDefaults=(e,t)=>{var n,i,r,o,a,s,l;const{executionMetadata:c}=this.props,h=null===c||void 0===c?void 0:null===(n=c.data)||void 0===n?void 0:n.languages;let d=null===h||void 0===h?void 0:null===(i=h[t])||void 0===i?void 0:null===(r=i.testresults)||void 0===r?void 0:r.edCode,u=null===h||void 0===h?void 0:null===(o=h[t])||void 0===o?void 0:null===(a=o.testresults)||void 0===a?void 0:a.version,p=(null===h||void 0===h?void 0:null===(s=h[t])||void 0===s?void 0:null===(l=s.testresults)||void 0===l?void 0:l.userCodeStringFormat)||null;var f,m,g,v,b,y;e&&(d=null===h||void 0===h?void 0:null===(f=h[t])||void 0===f?void 0:null===(m=f.console)||void 0===m?void 0:m.edCode,u=null===h||void 0===h?void 0:null===(g=h[t])||void 0===g?void 0:null===(v=g.console)||void 0===v?void 0:v.version,p=null===h||void 0===h?void 0:null===(b=h[t])||void 0===b?void 0:null===(y=b.console)||void 0===y?void 0:y.userCodeStringFormat,e=!0);return{edCode:d,version:u,test_output_on_console:e,userCodeStringFormat:p}},this.handleExpandCollapse=()=>{this.setState({outputExpanded:!this.state.outputExpanded})},this.changeJudgeType=e=>{var t,n,i;const{executionMetadata:r,executionConfig:o}=this.props,{language:a}=o,s=null===r||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.languages,l="console"===e,c=this.getEdCodeAndVersionDefaults(l,a);let h=null===s||void 0===s?void 0:null===(n=s[a])||void 0===n?void 0:null===(i=n.testresults)||void 0===i?void 0:i.authorCode;var d,u;l&&(h=null===s||void 0===s?void 0:null===(d=s[a])||void 0===d?void 0:null===(u=d.console)||void 0===u?void 0:u.authorCode);this.props.judgeContent&&this.props.judgeContent.authorCode&&""!==this.props.judgeContent.authorCode&&(h=this.props.judgeContent.authorCode),this.props.onJudgeContentChange({authorCode:h,edCode:c.edCode,version:c.version,test_output_on_console:l,userCodeStringFormat:c.userCodeStringFormat},!0)},this.handleAuthorContentChange=e=>{const t=this.getEdCodeAndVersionDefaults(!!this.props.judgeContent&&!!this.props.judgeContent.test_output_on_console,this.props.executionConfig.language);this.props.onJudgeContentChange({authorCode:e,edCode:t.edCode,version:t.version,test_output_on_console:t.test_output_on_console,userCodeStringFormat:t.userCodeStringFormat})},this.generateStubEvaluationCode=()=>{var e,t,n,i,r,o,a,s,l,c,h;const{executionMetadata:d,executionConfig:u}=this.props,{language:p}=u,f=null===d||void 0===d?void 0:null===(e=d.data)||void 0===e?void 0:e.languages;this.props.onJudgeContentChange({authorCode:null===f||void 0===f?void 0:null===(t=f[p])||void 0===t?void 0:null===(n=t.testresults)||void 0===n?void 0:n.authorCode,edCode:null===f||void 0===f?void 0:null===(i=f[p])||void 0===i?void 0:null===(r=i.testresults)||void 0===r?void 0:r.edCode,version:null===f||void 0===f?void 0:null===(o=f[p])||void 0===o?void 0:null===(a=o.testresults)||void 0===a?void 0:a.version,userCodeStringFormat:(null===f||void 0===f?void 0:null===(s=f[p])||void 0===s?void 0:null===(l=s.testresults)||void 0===l?void 0:l.userCodeStringFormat)||null,test_output_on_console:!1},!0,null===f||void 0===f?void 0:null===(c=f[p])||void 0===c?void 0:null===(h=c.testresults)||void 0===h?void 0:h.userCode)},this.generateStubEvaluationCodeForConsole=()=>{var e,t,n,i,r,o,a,s,l,c,h;const{executionMetadata:d,executionConfig:u}=this.props,{language:p}=u,f=null===d||void 0===d?void 0:null===(e=d.data)||void 0===e?void 0:e.languages;this.props.onJudgeContentChange({authorCode:null===f||void 0===f?void 0:null===(t=f[p])||void 0===t?void 0:null===(n=t.console)||void 0===n?void 0:n.authorCode,edCode:null===f||void 0===f?void 0:null===(i=f[p])||void 0===i?void 0:null===(r=i.console)||void 0===r?void 0:r.edCode,version:null===f||void 0===f?void 0:null===(o=f[p])||void 0===o?void 0:null===(a=o.console)||void 0===a?void 0:a.version,userCodeStringFormat:(null===f||void 0===f?void 0:null===(s=f[p])||void 0===s?void 0:null===(l=s.console)||void 0===l?void 0:l.userCodeStringFormat)||null,test_output_on_console:!0},!0,null===f||void 0===f?void 0:null===(c=f[p])||void 0===c?void 0:null===(h=c.console)||void 0===h?void 0:h.userCode)},this._truncateText=e=>e&&k.a.isString(e)?e.length>40?r.a.createElement(s.a,{rootClose:!0,placement:"top",trigger:"click",overlay:Y(e)},r.a.createElement("span",{style:{cursor:"pointer"}},e.substring(0,40),r.a.createElement(f.a,{icon:m.f,style:{padding:"0 5px 0 5px",borderRadius:"6px",float:"right"}}))):e:null,this.toggleShowSolution=()=>{this.state.solutionInView||this.props.logWidgetInteraction({tab_index:this.props.tab_index,interaction_touch_point:C.q}),this.setState({solutionInView:!this.state.solutionInView}),this.confirmationTrigger&&this.confirmationTrigger.handleHide()},this.toggleShowHint=()=>{this.state.judgeHintsInView||this.props.logWidgetInteraction({tab_index:this.props.tab_index,interaction_touch_point:C.e}),this.setState({judgeHintsInView:!this.state.judgeHintsInView})},this.handleTestResults=()=>{this.setState({testPaneActive:!0})},this.handleShowConsole=()=>{this.setState({testPaneActive:!1})}}componentDidMount(){if(!this.props.judgeContent){var e,t,n,i,r,o,a,s,l;const{executionMetadata:c,executionConfig:h}=this.props,{language:d}=h,u=null===c||void 0===c?void 0:null===(e=c.data)||void 0===e?void 0:e.languages;this.props.onJudgeContentChange({authorCode:null===u||void 0===u?void 0:null===(t=u[d])||void 0===t?void 0:null===(n=t.testresults)||void 0===n?void 0:n.authorCode,edCode:null===u||void 0===u?void 0:null===(i=u[d])||void 0===i?void 0:null===(r=i.testresults)||void 0===r?void 0:r.edCode,version:null===u||void 0===u?void 0:null===(o=u[d])||void 0===o?void 0:null===(a=o.testresults)||void 0===a?void 0:a.version,userCodeStringFormat:(null===u||void 0===u?void 0:null===(s=u[d])||void 0===s?void 0:null===(l=s.testresults)||void 0===l?void 0:l.userCodeStringFormat)||null,test_output_on_console:!1})}}componentDidUpdate(e){e.executionConfig.language!==this.props.executionConfig.language&&this.reportUpdatedLanguageDefaults(this.props.executionConfig.language),this.props.specialInput===E.e&&e.specialInput!==this.props.specialInput&&this.setState({outputExpanded:!0})}reportUpdatedLanguageDefaults(e){var t,n,i;const{executionMetadata:r}=this.props,o=null===r||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.languages,a=e,s=!!this.props.judgeContent&&!!this.props.judgeContent.test_output_on_console;let l=null===o||void 0===o?void 0:null===(n=o[a])||void 0===n?void 0:null===(i=n.testresults)||void 0===i?void 0:i.authorCode;var c,h;s&&(l=null===o||void 0===o?void 0:null===(c=o[a])||void 0===c?void 0:null===(h=c.console)||void 0===h?void 0:h.authorCode);this.props.judgeContent&&this.props.judgeContent.authorCode&&""!==this.props.judgeContent.authorCode&&(l=this.props.judgeContent.authorCode);const d=this.getEdCodeAndVersionDefaults(s,a);this.props.onJudgeContentChange({authorCode:l,edCode:d.edCode,version:d.version,test_output_on_console:d.test_output_on_console,userCodeStringFormat:d.userCodeStringFormat},!0)}render(){const{executionComplete:e,executionResult:t,testResult:n,testPassedCount:i,testTotalCount:s,testPaneActive:c}=this.state,{additionalFilesLimit:h,entryFileLimit:u,executionConfig:f}=this.props;if(this.props.isDemo)return r.a.createElement("div",{style:{textAlign:"center"}},"Code Judge not available in demo mode");let m=null;if(e&&n&&c){var b,y;let e=null;e=n.map((e,t)=>{var n,i;const o=e.succeeded?r.a.createElement(w.a,null):r.a.createElement(w.k,null);return r.a.createElement("tr",{key:t},r.a.createElement("td",null,o),r.a.createElement("td",null,this._truncateText(e.input)),r.a.createElement("td",null,this._truncateText(e.expected_output)),r.a.createElement("td",null,this._truncateText(e.actual_output)),!(null===(n=this.props)||void 0===n?void 0:null===(i=n.judgeContent)||void 0===i?void 0:i.test_output_on_console)&&r.a.createElement("td",null,this._truncateText(e.reason)))});const o=r.a.createElement(l.a,{responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Result"),r.a.createElement("th",null,"Input"),r.a.createElement("th",null,"Expected Output"),r.a.createElement("th",null,"Actual Output"),!(null===(b=this.props)||void 0===b?void 0:null===(y=b.judgeContent)||void 0===y?void 0:y.test_output_on_console)&&r.a.createElement("th",null,"Reason"))),r.a.createElement("tbody",null,e));m=r.a.createElement(V.g,null,r.a.createElement(V.e,null,r.a.createElement(V.b,null),"".concat(i," of ").concat(s," Tests Passed")),o,r.a.createElement(w.i,null,t.time))}else if(e&&t){const e="Succeeded"===t.reason,n=!t.stdout&&!t.stderr;let i=null;n&&(i=e?r.a.createElement(w.h,null,r.a.createElement(w.a,null),t.reason):r.a.createElement(w.e,null,r.a.createElement(w.k,null),t.reason)),m=r.a.createElement("div",{id:e?"execution_succeeded":"execution_failed"},t.compilation_result&&r.a.createElement(w.b,null,t.compilation_result),i,!n&&r.a.createElement(w.j,null,r.a.createElement(w.f,null,"Output"),r.a.createElement(w.i,null,t.time)),t.stdout&&r.a.createElement(w.g,null,t.stdout),t.stderr&&r.a.createElement(w.c,null,t.stderr))}const C={content:this.props.judgeContent?this.props.judgeContent.authorCode:"",language:f.language,theme:this.props.codeTheme},S={content:this.props.solutionContent,language:f.language,theme:this.props.codeTheme},k={content:this.props.judgeContentPrepend,language:f.language,theme:this.props.codeTheme},A=!!this.props.judgeContent&&!!this.props.judgeContent.test_output_on_console,I=h<0,j=u<0;return r.a.createElement(q.l,null,r.a.createElement(q.a,null,r.a.createElement(q.f,null,r.a.createElement(q.b,null,r.a.createElement(U.a,{onClick:this.handleRun,executionDisabled:this.state.executionInProgress||I||j||this.props.editingApiKeys}),this.props.judgeHints&&this.props.judgeHints.length>0&&r.a.createElement(q.g,{onClick:this.toggleShowHint},r.a.createElement(g.a,null),r.a.createElement("span",null,this.state.judgeHintsInView?"Hide Hint":"Need Hint?")),this.props.showSolution&&(this.state.solutionInView?r.a.createElement(q.g,{onClick:this.toggleShowSolution,"aria-label":"hide solution"},r.a.createElement(d.a,null),r.a.createElement("span",null,"Hide Solution")):r.a.createElement(_.a,{popoverTitle:"Give it another shot?",handleConfirm:this.toggleShowSolution,invertButtons:!0,confirmText:"No, just show the solution",cancelText:"Let me try",ref:e=>{this.confirmationTrigger=e}},r.a.createElement(q.g,{"aria-label":"show solution"},r.a.createElement(d.a,null),r.a.createElement("span",null,"Show Solution"))))),j&&r.a.createElement(q.c,null,"".concat(-1*u," character(s) over limit in first file. (Max: ").concat(O.x,"KB)"),!this.props.readOnly&&r.a.createElement("span",null," . Consider creating a new file.")),I&&!j&&r.a.createElement(q.c,null,"".concat(-1*h," character(s) over limit (Max: ").concat(O.w,"KB)"),!this.props.readOnly&&r.a.createElement("span",null,". Consider using the"," ",r.a.createElement(q.d,{to:T.a.AUTHOR_GUIDE,target:"_new"},"code execution resource file.")))),r.a.createElement(q.f,null,this.props.additionalActions,this.props.fullscreenIconToggle({onClick:this.props.toggleFullScreen}))),!this.props.readOnly&&r.a.createElement(z,{test_output_on_console:A,language:f.language,changeJudgeType:this.changeJudgeType,generateStubEvaluationCode:A?this.generateStubEvaluationCodeForConsole:this.generateStubEvaluationCode,codeContent:C,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.handleAuthorContentChange,solutionContent:S,onSolutionContentChange:this.props.onSolutionContentChange,judgeHints:this.props.judgeHints,onJudgeHintsUpdate:this.props.onJudgeHintsUpdate,judgeContentPrepend:k,onJudgeContentPrependChange:this.props.onJudgeContentPrependChange}),r.a.createElement(o.a,null,this.state.judgeHintsInView&&r.a.createElement(a.a,{classNames:"runnable",timeout:500},r.a.createElement(q.h,null,r.a.createElement(x.f,null,r.a.createElement(x.e,{title:"Hide Hints","aria-hidden":"true",onClick:this.toggleShowHint})),r.a.createElement(H.a,{judgeHints:this.props.judgeHints}))),this.state.solutionInView&&r.a.createElement(a.a,{classNames:"runnable",timeout:500},r.a.createElement(q.h,null,r.a.createElement(x.f,null,r.a.createElement(x.e,{title:"Hide Solution","aria-hidden":"true",onClick:this.toggleShowSolution}),r.a.createElement(x.c,{title:"Copy To Clipboard","aria-hidden":"true",onClick:()=>p()(S.content)})),r.a.createElement(W.a,null,r.a.createElement(G.a,{caption:"Solution",readOnly:!0,inCode:!0})),r.a.createElement(B.a,{codeContent:S,readOnly:!0,isSolution:!0}))),this.state.outputExpanded&&r.a.createElement(a.a,{classNames:"runnable",timeout:500},r.a.createElement(q.h,{isRunnable:!0},r.a.createElement(V.a,null,this.state.executionInProgress?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(V.d,{onClick:this.handleTestResults,active:c},"Show Results"),r.a.createElement(V.d,{onClick:this.handleShowConsole,active:!c},"Show Console")),r.a.createElement(V.f,{onClick:this.handleExpandCollapse})),this.state.executionInProgress&&r.a.createElement(v.a,{statusData:{status:"WAIT",text:"Code Execution In Progress"}}),r.a.createElement("div",null,!this.props.readOnly&&this.props.specialInput===E.e&&r.a.createElement(q.k,null,"The text entered below will be saved in file",r.a.createElement("strong",null," __ed_input.txt ")),(this.state.enableStdin||this.props.specialInput===E.e)&&r.a.createElement(q.j,{componentClass:"textarea",type:"textarea",value:this.props.executionConfig.stdin,placeholder:this.props.specialInput===E.e?"Enter text here":"stdin",onChange:this.handleStdinChange}),m||!this.state.executionInProgress&&"Press Test To Execute")))))}}X.defaultProps={tab_index:null,logWidgetInteraction:()=>null,renderExtractionWrapper:()=>null,renderReplacementWrapper:()=>null,editingApiKeys:!1};t.a=Object(h.f)(K(X))},1997:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1656),a=n(1499),s=n(282),l=n(818),c=n(530),h=n(1),d=n(18),u=n(21),p=n(12);const f={Editor:h.d.div.withConfig({displayName:"styles__Editor",componentId:"p0hnrw-0"})(["margin:0 13px;"]),Index:h.d.span.withConfig({displayName:"styles__Index",componentId:"p0hnrw-1"})(["font-weight:",";"],u.g),Number:h.d.div.withConfig({displayName:"styles__Number",componentId:"p0hnrw-2"})(["margin:0px 0 10px 10px;font-size:",";display:flex;justify-content:space-between;"],p.a.body),Viewer:h.d.div.withConfig({displayName:"styles__Viewer",componentId:"p0hnrw-3"})(["background-color:",";margin:0 13px;padding:5px;border-bottom-left-radius:",";border-bottom-right-radius:",";"],e=>{let{theme:t}=e;return t.palette.grey[50]},d.m,d.m),Wrapper:h.d.div.withConfig({displayName:"styles__Wrapper",componentId:"p0hnrw-4"})(["display:flex;flex-direction:column;border:1px solid ",";border-radius:",";padding:10px;margin:10px 10px 15px 10px;"],e=>{let{theme:t}=e;return t.palette.grey[400]},d.m),ControlWrapper:h.d.div.withConfig({displayName:"styles__ControlWrapper",componentId:"p0hnrw-5"})(["display:flex;"])};var m=n(114),g=n(253),v=n(133),b=n.n(v),y=n(650);class _ extends i.Component{constructor(){super(...arguments),this.onHintUpdate=(e,t)=>{const n=b()(this.props.judgeHints,{[t]:{markdown:{$set:e},html:{$set:Object(s.b)(e)}}});this.props.onJudgeHintsUpdate(n,!0)},this.removeHint=e=>{const{judgeHints:t}=this.props;t&&t.length>e&&this.props.onJudgeHintsUpdate(b()(t,{$splice:[[e,1]]}))},this.swapNodes=(e,t)=>{const{onJudgeHintsUpdate:n}=this.props;n(b()(this.props.judgeHints,{[e]:{$set:this.props.judgeHints[t]},[t]:{$set:this.props.judgeHints[e]}}))},this.hintButtonPanel=e=>{const{judgeHints:t}=this.props,n=t.length,i=[0!==n&&0!==e&&{title:"Move up",icon:"ArrowUp",onClick:()=>this.swapNodes(e,e-1)},0!==n&&e+1!==n&&{title:"Move down",icon:"ArrowDown",onClick:()=>this.swapNodes(e,e+1)},{title:"Remove",icon:"Trash2",onClick:()=>this.removeHint(e)}].filter(Boolean).map(e=>"Remove"===e.title?r.a.createElement(g.a,{key:e.title,popoverTitle:"Are you sure you want to delete this Hint?",handleConfirm:e.onClick,danger:!0,hideOnConfirm:!0},r.a.createElement(o.a,{key:e.title,trigger:["hover"],placement:"top",overlay:r.a.createElement(a.a,{id:"".concat(e.title,"button")},e.title)},r.a.createElement(m.a,{id:e.title,icon:e.icon,size:20,danger:!0,margin:"10px 20px 0px 0px"}))):r.a.createElement(o.a,{key:e.title,trigger:["hover"],placement:"top",overlay:r.a.createElement(a.a,{id:"".concat(e.title,"button")},e.title)},r.a.createElement(m.a,{id:e.title,icon:e.icon,onClick:e.onClick,size:20,hoverColor:this.props.theme.palette.primary.main,margin:"10px 20px 0px 0px"})));return r.a.createElement(f.ControlWrapper,null,i)}}render(){let e=null;const{judgeHints:t}=this.props;return t&&t.length>0&&(e=this.props.judgeHints.map((e,t)=>{const n={content:e.markdown,language:"markdown",theme:"default"};return r.a.createElement("div",{key:t},r.a.createElement(f.Wrapper,null,r.a.createElement(f.Number,null,r.a.createElement(f.Index,null,"Hint ",t+1),this.hintButtonPanel(t)),r.a.createElement(f.Editor,null,r.a.createElement(c.a,{placeholder:"Write hint in markdown",showRuler:!1,codeContent:n,readOnly:!1,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:e=>{this.onHintUpdate(e,t)}})),r.a.createElement(f.Viewer,null,r.a.createElement(l.a,{mdHtml:e.html}))))})),r.a.createElement("div",{style:{minHeight:90}},e)}}t.a=Object(y.a)(_)},1998:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1667),a=n(1),s=n(18);a.d.div.withConfig({displayName:"styles__EditableTextStyled",componentId:"sc-34kr7s-0"})([""]);const l=a.d.input.withConfig({displayName:"styles__NoOutline",componentId:"sc-34kr7s-1"})(["border:none;border-radius:",";:focus{outline:none;}"],s.v),c=a.d.span.withConfig({displayName:"styles__Filename",componentId:"sc-34kr7s-2"})(["white-space:wrap;word-break:break-all;margin-right:10px;"]);n.d(t,"a",(function(){return h}));class h extends r.a.Component{constructor(){super(...arguments),this.state={mode:"view"},this.editorRef=r.a.createRef(),this.gotoEdit=()=>{this.setState({mode:"edit"})},this.handleKeyUp=e=>{"Enter"===e.key?this.updateValue():"Escape"===e.key&&this.gotoView()},this.updateValue=()=>{if(this.editorRef.current){const e=this.editorRef.current.value.trim();this.gotoView(),this.props.onValueChange(e)}}}componentDidUpdate(){var e;"edit"===this.state.mode&&(null===(e=this.editorRef.current)||void 0===e||e.select())}gotoView(){this.setState({mode:"view"})}render(){return"edit"===this.state.mode?r.a.createElement("div",{className:"".concat(this.props.className," cmcomp-edit-text")},r.a.createElement(l,{ref:this.editorRef,type:"text",defaultValue:this.props.content,onKeyUp:this.handleKeyUp,onBlur:this.updateValue,maxLength:this.props.maxLength})):r.a.createElement("div",null,r.a.createElement(c,{id:"fileTabName-".concat(this.props.content)},this.props.content),r.a.createElement(o.a,{onClick:this.gotoEdit,size:15,style:{marginBottom:"-3px"}}))}}h.defaultProps={maxLength:50}},2002:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=m(o),s=m(n(2)),l=m(n(1864)),c=m(n(1865)),h=m(n(1812)),d=m(n(2003)),u=m(n(1813)),p=m(n(1814)),f=n(1866);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){return 0===Object.keys(e).length},v=function(e,t){for(var n=[],i=t-e>0,r=e;i?r<=t:r>=t;i?r++:r--)i?n.push(r):n.unshift(r);return n},b=function(e){return e.split(/\r\n|\n|\r/).map((function(e){return e.split("\t")}))},y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseDown=n.onMouseDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onMouseOver=n.onMouseOver.bind(n),n.onDoubleClick=n.onDoubleClick.bind(n),n.onContextMenu=n.onContextMenu.bind(n),n.handleNavigate=n.handleNavigate.bind(n),n.handleKey=n.handleKey.bind(n).bind(n),n.handleCut=n.handleCut.bind(n),n.handleCopy=n.handleCopy.bind(n),n.handlePaste=n.handlePaste.bind(n),n.pageClick=n.pageClick.bind(n),n.onChange=n.onChange.bind(n),n.onRevert=n.onRevert.bind(n),n.isSelected=n.isSelected.bind(n),n.isEditing=n.isEditing.bind(n),n.isClearing=n.isClearing.bind(n),n.handleComponentKey=n.handleComponentKey.bind(n),n.handleKeyboardCellMovement=n.handleKeyboardCellMovement.bind(n),n.defaultState={start:{},end:{},selecting:!1,forceEdit:!1,editing:{},clear:{}},n.state=n.defaultState,n.removeAllListeners=n.removeAllListeners.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"removeAllListeners",value:function(){document.removeEventListener("mousedown",this.pageClick),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("cut",this.handleCut),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("paste",this.handlePaste),document.removeEventListener("keydown",this.handlePaste)}},{key:"componentDidMount",value:function(){this.dgDom&&this.dgDom.addEventListener("keydown",this.handleComponentKey)}},{key:"componentWillUnmount",value:function(){this.dgDom&&this.dgDom.removeEventListener("keydown",this.handleComponentKey),this.removeAllListeners()}},{key:"isSelectionControlled",value:function(){return"selected"in this.props}},{key:"getState",value:function(){var e=this.state;if(this.isSelectionControlled()){var t=this.props.selected||{},n=t.start,r=t.end;n=n||this.defaultState.start,r=r||this.defaultState.end,e=i({},e,{start:n,end:r})}return e}},{key:"_setState",value:function(e){if(this.isSelectionControlled()&&("start"in e||"end"in e)){var t=e.start,n=e.end,i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["start","end"]),r=this.props,o=r.selected,a=r.onSelect;o=o||{},t||(t="start"in o?o.start:this.defaultState.start),n||(n="end"in o?o.end:this.defaultState.end),a&&a({start:t,end:n}),this.setState(i)}else this.setState(e)}},{key:"pageClick",value:function(e){this.dgDom.contains(e.target)||(this.setState(this.defaultState),this.removeAllListeners())}},{key:"handleCut",value:function(e){if(g(this.state.editing)){e.preventDefault(),this.handleCopy(e);var t=this.getState(),n=t.start,i=t.end;this.clearSelectedCells(n,i)}}},{key:"handleCopy",value:function(e){if(g(this.state.editing)){e.preventDefault();var t=this.props,n=t.dataRenderer,i=t.valueRenderer,r=t.data,o=this.getState(),a=o.start,s=o.end,l=v(a.i,s.i).map((function(e){return v(a.j,s.j).map((function(t){var o=r[e][t],a=n?n(o,e,t):null;return""===a||null===a||"undefined"===typeof a?i(o,e,t):a})).join("\t")})).join("\n");e.clipboardData.setData("text/plain",l)}}},{key:"handlePaste",value:function(e){if(g(this.state.editing)){var t=this.getState(),n=t.start,i=t.end;n={i:Math.min(n.i,i.i),j:Math.min(n.j,i.j)},i={i:Math.max(n.i,i.i),j:Math.max(n.j,i.j)};var r=this.props.parsePaste||b,o=[],a=[];window.clipboardData&&window.clipboardData.getData?a=r(window.clipboardData.getData("Text")):e.clipboardData&&e.clipboardData.getData&&(a=r(e.clipboardData.getData("text/plain")));var s=this.props,l=s.data,c=s.onCellsChanged,h=s.onPaste,d=s.onChange;if(c){var u=[];a.forEach((function(e,t){e.forEach((function(e,r){i={i:n.i+t,j:n.j+r};var a=l[i.i]&&l[i.i][i.j];a?a.readOnly||o.push({cell:a,row:i.i,col:i.j,value:e}):u.push({row:i.i,col:i.j,value:e})}))})),u.length?c(o,u):c(o)}else h?(a.forEach((function(e,t){var r=[];e.forEach((function(e,o){i={i:n.i+t,j:n.j+o};var a=l[i.i]&&l[i.i][i.j];r.push({cell:a,data:e})})),o.push(r)})),h(o)):d&&a.forEach((function(e,t){e.forEach((function(e,r){i={i:n.i+t,j:n.j+r};var o=l[i.i]&&l[i.i][i.j];o&&!o.readOnly&&d(o,i.i,i.j,e)}))}));this._setState({end:i})}}},{key:"handleKeyboardCellMovement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getState(),i=n.start,r=n.editing,o=this.props.data,a=r&&!g(r),s=o[i.i]&&o[i.i][i.j];if(a&&!t)return!1;var l=s&&s.component,c=e.which||e.keyCode;l&&a?e.preventDefault():c===f.TAB_KEY?this.handleNavigate(e,{i:0,j:e.shiftKey?-1:1},!0):c===f.RIGHT_KEY?this.handleNavigate(e,{i:0,j:1}):c===f.LEFT_KEY?this.handleNavigate(e,{i:0,j:-1}):c===f.UP_KEY?this.handleNavigate(e,{i:-1,j:0}):c===f.DOWN_KEY?this.handleNavigate(e,{i:1,j:0}):t&&c===f.ENTER_KEY&&this.handleNavigate(e,{i:e.shiftKey?-1:1,j:0})}},{key:"handleKey",value:function(e){if(!e.isPropagationStopped||!e.isPropagationStopped()){var t=e.which||e.keyCode,n=this.getState(),i=n.start,r=n.end,o=n.editing,a=o&&!g(o),s=!i||g(i),l=e.ctrlKey||e.metaKey,c=t===f.DELETE_KEY||t===f.BACKSPACE_KEY,h=t===f.ENTER_KEY,d=t>=48&&t<=57,u=t>=65&&t<=90,p=t>=160&&t<=255,m=t>=96&&t<=105,v=!s&&this.props.data[i.i][i.j],b=[187,189,190,107,109,110].indexOf(t)>-1;if(s||l)return!0;a||(this.handleKeyboardCellMovement(e),c?(e.preventDefault(),this.clearSelectedCells(i,r)):v&&!v.readOnly&&(h?(this._setState({editing:i,clear:{},forceEdit:!0}),e.preventDefault()):(d||m||u||p||b)&&this._setState({editing:i,clear:i,forceEdit:!1})))}}},{key:"getSelectedCells",value:function(e,t,n){var i=[];return v(t.i,n.i).map((function(r){v(t.j,n.j).map((function(t){e[r]&&e[r][t]&&i.push({cell:e[r][t],row:r,col:t})}))})),i}},{key:"clearSelectedCells",value:function(e,t){var n=this,r=this.props,o=r.data,a=r.onCellsChanged,s=r.onChange,l=this.getSelectedCells(o,e,t).filter((function(e){return!e.cell.readOnly})).map((function(e){return i({},e,{value:""})}));a?(a(l),this.onRevert()):s&&setTimeout((function(){l.forEach((function(e){var t=e.cell,n=e.row,i=e.col,r=e.value;s(t,n,i,r)})),n.onRevert()}),0)}},{key:"handleNavigate",value:function(e,t,n){var i=this;if(t&&(t.i||t.j)){var r=this.getState(),o=r.start,a=r.end,s=this.props.data,l={i:o.i,j:o.j},c={i:a.i+t.i,j:a.j+t.j},h={i:o.i+t.i,j:o.j+t.j},d=function(){return!(!s[h.i]||"undefined"===typeof s[h.i][h.j])&&(i._setState({start:e.shiftKey&&!n?l:h,end:e.shiftKey&&!n?c:h,editing:{}}),e.preventDefault(),!0)};!d()&&n&&(h=t.j<0?{i:o.i-1,j:s[0].length-1}:{i:o.i+1,j:0},d())}}},{key:"handleComponentKey",value:function(e){var t=this,n=e.which||e.keyCode;if([f.ENTER_KEY,f.ESCAPE_KEY,f.TAB_KEY].includes(n)){var i=this.state.editing,r=this.props.data;if(!g(i)){var o=r[i.i][i.j],a=e.shiftKey?-1:1;if(o&&o.component&&!o.forceComponent){e.preventDefault();var s=this.onRevert;n===f.ENTER_KEY?s=function(){return t.handleNavigate(e,{i:a,j:0})}:n===f.TAB_KEY&&(s=function(){return t.handleNavigate(e,{i:0,j:a},!0)}),setTimeout((function(){s(),t.dgDom&&t.dgDom.focus()}),1)}}}}},{key:"onContextMenu",value:function(e,t,n){var i=this.props.data[t][n];this.props.onContextMenu&&this.props.onContextMenu(e,i,t,n)}},{key:"onDoubleClick",value:function(e,t){this.props.data[e][t].readOnly||this._setState({editing:{i:e,j:t},forceEdit:!0,clear:{}})}},{key:"onMouseDown",value:function(e,t,n){var i=this,r=!g(this.state.editing)&&this.state.editing.i===e&&this.state.editing.j===t,o=g(this.state.editing)||this.state.editing.i!==e||this.state.editing.j!==t?{}:this.state.editing;this._setState({selecting:!r,start:n.shiftKey?this.state.start:{i:e,j:t},end:{i:e,j:t},editing:o,forceEdit:!!r});var a=window.navigator.userAgent;/MSIE|Trident/.test(a)&&document.addEventListener("keydown",(function(e){86!==e.keyCode&&86!==e.which||!e.ctrlKey||i.handlePaste(e)})),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousedown",this.pageClick),document.addEventListener("cut",this.handleCut),document.addEventListener("copy",this.handleCopy),document.addEventListener("paste",this.handlePaste)}},{key:"onMouseOver",value:function(e,t){this.state.selecting&&g(this.state.editing)&&this._setState({end:{i:e,j:t}})}},{key:"onMouseUp",value:function(){this._setState({selecting:!1}),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"onChange",value:function(e,t,n){var i=this.props,r=i.onChange,o=i.onCellsChanged,a=i.data;o?o([{cell:a[e][t],row:e,col:t,value:n}]):r&&r(a[e][t],e,t,n),this.onRevert()}},{key:"onRevert",value:function(){this._setState({editing:{}}),this.dgDom&&this.dgDom.focus()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,i=n.start,r=n.end,o=t.end;g(r)||r.i===o.i&&r.j===o.j||this.isSelectionControlled()||this.props.onSelect&&this.props.onSelect({start:i,end:r})}},{key:"isSelected",value:function(e,t){var n=this.getState(),i=n.start,r=n.end,o=t>=i.j&&t<=r.j,a=t<=i.j&&t>=r.j,s=e>=i.i&&e<=r.i,l=e<=i.i&&e>=r.i;return o&&s||a&&s||a&&l||o&&l}},{key:"isEditing",value:function(e,t){return this.state.editing.i===e&&this.state.editing.j===t}},{key:"isClearing",value:function(e,t){return this.state.clear.i===e&&this.state.clear.j===t}},{key:"render",value:function(){var e=this,t=this.props,n=t.sheetRenderer,i=t.rowRenderer,r=t.cellRenderer,o=t.dataRenderer,s=t.valueRenderer,l=t.dataEditor,c=t.valueViewer,h=t.attributesRenderer,u=t.className,p=t.overflow,f=t.data,m=t.keyFn,g=this.state.forceEdit;return a.default.createElement("span",{ref:function(t){e.dgDom=t},tabIndex:"0",className:"data-grid-container",onKeyDown:this.handleKey},a.default.createElement(n,{data:f,className:["data-grid",u,p].filter((function(e){return e})).join(" ")},f.map((function(t,n){return a.default.createElement(i,{key:m?m(n):n,row:n,cells:t},t.map((function(t,i){return a.default.createElement(d.default,{key:t.key?t.key:n+"-"+i,row:n,col:i,cell:t,forceEdit:g,onMouseDown:e.onMouseDown,onMouseOver:e.onMouseOver,onDoubleClick:e.onDoubleClick,onContextMenu:e.onContextMenu,onChange:e.onChange,onRevert:e.onRevert,onNavigate:e.handleKeyboardCellMovement,onKey:e.handleKey,selected:e.isSelected(n,i),editing:e.isEditing(n,i),clearing:e.isClearing(n,i),attributesRenderer:h,cellRenderer:r,valueRenderer:s,dataRenderer:o,valueViewer:c,dataEditor:l})})))}))))}}]),t}(o.PureComponent);t.default=y,y.propTypes={data:s.default.array.isRequired,className:s.default.string,overflow:s.default.oneOf(["wrap","nowrap","clip"]),onChange:s.default.func,onCellsChanged:s.default.func,onContextMenu:s.default.func,onSelect:s.default.func,selected:s.default.shape({start:s.default.shape({i:s.default.number,j:s.default.number}),end:s.default.shape({i:s.default.number,j:s.default.number})}),valueRenderer:s.default.func.isRequired,dataRenderer:s.default.func,sheetRenderer:s.default.func.isRequired,rowRenderer:s.default.func.isRequired,cellRenderer:s.default.func.isRequired,valueViewer:s.default.func,dataEditor:s.default.func,parsePaste:s.default.func,attributesRenderer:s.default.func,keyFn:s.default.func},y.defaultProps={sheetRenderer:l.default,rowRenderer:c.default,cellRenderer:h.default,valueViewer:p.default,dataEditor:u.default}},2003:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=p(r),a=p(n(2)),s=n(1866),l=p(n(1812)),c=p(n(1762)),h=p(n(1813)),d=p(n(1814)),u=n(1867);function p(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.cell,n=e.row,i=e.col,r=e.valueRenderer,o=e.dataRenderer;return(0,u.renderData)(t,n,i,r,o)}function m(e){var t=e.cell,n=e.row,i=e.col,r=e.valueRenderer;return(0,u.renderValue)(t,n,i,r)}function g(e){var t="number"===typeof e.width?e.width+"px":e.width;return t?{width:t}:null}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.handleCommit=n.handleCommit.bind(n),n.handleRevert=n.handleRevert.bind(n),n.handleKey=n.handleKey.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseOver=n.handleMouseOver.bind(n),n.handleContextMenu=n.handleContextMenu.bind(n),n.handleDoubleClick=n.handleDoubleClick.bind(n),n.state={updated:!1,reverting:!1,value:"",committing:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(m(e)!==m(this.props)&&(this.setState({updated:!0}),this.timeout=setTimeout((function(){return t.setState({updated:!1})}),700)),!0===this.props.editing&&!1===e.editing){var n=this.props.clearing?"":f(this.props);this.setState({value:n,reverting:!1})}!0!==e.editing||!1!==this.props.editing||this.state.reverting||this.state.committing||this.state.value===f(this.props)||this.props.onChange(this.props.row,this.props.col,this.state.value)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"handleChange",value:function(e){this.setState({value:e,committing:!1})}},{key:"handleCommit",value:function(e,t){var n=this.props,i=n.onChange,r=n.onNavigate;e!==f(this.props)?(this.setState({value:e,committing:!0}),i(this.props.row,this.props.col,e)):this.handleRevert(),t&&(t.preventDefault(),r(t,!0))}},{key:"handleRevert",value:function(){this.setState({reverting:!0}),this.props.onRevert()}},{key:"handleMouseDown",value:function(e){var t=this.props,n=t.row,i=t.col,r=t.onMouseDown;t.cell.disableEvents||r(n,i,e)}},{key:"handleMouseOver",value:function(e){var t=this.props,n=t.row,i=t.col,r=t.onMouseOver;t.cell.disableEvents||r(n,i)}},{key:"handleDoubleClick",value:function(e){var t=this.props,n=t.row,i=t.col,r=t.onDoubleClick;t.cell.disableEvents||r(n,i)}},{key:"handleContextMenu",value:function(e){var t=this.props,n=t.row,i=t.col,r=t.onContextMenu;t.cell.disableEvents||r(e,n,i)}},{key:"handleKey",value:function(e){var t=e.which||e.keyCode;if(t===s.ESCAPE_KEY)return this.handleRevert();var n=this.props,i=n.cell.component,r=n.forceEdit||!!i;(t===s.ENTER_KEY||t===s.TAB_KEY||!r&&[s.LEFT_KEY,s.RIGHT_KEY,s.UP_KEY,s.DOWN_KEY].includes(t))&&this.handleCommit(this.state.value,e)}},{key:"renderComponent",value:function(e,t){var n=t.component,i=t.readOnly,r=t.forceComponent;if(e&&!i||r)return n}},{key:"renderEditor",value:function(e,t,n,i,r){if(e){var a=t.dataEditor||r||h.default;return o.default.createElement(a,{cell:t,row:n,col:i,value:this.state.value,onChange:this.handleChange,onCommit:this.handleCommit,onRevert:this.handleRevert,onKeyDown:this.handleKey})}}},{key:"renderViewer",value:function(e,t,n,i,r){var a=e.valueViewer||r||d.default,s=(0,u.renderValue)(e,t,n,i);return o.default.createElement(a,{cell:e,row:t,col:n,value:s})}},{key:"render",value:function(){var e=this.props,t=e.row,n=e.col,i=e.cell,r=e.cellRenderer,a=e.valueRenderer,s=e.dataEditor,l=e.valueViewer,c=e.attributesRenderer,h=e.selected,d=e.editing,u=e.onKeyUp,p=this.state.updated,f=this.renderComponent(d,i)||this.renderEditor(d,i,t,n,s)||this.renderViewer(i,t,n,a,l),m=[i.className,"cell",i.overflow,h&&"selected",d&&"editing",i.readOnly&&"read-only",p&&"updated"].filter((function(e){return e})).join(" ");return o.default.createElement(r,{row:t,col:n,cell:i,selected:h,editing:d,updated:p,attributesRenderer:c,className:m,style:g(i),onMouseDown:this.handleMouseDown,onMouseOver:this.handleMouseOver,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu,onKeyUp:u},f)}}]),t}(r.PureComponent);t.default=v,v.propTypes={row:a.default.number.isRequired,col:a.default.number.isRequired,cell:a.default.shape(c.default).isRequired,forceEdit:a.default.bool,selected:a.default.bool,editing:a.default.bool,clearing:a.default.bool,cellRenderer:a.default.func,valueRenderer:a.default.func.isRequired,dataRenderer:a.default.func,valueViewer:a.default.func,dataEditor:a.default.func,attributesRenderer:a.default.func,onNavigate:a.default.func.isRequired,onMouseDown:a.default.func.isRequired,onMouseOver:a.default.func.isRequired,onDoubleClick:a.default.func.isRequired,onContextMenu:a.default.func.isRequired,onChange:a.default.func.isRequired,onRevert:a.default.func.isRequired},v.defaultProps={forceEdit:!1,selected:!1,editing:!1,clearing:!1,cellRenderer:l.default}},2004:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p}));var i=n(1),r=n(127),o=n(21),a=n(12),s=n(192);const l=Object(i.d)(r.j).withConfig({displayName:"styles__SubmitCourseForReviewModalStyled",componentId:"sc-1414516-0"})(["display:flex !important;flex-direction:column !important;padding-top:10px;margin:20px 20px;"]),c=Object(i.d)(s.d).withConfig({displayName:"styles__TextArea",componentId:"sc-1414516-1"})(["height:200px !important;color:"," !important;padding-left:10px;margin:5px 0;min-width:100%;max-width:100%;"],e=>{let{theme:t}=e;return t.palette.common.black}),h=Object(i.d)(r.i).withConfig({displayName:"styles__Title",componentId:"sc-1414516-2"})(["font-weight:",";font-size:",";"],o.g,a.a.h3),d=i.d.form.withConfig({displayName:"styles__Form",componentId:"sc-1414516-3"})(["width:100%;padding:0 30px;"]),u=Object(i.d)(r.e).withConfig({displayName:"styles__GreyText",componentId:"sc-1414516-4"})(["font-size:",";"],a.a.textLarge),p=i.d.div.withConfig({displayName:"styles__Result",componentId:"sc-1414516-5"})(["font-size:",";padding:30px 10px;color:",";"],a.a.h3,e=>e.success?e=>{let{theme:t}=e;return t.palette.success.main}:e=>{let{theme:t}=e;return t.palette.error.main});t.f=l},2006:function(e,t,n){e.exports=n(2007)},2007:function(e,t,n){n(2008),e.exports=n(269).parseInt},2008:function(e,t,n){var i=n(335),r=n(2009);i(i.G+i.F*(parseInt!=r),{parseInt:r})},2009:function(e,t,n){var i=n(487).parseInt,r=n(2010).trim,o=n(1871),a=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(e,t){var n=r(String(e),3);return i(n,t>>>0||(a.test(n)?16:10))}:i},2010:function(e,t,n){var i=n(335),r=n(653),o=n(538),a=n(1871),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),h=function(e,t,n){var r={},s=o((function(){return!!a[e]()||"\u200b\x85"!="\u200b\x85"[e]()})),l=r[e]=s?t(d):a[e];n&&(r[n]=l),i(i.P+i.F*s,"String",r)},d=h.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=h},2013:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=function(e){var t=e.color,n=e.size,i=l(e,["color","size"]);return r.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.a.createElement("line",{x1:"12",y1:"17",x2:"12",y2:"17"}))};c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.defaultProps={color:"currentColor",size:"24"},t.a=c},2014:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(387);t.a=e=>{let{data:t,removeTag:n,status:i=null}=e;return r.a.createElement(o.e,{status:i},t,r.a.createElement(o.c,{onClick:()=>n(t)}))}},2015:function(e,t,n){"use strict";t.a={"www.youtube.com":!0,"youtube.com":!0,"youtu.be":!0,"vimeo.com":!0,"www.vimeo.com":!0}},2016:function(e,t,n){"use strict";t.a=(e,t)=>{if(e){const n=e.match(/^https:\/\/([^/?#]+)(?:[/?#]|$)/i),i=null===n||void 0===n?void 0:n[1];if(i&&t[i])return!0}return!1}},2017:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HORIZONTAL=t.VERTICAL=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.SortableComposition=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return function(n){function s(){var e,n,i;c(this,s);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=i=h(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(o))),i.sortEnd=function(e){e.preventDefault(),f=null},i.sortStart=function(e){f=e.currentTarget.dataset.id;var t=e.dataTransfer;void 0!==t&&(e.dataTransfer.setData("text",e.target.innerHTML),t.setDragImage&&"a"===e.currentTarget.tagName.toLowerCase()&&t.setDragImage(e.target,0,0))},i.dragOver=function(e){e.preventDefault();var n=i.props,r=n.moveInMiddle,o=(n.sortId,e.currentTarget),s=Number(o.dataset.id),l=Number(f),c=o.getBoundingClientRect().height,h=o.getBoundingClientRect().width,d=e.clientX,m=e.clientY,g=o.getBoundingClientRect().top,v=o.getBoundingClientRect().left,b=void 0,y=i.props.items;t===u&&(b=(0,a.isMouseBeyond)(m,g,c,r)),t===p&&(b=(0,a.isMouseBeyond)(d,v,h,r));a.isMouseBeyond;s!==l&&b&&(y=(0,a.swapArrayElements)(y,l,s),f=s,i.props.onSortItems(y))},h(i,n)}return d(s,n),r(s,[{key:"render",value:function(){var t=Object.assign({},this.props);delete t.onSortItems;var n=t.sortId,r=l(t,["sortId"]);return o.default.createElement(e,i({draggable:!0,onDragOver:this.dragOver,onDragStart:this.sortStart,onDragEnd:this.sortEnd,onTouchStart:this.sortStart,onTouchMove:this.dragOver,onTouchEnd:this.sortEnd,"data-id":n},r))}}]),s}(o.default.Component)};var o=s(n(0)),a=(s(n(2)),n(2018));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.VERTICAL="VERTICAL",p=t.HORIZONTAL="HORIZONTAL",f=null},2018:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.swapArrayElements=function(e,t,n){var i=e[n];return e[n]=e[t],e[t]=i,e},t.isMouseBeyond=function(e,t,n,i){var r;r=i?n/2:0;return e-t>r}},2028:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=function(e){var t=e.color,n=e.size,i=l(e,["color","size"]);return r.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.a.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),r.a.createElement("polyline",{points:"15 3 21 3 21 9"}),r.a.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))};c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.defaultProps={color:"currentColor",size:"24"},t.a=c},2030:function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(1753),t.createHash=t.Hash=n(1763),t.createHmac=t.Hmac=n(1890);var i=n(2044),r=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);t.getHashes=function(){return o};var a=n(1893);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=n(2046);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var l=n(2061);t.DiffieHellmanGroup=l.DiffieHellmanGroup,t.createDiffieHellmanGroup=l.createDiffieHellmanGroup,t.getDiffieHellman=l.getDiffieHellman,t.createDiffieHellman=l.createDiffieHellman,t.DiffieHellman=l.DiffieHellman;var c=n(2066);t.createSign=c.createSign,t.Sign=c.Sign,t.createVerify=c.createVerify,t.Verify=c.Verify,t.createECDH=n(2100);var h=n(2101);t.publicEncrypt=h.publicEncrypt,t.privateEncrypt=h.privateEncrypt,t.publicDecrypt=h.publicDecrypt,t.privateDecrypt=h.privateDecrypt;var d=n(2104);t.randomFill=d.randomFill,t.randomFillSync=d.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},2031:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},2032:function(e,t,n){"use strict";var i=n(1824).Buffer,r=n(1962);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r,o=i.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,r=s,t.copy(n,r),s+=a.data.length,a=a.next;return o},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},2033:function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(i){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(this,n(191))},2034:function(e,t,n){"use strict";e.exports=o;var i=n(1887),r=Object.create(n(1764));function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r.inherits=n(1726),r.inherits(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},2035:function(e,t,n){e.exports=n(1825)},2036:function(e,t,n){e.exports=n(1751)},2037:function(e,t,n){e.exports=n(1823).Transform},2038:function(e,t,n){e.exports=n(1823).PassThrough},2039:function(e,t,n){var i=n(1726),r=n(1754),o=n(1727).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function l(){this.init(),this._w=s,r.call(this,64,56)}function c(e){return e<<30|e>>>2}function h(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,l=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=n[d-3]^n[d-8]^n[d-14]^n[d-16];for(var u=0;u<80;++u){var p=~~(u/20),f=0|((t=i)<<5|t>>>27)+h(p,r,o,s)+l+n[u]+a[p];l=s,s=o,o=c(r),r=i,i=f}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},2040:function(e,t,n){var i=n(1726),r=n(1754),o=n(1727).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function l(){this.init(),this._w=s,r.call(this,64,56)}function c(e){return e<<5|e>>>27}function h(e){return e<<30|e>>>2}function d(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,l=0|this._e,u=0;u<16;++u)n[u]=e.readInt32BE(4*u);for(;u<80;++u)n[u]=(t=n[u-3]^n[u-8]^n[u-14]^n[u-16])<<1|t>>>31;for(var p=0;p<80;++p){var f=~~(p/20),m=c(i)+d(f,r,o,s)+l+n[p]+a[f]|0;l=s,s=o,o=h(r),r=i,i=m}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},2041:function(e,t,n){var i=n(1726),r=n(1888),o=n(1754),a=n(1727).Buffer,s=new Array(64);function l(){this.init(),this._w=s,o.call(this,64,56)}i(l,r),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=l},2042:function(e,t,n){var i=n(1726),r=n(1889),o=n(1754),a=n(1727).Buffer,s=new Array(160);function l(){this.init(),this._w=s,o.call(this,128,112)}i(l,r),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=l},2043:function(e,t,n){"use strict";var i=n(1726),r=n(1727).Buffer,o=n(1748),a=r.alloc(128);function s(e,t){o.call(this,"digest"),"string"===typeof t&&(t=r.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=r.concat([t,a],64));for(var n=this._ipad=r.allocUnsafe(64),i=this._opad=r.allocUnsafe(64),s=0;s<64;s++)n[s]=54^t[s],i[s]=92^t[s];this._hash=[n]}i(s,o),s.prototype._update=function(e){this._hash.push(e)},s.prototype._final=function(){var e=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,e]))},e.exports=s},2044:function(e,t,n){e.exports=n(1892)},2045:function(e,t,n){(function(t,i){var r,o=n(1894),a=n(1895),s=n(1896),l=n(1727).Buffer,c=t.crypto&&t.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function u(e,t,n,i,r){return c.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return c.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:r}},e,i<<3)})).then((function(e){return l.from(e)}))}e.exports=function(e,n,p,f,m,g){"function"===typeof m&&(g=m,m=void 0);var v=h[(m=m||"sha1").toLowerCase()];if(!v||"function"!==typeof t.Promise)return i.nextTick((function(){var t;try{t=s(e,n,p,f,m)}catch(i){return g(i)}g(null,t)}));if(o(e,n,p,f),"function"!==typeof g)throw new Error("No callback provided to pbkdf2");l.isBuffer(e)||(e=l.from(e,a)),l.isBuffer(n)||(n=l.from(n,a)),function(e,t){e.then((function(e){i.nextTick((function(){t(null,e)}))}),(function(e){i.nextTick((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==d[e])return d[e];var n=u(r=r||l.alloc(8),r,10,128,e).then((function(){return!0})).catch((function(){return!1}));return d[e]=n,n}(v).then((function(t){return t?u(e,n,p,f,v):s(e,n,p,f,m)})),g)}}).call(this,n(191),n(328))},2046:function(e,t,n){var i=n(2047),r=n(1830),o=n(1831),a=n(2060),s=n(1790);function l(e,t,n){if(e=e.toLowerCase(),o[e])return r.createCipheriv(e,t,n);if(a[e])return new i({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function c(e,t,n){if(e=e.toLowerCase(),o[e])return r.createDecipheriv(e,t,n);if(a[e])return new i({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,i;if(e=e.toLowerCase(),o[e])n=o[e].key,i=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,i=a[e].iv}var r=s(t,!1,n,i);return l(e,r.key,r.iv)},t.createCipheriv=t.Cipheriv=l,t.createDecipher=t.Decipher=function(e,t){var n,i;if(e=e.toLowerCase(),o[e])n=o[e].key,i=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,i=a[e].iv}var r=s(t,!1,n,i);return c(e,r.key,r.iv)},t.createDecipheriv=t.Decipheriv=c,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(r.getCiphers())}},2047:function(e,t,n){var i=n(1748),r=n(2048),o=n(1726),a=n(1727).Buffer,s={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function l(e){i.call(this);var t,n=e.mode.toLowerCase(),r=s[n];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var l=e.iv;a.isBuffer(l)||(l=a.from(l)),this._des=r.create({key:o,iv:l,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=l,o(l,i),l.prototype._update=function(e){return a.from(this._des.update(e))},l.prototype._final=function(){return a.from(this._des.final())}},2048:function(e,t,n){"use strict";t.utils=n(1897),t.Cipher=n(1829),t.DES=n(1898),t.CBC=n(2049),t.EDE=n(2050)},2049:function(e,t,n){"use strict";var i=n(1738),r=n(1726),o={};function a(e){i.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}r(t,e);for(var n=Object.keys(o),i=0;i<n.length;i++){var a=n[i];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},o._update=function(e,t,n,i){var r=this._cbcState,o=this.constructor.super_.prototype,a=r.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,n,i);for(s=0;s<this.blockSize;s++)a[s]=n[i+s]}else{o._update.call(this,e,t,n,i);for(s=0;s<this.blockSize;s++)n[i+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},2050:function(e,t,n){"use strict";var i=n(1738),r=n(1726),o=n(1829),a=n(1898);function s(e,t){i.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),r=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:r}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:n})]}function l(e){o.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}r(l,o),e.exports=l,l.create=function(e){return new l(e)},l.prototype._update=function(e,t,n,i){var r=this._edeState;r.ciphers[0]._update(e,t,n,i),r.ciphers[1]._update(n,i,n,i),r.ciphers[2]._update(n,i,n,i)},l.prototype._pad=a.prototype._pad,l.prototype._unpad=a.prototype._unpad},2051:function(e,t,n){var i=n(1831),r=n(1902),o=n(1727).Buffer,a=n(1903),s=n(1748),l=n(1789),c=n(1790);function h(e,t,n){s.call(this),this._cache=new u,this._cipher=new l.AES(t),this._prev=o.from(n),this._mode=e,this._autopadding=!0}n(1726)(h,s),h.prototype._update=function(e){var t,n;this._cache.add(e);for(var i=[];t=this._cache.get();)n=this._mode.encrypt(this,t),i.push(n);return o.concat(i)};var d=o.alloc(16,16);function u(){this.cache=o.allocUnsafe(0)}function p(e,t,n){var s=i[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"===typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,t,n):"auth"===s.type?new r(s.module,t,n):new h(s.module,t,n)}h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},u.prototype.add=function(e){this.cache=o.concat([this.cache,e])},u.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},u.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return o.concat([this.cache,t])},t.createCipheriv=p,t.createCipher=function(e,t){var n=i[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=c(t,!1,n.key,n.iv);return p(e,r.key,r.iv)}},2052:function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},2053:function(e,t,n){var i=n(1765);t.encrypt=function(e,t){var n=i(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var r=e._cipher.decryptBlock(t);return i(r,n)}},2054:function(e,t,n){var i=n(1727).Buffer,r=n(1765);function o(e,t,n){var o=t.length,a=r(t,e._cache);return e._cache=e._cache.slice(o),e._prev=i.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var r,a=i.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=i.allocUnsafe(0)),!(e._cache.length<=t.length)){a=i.concat([a,o(e,t,n)]);break}r=e._cache.length,a=i.concat([a,o(e,t.slice(0,r),n)]),t=t.slice(r)}return a}},2055:function(e,t,n){var i=n(1727).Buffer;function r(e,t,n){var r=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=i.concat([e._prev.slice(1),i.from([n?t:r])]),r}t.encrypt=function(e,t,n){for(var o=t.length,a=i.allocUnsafe(o),s=-1;++s<o;)a[s]=r(e,t[s],n);return a}},2056:function(e,t,n){var i=n(1727).Buffer;function r(e,t,n){for(var i,r,a=-1,s=0;++a<8;)i=t&1<<7-a?128:0,s+=(128&(r=e._cipher.encryptBlock(e._prev)[0]^i))>>a%8,e._prev=o(e._prev,n?i:r);return s}function o(e,t){var n=e.length,r=-1,o=i.allocUnsafe(e.length);for(e=i.concat([e,i.from([t])]);++r<n;)o[r]=e[r]<<1|e[r+1]>>7;return o}t.encrypt=function(e,t,n){for(var o=t.length,a=i.allocUnsafe(o),s=-1;++s<o;)a[s]=r(e,t[s],n);return a}},2057:function(e,t,n){(function(e){var i=n(1765);function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),i(n,o)}}).call(this,n(1729).Buffer)},2058:function(e,t,n){var i=n(1727).Buffer,r=i.alloc(16,0);function o(e){var t=i.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,i=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],r=[0,0,0,0],a=-1;++a<128;){for(0!==(this.state[~~(a/8)]&1<<7-a%8)&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),n=0!==(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,n&&(i[0]=i[0]^225<<24)}this.state=o(r)},a.prototype.update=function(e){var t;for(this.cache=i.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(i.concat([this.cache,r],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},2059:function(e,t,n){var i=n(1902),r=n(1727).Buffer,o=n(1831),a=n(1903),s=n(1748),l=n(1789),c=n(1790);function h(e,t,n){s.call(this),this._cache=new d,this._last=void 0,this._cipher=new l.AES(t),this._prev=r.from(n),this._mode=e,this._autopadding=!0}function d(){this.cache=r.allocUnsafe(0)}function u(e,t,n){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof n&&(n=r.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"===typeof t&&(t=r.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,n,!0):"auth"===s.type?new i(s.module,t,n,!0):new h(s.module,t,n)}n(1726)(h,s),h.prototype._update=function(e){var t,n;this._cache.add(e);for(var i=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),i.push(n);return r.concat(i)},h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=r.concat([this.cache,e])},d.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=c(t,!1,n.key,n.iv);return u(e,i.key,i.iv)},t.createDecipheriv=u},2060:function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},2061:function(e,t,n){(function(e){var i=n(1904),r=n(2064),o=n(2065);var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(r[t].prime,"hex"),i=new e(r[t].gen,"hex");return new o(n,i)},t.createDiffieHellman=t.DiffieHellman=function t(n,r,s,l){return e.isBuffer(r)||void 0===a[r]?t(n,"binary",r,s):(r=r||"binary",l=l||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,l)),"number"===typeof n?new o(i(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,r)),new o(n,s,!0)))}}).call(this,n(1729).Buffer)},2062:function(e,t){},2063:function(e,t){},2064:function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},2065:function(e,t,n){(function(t){var i=n(1735),r=new(n(1905)),o=new i(24),a=new i(11),s=new i(10),l=new i(3),c=new i(7),h=n(1904),d=n(1753);function u(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new i(e),this}function p(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new i(e),this}e.exports=m;var f={};function m(e,t,n){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=u,this.setPrivateKey=p):this._primeCode=8}function g(e,n){var i=new t(e.toArray());return n?i.toString(n):i}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),i=[n,e.toString(16)].join("_");if(i in f)return f[i];var d,u=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!r.test(e))return u+=1,u+="02"===n||"05"===n?8:4,f[i]=u,u;switch(r.test(e.shrn(1))||(u+=2),n){case"02":e.mod(o).cmp(a)&&(u+=8);break;case"05":(d=e.mod(s)).cmp(l)&&d.cmp(c)&&(u+=8);break;default:u+=4}return f[i]=u,u}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new i(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var n=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new t(n.toArray()),o=this.getPrime();if(r.length<o.length){var a=new t(o.length-r.length);a.fill(0),r=t.concat([a,r])}return r},m.prototype.getPublicKey=function(e){return g(this._pub,e)},m.prototype.getPrivateKey=function(e){return g(this._priv,e)},m.prototype.getPrime=function(e){return g(this.__prime,e)},m.prototype.getGenerator=function(e){return g(this._gen,e)},m.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new i(e),this}}).call(this,n(1729).Buffer)},2066:function(e,t,n){(function(t){var i=n(1763),r=n(1800),o=n(1726),a=n(2067),s=n(2099),l=n(1892);function c(e){r.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){r.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){return new c(e)}function u(e){return new h(e)}Object.keys(l).forEach((function(e){l[e].id=new t(l[e].id,"hex"),l[e.toLowerCase()]=l[e]})),o(c,r.Writable),c.prototype._write=function(e,t,n){this._hash.update(e),n()},c.prototype.update=function(e,n){return"string"===typeof e&&(e=new t(e,n)),this._hash.update(e),this},c.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),i=a(n,e,this._hashType,this._signType,this._tag);return t?i.toString(t):i},o(h,r.Writable),h.prototype._write=function(e,t,n){this._hash.update(e),n()},h.prototype.update=function(e,n){return"string"===typeof e&&(e=new t(e,n)),this._hash.update(e),this},h.prototype.verify=function(e,n,i){"string"===typeof n&&(n=new t(n,i)),this.end();var r=this._hash.digest();return s(n,r,e,this._signType,this._tag)},e.exports={Sign:d,Verify:u,createSign:d,createVerify:u}}).call(this,n(1729).Buffer)},2067:function(e,t,n){(function(t){var i=n(1890),r=n(1833),o=n(1834).ec,a=n(1735),s=n(1792),l=n(1915);function c(e,n,r,o){if((e=new t(e.toArray())).length<n.byteLength()){var a=new t(n.byteLength()-e.length);a.fill(0),e=t.concat([a,e])}var s=r.length,l=function(e,n){e=(e=h(e,n)).mod(n);var i=new t(e.toArray());if(i.length<n.byteLength()){var r=new t(n.byteLength()-i.length);r.fill(0),i=t.concat([r,i])}return i}(r,n),c=new t(s);c.fill(1);var d=new t(s);return d.fill(0),d=i(o,d).update(c).update(new t([0])).update(e).update(l).digest(),c=i(o,d).update(c).digest(),{k:d=i(o,d).update(c).update(new t([1])).update(e).update(l).digest(),v:c=i(o,d).update(c).digest()}}function h(e,t){var n=new a(e),i=(e.length<<3)-t.bitLength();return i>0&&n.ishrn(i),n}function d(e,n,r){var o,a;do{for(o=new t(0);8*o.length<e.bitLength();)n.v=i(r,n.k).update(n.v).digest(),o=t.concat([o,n.v]);a=h(o,e),n.k=i(r,n.k).update(n.v).update(new t([0])).digest(),n.v=i(r,n.k).update(n.v).digest()}while(-1!==a.cmp(e));return a}function u(e,t,n,i){return e.toRed(a.mont(n)).redPow(t).fromRed().mod(i)}e.exports=function(e,n,i,p,f){var m=s(n);if(m.curve){if("ecdsa"!==p&&"ecdsa/rsa"!==p)throw new Error("wrong private key type");return function(e,n){var i=l[n.curve.join(".")];if(!i)throw new Error("unknown curve "+n.curve.join("."));var r=new o(i).keyFromPrivate(n.privateKey).sign(e);return new t(r.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==p)throw new Error("wrong private key type");return function(e,n,i){var r,o=n.params.priv_key,s=n.params.p,l=n.params.q,p=n.params.g,f=new a(0),m=h(e,l).mod(l),g=!1,v=c(o,l,e,i);for(;!1===g;)r=d(l,v,i),f=u(p,r,s,l),0===(g=r.invm(l).imul(m.add(o.mul(f))).mod(l)).cmpn(0)&&(g=!1,f=new a(0));return function(e,n){e=e.toArray(),n=n.toArray(),128&e[0]&&(e=[0].concat(e));128&n[0]&&(n=[0].concat(n));var i=[48,e.length+n.length+4,2,e.length];return i=i.concat(e,[2,n.length],n),new t(i)}(f,g)}(e,m,i)}if("rsa"!==p&&"ecdsa/rsa"!==p)throw new Error("wrong private key type");e=t.concat([f,e]);for(var g=m.modulus.byteLength(),v=[0,1];e.length+v.length+1<g;)v.push(255);v.push(0);for(var b=-1;++b<e.length;)v.push(e[b]);return r(v,m)},e.exports.getKey=c,e.exports.makeKey=d}).call(this,n(1729).Buffer)},2068:function(e){e.exports=JSON.parse('{"name":"elliptic","version":"6.5.2","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^1.4.3","coveralls":"^3.0.8","grunt":"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.2","jscs":"^3.0.7","jshint":"^2.10.3","mocha":"^6.2.2"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}')},2069:function(e,t,n){"use strict";var i=n(1739),r=n(1735),o=n(1726),a=n(1791),s=i.assert;function l(e){a.call(this,"short",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,n,i){a.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(t,16),this.y=new r(n,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(e,t,n,i){a.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(t,16),this.y=new r(n,16),this.z=new r(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(l,a),e.exports=l,l.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new r(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)n=new r(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new r(e.a,16),b:new r(e.b,16)}})):this._getEndoBasis(n)}}},l.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:r.mont(e),n=new r(2).toRed(t).redInvm(),i=n.redNeg(),o=new r(3).toRed(t).redNeg().redSqrt().redMul(n);return[i.redAdd(o).fromRed(),i.redSub(o).fromRed()]},l.prototype._getEndoBasis=function(e){for(var t,n,i,o,a,s,l,c,h,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=e,p=this.n.clone(),f=new r(1),m=new r(0),g=new r(0),v=new r(1),b=0;0!==u.cmpn(0);){var y=p.div(u);c=p.sub(y.mul(u)),h=g.sub(y.mul(f));var _=v.sub(y.mul(m));if(!i&&c.cmp(d)<0)t=l.neg(),n=f,i=c.neg(),o=h;else if(i&&2===++b)break;l=c,p=u,u=c,g=f,f=h,v=m,m=_}a=c.neg(),s=h;var x=i.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(x)>=0&&(a=t,s=n),i.negative&&(i=i.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:i,b:o},{a:a,b:s}]},l.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],r=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=r.mul(n.a),s=o.mul(i.a),l=r.mul(n.b),c=o.mul(i.b);return{k1:e.sub(a).sub(s),k2:l.add(c).neg()}},l.prototype.pointFromX=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(0!==i.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)},l.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),r=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===n.redSqr().redISub(r).cmpn(0)},l.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,r=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],l=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[2*o]=s,i[2*o+1]=l,r[2*o]=a.k1,r[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,i,r,2*o,n),h=0;h<2*o;h++)i[h]=null,r[h]=null;return c},o(c,a.BasePoint),l.prototype.point=function(e,t,n){return new c(this,e,t,n)},l.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,n){"string"===typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function r(t){return e.point(t[0],t[1],n)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(r))}},i},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),r=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),o=r.redSqr().redISub(this.x.redAdd(this.x)),a=r.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new r(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){var i=[this,t],r=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r):this.curve._wnafMulAdd(1,i,r,2)},c.prototype.jmulAdd=function(e,t,n){var i=[this,t],r=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r,!0):this.curve._wnafMulAdd(1,i,r,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,a.BasePoint),l.prototype.jpoint=function(e,t,n){return new h(this,e,t,n)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),r=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=i.redSub(r),l=o.redSub(a);if(0===s.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),h=c.redMul(s),d=i.redMul(c),u=l.redSqr().redIAdd(h).redISub(d).redISub(d),p=l.redMul(d.redISub(u)).redISub(o.redMul(h)),f=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(u,p,f)},h.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),r=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(i),s=r.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),c=l.redMul(a),h=n.redMul(l),d=s.redSqr().redIAdd(c).redISub(h).redISub(h),u=s.redMul(h.redISub(d)).redISub(r.redMul(c)),p=this.z.redMul(a);return this.curve.jpoint(d,u,p)},h.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}var i=this.curve.a,r=this.curve.tinv,o=this.x,a=this.y,s=this.z,l=s.redSqr().redSqr(),c=a.redAdd(a);for(n=0;n<e;n++){var h=o.redSqr(),d=c.redSqr(),u=d.redSqr(),p=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(l)),f=o.redMul(d),m=p.redSqr().redISub(f.redAdd(f)),g=f.redISub(m),v=p.redMul(g);v=v.redIAdd(v).redISub(u);var b=c.redMul(s);n+1<e&&(l=l.redMul(u)),o=m,s=b,c=v}return this.curve.jpoint(o,c.redMul(r),s)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),a=this.x.redAdd(r).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i),l=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=l,t=s.redMul(a.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),d=this.y.redSqr(),u=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(h).redISub(u);p=p.redIAdd(p);var f=h.redAdd(h).redIAdd(h),m=f.redSqr(),g=u.redIAdd(u);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(p).redISub(p),t=f.redMul(p.redISub(e)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},h.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),a=this.x.redAdd(r).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=s.redSqr().redISub(a).redISub(a);e=l;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(a.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),d=this.y.redSqr(),u=this.x.redMul(d),p=this.x.redSub(h).redMul(this.x.redAdd(h));p=p.redAdd(p).redIAdd(p);var f=u.redIAdd(u),m=(f=f.redIAdd(f)).redAdd(f);e=p.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(h);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=p.redMul(f.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,n)},h.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,r=i.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(r)),l=t.redAdd(t),c=(l=l.redIAdd(l)).redMul(a),h=s.redSqr().redISub(c.redAdd(c)),d=c.redISub(h),u=a.redSqr();u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var p=s.redMul(d).redISub(u),f=n.redAdd(n).redMul(i);return this.curve.jpoint(h,p,f)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),r=e.redAdd(e).redIAdd(e),o=r.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),l=i.redIAdd(i);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var c=r.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(l),h=t.redMul(c);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.x.redMul(s).redISub(h);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.y.redMul(c.redMul(l.redISub(c)).redISub(a.redMul(s)));u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var p=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(d,u,p)},h.prototype.mul=function(e,t){return e=new r(e,t),this.curve._wnafMul(this,e)},h.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),r=n.redMul(e.z);return 0===this.y.redMul(r).redISub(e.y.redMul(i)).cmpn(0)},h.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(r),0===this.x.cmp(n))return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},2070:function(e,t,n){"use strict";var i=n(1735),r=n(1726),o=n(1791),a=n(1739);function s(e){o.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(e,t,n){o.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),i=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},r(l,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new l(this,e,t)},s.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(e,t){return new l(e,t[0],t[1]||e.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},l.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),i=e.redMul(t),r=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(i,r)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),r=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=r.redMul(i),s=t.z.redMul(o.redAdd(a).redSqr()),l=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,l)},l.prototype.mul=function(e){for(var t=e.clone(),n=this,i=this.curve.point(null,null),r=[];0!==t.cmpn(0);t.iushrn(1))r.push(t.andln(1));for(var o=r.length-1;o>=0;o--)0===r[o]?(n=n.diffAdd(i,this),i=i.dbl()):(i=n.diffAdd(i,this),n=n.dbl());return i},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},2071:function(e,t,n){"use strict";var i=n(1739),r=n(1735),o=n(1726),a=n(1791),s=i.assert;function l(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new r(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function c(e,t,n,i,o){a.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(t,16),this.y=new r(n,16),this.z=i?new r(i,16):this.curve.one,this.t=o&&new r(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(l,a),e.exports=l,l.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},l.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},l.prototype.jpoint=function(e,t,n,i){return this.point(e,t,n,i)},l.prototype.pointFromX=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var l=s.fromRed().isOdd();return(t&&!l||!t&&l)&&(s=s.redNeg()),this.point(e,s)},l.prototype.pointFromY=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},l.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),i=t.redMul(this.a).redAdd(n),r=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===i.cmp(r)},o(c,a.BasePoint),l.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},l.prototype.point=function(e,t,n,i){return new c(this,e,t,n,i)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),r=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=i.redAdd(t),a=o.redSub(n),s=i.redSub(t),l=r.redMul(a),c=o.redMul(s),h=r.redMul(s),d=a.redMul(o);return this.curve.point(l,c,d,h)},c.prototype._projDbl=function(){var e,t,n,i=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=(c=this.curve._mulA(r)).redAdd(o);if(this.zOne)e=i.redSub(r).redSub(o).redMul(a.redSub(this.curve.two)),t=a.redMul(c.redSub(o)),n=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),l=a.redSub(s).redISub(s);e=i.redSub(r).redISub(o).redMul(l),t=a.redMul(c.redSub(o)),n=a.redMul(l)}}else{var c=r.redAdd(o);s=this.curve._mulC(this.z).redSqr(),l=c.redSub(s).redSub(s);e=this.curve._mulC(i.redISub(c)).redMul(l),t=this.curve._mulC(c).redMul(r.redISub(o)),n=c.redMul(l)}return this.curve.point(e,t,n)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),r=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=r.redSub(i),s=r.redAdd(i),l=n.redAdd(t),c=o.redMul(a),h=s.redMul(l),d=o.redMul(l),u=a.redMul(s);return this.curve.point(c,h,u,d)},c.prototype._projAdd=function(e){var t,n,i=this.z.redMul(e.z),r=i.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),l=r.redSub(s),c=r.redAdd(s),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=i.redMul(l).redMul(h);return this.curve.twisted?(t=i.redMul(c).redMul(a.redSub(this.curve._mulA(o))),n=l.redMul(c)):(t=i.redMul(c).redMul(a.redSub(o)),n=this.curve._mulC(l).redMul(c)),this.curve.point(d,t,n)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},c.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},2072:function(e,t,n){"use strict";t.sha1=n(2073),t.sha224=n(2074),t.sha256=n(1909),t.sha384=n(2075),t.sha512=n(1910)},2073:function(e,t,n){"use strict";var i=n(1744),r=n(1766),o=n(1908),a=i.rotl32,s=i.sum32,l=i.sum32_5,c=o.ft_1,h=r.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(u,h),e.exports=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=a(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var r=this.h[0],o=this.h[1],h=this.h[2],u=this.h[3],p=this.h[4];for(i=0;i<n.length;i++){var f=~~(i/20),m=l(a(r,5),c(f,o,h,u),p,n[i],d[f]);p=u,u=h,h=a(o,30),o=r,r=m}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],h),this.h[3]=s(this.h[3],u),this.h[4]=s(this.h[4],p)},u.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},2074:function(e,t,n){"use strict";var i=n(1744),r=n(1909);function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,r),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},2075:function(e,t,n){"use strict";var i=n(1744),r=n(1910);function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,r),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},2076:function(e,t,n){"use strict";var i=n(1744),r=n(1766),o=i.rotl32,a=i.sum32,s=i.sum32_3,l=i.sum32_4,c=r.BlockHash;function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,i){return e<=15?t^n^i:e<=31?t&n|~t&i:e<=47?(t|~n)^i:e<=63?t&i|n&~i:t^(n|~i)}function u(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function p(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}i.inherits(h,c),t.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],r=this.h[2],c=this.h[3],h=this.h[4],b=n,y=i,_=r,x=c,w=h,C=0;C<80;C++){var S=a(o(l(n,d(C,i,r,c),e[f[C]+t],u(C)),g[C]),h);n=h,h=c,c=o(r,10),r=i,i=S,S=a(o(l(b,d(79-C,y,_,x),e[m[C]+t],p(C)),v[C]),w),b=w,w=x,x=o(_,10),_=y,y=S}S=s(this.h[1],r,x),this.h[1]=s(this.h[2],c,w),this.h[2]=s(this.h[3],h,b),this.h[3]=s(this.h[4],n,y),this.h[4]=s(this.h[0],i,_),this.h[0]=S},h.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},2077:function(e,t,n){"use strict";var i=n(1744),r=n(1738);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),r(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},2078:function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},2079:function(e,t,n){"use strict";var i=n(1735),r=n(2080),o=n(1739),a=n(1835),s=n(1832),l=o.assert,c=n(2081),h=n(2082);function d(e){if(!(this instanceof d))return new d(e);"string"===typeof e&&(l(a.hasOwnProperty(e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new c(this,e)},d.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new r({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new i(2));;){var a=new i(t.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},d.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,n,o){"object"===typeof n&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new i(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),l=e.toArray("be",a),c=new r({hash:this.hash,entropy:s,nonce:l,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new i(1)),u=0;;u++){var p=o.k?o.k(u):new i(c.generate(this.n.byteLength()));if(!((p=this._truncateToN(p,!0)).cmpn(1)<=0||p.cmp(d)>=0)){var f=this.g.mul(p);if(!f.isInfinity()){var m=f.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var v=p.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var b=(f.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return o.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),b^=1),new h({r:g,s:v,recoveryParam:b})}}}}}},d.prototype.verify=function(e,t,n,r){e=this._truncateToN(new i(e,16)),n=this.keyFromPublic(n,r);var o=(t=new h(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,l=a.invm(this.n),c=l.mul(e).umod(this.n),d=l.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,n.getPublic(),d)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(c,n.getPublic(),d)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(e,t,n,r){l((3&n)===n,"The recovery param is more than two bits"),t=new h(t,r);var o=this.n,a=new i(e),s=t.r,c=t.s,d=1&n,u=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),d):this.curve.pointFromX(s,d);var p=t.r.invm(o),f=o.sub(a).mul(p).umod(o),m=c.mul(p).umod(o);return this.g.mulAdd(f,s,m)},d.prototype.getKeyRecoveryParam=function(e,t,n,i){if(null!==(t=new h(t,i)).recoveryParam)return t.recoveryParam;for(var r=0;r<4;r++){var o;try{o=this.recoverPubKey(e,t,r)}catch(e){continue}if(o.eq(n))return r}throw new Error("Unable to find valid recovery factor")}},2080:function(e,t,n){"use strict";var i=n(1836),r=n(1906),o=n(1738);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=r.toArray(e.entropy,e.entropyEnc||"hex"),n=r.toArray(e.nonce,e.nonceEnc||"hex"),i=r.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,i)}e.exports=a,a.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var r=0;r<this.V.length;r++)this.K[r]=0,this.V[r]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,i){"string"!==typeof t&&(i=n,n=t,t=null),e=r.toArray(e,t),n=r.toArray(n,i),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(i=n,n=t,t=null),n&&(n=r.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,r.encode(a,t)}},2081:function(e,t,n){"use strict";var i=n(1735),r=n(1739).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,n){return t instanceof o?t:new o(e,{pub:t,pubEnc:n})},o.fromPrivate=function(e,t,n){return t instanceof o?t:new o(e,{priv:t,privEnc:n})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?r(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||r(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},2082:function(e,t,n){"use strict";var i=n(1735),r=n(1739),o=r.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function l(e,t){var n=e[t.place++];if(!(128&n))return n;for(var i=15&n,r=0,o=0,a=t.place;o<i;o++,a++)r<<=8,r|=e[a];return t.place=a,r}function c(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function h(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=r.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;if(l(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var o=l(e,n),a=e.slice(n.place,o+n.place);if(n.place+=o,2!==e[n.place++])return!1;var c=l(e,n);if(e.length!==c+n.place)return!1;var h=e.slice(n.place,c+n.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===h[0]&&128&h[1]&&(h=h.slice(1)),this.r=new i(a),this.s=new i(h),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=c(t),n=c(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var i=[2];h(i,t.length),(i=i.concat(t)).push(2),h(i,n.length);var o=i.concat(n),a=[48];return h(a,o.length),a=a.concat(o),r.encode(a,e)}},2083:function(e,t,n){"use strict";var i=n(1836),r=n(1835),o=n(1739),a=o.assert,s=o.parseBytes,l=n(2084),c=n(2085);function h(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof h))return new h(e);e=r[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}e.exports=h,h.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),i=this.hashInt(n.messagePrefix(),e),r=this.g.mul(i),o=this.encodePoint(r),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),l=i.add(a).umod(this.curve.n);return this.makeSignature({R:r,S:l,Rencoded:o})},h.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var i=this.keyFromPublic(n),r=this.hashInt(t.Rencoded(),i.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(i.pub().mul(r)).eq(o)},h.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(e){return l.fromPublic(this,e)},h.prototype.keyFromSecret=function(e){return l.fromSecret(this,e)},h.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},h.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},h.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),i=0!==(128&e[t]),r=o.intFromLE(n);return this.curve.pointFromY(r,i)},h.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(e){return o.intFromLE(e)},h.prototype.isPoint=function(e){return e instanceof this.pointClass}},2084:function(e,t,n){"use strict";var i=n(1739),r=i.assert,o=i.parseBytes,a=i.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return r(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},s.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},e.exports=s},2085:function(e,t,n){"use strict";var i=n(1735),r=n(1739),o=r.assert,a=r.cachedProperty,s=r.parseBytes;function l(e,t){this.eddsa=e,"object"!==typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(l,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(l,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(l,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(l,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},e.exports=l},2086:function(e,t,n){"use strict";var i=n(1767);t.certificate=n(2096);var r=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=r;var o=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var a=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));t.PublicKey=a;var s=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),l=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=l;var c=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=c;var h=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=h,t.DSAparam=i.define("DSAparam",(function(){this.int()}));var d=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=d;var u=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},2087:function(e,t,n){var i=n(1767),r=n(1726);function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){var t;try{t=n(2088).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(i){t=function(e){this._initNamed(e)}}return r(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},2088:function(module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,i=n.eval,r=n.execScript;!i&&r&&(r.call(n,"null"),i=n.eval),forEach(Object_keys(e),(function(t){n[t]=e[t]})),forEach(globals,(function(t){e[t]&&(n[t]=e[t])}));var o=Object_keys(n),a=i.call(n,this.code);return forEach(Object_keys(n),(function(t){(t in e||-1===indexOf(o,t))&&(e[t]=n[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,n[t])})),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),(function(n){e[n]=t[n]})),n},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"===typeof e&&forEach(Object_keys(e),(function(n){t[n]=e[n]})),t}},2089:function(e,t,n){var i=n(1726);function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.Reporter=r,r.prototype.isError=function(e){return e instanceof o},r.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,n){var i=this._reporterState;this.exitKey(e),null!==i.obj&&(i.obj[t]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},r.prototype.error=function(e){var t,n=this._reporterState,i=e instanceof o;if(t=i?e:new o(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return i||n.errors.push(t),t},r.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},i(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},2090:function(e,t,n){var i=n(1768).Reporter,r=n(1768).EncoderBuffer,o=n(1768).DecoderBuffer,a=n(1738),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function c(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=c;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var e=this._baseState,t={};h.forEach((function(n){t[n]=e[n]}));var n=new this.constructor(t.parent);return n._baseState=t,n},c.prototype._wrap=function(){var e=this._baseState;l.forEach((function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}}),this)},c.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){var t=this._baseState,n=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(n){n==(0|n)&&(n|=0);var i=e[n];t[i]=n})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){c.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){c.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}})),c.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},c.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var i,r=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var l=null;if(null!==n.explicit?l=n.explicit:null!==n.implicit?l=n.implicit:null!==n.tag&&(l=n.tag),null!==l||n.any){if(a=this._peekTag(e,l,n.any),e.isError(a))return a}else{var c=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(f){a=!1}e.restore(c)}}if(n.obj&&a&&(i=e.enterObject()),a){if(null!==n.explicit){var h=this._decodeTag(e,n.explicit);if(e.isError(h))return h;e=h}var d=e.offset;if(null===n.use&&null===n.choice){if(n.any)c=e.save();var u=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(u))return u;n.any?r=e.raw(c):e=u}if(t&&t.track&&null!==n.tag&&t.track(e.path(),d,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),r=n.any?r:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var p=new o(r);r=this._getUse(n.contains,e._reporterState.obj)._decode(p,t)}}return n.obj&&a&&(r=e.leaveObject(i)),null===n.key||null===r&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,r),r},c.prototype._decodeGeneric=function(e,t,n){var i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],n):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(e,t){var n=this._baseState,i=null,r=!1;return Object.keys(n.choice).some((function(o){var a=e.save(),s=n.choice[o];try{var l=s._decode(e,t);if(e.isError(l))return!1;i={type:o,value:l},r=!0}catch(c){return e.restore(a),!1}return!0}),this),r?i:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new r(e,this.reporter)},c.prototype._encode=function(e,t,n){var i=this._baseState;if(null===i.default||i.default!==e){var r=this._encodeValue(e,t,n);if(void 0!==r&&!this._skipDefault(r,t,n))return r}},c.prototype._encodeValue=function(e,t,n){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new i);var o=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r.default)return;e=r.default}var a=null,s=!1;if(r.any)o=this._createEncoderBuffer(e);else if(r.choice)o=this._encodeChoice(e,t);else if(r.contains)a=this._getUse(r.contains,n)._encode(e,t),s=!0;else if(r.children)a=r.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var i=t.enterKey(n._baseState.key);if("object"!==typeof e)return t.error("Child expected, but input is not object");var r=n._encode(e[n._baseState.key],t,e);return t.leaveKey(i),r}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var l=this.clone();l._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(n){var i=this._baseState;return this._getUse(i.args[0],e)._encode(n,t)}),l))}else null!==r.use?o=this._getUse(r.use,n)._encode(e,t):(a=this._encodePrimitive(r.tag,e),s=!0);if(!r.any&&null===r.choice){var c=null!==r.implicit?r.implicit:r.tag,h=null===r.implicit?"universal":"context";null===c?null===r.use&&t.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(c,s,h,a))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(e,t){var n=this._baseState,i=n.choice[e.type];return i||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},2091:function(e,t,n){var i=n(1912);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=i._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=i._reverse(t.tag)},2092:function(e,t,n){var i=t;i.der=n(1913),i.pem=n(2093)},2093:function(e,t,n){var i=n(1726),r=n(1729).Buffer,o=n(1913);function a(e){o.call(this,e),this.enc="pem"}i(a,o),e.exports=a,a.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),i=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,l=-1,c=0;c<n.length;c++){var h=n[c].match(a);if(null!==h&&h[2]===i){if(-1!==s){if("END"!==h[1])break;l=c;break}if("BEGIN"!==h[1])break;s=c}}if(-1===s||-1===l)throw new Error("PEM section not found for: "+i);var d=n.slice(s+1,l).join("");d.replace(/[^a-z0-9\+\/=]+/gi,"");var u=new r(d,"base64");return o.prototype.decode.call(this,u,t)}},2094:function(e,t,n){var i=t;i.der=n(1914),i.pem=n(2095)},2095:function(e,t,n){var i=n(1726),r=n(1914);function o(e){r.call(this,e),this.enc="pem"}i(o,r),e.exports=o,o.prototype.encode=function(e,t){for(var n=r.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+t.label+"-----"],o=0;o<n.length;o+=64)i.push(n.slice(o,o+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}},2096:function(e,t,n){"use strict";var i=n(1767),r=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),l=i.define("RelativeDistinguishedName",(function(){this.setof(o)})),c=i.define("RDNSequence",(function(){this.seqof(l)})),h=i.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),d=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))})),u=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),p=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(u).optional())})),f=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=f},2097:function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},2098:function(e,t,n){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,a=n(1790),s=n(1830),l=n(1727).Buffer;e.exports=function(e,t){var n,c=e.toString(),h=c.match(i);if(h){var d="aes"+h[1],u=l.from(h[2],"hex"),p=l.from(h[3].replace(/[\r\n]/g,""),"base64"),f=a(t,u.slice(0,8),parseInt(h[1],10)).key,m=[],g=s.createDecipheriv(d,f,u);m.push(g.update(p)),m.push(g.final()),n=l.concat(m)}else{var v=c.match(o);n=new l(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(r)[1],data:n}}},2099:function(e,t,n){(function(t){var i=n(1735),r=n(1834).ec,o=n(1792),a=n(1915);function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,n,l,c,h){var d=o(l);if("ec"===d.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var i=a[n.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var o=new r(i),s=n.data.subjectPrivateKey.data;return o.verify(t,e,s)}(e,n,d)}if("dsa"===d.type){if("dsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var r=n.data.p,a=n.data.q,l=n.data.g,c=n.data.pub_key,h=o.signature.decode(e,"der"),d=h.s,u=h.r;s(d,a),s(u,a);var p=i.mont(r),f=d.invm(a);return 0===l.toRed(p).redPow(new i(t).mul(f).mod(a)).fromRed().mul(c.toRed(p).redPow(u.mul(f).mod(a)).fromRed()).mod(r).mod(a).cmp(u)}(e,n,d)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");n=t.concat([h,n]);for(var u=d.modulus.byteLength(),p=[1],f=0;n.length+p.length+2<u;)p.push(255),f++;p.push(0);for(var m=-1;++m<n.length;)p.push(n[m]);p=new t(p);var g=i.mont(d.modulus);e=(e=new i(e).toRed(g)).redPow(new i(d.publicExponent)),e=new t(e.fromRed().toArray());var v=f<8?1:0;for(u=Math.min(e.length,p.length),e.length!==p.length&&(v=1),m=-1;++m<u;)v|=e[m]^p[m];return 0===v}}).call(this,n(1729).Buffer)},2100:function(e,t,n){(function(t){var i=n(1834),r=n(1735);e.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function s(e,n,i){Array.isArray(e)||(e=e.toArray());var r=new t(e);if(i&&r.length<i){var o=new t(i-r.length);o.fill(0),r=t.concat([o,r])}return n?r.toString(n):r}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,n,i){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var i=new r(e);return i=i.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(i),this}}).call(this,n(1729).Buffer)},2101:function(e,t,n){t.publicEncrypt=n(2102),t.privateDecrypt=n(2103),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},2102:function(e,t,n){var i=n(1792),r=n(1753),o=n(1763),a=n(1916),s=n(1917),l=n(1735),c=n(1918),h=n(1833),d=n(1727).Buffer;e.exports=function(e,t,n){var u;u=e.padding?e.padding:n?1:4;var p,f=i(e);if(4===u)p=function(e,t){var n=e.modulus.byteLength(),i=t.length,c=o("sha1").update(d.alloc(0)).digest(),h=c.length,u=2*h;if(i>n-u-2)throw new Error("message too long");var p=d.alloc(n-i-u-2),f=n-h-1,m=r(h),g=s(d.concat([c,p,d.alloc(1,1),t],f),a(m,f)),v=s(m,a(g,h));return new l(d.concat([d.alloc(1),v,g],n))}(f,t);else if(1===u)p=function(e,t,n){var i,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");i=n?d.alloc(a-o-3,255):function(e){var t,n=d.allocUnsafe(e),i=0,o=r(2*e),a=0;for(;i<e;)a===o.length&&(o=r(2*e),a=0),(t=o[a++])&&(n[i++]=t);return n}(a-o-3);return new l(d.concat([d.from([0,n?1:2]),i,d.alloc(1),t],a))}(f,t,n);else{if(3!==u)throw new Error("unknown padding");if((p=new l(t)).cmp(f.modulus)>=0)throw new Error("data too long for modulus")}return n?h(p,f):c(p,f)}},2103:function(e,t,n){var i=n(1792),r=n(1916),o=n(1917),a=n(1735),s=n(1833),l=n(1763),c=n(1918),h=n(1727).Buffer;e.exports=function(e,t,n){var d;d=e.padding?e.padding:n?1:4;var u,p=i(e),f=p.modulus.byteLength();if(t.length>f||new a(t).cmp(p.modulus)>=0)throw new Error("decryption error");u=n?c(new a(t),p):s(t,p);var m=h.alloc(f-u.length);if(u=h.concat([m,u],f),4===d)return function(e,t){var n=e.modulus.byteLength(),i=l("sha1").update(h.alloc(0)).digest(),a=i.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),c=t.slice(a+1),d=o(s,r(c,a)),u=o(c,r(d,n-a-1));if(function(e,t){e=h.from(e),t=h.from(t);var n=0,i=e.length;e.length!==t.length&&(n++,i=Math.min(e.length,t.length));var r=-1;for(;++r<i;)n+=e[r]^t[r];return n}(i,u.slice(0,a)))throw new Error("decryption error");var p=a;for(;0===u[p];)p++;if(1!==u[p++])throw new Error("decryption error");return u.slice(p)}(p,u);if(1===d)return function(e,t,n){var i=t.slice(0,2),r=2,o=0;for(;0!==t[r++];)if(r>=t.length){o++;break}var a=t.slice(2,r-1);("0002"!==i.toString("hex")&&!n||"0001"!==i.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(r)}(0,u,n);if(3===d)return u;throw new Error("unknown padding")}},2104:function(e,t,n){"use strict";(function(e,i){function r(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(1727),a=n(1753),s=o.Buffer,l=o.kMaxLength,c=e.crypto||e.msCrypto,h=Math.pow(2,32)-1;function d(e,t){if("number"!==typeof e||e!==e)throw new TypeError("offset must be a number");if(e>h||e<0)throw new TypeError("offset must be a uint32");if(e>l||e>t)throw new RangeError("offset out of range")}function u(e,t,n){if("number"!==typeof e||e!==e)throw new TypeError("size must be a number");if(e>h||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>l)throw new RangeError("buffer too small")}function p(e,t,n,r){if(i.browser){var o=e.buffer,s=new Uint8Array(o,t,n);return c.getRandomValues(s),r?void i.nextTick((function(){r(null,e)})):e}if(!r)return a(n).copy(e,t),e;a(n,(function(n,i){if(n)return r(n);i.copy(e,t),r(null,e)}))}c&&c.getRandomValues||!i.browser?(t.randomFill=function(t,n,i,r){if(!s.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof n)r=n,n=0,i=t.length;else if("function"===typeof i)r=i,i=t.length-n;else if("function"!==typeof r)throw new TypeError('"cb" argument must be a function');return d(n,t.length),u(i,n,t.length),p(t,n,i,r)},t.randomFillSync=function(t,n,i){"undefined"===typeof n&&(n=0);if(!s.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');d(n,t.length),void 0===i&&(i=t.length-n);return u(i,n,t.length),p(t,n,i)}):(t.randomFill=r,t.randomFillSync=r)}).call(this,n(191),n(328))},2105:function(e,t,n){!function(t,i){var r;e.exports=(r=n(1731),r.enc.Utf8)}()},2107:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(0),r=n.n(i),o=n(1796);class a extends i.Component{constructor(){super(...arguments),this.state={showChildren:!1},this.modalRef=r.a.createRef(),this.onShown=e=>{this.setState({showChildren:!0})}}render(){const e=this.props.children.props;return r.a.createElement(o.a,{lg:!0,ref:this.modalRef,className:"dumb-modal",onShown:this.onShown,fullscreen:!!e.config.displayFullScreen},r.a.createElement(o.b,null,this.state.showChildren?this.props.children:null))}}},2108:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=function(e){var t=e.color,n=e.size,i=l(e,["color","size"]);return r.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))};c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.defaultProps={color:"currentColor",size:"24"},t.a=c},2109:function(e,t){},2110:function(e,t){},2111:function(e,t){},2137:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(201),a=n(2138);t.a=e=>{let{clearConsole:t,consoleLogs:n}=e;return r.a.createElement(o.Console,null,r.a.createElement(o.Console_Heading,null,r.a.createElement("span",null,"Console"),r.a.createElement(o.Console_ClearBtn,{onClick:t})),r.a.createElement(o.Console_Output,null,(null===n||void 0===n?void 0:n.length)?r.a.createElement("div",null,n.map((e,t)=>r.a.createElement(a.a,Object.assign({key:t},e)))):null))}},2138:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(50),a=n(2139),s=n.n(a),l=n(55),c=n(2140);const h=Object(o.a)({resolved:{},chunkName:()=>"react-json-view",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Object(l.a)(()=>n.e(173).then(n.t.bind(null,1991,7))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 1991}},{fallback:r.a.createElement("div",null)}),d=e=>{if("string"===typeof e)return e;try{const t=s.a.decycle(e);return r.a.createElement(h,{src:t,collapsed:1,indentWidth:2,name:null,iconStyle:"triangle",displayDataTypes:!1})}catch(t){return console.warn(t),null}};t.a=e=>{let{messages:t,type:n}=e;return r.a.createElement(c.a,{type:n},t.map((e,t)=>r.a.createElement("div",{key:t,className:"consolePrettyFormat"},d("number"===typeof e?e.toString():e))))}},2139:function(module,exports,__webpack_require__){"use strict";function decycle(e){var t=[],n=[];return function e(i,r){var o,a,s,l=i&&i.toJSON instanceof Function?i.toJSON():i;if("object"===typeof l&&null!==l){for(o=0;o<t.length;o+=1)if(t[o]===l)return{$ref:n[o]};if(t.push(l),n.push(r),"[object Array]"===Object.prototype.toString.apply(l))for(s=[],o=0;o<l.length;o+=1)s[o]=e(l[o],r+"["+o+"]");else for(a in s={},l)Object.prototype.hasOwnProperty.call(l,a)&&(s[a]=e(l[a],r+"["+JSON.stringify(a)+"]"));return s}return l}(e,"$")}function retrocycle($){var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"===typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"===typeof item&&(path=item.$ref,"string"===typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"===typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"===typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$}module.exports={stringify:function(e,t,n){return JSON.stringify(decycle(e),t,n)},parse:function(e,t){return retrocycle(JSON.parse(e,t))},decycle:decycle,retrocycle:retrocycle}},2140:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);i.d.div.withConfig({displayName:"styles__ConsoleOutputStyled",componentId:"w9tkad-0"})([""]);const r=i.d.div.withConfig({displayName:"styles__LogRow",componentId:"w9tkad-1"})(["padding:10px;border-bottom:1px solid ",";"," ",""],e=>{let{theme:t}=e;return t.palette.grey[300]},e=>{let{type:t}=e;return"error"===t&&Object(i.c)(["color:",";"],e=>{let{theme:t}=e;return t.palette.error.main})},e=>{let{type:t}=e;return"warn"===t&&Object(i.c)(["color:",";"],e=>{let{theme:t}=e;return t.palette.warning.main})})},2141:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createElement("g",{"data-name":"Layer 7"},r.a.createElement("path",{d:"M22.97 11.57H11.39l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7c.2.2.45.29.71.29s.51-.1.71-.29a.996.996 0 000-1.41l-5.29-5.29h11.59c.55 0 1-.45 1-1s-.47-1.02-1.02-1.02z"}),r.a.createElement("path",{d:"M3.39 12.57l6.29-6.29a.996.996 0 10-1.41-1.41l-7 7a.996.996 0 000 1.41l7 7c.2.2.45.29.71.29s.51-.1.71-.29a.996.996 0 000-1.41l-6.3-6.3z"}));const l=e=>{let{svgRef:t,title:n}=e,i=a(e,["svgRef","title"]);return r.a.createElement("svg",o({height:20,width:20,viewBox:"0 0 25.18 25.18",fill:"gray",ref:t},i),n?r.a.createElement("title",null,n):null,s)},c=r.a.forwardRef((e,t)=>r.a.createElement(l,o({svgRef:t},e)));n.p},2142:function(e,t,n){e.exports=n(2143)},2143:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children";o(this,e),this.cnt=1,this.obj=t||r({},n,[]),this.indexes={},this.childNodeName=n,this.build(this.obj)}return i(e,[{key:"build",value:function(e){var t=this.indexes,n=this.cnt,i=this,r={id:n,node:e};return t[this.cnt+""]=r,this.cnt++,e[i.childNodeName]&&e[i.childNodeName].length&&function e(n,r){var o=[];n.forEach((function(n,a){var s={};s.id=i.cnt,s.node=n,r&&(s.parent=r.id),t[i.cnt+""]=s,o.push(i.cnt),i.cnt++,n[i.childNodeName]&&n[i.childNodeName].length&&e(n[i.childNodeName],s)})),r[i.childNodeName]=o,o.forEach((function(e,n){var i=t[e+""];n>0&&(i.prev=o[n-1]),n<o.length-1&&(i.next=o[n+1])}))}(e[i.childNodeName],r),r}},{key:"getIndex",value:function(e){var t=this.indexes[e+""];if(t)return t}},{key:"removeIndex",value:function(e){var t=this;!function e(n){delete t.indexes[n.id+""],n[t.childNodeName]&&n[t.childNodeName].length&&n[t.childNodeName].forEach((function(n){e(t.getIndex(n))}))}(e)}},{key:"get",value:function(e){var t=this.getIndex(e);return t&&t.node?t.node:null}},{key:"remove",value:function(e){var t=this.getIndex(e),n=this.get(e),i=this.getIndex(t.parent),r=this.get(t.parent);return r[this.childNodeName].splice(r[this.childNodeName].indexOf(n),1),i[this.childNodeName].splice(i[this.childNodeName].indexOf(e),1),this.removeIndex(t),this.updateChildren(i[this.childNodeName]),n}},{key:"updateChildren",value:function(e){e.forEach(function(t,n){var i=this.getIndex(t);i.prev=i.next=null,n>0&&(i.prev=e[n-1]),n<e.length-1&&(i.next=e[n+1])}.bind(this))}},{key:"insert",value:function(e,t,n){var i=this.getIndex(t),r=this.get(t),o=this.build(e);return o.parent=t,r[this.childNodeName]=r[this.childNodeName]||[],i[this.childNodeName]=i[this.childNodeName]||[],r[this.childNodeName].splice(n,0,e),i[this.childNodeName].splice(n,0,o.id),this.updateChildren(i[this.childNodeName]),i.parent&&this.updateChildren(this.getIndex(i.parent)[this.childNodeName]),o}},{key:"insertBefore",value:function(e,t){var n=this.getIndex(t).parent,i=this.getIndex(n)[this.childNodeName].indexOf(t);return this.insert(e,n,i)}},{key:"insertAfter",value:function(e,t){var n=this.getIndex(t).parent,i=this.getIndex(n)[this.childNodeName].indexOf(t);return this.insert(e,n,i+1)}},{key:"prepend",value:function(e,t){return this.insert(e,t,0)}},{key:"append",value:function(e,t){var n=this.getIndex(t);return n[this.childNodeName]=n[this.childNodeName]||[],this.insert(e,t,n[this.childNodeName].length)}}]),e}();e.exports=a},2144:function(e,t,n){"use strict";var i=n(2145),r={};function o(e){return"/"===e.charAt(0)?e.slice(1):e}e.exports=function(e){return r[e]||(r[e]=function(e){if("string"!==typeof e||!e.length)return null;if(-1!==e.indexOf("git@gist")||-1!==e.indexOf("//gist"))return null;var t=i.parse(e);if("string"!==typeof t.path||!t.path.length||"string"!==typeof t.pathname||!t.pathname.length)return null;t.host||!0!==/^git@/.test(e)||(t.host=i.parse("http://"+e).host);t.path=o(t.path),t.pathname=o(t.pathname),t.filepath=null,0===t.path.indexOf("repos")&&(t.path=t.path.slice(6));var n=t.path.split("/").filter(Boolean);"blob"!==n[2]||function(e){return/^[a-f0-9]{40}$/i.test(e)}(n[3])||(t.branch=n[3],n.length>4&&(t.filepath=n.slice(4).join("/")));var r=e.indexOf("blob");-1!==r&&(t.blob=e.slice(r+5));var a=e.indexOf("tree");if(-1!==a){var s=a+5,l=e.slice(s),c=l.indexOf("/");-1!==c&&(l=l.slice(0,c)),t.branch=l}if(t.owner=function(e){if(!e)return null;var t=e.indexOf(":");if(t>-1)return e.slice(t+1);return e}(n[0]),t.name=function(e){return e?e.replace(/^\W+|\.git$/g,""):null}(n[1]),n.length>1&&t.owner&&t.name)t.repo=t.owner+"/"+t.name;else{var h=t.href.split(":");if(2===h.length&&-1===t.href.indexOf("//")){t.repo=t.repo||h[h.length-1];var d=t.repo.split("/");t.owner=d[0],t.name=d[1]}else{var u=t.href.match(/\/([^\/]*)$/);t.owner=u?u[1]:null,t.repo=null}if(t.repo&&(!t.owner||!t.name)){var p=t.repo.split("/");2===p.length&&(t.owner=p[0],t.name=p[1])}}t.branch||(t.branch=n[2]||function(e,t){var n,i=e.split("#");i.length>1&&(n=i[i.length-1]);!n&&t.hash&&"#"===t.hash.charAt(0)&&(n=t.hash.slice(1));return n||"master"}(t.path,t),n.length>3&&(t.filepath=n.slice(3).join("/")));return t.host=t.host||"github.com",t.owner=t.owner||null,t.name=t.name||null,t.repository=t.repo,t}(e))}},2145:function(e,t,n){"use strict";var i=n(1078),r=n(2146);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=y(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(c),d=["%","/","?",";","#"].concat(h),u=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(2147);function y(e,t,n){if(e&&r.isObject(e)&&e instanceof o)return e;var i=new o;return i.parse(e,t,n),i}o.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var y=e=c.join(s);if(y=y.trim(),!n&&1===e.split("#").length){var _=l.exec(y);if(_)return this.path=y,this.href=y,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(y);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,y=y.substr(x.length)}if(n||x||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===y.substr(0,2);!C||x&&g[x]||(y=y.substr(2),this.slashes=!0)}if(!g[x]&&(C||x&&!v[x])){for(var S,E,k=-1,O=0;O<u.length;O++){-1!==(T=y.indexOf(u[O]))&&(-1===k||T<k)&&(k=T)}-1!==(E=-1===k?y.lastIndexOf("@"):y.lastIndexOf("@",k))&&(S=y.slice(0,E),y=y.slice(E+1),this.auth=decodeURIComponent(S)),k=-1;for(O=0;O<d.length;O++){var T;-1!==(T=y.indexOf(d[O]))&&(-1===k||T<k)&&(k=T)}-1===k&&(k=y.length),this.host=y.slice(0,k),y=y.slice(k),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var I=this.hostname.split(/\./),j=(O=0,I.length);O<j;O++){var P=I[O];if(P&&!P.match(p)){for(var M="",R=0,D=P.length;R<D;R++)P.charCodeAt(R)>127?M+="x":M+=P[R];if(!M.match(p)){var L=I.slice(0,O),N=I.slice(O+1),B=P.match(f);B&&(L.push(B[1]),N.unshift(B[2])),N.length&&(y="/"+N.join(".")+y),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=i.toASCII(this.hostname));var F=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+F,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[w])for(O=0,j=h.length;O<j;O++){var H=h[O];if(-1!==y.indexOf(H)){var U=encodeURIComponent(H);U===H&&(U=escape(H)),y=y.split(H).join(U)}}var q=y.indexOf("#");-1!==q&&(this.hash=y.substr(q),y=y.slice(0,q));var W=y.indexOf("?");if(-1!==W?(this.search=y.substr(W),this.query=y.substr(W+1),t&&(this.query=b.parse(this.query)),y=y.slice(0,W)):t&&(this.search="",this.query={}),y&&(this.pathname=y),v[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var V=this.search||"";this.path=F+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+i},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(r.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,i=Object.keys(this),a=0;a<i.length;a++){var s=i[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var h=l[c];"protocol"!==h&&(n[h]=e[h])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),u=0;u<d.length;u++){var p=d[u];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",b=n.search||"";n.path=m+b}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=_||y||n.host&&e.pathname,w=x,C=n.pathname&&n.pathname.split("/")||[],S=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),x=x&&(""===f[0]||""===C[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=f;else if(f.length)C||(C=[]),C.pop(),C=C.concat(f),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=C.shift(),(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift());return n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=C.slice(-1)[0],k=(n.host||e.host||C.length>1)&&("."===E||".."===E)||""===E,O=0,T=C.length;T>=0;T--)"."===(E=C[T])?C.splice(T,1):".."===E?(C.splice(T,1),O++):O&&(C.splice(T,1),O--);if(!x&&!w)for(;O--;O)C.unshift("..");!x||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),k&&"/"!==C.join("/").substr(-1)&&C.push("");var A,I=""===C[0]||C[0]&&"/"===C[0].charAt(0);S&&(n.hostname=n.host=I?"":C.length?C.shift():"",(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift()));return(x=x||n.host&&C.length)&&!I&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2146:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},2147:function(e,t,n){"use strict";t.decode=t.parse=n(2148),t.encode=t.stringify=n(2149)},2148:function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"===typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var h=0;h<c;++h){var d,u,p,f,m=e[h].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),u=m.substr(g+1)):(d=m,u=""),p=decodeURIComponent(d),f=decodeURIComponent(u),i(a,p)?r(a[p])?a[p].push(f):a[p]=[a[p],f]:a[p]=f}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},2149:function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(a(e),(function(a){var s=encodeURIComponent(i(a))+n;return r(e[a])?o(e[a],(function(e){return s+encodeURIComponent(i(e))})).join(t):s+encodeURIComponent(i(e[a]))})).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},2150:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(0),r=n.n(i),o=n(529),a=n(535),s=n(1794),l=n(201),c=n(1936);class h extends i.Component{constructor(){super(...arguments),this.state={liveContainerOutputWindow:{closed:!0}}}shouldComponentUpdate(e){return!(void 0!==this.props.liveContainerStatus&&this.props.outputUrl===e.outputUrl&&this.props.executionInProgress===e.executionInProgress&&this.props.liveContainerStatus===e.liveContainerStatus)}render(){const{outputUrl:e,outputHeight:t,executionInProgress:n,execError:i,hideCodeView:h,responsive:d,bundleStatus:u,liveContainerStatus:p,userId:f,android:m,genymotionVmInfo:g}=this.props,v={height:-1===t.toString().indexOf("px")?"".concat(t,"px"):t,marginTop:h?"0px":"45px"};if(u===c.a.building)return r.a.createElement(l.OutputLoader,null,r.a.createElement(o.a,{statusData:{status:"WAIT",text:"Fetching dependencies"}}));if(n)return r.a.createElement(l.OutputLoader,null,r.a.createElement(o.a,{statusData:{status:"WAIT",text:"Generating output"}}));if(i)return r.a.createElement(l.ExecError,null,i);if(!f&&(p||m))return r.a.createElement(l.OutputLoader,null,r.a.createElement(o.a,{statusData:{status:"ERROR",text:"Please login to run this code"}}));if(m){if(!e||"BUSY"!==g.status)return r.a.createElement(l.OutputLoader,null,r.a.createElement(o.a,{statusData:{status:"WAIT",text:"Setting up android emulator"}}))}else{if(Object(a.r)(p))return r.a.createElement(l.OutputLoader,null,r.a.createElement(o.a,{statusData:{status:"WAIT",text:"Step 1 of 4: Allocating resources"}}));if(Object(a.q)(p))return r.a.createElement(l.OutputLoader,null,r.a.createElement(o.a,{statusData:{status:"WAIT",text:"Step 2 of 4: Pulling Image"}}));if(Object(a.u)(p))return r.a.createElement(l.OutputLoader,null,r.a.createElement(o.a,{statusData:{status:"WAIT",text:"Step 3 of 4: Configuring container"}}));if(Object(a.t)(p))return r.a.createElement(l.OutputLoader,null,r.a.createElement(o.a,{statusData:{status:"WAIT",text:"Step 4 of 4: Updating app with your code"}}));if(Object(a.o)(p))return r.a.createElement(l.OutputLoader,null,r.a.createElement(o.a,{statusData:{status:"WAIT",text:"Output will be displayed when server responds"}}))}return r.a.createElement("div",null,r.a.createElement(s.a,{link:e,height:v.height,responsive:d,onIFrameLoad:this.props.onIFrameLoad,captureIFrameLogs:this.props.captureIFrameLogs}))}}h.defaultProps={responsive:!0,liveContainerStatus:void 0}},2153:function(e,t,n){"use strict";t.__esModule=!0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=a(n(0)),o=a(n(2594));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,n,o,a){var s=e[t],l="undefined"===typeof s?"undefined":i(s);return r.default.isValidElement(s)?new Error("Invalid "+o+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==l&&"string"!==l?new Error("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null}))},2162:function(e,t,n){"use strict";var i=n(27),r=n(0),o=n.n(r),a=n(1),s=n(12);const l=Object(a.c)(["background-color:",";color:",";"],e=>{let{theme:t}=e;return t.palette.grey[100]},e=>{let{theme:t}=e;return t.palette.grey[600]});var c=a.d.div.withConfig({displayName:"styles__TreeStyled",componentId:"r3hcwz-0"})(["background-color:",";max-height:",";height:100%;overflow-y:auto;.m-tree{height:100%;overflow-y:auto;overflow-x:auto;padding:2px 0 10px 2px;}.m-node.placeholder{border:1px dashed ",";}.m-node .inner{color:",";white-space:nowrap;padding-right:10px;padding-left:0px;}.m-node .node{display:flex;align-items:center;padding:6px 10px;text-align:left;transition:0.2s;:hover{",";border-left:5px solid ",";}}.m-node .node.is-active{background-color:",";color:",";border-left:5px solid ",";transition:0.2s;margin-left:10px;:hover{background-color:",";border-left:5px solid ",";}}.m-node .node .fa-times{margin-left:15px;font-size:",";}"],e=>{let{theme:t}=e;return t.palette.common.white},e=>e.height,e=>{let{theme:t}=e;return t.palette.secondary.dark},e=>{let{theme:t}=e;return t.palette.grey[700]},l,e=>{let{theme:t}=e;return t.palette.grey[600]},e=>{let{theme:t}=e;return t.palette.primary.lightP2},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.primary.lightP2},e=>{let{theme:t}=e;return t.palette.primary.main},s.a.detail),h=n(14),d=n(2142),u=n.n(d);const p=u.a.prototype;p.updateNodesPosition=function(){var e;let t=1,n=1;const i=this.getIndex(1),r=this;i.top=t++,i.left=n++,(null===(e=i.children)||void 0===e?void 0:e.length)&&function e(n,i,o,a){let s=1;return n.forEach(n=>{var i;const l=r.getIndex(n);a?(l.top=null,l.left=null):(l.top=t++,l.left=o),(null===(i=l.children)||void 0===i?void 0:i.length)?s+=e(l.children,l,o+1,a||l.node.collapsed):(l.height=1,s+=1)}),i.node.collapsed?i.height=1:i.height=s,i.height}(i.children,i,2,i.node.collapsed)},p.move=function(e,t,n){if(e===t||1===t)return null;const i=this.remove(e);let r=null;return"before"===n?r=this.insertBefore(i,t):"after"===n?r=this.insertAfter(i,t):"prepend"===n?r=this.prepend(i,t):"append"===n&&(r=this.append(i,t)),this.updateNodesPosition(),r},p.getNodeByTop=function(e){var t;return null!==(t=Object.values(this.indexes).find(t=>t.top===e))&&void 0!==t?t:null};var f=u.a,m=n(57),g=n.n(m),v=n(650);class b extends r.Component{constructor(){super(...arguments),this.innerDivRef=o.a.createRef(),this.renderCollapse=()=>{var e;const{index:t}=this.props;if(null===(e=t.children)||void 0===e?void 0:e.length){const{collapsed:e}=t.node;return o.a.createElement("span",{className:g()("collapse",e?"caret-right":"caret-down"),onMouseDown:e=>e.stopPropagation(),onClick:this.handleCollapse})}return null},this.renderChildren=()=>{var e;const{index:t,tree:n,dragging:i,paddingLeft:r,onCollapse:a,onDragStart:s,theme:l}=this.props;if(null===(e=t.children)||void 0===e?void 0:e.length){const e={marginLeft:"".concat(r+2,"px"),borderLeft:"1px solid ".concat(l.palette.grey[300]),display:t.node.collapsed?"none":""};return o.a.createElement("div",{className:"children",style:e},t.children.map(e=>{const t={tree:n,index:n.getIndex(e),key:n.getIndex(e).id,dragging:i,paddingLeft:r,onCollapse:a,onDragStart:s,theme:l};return o.a.createElement(b,t)}))}return null},this.handleMouseDown=e=>{const t=this.props.index.id;var n,i;this.innerDivRef.current&&(null===(n=(i=this.props).onDragStart)||void 0===n||n.call(i,t,this.innerDivRef.current,e))}}render(){const{tree:e,index:t,dragging:n}=this.props,{node:i}=t;return o.a.createElement("div",{className:g()("m-node",{placeholder:t.id===n})},o.a.createElement("div",{className:"inner",ref:this.innerDivRef,onMouseDown:this.handleMouseDown,role:"presentation"},this.renderCollapse(),e.renderNode(i)),this.renderChildren())}}b.defaultProps={index:{},tree:{},dragging:{},paddingLeft:"",onDragStart:()=>{},onCollapse:()=>{}};var y=Object(v.a)(b);class _ extends r.Component{constructor(e){super(e),this.isDragged=!1,this.init=e=>{const t=e.currentFolder?e.currentFolder:e.tree,n=new f(Object(h.a)({},t));return n.isNodeCollapsed=e.isNodeCollapsed,n.renderNode=e.renderNode,n.changeNodeCollapsed=e.changeNodeCollapsed,n.updateNodesPosition(),{tree:n,dragging:{id:null,x:null,y:null,w:null,h:null}}},this.getDraggingDom=()=>{const{tree:e,dragging:t}=this.state;if(null===t||void 0===t?void 0:t.id){const n=e.getIndex(t.id),i={top:t.y,left:t.x,width:t.w};return o.a.createElement("div",{className:"m-draggable",style:i},o.a.createElement(y,{tree:e,index:n,paddingLeft:this.props.paddingLeft}))}return null},this.dragStart=(e,t,n)=>{this.props.draggable&&(this.dragging={id:e,w:t.offsetWidth,h:t.offsetHeight,x:t.offsetLeft,y:t.offsetTop},this._startX=t.offsetLeft,this._startY=t.offsetTop,this._offsetX=n.clientX,this._offsetY=n.clientY,this._start=!0,window.addEventListener("mousemove",this.drag),window.addEventListener("mouseup",this.dragEnd))},this.dragEnd=()=>{this.setState({dragging:{id:null,x:null,y:null,w:null,h:null}}),this.change(this.state.tree),this.isDragged&&this.updateTree(this.state.tree),this.isDragged=!1,window.removeEventListener("mousemove",this.drag),window.removeEventListener("mouseup",this.dragEnd)},this.drag=e=>{this._start&&(this.setState({dragging:this.dragging}),this._start=!1);const{tree:t,dragging:n}=this.state,{paddingLeft:i}=this.props;let r=null,o=t.getIndex(n.id);const{collapsed:a}=o.node,{_startX:s}=this,{_startY:l}=this,{_offsetX:c}=this,{_offsetY:h}=this,d={x:s+e.clientX-c,y:l+e.clientY-h};n.x=d.x,n.y=d.y;const u=n.x-i/2-(o.left-2)*i,p=n.y-n.h/2-(o.top-2)*n.h;if(u<0)o.parent&&!o.next&&(r=t.move(o.id,o.parent,"after"));else if(u>i&&o.prev){const e=t.getIndex(o.prev).node;e.collapsed||e.leaf||(r=t.move(o.id,o.prev,"append"))}if(r&&(o=r,r.node.collapsed=a,n.id=r.id),p<0){const e=t.getNodeByTop(o.top-1);r=t.move(o.id,e.id,"before")}else if(p>n.h)if(o.next){var f;const e=t.getIndex(o.next);r=(null===(f=e.children)||void 0===f?void 0:f.length)&&!e.node.collapsed?t.move(o.id,o.next,"prepend"):t.move(o.id,o.next,"after")}else{const e=t.getNodeByTop(o.top+o.height);var m;if(e&&e.parent!==o.id)r=(null===(m=e.children)||void 0===m?void 0:m.length)?t.move(o.id,e.id,"prepend"):t.move(o.id,e.id,"after")}if(r){var g;r.node.collapsed=a,n.id=r.id;const e=t.getIndex(r.parent);if(r.node.parentId=null===e||void 0===e?void 0:null===(g=e.node)||void 0===g?void 0:g.id,this.props.findTreeNode){var v;this.props.findTreeNode(t.obj,r.node.id).parentId=null===e||void 0===e?void 0:null===(v=e.node)||void 0===v?void 0:v.id}this.isDragged=!0}this.setState({tree:t,dragging:n})},this.change=e=>{var t,n;this._updated=!0,null===(t=(n=this.props).onChange)||void 0===t||t.call(n,e.obj)},this.updateTree=e=>{var t,n;this._updated=!0,null===(t=(n=this.props).onUpdate)||void 0===t||t.call(n,e.obj)},this.state=Object(h.a)({},this.init(e))}componentDidUpdate(e){e!==this.props&&this.setState(this.init(this.props))}toggleCollapse(e){const{tree:t}=this.state,n=t.getIndex(e),{node:i}=n;i.collapsed=!i.collapsed,t.updateNodesPosition(),this.setState({tree:t}),this.change(t)}render(){const{tree:e,dragging:t}=this.state,n=this.getDraggingDom();return o.a.createElement("div",{className:"m-tree"},n,o.a.createElement(y,{tree:e,index:e.getIndex(1),key:1,paddingLeft:this.props.paddingLeft,onDragStart:this.dragStart,onCollapse:this.toggleCollapse,dragging:null===t||void 0===t?void 0:t.id}))}}_.defaultProps={paddingLeft:20,draggable:!0};t.a=e=>{let{treeHeight:t,treeWidth:n,editorMode:r=!1,codePanelHeight:a=600}=e,s=Object(i.a)(e,["treeHeight","treeWidth","editorMode","codePanelHeight"]);return(o.a.createElement(c,{height:"".concat(a,"px")},o.a.createElement(_,Object.assign({},s,{editorMode:r,paddingLeft:10}))))}},2164:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1499),a=n(1795),s=n(114),l=n(14),c=n(1857),h=n.n(c),d=n(20),u=n(375),p=n(1656),f=n(1064),m=n(2013),g=n(1746);class v extends i.Component{constructor(){super(...arguments),this.androidRunClicked=!1,this.showEnvsPrompt=e=>{var t,n,i,r;e.stopPropagation(),e.preventDefault(),this.androidRunClicked=!0;const o=null===(t=this.props)||void 0===t?void 0:null===(n=t.docker)||void 0===n?void 0:n.envs,a=""!==(null===(i=this.props.docker)||void 0===i?void 0:null===(r=i.container)||void 0===r?void 0:r.imageName),s=o.some(e=>{var t;return!e.value||!(null===(t=e.value)||void 0===t?void 0:t.trim())});a&&s&&this.props.renderEnvsWrapper(),this.props.onDockerRunClick()}}render(){const{executionDisabled:e,docker:t}=this.props,n=null===t||void 0===t?void 0:t.android;return r.a.createElement(r.a.Fragment,null,r.a.createElement(a.a,{executionDisabled:e,onClick:this.showEnvsPrompt}),n&&r.a.createElement(p.a,{placement:"bottom",overlay:r.a.createElement(f.a,null,r.a.createElement("span",null,"The emulator may take ~3 minutes to start"))},r.a.createElement(g.Q,{androidRunClicked:this.androidRunClicked},r.a.createElement(m.a,null))))}}var b=n(535),y=n(1945);class _ extends i.Component{constructor(){super(...arguments),this.state={key:0,requestId:""},this.componentWillUnmount=()=>{this.pingAppInterval&&clearTimeout(this.pingAppInterval)},this.instanceStatus=null,this.pingAppInterval=null,this.daemonOperation=null,this.imageCheckOperation=null,this.allocationOperation=null,this.logInteraction=(e,t,n)=>{const{logWidgetInteraction:i}=this.props,{requestId:r}=this.state;i({status:e,reason:t,interaction_touch_point:n,request_id:0!==e?r:""})},this.execute=e=>{let{instanceId:t}=e;const{executionContext:n,isOutputOpened:i}=this.props;if(!i)return;Object(y.a)(n.codeContents,[],[],n.version,n.author_id,n.work_id,n.work_type,n.page_id,n.isDraft,n.comp_id,Object(l.a)({},n.docker,{instanceId:t}),(e,t)=>{t?(this.instanceStatus=b.c.UPDATE_FAILED,this.props.onLiveContainerStatusChanged({instanceStatus:this.instanceStatus}),this.logInteraction(500,this.instanceStatus,u.a)):e||t||(this.instanceStatus=b.c.UPDATED,this.props.onLiveContainerStatusChanged({instanceStatus:this.instanceStatus}),this.logInteraction(200,this.instanceStatus,u.a),n.drawTerminal&&n.drawTerminal(),n.docker.android?"function"===typeof n.updateTerm&&n.updateTerm():this.pollUserApp(this.props.liveOutputUrl))})}}componentDidUpdate(e){e.isOutputOpened&&!this.props.isOutputOpened&&this.abortOperation()}abortOperation(){this.instanceStatus=null,this.daemonOperation&&this.daemonOperation.stop(),this.imageCheckOperation&&this.imageCheckOperation.stop(),this.allocationOperation&&this.allocationOperation.stop(),this.pingAppInterval&&clearTimeout(this.pingAppInterval)}async pollUserApp(){var e,t,n,i;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=this.props)||void 0===e?void 0:null===(t=e.executionContext)||void 0===t?void 0:null===(n=t.docker)||void 0===n?void 0:null===(i=n.liveInstance)||void 0===i?void 0:i.url,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=0;const{executionContext:s}=this.props,l=async()=>{try{await Object(d.a)({url:r,type:"GET"}),this.instanceStatus=b.c.RUNNING,this.logInteraction(200,this.instanceStatus,u.o),"genymotion"===o?s.setGenymotionVmInfo(this.gmVmInfo):this.props.onLiveContainerStatusChanged({instanceStatus:this.instanceStatus,isAsync:!0})}catch(e){a<49?this.props.isOutputOpened&&(this.pingAppInterval=setTimeout(()=>l(),2e3),a+=1):(this.instanceStatus=b.c.PING_APP_FAILED,this.logInteraction(500,this.instanceStatus,u.o))}};this.pingAppInterval=setTimeout(()=>l(),2e3)}async monitorInternalDaemonStatus(e){let{instanceId:t,requestId:n}=e;this.props.isOutputOpened&&(this.daemonOperation=h.a.operation({retries:30,minTimeout:2e3,factor:1}),this.daemonOperation.attempt(async()=>{const{instanceStatus:e}=await Object(b.f)({instanceId:t,requestId:n});this.props.isOutputOpened&&(Object(b.s)(e)?(this.instanceStatus=b.c.UPDATING,this.props.onLiveContainerStatusChanged({instanceStatus:this.instanceStatus,isAsync:!0}),this.logInteraction(200,this.instanceStatus,u.h),this.execute({instanceId:t})):this.daemonOperation.retry(!0)||(this.instanceStatus=b.c.DAEMON_FAILED,this.props.onLiveContainerStatusChanged({instanceStatus:this.instanceStatus,isAsync:!0}),this.logInteraction(500,this.instanceStatus,u.h)))}))}async monitorImageCheckOperation(e){let{instanceId:t,requestId:n}=e;this.props.isOutputOpened&&(this.imageCheckOperation=h.a.operation({retries:35,minTimeout:2e3,factor:1}),this.imageCheckOperation.attempt(async()=>{const{instanceStatus:e}=await Object(b.h)({instanceId:t,requestId:n});this.props.isOutputOpened&&(Object(b.i)(e)?(this.instanceStatus=b.c.WAITING_FOR_DAEMON,this.props.onLiveContainerStatusChanged({instanceStatus:this.instanceStatus,isAsync:!0}),this.logInteraction(200,this.instanceStatus,u.h),this.monitorInternalDaemonStatus({instanceId:t,requestId:n})):this.imageCheckOperation.retry(!0)||(this.instanceStatus=b.c.PULL_FAILED,this.props.onLiveContainerStatusChanged({instanceStatus:this.instanceStatus,isAsync:!0}),this.logInteraction(500,this.instanceStatus,u.h)))}))}async monitorLiveContainerAllocation(){this.allocationOperation=h.a.operation({retries:4,minTimeout:1e3,factor:1});const{executionContext:e}=this.props,{liveInstance:t,imageName:n,envs:i,job:r,android:o}=e.docker,{ports:a,startScript:s,https:l}=r,c=null===t||void 0===t?void 0:t.id,d={image_name:n,envs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>{let{key:t,value:n}=e;return t&&n}).map(e=>{let{key:t,value:n}=e;return{key:t,value:n}})}(i),ports:[a],start_script:s,app_id:c,android:o,https:l};this.allocationOperation.attempt(async()=>{const{instanceStatus:t,requestId:n}=await Object(b.e)({authorId:e.author_id,workId:e.work_id,workType:e.work_type,containerInfo:d,draft:e.isDraft});this.props.isOutputOpened&&(this.setState({requestId:n}),Object(b.l)(t)?(this.instanceStatus=b.c.PULLING_IMAGE,this.props.onLiveContainerStatusChanged({instanceStatus:this.instanceStatus,isAsync:!0}),this.logInteraction(201,this.instanceStatus,u.h),this.monitorImageCheckOperation({instanceId:c,requestId:n})):!this.allocationOperation.retry(!0)&&this.props.isOutputOpened&&(this.instanceStatus=b.c.ALLOCATION_FAILED,this.props.onLiveContainerStatusChanged({instanceStatus:this.instanceStatus,isAsync:!0}),this.logInteraction(500,this.instanceStatus,u.h)))})}async monitorGenymotionContainerAllocation(){const e=h.a.operation({retries:65,minTimeout:1e3,factor:1}),{executionContext:t}=this.props;e.attempt(async()=>{const n=await Object(b.d)({authorId:t.author_id,workId:t.work_id,workType:t.work_type,draft:t.isDraft});if("BUSY"===n.status){const{key:e}=this.state;this.instanceStatus=b.c.ALLOCATED,this.logInteraction(201,"GENYMOTION_VM_".concat(this.instanceStatus),u.h),this.setState({key:e+1},()=>{this.gmVmInfo=Object(l.a)({},n,{key:this.state.key}),this.pollUserApp(n.emulatorUrl,"genymotion")})}else e.retry(!0),t.setGenymotionVmInfo(Object(l.a)({},n,{emulatorUrl:""}))})}async runLiveContainer(){const{executionContext:e}=this.props;if(this.instanceStatus=b.c.ALLOCATING,this.props.onLiveContainerStatusChanged({instanceStatus:this.instanceStatus}),!e.userId)return;this.monitorLiveContainerAllocation();const{android:t}=e.docker;this.logInteraction(0,this.instanceStatus,u.h),t&&this.monitorGenymotionContainerAllocation()}get isExecuting(){return(Object(b.r)(this.instanceStatus)||Object(b.q)(this.instanceStatus)||Object(b.u)(this.instanceStatus)||Object(b.t)(this.instanceStatus))&&this.props.executionContext.userId}render(){const{limitReached:e}=this.props;return r.a.createElement(v,{executionDisabled:this.isExecuting||e,docker:this.props.executionContext.docker,onDockerRunClick:()=>this.runLiveContainer(),renderEnvsWrapper:this.props.renderEnvsWrapper})}}_.defaultProps={executionContext:{},logWidgetInteraction:()=>{},limitReached:!1},n.d(t,"a",(function(){return x}));class x extends i.Component{constructor(){super(...arguments),this.state={showFiles:!0},this.toggleSPAFiles=()=>{this.state.showFiles?this.setState({showFiles:!1}):this.setState({showFiles:!0}),this.props.SPAfilesUpdate(!this.state.showFiles)},this.renderRunButtons=()=>{var e,t;const{executionContext:n,executionInProgress:i,pollingBundleStatus:o,onLiveContainerStatusChanged:s,onRunClicked:l,isOutputOpened:c,logWidgetInteraction:h,limitReached:d}=this.props,{runInLiveContainer:u}=0===Object.keys(null!==(e=n.docker)&&void 0!==e?e:{}).length?{}:n.docker.job;return u?[r.a.createElement(_,{executionContext:n,onLiveContainerStatusChanged:s,isOutputOpened:c,logWidgetInteraction:h,limitReached:d,renderEnvsWrapper:this.props.renderEnvsWrapper,liveOutputUrl:this.props.liveOutputUrl,key:"run_for_live_container"})]:Object.keys(null!==(t=n.docker)&&void 0!==t?t:{}).length>0?[r.a.createElement(v,{executionDisabled:i||d||this.props.editingApiKeys,docker:n.docker,onDockerRunClick:l,renderEnvsWrapper:this.props.renderEnvsWrapper})]:r.a.createElement(a.a,{executionDisabled:i||d||this.props.editingApiKeys,pollingBundleStatus:o,onClick:l})},this.makeTooltip=e=>r.a.createElement(o.a,{id:"".concat(e,"-tooltip")},e," files")}render(){const{showFiles:e}=this.state;return r.a.createElement(g.f,null,!this.props.hideCodeView&&r.a.createElement(s.a,{zoomOnHover:!0,icon:"ChevronRight",rotate:e,onClick:this.toggleSPAFiles,size:24}),r.a.createElement(g.R,null,this.renderRunButtons()))}}x.defaultProps={executionContext:{imageName:"",job:{},envs:[]},onLiveContainerStatusChanged:()=>{},logWidgetInteraction:()=>{},editingApiKeys:!1,hideCodeView:!1,renderEnvsWrapper:()=>{}}},2166:function(e,t,n){"use strict";var i=n(0),r=n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createElement("g",{id:"CourseCreation",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("g",{transform:"translate(-270.000000, -297.000000)",stroke:"#4B49FF",strokeWidth:7.7},r.a.createElement("g",{id:"Group-20",transform:"translate(270.000000, 297.000000)"},r.a.createElement("path",{d:"M26.2305743,0.502322635 L26.2305743,51.8051098",id:"Path-9"}),r.a.createElement("path",{d:"M51.8819679,26.1537162 L0.579180743,26.1537162",id:"Path-9"}))));const l=e=>{let{svgRef:t,title:n}=e,i=a(e,["svgRef","title"]);return r.a.createElement("svg",o({width:"50px",height:"50px",viewBox:"0 0 52 52",ref:t},i),n?r.a.createElement("title",null,n):null,s)},c=r.a.forwardRef((e,t)=>r.a.createElement(l,o({svgRef:t},e)));n.p;var h=n(2185),d=n(2186),u=n(81);t.a=e=>{let{id:t,children:n,type:i,onClick:o,tileView:a=u.a.DEFAULT,responsiveListView:s=!1}=e;return a===u.a.GRID?r.a.createElement(h.a,{type:i,onClick:o,id:t},r.a.createElement(c,null),n):r.a.createElement(d.b,{type:i,id:t,onClick:o,responsiveListView:s},r.a.createElement(c,null),n)}},2169:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1064),a=n(1656),s=n(1658),l=n(414),c=n(650),h=n(531),d=n(816),u=n(529),p=n(201),f=n(303),m=n(375),g=n(1),v=n(12),b=n(21);g.d.div.withConfig({displayName:"styles__TestResultOutputStyled",componentId:"luzy6h-0"})(["overflow:scroll;"]);const y=g.d.div.withConfig({displayName:"styles__ReasonError",componentId:"luzy6h-1"})(["padding-left:10px;color:",";font-size:",";font-weight:",";"],e=>{let{theme:t}=e;return t.palette.error.main},v.a.textLarge,b.b);function _(e){return e&&e.length>0&&r.a.createElement(p.Output,null,e)}function x(e){return r.a.createElement(o.a,{id:Object(l.a)()},r.a.createElement("span",null,e))}function w(e,t,n){const{stderr:i,stdout:o,reason:a,status:s}=e;return n&&t({interaction_touch_point:m.g,status:s,reason:a}),r.a.createElement("div",{id:"execution_failed",style:{paddingTop:10}},(o||i)&&r.a.createElement(p.Label,null,"Output"),_(o),function(e){return e&&e.length>0&&r.a.createElement(p.ErrorOutput,null,e)}(i))}function C(e,t){return e&&f.a.isString(e)?e.length>40?r.a.createElement(a.a,{rootClose:!0,placement:"top",trigger:"click",overlay:x(e)},r.a.createElement("span",{style:{cursor:"pointer"}},e.substring(0,40),r.a.createElement(h.a,{icon:d.f,style:{background:t.palette.grey[700],color:t.palette.common.white,padding:"0 5px 0 5px",borderRadius:"6px",float:"right"}}))):e:null}function S(e,t,n,i){const{execution_result:o,test_results:a}=e;let l=null;return l=0===o.status?function(e,t,n,i,o){const a=t.length;let l=0;t.forEach(e=>{e.succeeded&&l++});const c=[...t].sort((e,t)=>(e.succeeded?2:1)-(t.succeeded?2:1));i&&n({interaction_touch_point:m.g,status:e.status,reason:e.reason,test_total_count:c.length,test_passed_count:l});let h=null;return h=c.map((e,t)=>{const n=e.succeeded?r.a.createElement(p.ResultCheck,null):r.a.createElement(p.WidgetX,null);return r.a.createElement("tr",{key:t},r.a.createElement("td",null,n),r.a.createElement("td",null,C(e.input,o)),r.a.createElement("td",null,C(e.expected_output,o)),r.a.createElement("td",null,C(e.actual_output,o)),r.a.createElement("td",null,C(e.reason,o)))}),r.a.createElement(p.ResultContainer,null,r.a.createElement(p.TestCount,null,r.a.createElement(p.WidgetClipboard,null),"".concat(l," of ").concat(a," Tests Passed")),r.a.createElement(s.a,{responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Result"),r.a.createElement("th",null,"Input"),r.a.createElement("th",null,"Expected Output"),r.a.createElement("th",null,"Actual Output"),r.a.createElement("th",null,"Reason"))),r.a.createElement("tbody",null,h)),_(e.stdout))}(o,a,t,n,i):w(o,t,n),r.a.createElement("div",null,l)}t.a=Object(c.a)(e=>{let{result:t,error:n,inProgress:i,className:o,logWidgetInteraction:a,sendTestInteraction:s,theme:l}=e,c=null;return null===t&&null===n&&!1===i?c=r.a.createElement("div",{style:{textAlign:"center",marginBottom:"15px"}},"Click on Test to evaluate your code."):i?c=r.a.createElement("div",{style:{margin:"20px 0"}},r.a.createElement(u.a,{statusData:{status:"WAIT",text:"Evaluating code "}})):n?c=r.a.createElement(y,null,n):t&&(c=S(t,a,s,l)),c})},2174:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(649),a=n(809),s=n(2175),l=n(650);class c extends i.Component{constructor(){super(...arguments),this.inputRef=r.a.createRef(),this.state={value:this.props.value?this.props.value:"",isFocused:!1},this.handleChange=()=>{if(this.inputRef.current){const e=this.inputRef.current.value,t=this.state.value,n=this.props.beforeChangeFormatter?this.props.beforeChangeFormatter(e):e;this.setState({value:void 0===n?t:n});const{onChange:i}=this.props;"function"===typeof i&&i()}},this.handleBlur=e=>{let t;this.props.beforeBlurFormatter&&this.inputRef.current&&(t=this.props.beforeBlurFormatter(this.inputRef.current.value),this.setState({value:t})),this.props.handleBlur&&(t&&(e.target.value=t),this.props.handleBlur(e))}}getValue(){return this.state.value}renderControl(){const{placeholder:e,type:t}=this.props;let n={};return this.props.errorField&&(n.border="1px solid ".concat(this.props.theme.palette.error.main)),"checkbox"===t?r.a.createElement(o.a,{bsClass:this.props.className,inputRef:this.inputRef,type:t,placeholder:e,onChange:this.handleChange,value:this.state.value,onBlur:this.handleBlur,onFocus:this.props.handleFocus,style:this.props.validate?this.props.styleValidate:n,name:this.props.name,disabled:this.props.disabled,defaultChecked:this.props.defaultChecked}):r.a.createElement(o.a,{bsClass:this.props.className,inputRef:this.inputRef,type:t,placeholder:e,onChange:this.handleChange,value:this.state.value,onBlur:this.handleBlur,onFocus:this.props.handleFocus,style:this.props.validate?this.props.styleValidate:n,name:this.props.name,disabled:this.props.disabled})}render(){let e="";if(!this.props.label)return this.renderControl();e=!0===this.props.errorField?"errorField":"";const t=this.props.groupClass?this.props.groupClass:"form-group b-input-with-label_simple ".concat(e);return r.a.createElement(a.a,{bsClass:t},r.a.createElement(s.a,{style:{background:"transparent"}},this.props.label),this.renderControl())}}c.defaultProps={onChange:()=>{}},t.a=Object(l.a)(c)},2175:function(e,t,n){"use strict";var i=n(46),r=n(65),o=n(68),a=n(57),s=n.n(a),l=n(0),c=n.n(l),h=n(2),d=n.n(h),u=(n(421),n(38)),p={htmlFor:d.a.string,srOnly:d.a.bool},f={$bs_formGroup:d.a.object},m=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,o=n.htmlFor,a=void 0===o?t:o,l=n.srOnly,h=n.className,d=Object(r.a)(n,["htmlFor","srOnly","className"]),p=Object(u.f)(d),f=p[0],m=p[1],g=Object(i.a)({},Object(u.d)(f),{"sr-only":l});return c.a.createElement("label",Object(i.a)({},m,{htmlFor:a,className:s()(h,g)}))},t}(c.a.Component);m.propTypes=p,m.defaultProps={srOnly:!1},m.contextTypes=f,t.a=Object(u.a)("control-label",m)},2176:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(0),r=n.n(i),o=n(2174);class a extends i.Component{constructor(){super(...arguments),this.beforeBlurFormatter=e=>this.getFormattedPrice(e,!0),this.beforeChangeFormatter=e=>this.getFormattedPrice(e,!1)}getValue(){return this.inputRef.getValue()}getFormattedPrice(e,t){if(null==e||""===e)return"";const n=parseInt(e.replace(/[^0-9]/g,""),10);if(isNaN(n))return"";if(t){if(1===n)return 2;if(n>this.props.maxPrice)return this.props.maxPrice;if(n<this.props.minPrice)return this.props.minPrice}return n}render(){return r.a.createElement(o.a,{className:"dp-numberinput dp-numberinput-article form-control",groupClass:this.props.groupClass,placeholder:this.props.placeholder,label:this.props.label,value:this.props.value,ref:e=>this.inputRef=e,errorField:this.props.isError,disabled:this.props.disabled,beforeChangeFormatter:this.beforeChangeFormatter,beforeBlurFormatter:this.beforeBlurFormatter,handleBlur:this.props.onBlur,name:this.props.name})}}},2177:function(e,t,n){"use strict";n.r(t),n.d(t,"handlePageSummaryChange",(function(){return r}));var i=n(29);const r=e=>Object(i.a)("PAGE_SUMMARY_CHANGE")(e)},2178:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return d}));var i=n(20),r=n(117),o=n(547),a=n(389),s=n(150),l=n(29);const c=e=>(t,n)=>t(o.c(e)).then(()=>{var i,r,s,c;const{edpresso:{shots:h}}=n();if("undefined"!==typeof h.error)throw new Error(JSON.stringify(h.error));const d=!!(null===(i=n())||void 0===i?void 0:null===(r=i.user)||void 0===r?void 0:null===(s=r.info)||void 0===s?void 0:null===(c=s.data)||void 0===c?void 0:c.user_id);return(null===h||void 0===h?void 0:h.data)&&o.d(h.data,e,d).then(e=>{t(Object(l.a)("SET_DOCKER_OBJECT")(e.docker))}),t(a.c(e,!1))}).catch(e=>{Object(s.b)(e)}),h=()=>e=>{e(o.a()),e(a.a())},d=(e,t)=>n=>Object(i.a)({url:"/api/edpresso/editor/shot/".concat(e,"/update-attributions"),type:"POST",data:{attributions:JSON.stringify(t)}}).then(e=>{const i=Object(r.a)(t);return n(a.f(i)),e})},2185:function(e,t,n){"use strict";var i=n(1),r=n(5),o=n(18),a=n(12);const s=i.d.button.withConfig({displayName:"AuthorPageButton",componentId:"zm28qt-0"})(["display:flex;align-items:center;justify-content:space-between;flex-direction:column;width:310px;margin:24px 16px;height:310px;color:",";padding:110px 0;font-size:",";border-radius:",";border:none;transition:0.2s;svg{path{stroke:",";}}&:hover,:focus{box-shadow:0 4px 1.8em ",";color:",";outline:none;}"," "," "," @media (max-width:","){width:290px;}"],e=>{let{theme:t}=e;return t.palette.primary.main},a.a.textMedium,o.b,e=>{let{theme:t}=e;return t.palette.primary.main},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.primary.main},e=>"course"===e.type&&Object(i.c)(["background-color:",";"],e=>{let{theme:t}=e;return t.palette.primary.lightP2}),e=>"tutorial"===e.type&&Object(i.c)(["background-color:",";"],e=>{let{theme:t}=e;return t.palette.grey[100]}),e=>"shot"===e.type&&Object(i.c)(["height:205px;padding:60px 0;background-color:",";"],e=>{let{theme:t}=e;return t.palette.primary.lightP2}),r.f.pixels);t.a=s},2186:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(1),r=n(2185),o=n(5);const a=Object(i.d)(r.a).withConfig({displayName:"AuthorPageListButton",componentId:"agk74f-0"})(["flex-direction:row;justify-content:center;height:150px;padding:0;width:49%;margin:10px 0 0 0;svg{margin-right:10px;}",""],e=>e.responsiveListView&&Object(i.c)(["@media (max-width:","){flex-direction:column;width:100%;justify-content:space-between;padding:110px 0px;height:310px;max-width:310px;}"],o.m.pixels)),s=i.d.div.withConfig({displayName:"AuthorPageListButton__Wrapper",componentId:"agk74f-1"})(["display:flex;flex-direction:row;justify-content:space-between;width:90%;margin-left:15px;",""],e=>e.responsiveListView&&Object(i.c)(["@media (max-width:","){flex-direction:column;align-items:center;margin-left:0px;width:310px;}"],o.m.pixels));t.b=a},2187:function(e,t,n){"use strict";t.a=[5514818584838144,6547532599525376,6630002]},2189:function(e,t,n){"use strict";var i=n(46),r=n(65),o=n(68),a=n(57),s=n.n(a),l=n(0),c=n.n(l),h=n(145),d=n.n(h),u=n(38),p={componentClass:d.a},f=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,o=Object(r.a)(e,["componentClass","className"]),a=Object(u.f)(o),l=a[0],h=a[1],d=Object(u.d)(l);return c.a.createElement(t,Object(i.a)({},h,{className:s()(n,d)}))},t}(c.a.Component);f.propTypes=p,f.defaultProps={componentClass:"div"},t.a=Object(u.a)("row",f)},2190:function(e,t,n){"use strict";var i=n(46),r=n(65),o=n(68),a=n(57),s=n.n(a),l=n(0),c=n.n(l),h=n(2),d=n.n(h),u=n(145),p=n.n(u),f=n(38),m=n(168),g={componentClass:p.a,xs:d.a.number,sm:d.a.number,md:d.a.number,lg:d.a.number,xsHidden:d.a.bool,smHidden:d.a.bool,mdHidden:d.a.bool,lgHidden:d.a.bool,xsOffset:d.a.number,smOffset:d.a.number,mdOffset:d.a.number,lgOffset:d.a.number,xsPush:d.a.number,smPush:d.a.number,mdPush:d.a.number,lgPush:d.a.number,xsPull:d.a.number,smPull:d.a.number,mdPull:d.a.number,lgPull:d.a.number},v=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,o=Object(r.a)(e,["componentClass","className"]),a=Object(f.f)(o),l=a[0],h=a[1],d=[];return m.a.forEach((function(e){function t(t,n){var i=""+e+t,r=h[i];null!=r&&d.push(Object(f.e)(l,""+e+n+"-"+r)),delete h[i]}t("",""),t("Offset","-offset"),t("Push","-push"),t("Pull","-pull");var n=e+"Hidden";h[n]&&d.push("hidden-"+e),delete h[n]})),c.a.createElement(t,Object(i.a)({},h,{className:s()(n,d)}))},t}(c.a.Component);v.propTypes=g,v.defaultProps={componentClass:"div"},t.a=Object(f.a)("col",v)},2191:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(159),a=n(48),s=n(893);t.a=e=>{let{authorId:t=null,authorName:n="",title:i="",tags:l=[],coverImage:c=null,showImageAndAuthor:h=!1,isFullWidth:d=!1,children:u=null,saveTempData:p=null,onToggleMaintainAspectRatio:f=null,maintainAspectRatio:m=!1,showMaintainAspectRatio:g=!1,isEditorPage:v}=e,b=null;t&&(b="/api/author/profile/".concat(t,"/profileimage"));let y=null;return t&&(y="/profile/view/".concat(t)),r.a.createElement("div",null,r.a.createElement(a.f,null,u||r.a.createElement(a.I,null,i),r.a.createElement(a.J,{isFullWidth:d},h&&r.a.createElement(s.a,{coverImage:c,saveTempData:p,onToggleMaintainAspectRatio:f,maintainAspectRatio:m,showMaintainAspectRatio:g,isEditorPage:v}),r.a.createElement(a.i,null,r.a.createElement("span",{className:"title"},"Course Authors:"),y&&h&&r.a.createElement(a.e,null,r.a.createElement(a.Q,{to:y},r.a.createElement(o.a,{image:b,size:28,name:n})),r.a.createElement(a.h,{to:y},n))))))}},2195:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=function(e){var t=e.color,n=e.size,i=l(e,["color","size"]);return r.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.a.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),r.a.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))};c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.defaultProps={color:"currentColor",size:"24"},t.a=c},2214:function(e,t,n){!function(t,i){var r;e.exports=(r=n(1731),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)t(i)&&(r<8&&(s[r]=n(e.pow(i,.5))),l[r]=n(e.pow(i,1/3)),r++),i++}();var c=[],h=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],h=n[5],d=n[6],u=n[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var f=c[p-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=c[p-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[p]=m+c[p-7]+v+c[p-16]}var b=i&r^i&o^r&o,y=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),_=u+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&h^~s&d)+l[p]+c[p];u=d,d=h,h=s,s=a+_|0,a=o,o=r,r=i,i=_+(y+b)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+h|0,n[6]=n[6]+d|0,n[7]=n[7]+u|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(h),t.HmacSHA256=o._createHmacHelper(h)}(Math),r.SHA256)}()},2215:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1963),function(){var e=o,t=e.lib.Hasher,n=e.x64,i=n.Word,r=n.WordArray,a=e.algo;function s(){return i.create.apply(i,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=s()}();var h=a.SHA512=t.extend({_doReset:function(){this._hash=new r.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],h=n[5],d=n[6],u=n[7],p=i.high,f=i.low,m=r.high,g=r.low,v=o.high,b=o.low,y=a.high,_=a.low,x=s.high,w=s.low,C=h.high,S=h.low,E=d.high,k=d.low,O=u.high,T=u.low,A=p,I=f,j=m,P=g,M=v,R=b,D=y,L=_,N=x,B=w,F=C,z=S,H=E,U=k,q=O,W=T,V=0;V<80;V++){var G,K,Y=c[V];if(V<16)K=Y.high=0|e[t+2*V],G=Y.low=0|e[t+2*V+1];else{var X=c[V-15],J=X.high,$=X.low,Z=(J>>>1|$<<31)^(J>>>8|$<<24)^J>>>7,Q=($>>>1|J<<31)^($>>>8|J<<24)^($>>>7|J<<25),ee=c[V-2],te=ee.high,ne=ee.low,ie=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,re=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=c[V-7],ae=oe.high,se=oe.low,le=c[V-16],ce=le.high,he=le.low;K=(K=(K=Z+ae+((G=Q+se)>>>0<Q>>>0?1:0))+ie+((G+=re)>>>0<re>>>0?1:0))+ce+((G+=he)>>>0<he>>>0?1:0),Y.high=K,Y.low=G}var de,ue=N&F^~N&H,pe=B&z^~B&U,fe=A&j^A&M^j&M,me=I&P^I&R^P&R,ge=(A>>>28|I<<4)^(A<<30|I>>>2)^(A<<25|I>>>7),ve=(I>>>28|A<<4)^(I<<30|A>>>2)^(I<<25|A>>>7),be=(N>>>14|B<<18)^(N>>>18|B<<14)^(N<<23|B>>>9),ye=(B>>>14|N<<18)^(B>>>18|N<<14)^(B<<23|N>>>9),_e=l[V],xe=_e.high,we=_e.low,Ce=q+be+((de=W+ye)>>>0<W>>>0?1:0),Se=ve+me;q=H,W=U,H=F,U=z,F=N,z=B,N=D+(Ce=(Ce=(Ce=Ce+ue+((de+=pe)>>>0<pe>>>0?1:0))+xe+((de+=we)>>>0<we>>>0?1:0))+K+((de+=G)>>>0<G>>>0?1:0))+((B=L+de|0)>>>0<L>>>0?1:0)|0,D=M,L=R,M=j,R=P,j=A,P=I,A=Ce+(ge+fe+(Se>>>0<ve>>>0?1:0))+((I=de+Se|0)>>>0<de>>>0?1:0)|0}f=i.low=f+I,i.high=p+A+(f>>>0<I>>>0?1:0),g=r.low=g+P,r.high=m+j+(g>>>0<P>>>0?1:0),b=o.low=b+R,o.high=v+M+(b>>>0<R>>>0?1:0),_=a.low=_+L,a.high=y+D+(_>>>0<L>>>0?1:0),w=s.low=w+B,s.high=x+N+(w>>>0<B>>>0?1:0),S=h.low=S+z,h.high=C+F+(S>>>0<z>>>0?1:0),k=d.low=k+U,d.high=E+H+(k>>>0<U>>>0?1:0),T=u.low=T+W,u.high=O+q+(T>>>0<W>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(i+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(h),e.HmacSHA512=t._createHmacHelper(h)}(),o.SHA512)}()},2276:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(448);t.default=()=>r.a.createElement(o.a,{danger:!0},"This widget is deprecated. Please use the new Graph widget instead.")},2286:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1665),a=n(1667),s=n(1067),l=n(1713),c=n(1684),h=n(2),d=n.n(h);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var f=function(e){var t=e.color,n=e.size,i=p(e,["color","size"]);return r.a.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),r.a.createElement("polyline",{points:"13 2 13 9 20 9"}))};f.propTypes={color:d.a.string,size:d.a.oneOfType([d.a.string,d.a.number])},f.defaultProps={color:"currentColor",size:"24"};var m=f,g=n(1511),v=n(2365),b=n(1699);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var x=function(e){var t=e.color,n=e.size,i=_(e,["color","size"]);return r.a.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.a.createElement("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),r.a.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"18"}))};x.propTypes={color:d.a.string,size:d.a.oneOfType([d.a.string,d.a.number])},x.defaultProps={color:"currentColor",size:"24"};var w=x,C=n(2402);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var k=r.a.createElement("g",{id:"UI",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fontSize:30,fontWeight:900},r.a.createElement("g",{transform:"translate(-155.000000, -1297.000000)",fill:"#000000",id:"Aa"},r.a.createElement("text",null,r.a.createElement("tspan",{x:155.115,y:1323},"\n            Aa\n          "))));const O=e=>{let{svgRef:t,title:n}=e,i=E(e,["svgRef","title"]);return r.a.createElement("svg",S({width:"36px",height:"23px",viewBox:"0 0 39 23",ref:t},i),n?r.a.createElement("title",null,n):null,k)},T=r.a.forwardRef((e,t)=>r.a.createElement(O,S({svgRef:t},e)));n.p;function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var j=r.a.createElement("polyline",{points:"16 18 22 12 16 6"}),P=r.a.createElement("polyline",{points:"8 6 2 12 8 18"});const M=e=>{let{svgRef:t,title:n}=e,i=I(e,["svgRef","title"]);return r.a.createElement("svg",A({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},i),n?r.a.createElement("title",null,n):null,j,P)},R=r.a.forwardRef((e,t)=>r.a.createElement(M,A({svgRef:t},e)));n.p;function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var N=r.a.createElement("g",{stroke:"#000",strokeWidth:2,fill:"none",strokeLinecap:"round"},r.a.createElement("path",{d:"M1 1h7v8H1zM12 1h7v8h-7z"}));const B=e=>{let{svgRef:t,title:n}=e,i=L(e,["svgRef","title"]);return r.a.createElement("svg",D({height:15,width:30,viewBox:"0 0 20 10",ref:t},i),n?r.a.createElement("title",null,n):null,N)},F=r.a.forwardRef((e,t)=>r.a.createElement(B,D({svgRef:t},e)));n.p;function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var U=r.a.createElement("g",{fill:"#000"},r.a.createElement("path",{d:"M0 0h6v6H0zM9 0h6v6H9zM18 0h6v6h-6z"}));const q=e=>{let{svgRef:t,title:n}=e,i=H(e,["svgRef","title"]);return r.a.createElement("svg",z({width:24,height:6,viewBox:"0 0 24 6",ref:t},i),n?r.a.createElement("title",null,n):null,U)},W=r.a.forwardRef((e,t)=>r.a.createElement(q,z({svgRef:t},e)));n.p;function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var K=r.a.createElement("g",{fill:"none"},r.a.createElement("ellipse",{fill:"#020202",cx:4.19,cy:21,rx:4.19,ry:4}),r.a.createElement("ellipse",{fill:"#020202",cx:15.19,cy:4,rx:4.19,ry:4}),r.a.createElement("circle",{fill:"#020202",cx:24.93,cy:21,r:4}),r.a.createElement("path",{stroke:"#000",d:"M5 19L15.1 5 25 19"}));const Y=e=>{let{svgRef:t,title:n}=e,i=G(e,["svgRef","title"]);return r.a.createElement("svg",V({width:29,height:25,viewBox:"0 0 29 25",ref:t},i),n?r.a.createElement("title",null,n):null,K)},X=r.a.forwardRef((e,t)=>r.a.createElement(Y,V({svgRef:t},e)));n.p;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Z=r.a.createElement("path",{fill:"#616161",d:"M40 16H8v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V16z"}),Q=r.a.createElement("path",{fill:"#424242",d:"M36 4H12C9.8 4 8 5.8 8 8v9h32V8c0-2.2-1.8-4-4-4z"}),ee=r.a.createElement("path",{fill:"#9CCC65",d:"M36 14H12c-.6 0-1-.4-1-1V8c0-.6.4-1 1-1h24c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1z"}),te=r.a.createElement("g",{className:"display-digits"},r.a.createElement("path",{className:"digit",fill:"#33691E",d:"M33 10h2v2h-2zM29 10h2v2h-2zM25 10h2v2h-2zM21 10h2v2h-2zM17 10h2v2h-2z"})),ne=r.a.createElement("path",{fill:"#FF5252",d:"M36 23h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1z"}),ie=r.a.createElement("g",{className:"buttons",fill:"#E0E0E0"},r.a.createElement("path",{d:"M15 23h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM22 23h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM29 23h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM15 29h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM22 29h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM29 29h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM15 35h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM22 35h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM29 35h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM15 41h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM22 41h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM29 41h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1z"})),re=r.a.createElement("g",{fill:"#BDBDBD"},r.a.createElement("path",{d:"M36 29h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM36 35h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM36 41h-3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h3c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1z"}));const oe=e=>{let{svgRef:t,title:n}=e,i=$(e,["svgRef","title"]);return r.a.createElement("svg",J({viewBox:"0 0 48 48",ref:t},i),n?r.a.createElement("title",null,n):null,Z,Q,ee,te,ne,ie,re)},ae=r.a.forwardRef((e,t)=>r.a.createElement(oe,J({svgRef:t},e)));n.p;function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function le(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ce=r.a.createElement("g",{stroke:"#000",fill:"none"},r.a.createElement("rect",{fill:"#FFF",x:.64,y:2.24,width:16.91,height:11.52,rx:1.92}),r.a.createElement("rect",{fill:"#FFF",x:16.45,y:2.24,width:16.91,height:11.52,rx:1.92}),r.a.createElement("rect",{fill:"#FFF",x:6.33,y:.8,width:21.33,height:14.4,rx:2.4}),r.a.createElement("path",{d:"M11.13 6.04H22.1M11.13 9.24h5.49"}));const he=e=>{let{svgRef:t,title:n}=e,i=le(e,["svgRef","title"]);return r.a.createElement("svg",se({width:34,height:16,viewBox:"0 0 34 16",ref:t},i),n?r.a.createElement("title",null,n):null,ce)},de=r.a.forwardRef((e,t)=>r.a.createElement(he,se({svgRef:t},e)));n.p;function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var fe=r.a.createElement("g",{transform:"translate(1 1)",stroke:"#000",fill:"none"},r.a.createElement("rect",{x:9,width:13,height:19,rx:2}),r.a.createElement("path",{d:"M6.17 16H2a2 2 0 01-2-2V5c0-1.1.9-2 2-2h4.17v13zM25 16h4.17a2 2 0 002-2V5a2 2 0 00-2-2H25v13z"}));const me=e=>{let{svgRef:t,title:n}=e,i=pe(e,["svgRef","title"]);return r.a.createElement("svg",ue({width:34,height:21,viewBox:"0 0 34 21",ref:t},i),n?r.a.createElement("title",null,n):null,fe)},ge=r.a.forwardRef((e,t)=>r.a.createElement(me,ue({svgRef:t},e)));n.p;function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ye=r.a.createElement("g",{stroke:"#000",fill:"none"},r.a.createElement("path",{d:"M1 23.42V0M5 23.42V7M21 23.42V19M13 23.42V15M9 23.42V3M17 23.42V7"}));const _e=e=>{let{svgRef:t,title:n}=e,i=be(e,["svgRef","title"]);return r.a.createElement("svg",ve({width:22,height:24,viewBox:"0 0 22 24",ref:t},i),n?r.a.createElement("title",null,n):null,ye)},xe=r.a.forwardRef((e,t)=>r.a.createElement(_e,ve({svgRef:t},e)));n.p;var we=n(1965);function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ee=r.a.createElement("path",{d:"M15.5 8.05a3.99 3.99 0 01-3.95-4.03A3.99 3.99 0 0115.5 0c2.18 0 3.95 1.8 3.95 4.02a3.99 3.99 0 01-3.95 4.03zm6.13 3.05a3.99 3.99 0 01.65-5.6 3.99 3.99 0 015.61.54 3.99 3.99 0 01-.64 5.6 3.99 3.99 0 01-5.62-.54zm1.5 6.78a3.99 3.99 0 014.8-2.94 3.99 3.99 0 013.04 4.75 3.99 3.99 0 01-4.8 2.94 3.99 3.99 0 01-3.04-4.75zm-4.25 5.48a3.99 3.99 0 015.31 1.88c.97 2 .17 4.4-1.79 5.35a3.99 3.99 0 01-5.3-1.88c-.98-2-.18-4.4 1.78-5.35zm-6.76 0a3.99 3.99 0 011.79 5.35 3.99 3.99 0 01-5.31 1.88 3.99 3.99 0 01-1.79-5.35c.97-2 3.35-2.84 5.31-1.88zm-4.25-5.48a3.99 3.99 0 01-3.03 4.75A3.99 3.99 0 01.03 19.7a3.99 3.99 0 013.03-4.75c2.17-.5 4.32.81 4.81 2.94zm1.5-6.78a3.99 3.99 0 01-5.62.54 3.99 3.99 0 01-.64-5.6 3.99 3.99 0 015.61-.54 3.99 3.99 0 01.65 5.6z",fill:"#000"});const ke=e=>{let{svgRef:t,title:n}=e,i=Se(e,["svgRef","title"]);return r.a.createElement("svg",Ce({width:31,height:31,viewBox:"0 0 31 31",ref:t},i),n?r.a.createElement("title",null,n):null,Ee)},Oe=r.a.forwardRef((e,t)=>r.a.createElement(ke,Ce({svgRef:t},e)));n.p;function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ae(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ie=r.a.createElement("g",{fill:"none"},r.a.createElement("rect",{stroke:"#000",fill:"#FFF",x:.4,y:.4,width:20,height:4.64,rx:2.32}),r.a.createElement("rect",{stroke:"#000",fill:"#FFF",x:.4,y:8.96,width:20,height:4.64,rx:2.32}),r.a.createElement("rect",{stroke:"#000",fill:"#FFF",x:22.8,y:8.96,width:12.8,height:4.64,rx:2.32}),r.a.createElement("path",{d:"M20.15 11.28h2.34",stroke:"#1F1F1F"}));const je=e=>{let{svgRef:t,title:n}=e,i=Ae(e,["svgRef","title"]);return r.a.createElement("svg",Te({width:36,height:14,viewBox:"0 0 36 14",ref:t},i),n?r.a.createElement("title",null,n):null,Ie)},Pe=r.a.forwardRef((e,t)=>r.a.createElement(je,Te({svgRef:t},e)));n.p;var Me=n(1787);function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Le=r.a.createElement("g",{stroke:"#000",fill:"none"},r.a.createElement("path",{d:"M1 9.5s0 0 0 0h0C1 4.8 4.8 1 9.5 1h11.99a8.4 8.4 0 017.3 4.24A8.54 8.54 0 0130 9.5s0 0 0 0h0c0 4.7-3.8 8.5-8.5 8.5H9.51h0a8.4 8.4 0 01-7.3-4.24A8.54 8.54 0 011 9.5z"}),r.a.createElement("path",{d:"M14.53 9.99a2.41 2.41 0 003.65.26l1.45-1.46c.91-.95.9-2.47-.03-3.4a2.4 2.4 0 00-3.39-.03l-.83.83"}),r.a.createElement("path",{d:"M16.47 9.01a2.41 2.41 0 00-3.65-.26l-1.45 1.46c-.91.95-.9 2.47.03 3.4a2.4 2.4 0 003.39.03l.83-.83"}));const Ne=e=>{let{svgRef:t,title:n}=e,i=De(e,["svgRef","title"]);return r.a.createElement("svg",Re({width:31,height:19,viewBox:"0 0 31 19",ref:t},i),n?r.a.createElement("title",null,n):null,Le)},Be=r.a.forwardRef((e,t)=>r.a.createElement(Ne,Re({svgRef:t},e)));n.p;function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var He=r.a.createElement("g",{transform:"translate(-97 -644)",stroke:"#000",fill:"none"},"\n    &gt;\n    ",r.a.createElement("path",{d:"M112.97 648.33a7.35 7.35 0 010 9.39M115.33 645.95a10.68 10.68 0 010 14.11M110.59 650.69a3.98 3.98 0 010 4.63M108 653h0"}),r.a.createElement("g",null,r.a.createElement("path",{d:"M103.03 657.72a7.35 7.35 0 010-9.39M100.67 660.05a10.68 10.68 0 010-14.11M105.41 655.32a3.98 3.98 0 010-4.63"})));const Ue=e=>{let{svgRef:t,title:n}=e,i=ze(e,["svgRef","title"]);return r.a.createElement("svg",Fe({width:22,height:18,viewBox:"0 0 22 18",ref:t},i),n?r.a.createElement("title",null,n):null,He)},qe=r.a.forwardRef((e,t)=>r.a.createElement(Ue,Fe({svgRef:t},e)));n.p;function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ge=r.a.createElement("g",{fill:"#000"},r.a.createElement("path",{d:"M13 8.25l-.6.48a1 1 0 00-.2 1.4l2.83 3.67a1 1 0 001.42.17l3.55-2.9a1 1 0 00.15-1.4l-.5-.6a1 1 0 00-1.4-.15l-.52.43a7.81 7.81 0 015.71-6.37 1 1 0 00.7-1.03l-.05-.64a1 1 0 00-1.36-.86c-4.47 1.74-7.07 4.64-7.78 8.7l-.54-.71a1 1 0 00-1.4-.19z"}),r.a.createElement("text",null,r.a.createElement("tspan",{x:3.95,y:23}," Aa ")),r.a.createElement("path",{d:"M19.6 24.22H3.77a1 1 0 01-1-1V7.41a1 1 0 011-1h6.82a1 1 0 001-1v-.78a1 1 0 00-1-1H1a1 1 0 00-1 1V26a1 1 0 001 1h21.37a1 1 0 001-1v-9.87a1 1 0 00-1-1h-.78a1 1 0 00-1 1v7.1a1 1 0 01-1 1z"}));const Ke=e=>{let{svgRef:t,title:n}=e,i=Ve(e,["svgRef","title"]);return r.a.createElement("svg",We({width:25,height:27,viewBox:"0 0 25 27",ref:t},i),n?r.a.createElement("title",null,n):null,Ge)},Ye=r.a.forwardRef((e,t)=>r.a.createElement(Ke,We({svgRef:t},e)));n.p;function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Je(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var $e=r.a.createElement("g",{fill:"none"},r.a.createElement("path",{d:"M8.2 3.87V2.1c0-1.1.9-2 2-2h16.07a2 2 0 012 2v10.97H16.38v-7.2a2 2 0 00-2-2",fill:"#C1C1C1"}),r.a.createElement("path",{d:"M1 13.93V6c0-1.1.9-2 2-2h11.74a2 2 0 012 2v4.66c0 1.1.9 2 2 2H30",stroke:"#000"}));const Ze=e=>{let{svgRef:t,title:n}=e,i=Je(e,["svgRef","title"]);return r.a.createElement("svg",Xe({width:31,height:15,viewBox:"0 0 31 15",ref:t},i),n?r.a.createElement("title",null,n):null,$e)},Qe=r.a.forwardRef((e,t)=>r.a.createElement(Ze,Xe({svgRef:t},e)));n.p;function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function tt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var nt=r.a.createElement("g",{fill:"none"},r.a.createElement("g",{fill:"#020202"},r.a.createElement("ellipse",{cx:4.19,cy:21,rx:4.19,ry:4}),r.a.createElement("ellipse",{cx:19.19,cy:21,rx:4.19,ry:4}),r.a.createElement("ellipse",{cx:19.19,cy:4,rx:4.19,ry:4}),r.a.createElement("circle",{cx:32.93,cy:21,r:4})),r.a.createElement("path",{stroke:"#000",d:"M5.58 19.05L19.01 5l12.78 14.05M19.23 5.44v13.81"}));const it=e=>{let{svgRef:t,title:n}=e,i=tt(e,["svgRef","title"]);return r.a.createElement("svg",et({width:37,height:25,viewBox:"0 0 37 25",ref:t},i),n?r.a.createElement("title",null,n):null,nt)},rt=r.a.forwardRef((e,t)=>r.a.createElement(it,et({svgRef:t},e)));n.p;var ot=n(1837);function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function st(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var lt=r.a.createElement("path",{d:"M1088 1256v240q0 16-12 28t-28 12H808q-16 0-28-12t-12-28v-240q0-16 12-28t28-12h240q16 0 28 12t12 28zm316-600q0 54-15.5 101t-35 76.5-55 59.5-57.5 43.5-61 35.5q-41 23-68.5 65t-27.5 67q0 17-12 32.5t-28 15.5H804q-15 0-25.5-18.5T768 1096v-45q0-83 65-156.5T976 786q59-27 84-56t25-76q0-42-46.5-74T931 548q-65 0-108 29-35 25-107 115-13 16-31 16-12 0-25-8L496 575q-13-10-15.5-25t5.5-28q160-266 464-266 80 0 161 31t146 83 106 127.5 41 158.5z"});const ct=e=>{let{svgRef:t,title:n}=e,i=st(e,["svgRef","title"]);return r.a.createElement("svg",at({className:"question-icon",width:1792,height:1792,ref:t},i),n?r.a.createElement("title",null,n):null,lt)},ht=r.a.forwardRef((e,t)=>r.a.createElement(ct,at({svgRef:t},e)));n.p;function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ut(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var pt=r.a.createElement("g",{id:"UI",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fontSize:24,fontWeight:"{fontWeights.regular} ",letterSpacing:-.48},r.a.createElement("g",{transform:"translate(-555.000000, -1379.000000)",fill:"#000000",id:"Group-31"},r.a.createElement("g",{transform:"translate(539.000000, 1358.000000)"},r.a.createElement("text",{id:"JS"},r.a.createElement("tspan",{x:16,y:39},"\n              JS\n            ")))));const ft=e=>{let{svgRef:t,title:n}=e,i=ut(e,["svgRef","title"]);return r.a.createElement("svg",dt({width:"24px",height:"19px",viewBox:"0 0 24 19",ref:t},i),n?r.a.createElement("title",null,n):null,pt)},mt=r.a.forwardRef((e,t)=>r.a.createElement(ft,dt({svgRef:t},e)));n.p;function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var bt=r.a.createElement("g",{fill:"none"},r.a.createElement("rect",{stroke:"#000",fill:"#FFF",x:.4,y:.4,width:20,height:4.64,rx:2.32}),r.a.createElement("rect",{stroke:"#000",fill:"#FFF",x:.4,y:17.4,width:20,height:4.64,rx:2.32}),r.a.createElement("rect",{stroke:"#000",fill:"#FFF",x:22.8,y:8.96,width:12.8,height:4.64,rx:2.32}),r.a.createElement("path",{d:"M10.5 11.28h11.99",stroke:"#1F1F1F"}),r.a.createElement("path",{d:"M10.6 5.5v11.86",stroke:"#000"}));const yt=e=>{let{svgRef:t,title:n}=e,i=vt(e,["svgRef","title"]);return r.a.createElement("svg",gt({width:36,height:23,viewBox:"0 0 36 23",ref:t},i),n?r.a.createElement("title",null,n):null,bt)},_t=r.a.forwardRef((e,t)=>r.a.createElement(yt,gt({svgRef:t},e)));n.p;function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function wt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ct=r.a.createElement("g",{fill:"none"},r.a.createElement("path",{d:"M24 15.67a2.5 2.5 0 01-2.56 2.44H6.11L1 23V3.44A2.5 2.5 0 013.56 1h17.88A2.5 2.5 0 0124 3.44v12.23z",stroke:"#000"}),r.a.createElement("path",{d:"M14.72 9.62c0 .28.17.43.5.44l.52.03c.34.02.65.18.92.5s.4.66.4 1.06c0 .48-.17.9-.52 1.22-.35.33-.78.5-1.3.5-.6 0-1.1-.24-1.5-.72a2.8 2.8 0 01-.58-1.83c0-1.39.55-2.81 1.64-4.27.4-.53.74-.8 1.04-.8.33 0 .5.17.5.52 0 .14-.1.33-.3.57-.46.59-.85 1.3-1.16 2.1-.1.28-.16.5-.16.68zm-4.73 0c0 .28.16.43.5.44l.51.03c.37.02.68.18.95.5.27.3.4.66.4 1.06 0 .48-.17.9-.51 1.22-.35.33-.78.5-1.3.5-.61 0-1.1-.24-1.5-.72a2.8 2.8 0 01-.58-1.83c0-1.39.54-2.81 1.63-4.27.4-.53.75-.8 1.04-.8.33 0 .5.17.5.52 0 .14-.1.33-.29.57a7.97 7.97 0 00-.93 1.5c-.28.58-.42 1-.42 1.28z",fill:"#000"}));const St=e=>{let{svgRef:t,title:n}=e,i=wt(e,["svgRef","title"]);return r.a.createElement("svg",xt({viewBox:"0 0 25 24",ref:t},i),n?r.a.createElement("title",null,n):null,Ct)},Et=r.a.forwardRef((e,t)=>r.a.createElement(St,xt({svgRef:t},e)));n.p;function kt(){return(kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ot(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Tt=r.a.createElement("g",{id:"UI",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("g",{transform:"translate(-49.000000, -856.000000)",fillRule:"nonzero",stroke:"#000000"},r.a.createElement("g",{id:"WebpackIcon",transform:"translate(53.000000, 859.000000)"},r.a.createElement("polygon",{id:"Path-6",strokeWidth:9,points:"23.7897627 49.1114586 59.9700269 28.7515134 95.654671 49.1114586 95.654671 89.086473 59.9700269 108.701542 23.7897627 88.838181"}),r.a.createElement("polyline",{id:"Path-7",strokeWidth:9,points:"2 37 59.9700269 69.4714038 117.764308 37"}),r.a.createElement("path",{d:"M59.9700269,136.261956 L59.9700269,69.4714038",id:"Path-8",strokeWidth:10}),r.a.createElement("path",{d:"M118,104 L95,90",id:"Path-16",strokeWidth:10}),r.a.createElement("path",{d:"M2,103.537313 L25,90",id:"Path-20",strokeWidth:10}),r.a.createElement("path",{d:"M59.7222169,2.68085178 L59.7222169,29.2480974",id:"Path-21",strokeWidth:10}),r.a.createElement("polygon",{id:"Path-22",strokeWidth:7,points:"2.27373675e-13 104.72887 59.8461219 138 119.692244 104.72887 119.692244 35.2071058 59.8461219 0.694515663 2.27373675e-13 35.2071058"}))));const At=e=>{let{svgRef:t,title:n}=e,i=Ot(e,["svgRef","title"]);return r.a.createElement("svg",kt({width:"128px",height:"145px",viewBox:"0 0 128 145",ref:t},i),n?r.a.createElement("title",null,n):null,Tt)},It=r.a.forwardRef((e,t)=>r.a.createElement(At,kt({svgRef:t},e)));n.p;function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Pt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Mt=r.a.createElement("g",{id:"UI",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fontSize:12,fontWeight:"{fontWeights.semiBold} ",letterSpacing:-.24},r.a.createElement("g",{transform:"translate(-867.000000, -1488.000000)",fill:"#000000",id:"a.-b.-c."},r.a.createElement("text",null,r.a.createElement("tspan",{x:867,y:1494},"\n            a.\n          "),r.a.createElement("tspan",{x:867,y:1510},"\n            b.\n          "),r.a.createElement("tspan",{x:867,y:1526},"\n            c.\n          "))));const Rt=e=>{let{svgRef:t,title:n}=e,i=Pt(e,["svgRef","title"]);return r.a.createElement("svg",jt({width:"10px",height:"39px",viewBox:"0 0 10 39",ref:t},i),n?r.a.createElement("title",null,n):null,Mt)},Dt=r.a.forwardRef((e,t)=>r.a.createElement(Rt,jt({svgRef:t},e)));n.p;function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Nt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Bt=r.a.createElement("g",{stroke:"#000",strokeWidth:1.7,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M1 1h15v15H1z"}),r.a.createElement("path",{fill:"#949494",d:"M8.5 1H1v7.5h7.5z"}),r.a.createElement("path",{d:"M8.5 8.5H1V16h7.5z"}),r.a.createElement("path",{d:"M1 8.5h15V16H1z"}));const Ft=e=>{let{svgRef:t,title:n}=e,i=Nt(e,["svgRef","title"]);return r.a.createElement("svg",Lt({width:17,height:17,ref:t},i),n?r.a.createElement("title",null,n):null,Bt)},zt=r.a.forwardRef((e,t)=>r.a.createElement(Ft,Lt({svgRef:t},e)));n.p;t.a={markdownIcon:T,narytreeIcon:rt,questionIcon:ht,testimonialIcon:Et,webpackIcon:It,sequence_diagramIcon:_t,runjsIcon:mt,codeIcon:R,paintBrushIcon:ot.a,columnsIcon:F,pictureIcon:()=>r.a.createElement(o.a,{size:13}),drawingIcon:()=>r.a.createElement(a.a,{size:13}),matrixIcon:()=>r.a.createElement(s.a,{size:13}),linkedlistIcon:()=>r.a.createElement(l.a,{size:13}),stackIcon:()=>r.a.createElement(c.a,{size:13}),fileIcon:()=>r.a.createElement(m,{size:13}),videoIcon:()=>r.a.createElement(g.a,{size:13}),terminalIcon:()=>r.a.createElement(v.a,{size:13}),formIcon:()=>r.a.createElement(b.a,{size:13}),smartPhoneIcon:()=>r.a.createElement(w,{size:13}),videoRecord:()=>r.a.createElement(C.a,{size:13}),arrayIcon:W,binarytreeIcon:X,calculatorIcon:ae,canvasanimationIcon:de,carouselIcon:ge,chartIcon:xe,fontIcon:we.a,graphizIcon:Oe,hashtableIcon:Pe,hintIcon:Me.a,LinkButtonIcon:Be,liveappIcon:qe,markdownImportIcon:Ye,multitabIcon:Qe,quizIcon:Dt,instaCalcIcon:zt}},2287:function(e,t,n){"use strict";n.r(t);var i=n(14),r=n(0),o=n.n(r),a=n(485),s=n(648),l=n(827),c=n(30),h=n(80),d=n(153),u=n(1721),p=n(2169),f=n(2137),m=n(20),g=n(855);const v=e=>{let{mapName:t}=e;const n="userdata/map/".concat(t);return Object(m.a)({url:"/api/".concat(n),type:"GET"})},b=e=>async t=>{try{const n=Object(g.a)(),r=Object(i.a)({timestamp:Date.now()},e);await(e=>{let{mapName:t,data:n}=e;const i="userdata/map/".concat(t);return Object(m.a)({url:"/api/".concat(i),type:"POST",data:{map_key_val:JSON.stringify(n)}})})({mapName:n,data:r});const o=await v({mapName:n});t({type:"SAVE_GITHUB_TOKEN",result:JSON.parse(o).githubToken})}catch(n){console.error("save github token error",n)}},y=()=>async e=>{try{const t=Object(g.a)(),n=await v({mapName:t});e({type:"SAVE_GITHUB_TOKEN",result:JSON.parse(n).githubToken})}catch(t){404!==t.status&&401!==t.status&&console.error("load user metadata error",t)}};var _=n(1944),x=n(535),w=n(175),C=n(85),S=n(414),E=n(55),k=n(1656),O=n(531),T=n(816),A=n(650),I=n(334),j=n(652),P=n(1985),M=n(1844),R=n(1737),D=n(35),L=n(486),N=n(201),B=n(2164),F=n(57),z=n.n(F),H=n(58),U=n(1746);class q extends r.Component{constructor(){super(...arguments),this.state={mode:"view"},this.editorRef=o.a.createRef(),this.gotoEdit=()=>{this.setState({mode:"edit"})},this.handleKeyUp=e=>{"Enter"===e.key?this.updateValue():"Escape"===e.key&&this.gotoView()},this.updateValue=()=>{if(this.editorRef.current){const e=this.editorRef.current.value.trim();this.gotoView(),this.props.onAddCodeTab(e)}}}componentDidUpdate(){"edit"===this.state.mode&&this.editorRef.current&&this.editorRef.current.select()}gotoView(){this.setState({mode:"view"})}render(){return"edit"===this.state.mode?o.a.createElement("div",{className:z()("cmcomp-edit-text",this.props.inputClassName)},o.a.createElement(U.Z,{ref:this.editorRef,type:"text",maxLength:this.props.inputLength||"30",defaultValue:this.props.defaultValue||"",onKeyUp:this.handleKeyUp,onBlur:this.updateValue,placeholder:this.props.placeholder})):o.a.createElement("div",{className:z()("cmcomp-edit-text",this.props.buttonClassName)},o.a.createElement(H.a,{small:!0,onClick:this.gotoEdit,style:{marginLeft:"5px"}},this.props.label))}}var W=n(424),V=n(530),G=e=>{let{codeContent:t,onCodeChange:n,codePanelHeight:i,withoutBorder:r,onlyCodeChanged:a,inView:s}=e;return o.a.createElement(U.t,{withoutBorder:r,className:"fullscreen_codemirror_editor",style:{height:"".concat(i,"px")}},o.a.createElement(V.a,{key:Object(W.c)(t),inView:s,forcedHeight:i,codeContent:t,resizable:!1,onlyCodeChanged:a,onEditorChange:e=>{n(e)}}))},K=n(1657),Y=n(1997);class X extends r.Component{constructor(){var e;super(...arguments),e=this,this.state={selectedIndex:0},this.handleSelect=e=>{this.setState({selectedIndex:e})},this.addHint=()=>{const{hintsContent:e,onContentChange:t}=this.props;t([...e,{markdown:"",html:""}],"hintsContent")},this.handleHintsUpdate=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({onlyCodeChanged:n},()=>{e.props.onContentChange(t,"hintsContent",n)})}}render(){const{defaultContent:e,onContentChange:t,codePanelHeight:n,showSPAfile:r,evaluationContent:a,hintsContent:s,solutionContent:l,toggleSolution:c,showSolution:h,selectedIndex:d,handleSelect:u,onlyCodeChanged:p}=this.props;return o.a.createElement(N.WidgetTabs,{selectedIndex:d,onSelect:u,style:{padding:"1px"}},o.a.createElement(N.WidgetTabList,null,o.a.createElement(N.WidgetTab,null,"Evaluation"),o.a.createElement(N.WidgetTab,null,"Hints"),o.a.createElement(N.WidgetTab,null,"Solution")),o.a.createElement(N.WidgetTabPanel,null,o.a.createElement(G,{showSPAfile:r,codeContent:Object(i.a)({},e,{content:a}),onCodeChange:e=>t(e,"evaluationContent",!0),codePanelHeight:n,onlyCodeChanged:p})),o.a.createElement(N.WidgetTabPanel,null,o.a.createElement(U.W,null,o.a.createElement(H.a,{small:!0,onClick:this.addHint,borderless:!0,success:!0,style:{width:120,marginLeft:8,marginTop:8}},"Add Hint"),o.a.createElement("div",{style:{height:n-40,overflow:"auto"}},o.a.createElement(Y.a,{judgeHints:s,onJudgeHintsUpdate:this.handleHintsUpdate,onlyCodeChanged:this.state.onlyCodeChanged})))),o.a.createElement(U.U,null,o.a.createElement(U.V,{className:"form-label",htmlFor:"show-solution-checkbox"},"Show Solutions",o.a.createElement(K.a,{id:"show-solution-checkbox",checked:h,onChange:c})),o.a.createElement(G,{withoutBorder:!0,showSPAfile:r,codeContent:Object(i.a)({},e,{content:l}),onCodeChange:e=>t(e,"solutionContent",!0),codePanelHeight:n-43,onlyCodeChanged:p})))}}var J=n(2162),$=n(129),Z=n.n($),Q=n(1),ee=n(12);Q.d.div.withConfig({displayName:"styles__NodeStyled",componentId:"sc-1gv93w1-0"})([""]);const te=Q.d.div.withConfig({displayName:"styles__Controls",componentId:"sc-1gv93w1-1"})(["flex:0 0 45px;display:flex;align-items:center;justify-content:space-around;margin-left:15px;.fa:hover{color:",";cursor:pointer;}.fa-pencil-square-o{font-size:",";}.danger{&:hover{stroke:"," !important;}}svg{transition:0.2s;cursor:pointer;margin-right:5px;&:hover{stroke:",";}}"],e=>{let{theme:t}=e;return t.palette.common.black},ee.a.textLarge,e=>{let{theme:t}=e;return t.palette.error.main},e=>{let{theme:t}=e;return t.palette.primary.main}),ne=Q.d.span.withConfig({displayName:"styles__DirIcon",componentId:"sc-1gv93w1-2"})(["line-height:1;margin-right:5px;"]),ie=Q.d.div.withConfig({displayName:"styles__EditContainer",componentId:"sc-1gv93w1-3"})(["display:flex;align-items:center;height:34px;width:100%;padding-left:10px;input{width:100%;outline:none;}"]),re=Q.d.div.withConfig({displayName:"styles__Container",componentId:"sc-1gv93w1-4"})(["display:flex;align-items:center;justify-content:space-between;font-size:",";cursor:default;"],ee.a.textLarge),oe=Q.d.div.withConfig({displayName:"styles__ShowContainer",componentId:"sc-1gv93w1-5"})(["flex:1;overflow:hidden;display:block !important;text-overflow:ellipsis;> button{outline:none;border:none;background:none;display:block !important;text-overflow:ellipsis;overflow:hidden;}"]);var ae=e=>{let{collapsed:t=!1,onClick:n}=e;return o.a.createElement(ne,{onClick:n},t?"\u25b6":"\u25bc")};class se extends o.a.Component{componentDidMount(){if(this.input.focus(),this.input.value)if(this.props.node.leaf){const e=this.input.value.split(".")[0].length;this.input.setSelectionRange(0,e)}else this.input.select()}render(){const{node:e}=this.props,t=!e.leaf;return o.a.createElement(ie,null,t&&o.a.createElement(ae,{collapsed:e.collapsed}),o.a.createElement("input",{value:this.props.value,onChange:this.props.onChange,onBlur:this.props.onBlur,onKeyDown:this.props.onKeyDown,ref:e=>{this.input=e}}))}}var le=n(2576),ce=n(1499),he=n(2141),de=e=>{let{node:t,currFolderId:n,onClick:i,onToggleCollapse:r,onBackToParent:a,onBackToRoot:s,isActive:l}=e;const c=t.module,h=!t.leaf,d=n===t.id;return o.a.createElement(oe,null,d&&o.a.createElement(U.w,null,o.a.createElement("span",{onClick:s},o.a.createElement(he.a,null)),o.a.createElement(U.a,{onClick:e=>a(e,t)},o.a.createElement(le.a,{size:20}))),o.a.createElement(k.a,{trigger:["hover"],placement:"top",overlay:o.a.createElement(ce.a,null,c)},o.a.createElement("button",{title:c,className:"node ".concat(l?"is-active":""),onClick:i},h&&0!==t.id&&o.a.createElement(ae,{collapsed:t.collapsed,onClick:r}),c)))},ue=n(1506),pe=n(647),fe=n(1669),me=n(1666),ge=n(253);const ve=e=>t=>{t.preventDefault(),t.stopPropagation(),e()};var be=e=>{let{node:t,currFolderId:n,editMode:i,onRemove:r,onEdit:a,onConfirm:s,onCancel:l}=e;if(0===t.id)return null;const c=n===t.id;return i?o.a.createElement(te,null,o.a.createElement(ue.a,{title:"Confirm",onMouseDown:ve(s),size:16}),o.a.createElement(pe.a,{title:"Cancel",onMouseDown:ve(l),size:16,className:"danger"})):o.a.createElement(te,{style:{marginTop:c?"32px":"0"}},o.a.createElement(fe.a,{title:"Edit",onMouseDown:ve(a),size:16}),o.a.createElement(ge.a,{popoverTitle:"Permanently delete this ".concat(t.leaf?"file":"folder","?"),handleConfirm:r,hideOnConfirm:!0,danger:!0},o.a.createElement(me.a,{title:"Remove",size:16,className:"danger"})))};class ye extends o.a.Component{constructor(e){super(e),this.openEdit=()=>{this.setState({editMode:!0})},this.closeEdit=()=>{this.setState({editMode:!1})},this.confirmEdit=()=>{this.props.changeFileName(this.state.editValue.trim(),this.props.node),this.closeEdit()},this.cancelEdit=()=>{this.setState({editValue:this.props.node.module}),this.closeEdit()},this.handleEditInputChange=e=>{this.setState({editValue:e.target.value})},this.handleEditInputKeyDown=e=>{e.keyCode===Z.a.codes.enter?this.confirmEdit():e.keyCode===Z.a.codes.esc&&this.cancelEdit()},this.state={editMode:!1,editValue:this.props.node.module||""}}componentDidUpdate(e,t){var n,i,r,o,a;(null===e||void 0===e?void 0:null===(n=e.node)||void 0===n?void 0:n.module)!==(null===(i=this.props)||void 0===i?void 0:null===(r=i.node)||void 0===r?void 0:r.module)&&this.setState({editValue:null===(o=this.props)||void 0===o?void 0:null===(a=o.node)||void 0===a?void 0:a.module})}render(){const{currentFolderId:e,onToggleCollapse:t,OnBackToParentNode:n,onBackToRoot:i}=this.props;return o.a.createElement(re,null,this.state.editMode?o.a.createElement(se,{node:this.props.node,value:this.state.editValue,onChange:this.handleEditInputChange,onBlur:this.cancelEdit,onKeyDown:this.handleEditInputKeyDown}):o.a.createElement(de,{node:this.props.node,currFolderId:e,isActive:this.props.isActive,onClick:this.props.onClickNode,onToggleCollapse:t,onBackToParent:n,onBackToRoot:i}),o.a.createElement(be,{node:this.props.node,currFolderId:e,editMode:this.state.editMode,onRemove:this.props.onRemoveNode,onEdit:this.openEdit,onConfirm:this.confirmEdit,onCancel:this.cancelEdit}))}}var _e=n(182),xe=n.n(_e),we=n(1772),Ce=n(831);function Se(e,t){if(!e||0===e.length)return!1;const n=null===t||void 0===t?void 0:t.children;if(n){return!n.some(t=>e===t.module)}return!0}class Ee extends r.Component{constructor(){super(...arguments),this.state={selectedIndex:0,showSPAfile:!0,currentFolderNode:null},this.onAddCodeFile=e=>{const t=e.replace(/\s+/g,""),{codeContents:n,codeContents:{maxId:r}}=this.props,o=r+1,{currentFolderNode:a}=this.state,s=a?Object(we.c)(n,a.id):n;if(!Se(t,s))return;s.children.unshift({id:o,module:t,leaf:!0,parentId:s.id,data:{content:"",language:Object(P.a)(t),staticFile:!1,hidden:!1,highlightedLines:""}});const l=Object(i.a)({},n,{maxId:o,selectedId:o});this.setState({currentFolderNode:s}),this.props.onUpdateContent({codeContents:l})},this.onAddCodeFolder=e=>{const t=e.replace(/\s+/g,""),{codeContents:n,codeContents:{maxId:r}}=this.props,o=r+1,{currentFolderNode:a}=this.state;let s=a?Object(we.c)(n,a.id):n;if(!Se(t,s))return;s.children.unshift({id:o,module:t,leaf:!1,parentId:s.id,children:[]});const l=Object(i.a)({},n,{maxId:o});a&&this.setState({currentFolderNode:s}),this.props.onUpdateContent({codeContents:l})},this.onFilenameChange=(e,t)=>{const n=e.replace(/\s+/g,""),i=Object(we.c)(this.props.codeContents,t.parentId);i&&!Se(n,i)||(t.module=n,t.data&&(t.data.language=Object(P.a)(n)),this.props.onUpdateContent({codeContents:this.props.codeContents}))},this.getAdditionalFilesCharsOverLimit=()=>{const{codeContents:e}=this.props,t=Object(we.d)(e),n=Object.keys(t);return Object(R.e)(t,n)},this.onCodeChange=e=>{if(this.props.exerciseTabsVisible)return;const{codeContents:t,codeContents:{selectedId:n}}=this.props;Object(we.f)(t,n,(e,t)=>{e.data&&(e.data.content=t)},e),this.props.onUpdateContent({codeContents:t},!0)},this.handleUpdate=e=>{const{onUpdateContent:t}=this.props;t({codeContents:e})},this.onClickNode=e=>{const{codeContents:t,onUpdateContent:n}=this.props,{currentFolderNode:r}=this.state;if(0!==e.id)if(e.leaf)n({codeContents:Object(i.a)({},t,{selectedId:e.id})});else if(r&&e.id===r.id){const e=Object(i.a)({},r,{collapsed:!r.collapsed});this.setState({currentFolderNode:e})}else this.setState({currentFolderNode:e})},this.onToggleCollapse=(e,t)=>{const{codeContents:n,onUpdateContent:r}=this.props,{currentFolderNode:o}=this.state;e.preventDefault(),e.stopPropagation(),t.leaf||(t.collapsed=!t.collapsed,o&&t.id===o.id&&this.setState({currentFolderNode:Object(i.a)({},o,{collapsed:!o.collapsed})})),r({codeContents:n})},this.onBackToParentNode=e=>{const{codeContents:t}=this.props,{currentFolderNode:n}=this.state;e.preventDefault(),e.stopPropagation(),this.setState({currentFolderNode:Object(we.e)(t,n)})},this.backToRoot=()=>{this.setState({currentFolderNode:null})},this.onRemoveNode=xe()(e=>{const{codeContents:t}=this.props,{currentFolderNode:n}=this.state;n&&e.id===n.id&&this.setState({currentFolderNode:Object(we.e)(t,n)}),Object(we.b)(t,e.id);const r=Object(i.a)({},t,{selectedId:0});this.props.onUpdateContent({codeContents:r})},200),this.showhideFileSPA=e=>{this.setState({showSPAfile:e})},this.handleSelect=e=>{this.setState({selectedIndex:e})},this.renderNode=e=>{const{codeContents:{selectedId:t},exerciseTabsVisible:n,judgeActive:i}=this.props,{currentFolderNode:r}=this.state,a=e.id===t&&(!n||!i);return o.a.createElement(ye,{currentFolderId:r?r.id:-1,node:e,isActive:a,onRemoveNode:()=>this.onRemoveNode(e),onClickNode:()=>this.onClickNode(e),onToggleCollapse:t=>this.onToggleCollapse(t,e),OnBackToParentNode:e=>this.onBackToParentNode(e),onBackToRoot:this.backToRoot,changeFileName:this.onFilenameChange})},this.getDefaultContent=()=>{const{codeTheme:e,showLineNumbers:t}=this.props;return{codeTheme:e,lineNumbers:t,language:"javascript",content:""}},this.toggleFullScreen=()=>{this.props.toggleFullScreen&&this.props.toggleFullScreen()},this.handleChangeOutputOrientation=()=>{this.props.changeOutputOrientation&&this.props.changeOutputOrientation()}}render(){const{codeContents:e,judgeActive:t,evaluationContent:n,solutionContent:r,hintsContent:a,onJudgeContentChange:s,executionInProgress:l,onRunClicked:c,onTestClicked:h,codePanelHeight:d,onlyCodeChanged:u,toggleSolution:p,showSolution:f,exerciseTabsVisible:m,toggleExerciseTabs:g,pollingBundleStatus:v,outputOrientation:b,isOutputOpened:y,fullscreen:_,executionContext:x,onLiveContainerStatusChanged:w}=this.props,C=this.getAdditionalFilesCharsOverLimit(),{selectedId:S}=e,{currentFolderNode:E}=this.state,A=this.getDefaultContent();let P=Object(i.a)({},A);const R=0!==S?Object(we.c)(e,S):null,F=C<0;if(null===R||void 0===R?void 0:R.data){const{content:e,language:t,highlightedLines:n}=R.data;P=Object(i.a)({},P,{content:e,highlightedLines:n,language:t,entryFileName:R.module})}return o.a.createElement(U.h,{className:"".concat(y?b:"")},o.a.createElement(U.k,{className:" ".concat("fullscreen_codewrapper_editor")},o.a.createElement(U.p,{showFileTree:this.state.showSPAfile,defaultSize:{width:242}},o.a.createElement("div",{id:"tabslist"},t&&o.a.createElement(U.o,{onClick:g},o.a.createElement(U.m,null,"Exercise"),o.a.createElement(U.n,null,o.a.createElement(Ce.a,{height:20,width:36,onChange:()=>{},onColor:this.props.theme.palette.primary.main,isChecked:m}))),o.a.createElement(U.j,null,o.a.createElement(q,{label:"Add file",onAddCodeTab:this.onAddCodeFile,inputLength:255}),o.a.createElement(q,{label:"Add folder",onAddCodeTab:this.onAddCodeFolder})),o.a.createElement(J.a,{tree:e,currentFolder:E,onUpdate:this.handleUpdate,renderNode:this.renderNode,draggable:!E,treeHeight:d-15-(t?33:0),treeWidth:280,editorMode:!0,codePanelHeight:d,findTreeNode:we.c}))),o.a.createElement(U.l,null,m&&t?o.a.createElement(X,{showSPAfile:this.state.showSPAfile,defaultContent:A,evaluationContent:n,hintsContent:a,solutionContent:r,showSolution:f,toggleSolution:p,onContentChange:s,codePanelHeight:d,selectedIndex:this.state.selectedIndex,handleSelect:this.handleSelect,onlyCodeChanged:u}):o.a.createElement(N.WidgetTabs,{selectedIndex:0,style:{padding:"1px"}},o.a.createElement(N.WidgetTabList,null,o.a.createElement(N.WidgetTab,null,R?R.module:"")),o.a.createElement(N.WidgetTabPanel,null,o.a.createElement(G,{inView:this.props.inView,showSPAfile:this.state.showSPAfile,codeContent:P,onCodeChange:this.onCodeChange,codePanelHeight:d,onlyCodeChanged:u}))))),o.a.createElement(U.i,{className:"".concat(_?"code_tabs_fullscreen_editor":"")},o.a.createElement(B.a,{SPAfilesUpdate:this.showhideFileSPA,executionInProgress:l,pollingBundleStatus:v,executionContext:x,onLiveContainerStatusChanged:w,onRunClicked:c,isOutputOpened:y,limitReached:F,liveOutputUrl:this.props.liveOutputUrl}),t&&o.a.createElement("div",null,o.a.createElement(M.a,{onClick:h,executionDisabled:l||F})),F&&o.a.createElement(U.e,null,"".concat(-1*C," character(s) over limit (Max: ").concat(D.w,"KB)"),o.a.createElement("span",null,". Consider using the"," ",o.a.createElement(U.db,{to:L.a.AUTHOR_GUIDE,target:"_new"},"code execution resource file."))),o.a.createElement(U.s,null,o.a.createElement(U.q,null,this.props.fullscreenIconToggle({onClick:this.toggleFullScreen})),this.props.isOutputOpened&&o.a.createElement(U.r,null,o.a.createElement(k.a,{placement:"top",overlay:Object(j.a)("Close output")},o.a.createElement(I.a,{small:!0,default:!0,link:!0,onClick:this.props.closeOutput},o.a.createElement(O.a,{icon:T.m})))))))}}Ee.defaultProps={judgeActive:!1,pollingBundleStatus:!1,executionContext:{},onLiveContainerStatusChanged:()=>{}};var ke=Object(A.a)(Ee),Oe=n(649),Te=n(620),Ae=n(21),Ie=n(844),je=n(657);class Pe extends r.Component{constructor(){super(...arguments),this.onLoaderToggle=(e,t)=>{const{loaders:n,onLoadersChange:r}=this.props;r(Object.keys(n).reduce((e,r)=>Object(i.a)({},e,{[r]:Object(i.a)({},n[r],{enabled:r===t})}),n))},this.getEnabledLoaderTitle=e=>{if(e){const t=Object.keys(e).filter(t=>e[t].enabled);return e[t[0]].title}return""}}render(){const{loaders:e}=this.props;let t=null;return t=Object.keys(e).map((t,n)=>{const i=e[t];return o.a.createElement(U.B,{key:n},i.title,o.a.createElement(U.C,{type:"checkbox",onChange:e=>this.onLoaderToggle(e,t),checked:i.enabled}))}),o.a.createElement(U.z,null,o.a.createElement(U.A,{id:"Loaders dropdown",title:"Loaders: ".concat(this.getEnabledLoaderTitle(e)),disabled:this.props.disabled},t))}}Pe.defaultProps={disabled:!1};var Me=n(1064),Re=n(809),De=n(46),Le=n(65),Ne=n(68),Be=n(38),Fe=function(e){function t(){return e.apply(this,arguments)||this}return Object(Ne.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=Object(Le.a)(e,["className"]),i=Object(Be.f)(n),r=i[0],a=i[1],s=Object(Be.d)(r);return o.a.createElement("span",Object(De.a)({},a,{className:z()(t,s)}))},t}(o.a.Component),ze=Object(Be.a)("input-group-addon",Fe),He=function(e){function t(){return e.apply(this,arguments)||this}return Object(Ne.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=Object(Le.a)(e,["className"]),i=Object(Be.f)(n),r=i[0],a=i[1],s=Object(Be.d)(r);return o.a.createElement("span",Object(De.a)({},a,{className:z()(t,s)}))},t}(o.a.Component),Ue=Object(Be.a)("input-group-btn",He),qe=n(168),We=function(e){function t(){return e.apply(this,arguments)||this}return Object(Ne.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=Object(Le.a)(e,["className"]),i=Object(Be.f)(n),r=i[0],a=i[1],s=Object(Be.d)(r);return o.a.createElement("span",Object(De.a)({},a,{className:z()(t,s)}))},t}(o.a.Component);We.Addon=ze,We.Button=Ue;var Ve=Object(Be.a)("input-group",Object(Be.b)([qe.c.LARGE,qe.c.SMALL],We)),Ge=n(1655);const Ke=e=>{let{name:t,version:n,handleRemove:i}=e;return o.a.createElement(U.J,null,o.a.createElement(U.K,null,t),o.a.createElement(U.L,null,n),o.a.createElement(U.M,{size:30,onClick:i}))};class Ye extends r.Component{constructor(){super(...arguments),this.state={packageInputValue:""},this.packageInputRef=o.a.createRef(),this.overlayRef=o.a.createRef(),this.handleAddPackage=()=>{if(!this.packageInputRef.current)return;const e=this.packageInputRef.current,[t,n]=e.value.trim().split("@");e.value="",this.props.addPackage(t,n)},this.handleKeyPress=e=>{"Enter"===e.key&&this.handleAddPackage()},this.handleUpdateBundle=()=>{const{pollingBundleStatus:e,updateBundle:t}=this.props;!e&&this.overlayRef.current&&(this.overlayRef.current.handleHide(),t())}}render(){const{packages:e,removePackage:t,packageNotFound:n,pollingBundleStatus:i,theme:r}=this.props,a=o.a.createElement(Me.a,{id:"package-list"},o.a.createElement(Q.a,{theme:r},o.a.createElement(Ge.a,{theme:r},o.a.createElement(Re.a,null,o.a.createElement(Ve,null,o.a.createElement(Oe.a,{type:"text",placeholder:" package name...",onKeyPress:this.handleKeyPress,inputRef:this.packageInputRef}))),o.a.createElement(U.G,null,'You can assign specific version with "@", ex. "react@15.6.1" or "react@next"'),o.a.createElement(U.I,null,Object.keys(e).map(n=>o.a.createElement(Ke,{key:n,name:n,version:e[n],handleRemove:()=>t(n)}))),o.a.createElement(U.H,null,n&&"Package Not Found"),o.a.createElement(Ve.Button,null,o.a.createElement(Te.a,{onClick:this.handleUpdateBundle},"Update")))));return o.a.createElement(U.F,null,o.a.createElement(k.a,{rootClose:!0,onExit:this.handleUpdateBundle,trigger:"click",placement:"bottom",overlay:a,container:this,ref:this.overlayRef},o.a.createElement(Te.a,{disabled:i||this.props.disabled,style:{fontWeight:Ae.f}},"Add NPM Package")))}}Ye.defaultProps={disabled:!1};var Xe=Object(A.a)(Ye),Je=n(1808);const $e=null===Je||void 0===Je?void 0:Je.RedeemCoupon;class Ze extends r.Component{constructor(e,t){super(e,t),this.handleInputChange=e=>{this.props.validateInput&&!this.props.validateInput(e.target.value)||this.setState({value:e.target.value})},this.handleKeyUp=e=>{"Enter"===e.key?this.updateValue():"Escape"===e.key&&this.gotoView()},this.gotoEdit=()=>{this.setState({mode:"edit"},()=>{this.editor&&this.editor.select()})},this.gotoView=()=>{this.setState({mode:"view"})},this.updateValue=e=>{e&&e.stopPropagation(),this.gotoView(),this.props.apply(this.state.value)},this.renderForm=()=>o.a.createElement($e.Form,{onSubmit:this.updateValue},o.a.createElement(Oe.a,{type:"text",value:this.state.value,onChange:this.handleInputChange,inputRef:e=>{this.editor=e},placeholder:this.props.placeholder,onBlur:this.gotoView,onKeyUp:this.handleKeyUp}),o.a.createElement($e.RedeemButton,{onMouseDown:this.updateValue,type:"submit"},"Apply")),this.state={mode:"view",value:e.defaultValue||""}}componentDidUpdate(e){!e.defaultValue&&this.props.defaultValue&&this.setState({value:this.props.defaultValue})}renderIcon(){return this.props.loading?o.a.createElement(O.a,{icon:T.l,spin:!0}):this.props.error?o.a.createElement(O.a,{icon:T.g}):this.props.done?o.a.createElement(O.a,{icon:T.d}):null}render(){const e=this.renderForm();return o.a.createElement(U.Y,null,"edit"===this.state.mode?e:o.a.createElement(U.X,{onClick:this.gotoEdit,bsSize:"small"},this.props.label,this.renderIcon()))}}var Qe=n(1986),et=n(133),tt=n.n(et);class nt extends r.Component{constructor(){super(...arguments),this.codePanelHeightRef=o.a.createRef(),this.outputHeightRef=o.a.createRef(),this.changeDockerJob=e=>{const t=e.target.value,n=this.props.docker.jobs.find(e=>e.key===t);this.props.onDockerJobChanged(n)}}onUpdateCodePanelHeight(e){!e||isNaN(e)||e<100||e>600?this.codePanelHeightRef.current&&(this.codePanelHeightRef.current.value=this.props.codePanelHeight):(this.props.onCodePanelHeightChange(e),this.props.setEditingPanelHeight(!1))}onUpdateOutputHeight(e){!e||isNaN(e)||e<100||e>2048?this.outputHeightRef.current&&(this.outputHeightRef.current.value=this.props.outputHeight):this.props.onOutputHeightChange(e)}getSelectedLoader(){var e,t,n;if(null===(e=this.props)||void 0===e?void 0:null===(t=e.selectedDockerJob)||void 0===t?void 0:t.android)return{title:Qe.a[this.props.androidLoader].title};const i=null===(n=this.props)||void 0===n?void 0:n.loaders;if(i){const e=Object.keys(i).filter(e=>i[e].enabled);return i[e[0]]}return null}render(){var e,t,n,i,r,a,s,l,c,h,d,u,p,f,m,g,v,b,y,_,x,C,S,E,k,O;const{docker:T,selectedEnvVars:A}=this.props;let I=A;var j;0===Object.keys(A).length&&(null===T||void 0===T||null===(j=T.envs)||void 0===j||j.forEach(e=>{I=tt()(I,{[e.id]:{$set:!0}})}));return o.a.createElement(U.bb,{className:"edcomp-toolbar ".concat(this.props.fullscreen?"fullscreen_codeoptions_wrapper":"")},o.a.createElement("div",null,!(null===(e=this.props)||void 0===e?void 0:null===(t=e.selectedDockerJob)||void 0===t?void 0:t.android)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(U.ab,{className:"form-label"},"Line Numbers",o.a.createElement(K.a,{checked:this.props.showLineNumbers,onChange:e=>this.props.onShowLineNumbers(!!e.target.checked)})),o.a.createElement(U.ab,{className:"form-label"},"Hide Code",o.a.createElement(K.a,{checked:this.props.hideCodeView,onChange:e=>this.props.onHideCodeViewChange(!!e.target.checked)})),!(null===(n=this.props)||void 0===n?void 0:null===(i=n.selectedDockerJob)||void 0===i?void 0:i.android)&&!this.props.judgeDisabled&&o.a.createElement(U.ab,{className:"form-label"},"Exercise",o.a.createElement(K.a,{checked:this.props.judgeActive,onChange:this.props.toggleJudgeActive})),o.a.createElement(U.ab,{className:"form-label"},"Show Console",o.a.createElement(K.a,{checked:this.props.showConsole,onChange:this.props.toggleShowConsole})),Object.keys(null!==(r=null===(a=this.props)||void 0===a?void 0:a.selectedDockerJob)&&void 0!==r?r:{}).length>0&&(null===(s=this.props.docker)||void 0===s?void 0:null===(l=s.envs)||void 0===l?void 0:l.length)>0&&o.a.createElement(je.a,{title:"Environment Vars",envVars:this.props.docker.envs,selectedEnvVars:I,handleEnvVarSelection:this.props.handleEnvVarSelection,isEnv:!0},o.a.createElement(U.ab,{className:"form-label"},"Select Env Vars")),this.props.apiKeys&&this.props.apiKeys.length>0&&o.a.createElement(je.a,{title:"API Keys",apiKeys:this.props.apiKeys,selectedApiKeys:this.props.selectedApiKeys,handleApiKeySelection:this.props.handleApiKeySelection},o.a.createElement(U.ab,{className:"form-label"},"Select API Keys")),this.props.isLiveJob&&o.a.createElement(U.ab,{className:"form-label"},"Hide Output",o.a.createElement(K.a,{checked:this.props.hideResultOutput,onChange:this.props.toggleHideResultOutput}))),!(null===(c=this.props)||void 0===c?void 0:null===(h=c.selectedDockerJob)||void 0===h?void 0:h.android)&&!(null===(d=this.props.selectedDockerJob)||void 0===d?void 0:d.key)&&o.a.createElement(Pe,{loaders:this.props.loaders,onLoadersChange:this.props.onLoadersChange}),(null===(u=this.props)||void 0===u?void 0:null===(p=u.selectedDockerJob)||void 0===p?void 0:p.android)&&o.a.createElement(U.ab,{className:"form-label"},o.a.createElement(Oe.a,{componentClass:"select",onChange:e=>{this.props.onAndroidLoaderChange({androidLoader:e.target.value})},style:{width:"110px"}},Object.keys(Qe.a).filter(e=>!Qe.a[e].disabled).map(e=>o.a.createElement("option",{key:e,value:e,selected:this.props.androidLoader===e},Qe.a[e].title)))),!(null===(f=this.props.selectedDockerJob)||void 0===f?void 0:f.key)&&o.a.createElement(ge.a,{popoverTitle:"Are you sure you want to replace the existing code?",handleConfirm:this.props.onUpdateHelloWorld,hideOnConfirm:!0,danger:!0},o.a.createElement(U.F,null,o.a.createElement(Te.a,{style:{fontWeight:Ae.f}},"Add Hello World for"," ",this.getSelectedLoader()&&this.getSelectedLoader().title))),o.a.createElement("div",null,o.a.createElement(U.ab,{className:"form-label"},this.props.isEditingPanelHeight?"Code Height* (px)":"Code Height (px)",o.a.createElement(Oe.a,{maxLength:4,inputRef:this.codePanelHeightRef,defaultValue:this.props.codePanelHeight,onKeyDown:e=>{"Enter"===e.key&&this.codePanelHeightRef.current?this.onUpdateCodePanelHeight(this.codePanelHeightRef.current.value):this.codePanelHeightRef.current&&e.target.value!==this.props.codePanelHeight&&this.props.setEditingPanelHeight(!0)},onBlur:e=>{let{target:{value:t}}=e;this.onUpdateCodePanelHeight(t)},style:{marginLeft:5}})),o.a.createElement(U.ab,{className:"form-label"},"Output Height(px)",o.a.createElement(Oe.a,{maxLength:4,inputRef:this.outputHeightRef,defaultValue:this.props.outputHeight,onKeyDown:e=>{"Enter"===e.key&&this.outputHeightRef.current&&this.onUpdateOutputHeight(this.outputHeightRef.current.value)},onBlur:e=>{let{target:{value:t}}=e;this.onUpdateOutputHeight(t)},style:{marginLeft:5}})),o.a.createElement(Ie.a,{value:this.props.highlightedLines,onChangeLines:e=>this.props.onHighlightedLinesChange(e.target.value)}),(null===(m=this.props)||void 0===m?void 0:null===(g=m.docker)||void 0===g?void 0:null===(v=g.container)||void 0===v?void 0:v.imageName)&&!(null===(b=this.props)||void 0===b?void 0:null===(y=b.selectedDockerJob)||void 0===y?void 0:y.android)&&o.a.createElement(U.ab,{className:"form-label"},"Docker(Beta)",o.a.createElement(Oe.a,{componentClass:"select",style:{marginLeft:5,minWidth:"100px"},onChange:this.changeDockerJob,disabled:!Object(w.h)(this.props.docker.container.buildStatus)},o.a.createElement("option",{selected:!0,value:-1},"Select a Job"),null===(_=this.props.docker.jobs)||void 0===_?void 0:_.map((e,t)=>o.a.createElement("option",{key:t,value:e.key,selected:e.key===this.props.selectedDockerJob.key}," ",e.name," ")))),(null===(x=this.props)||void 0===x?void 0:null===(C=x.selectedDockerJob)||void 0===C?void 0:C.android)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(U.ab,{className:"form-label",style:{minWidth:"80%"}},"Build Path",o.a.createElement(Oe.a,{placeholder:"e.g. app/build/outputs/apk/debug/app-debug.apk",componentClass:"textarea",value:this.props.androidBuildPath,onChange:e=>this.props.onAndroidBuildPathChange(e.target.value),style:{marginLeft:5,width:"100%",maxWidth:"80%"}}))),o.a.createElement("div",null,o.a.createElement(U.ab,{className:"form-label",style:{minWidth:"100%"}},"Package Name",o.a.createElement(Oe.a,{placeholder:"e.g. com.educative.android.hello",componentClass:"input",value:this.props.androidPackageName,onChange:e=>this.props.onAndroidPackageNameChange(e.target.value),style:{marginLeft:5,width:"50%"}})))))),o.a.createElement("div",null,!Object.keys(this.props.selectedDockerJob).length&&this.props.canAddNpmPackages&&o.a.createElement(Xe,{packages:this.props.npmPackages,addPackage:this.props.addNpmPackage,removePackage:this.props.removeNpmPackage,packageNotFound:this.props.packageNotFound,pollingBundleStatus:this.props.pollingBundleStatus,updateBundle:this.props.updateBundle}),o.a.createElement(Ze,{apply:this.props.saveGithubToken,done:Boolean(this.props.githubToken),loading:this.props.githubTokenLoading,error:this.props.githubTokenError,label:"Provide github token",placeholder:"Provide github token",defaultValue:this.props.githubToken}),o.a.createElement(Ze,{apply:this.props.importGithubRepo,done:Boolean(this.props.importedGithubPath),loading:this.props.githubRepoLoading,error:this.props.githubRepoError,label:"Import code from Github",placeholder:"Enter path to repo",defaultValue:this.props.importedGithubPath})),(null===(S=this.props)||void 0===S?void 0:null===(E=S.selectedDockerJob)||void 0===E?void 0:E.runInLiveContainer)&&!(null===(k=this.props)||void 0===k?void 0:null===(O=k.selectedDockerJob)||void 0===O?void 0:O.android)&&o.a.createElement(Ze,{apply:this.props.saveAppUrl,label:"Override app entrypoint",placeholder:"Override app entrypoint",defaultValue:this.props.appUrl,validateInput:e=>{var t,n,i,r;return e.startsWith(null===(t=this.props)||void 0===t?void 0:null===(n=t.docker)||void 0===n?void 0:null===(i=n.container)||void 0===i?void 0:null===(r=i.liveInstance)||void 0===r?void 0:r.url)}}))}}nt.defaultProps={docker:{jobs:[]},selectedDockerJob:{},onDockerJobChanged:()=>{},apiKeys:null,selectedApiKeys:{},selectedEnvVars:{},handleApiKeySelection:null,handleEnvVarSelection:null,setEditingPanelHeight:()=>{},isEditingPanelHeight:!1};var it=n(2150),rt=n(1945),ot=n(1984),at=n(1936),st=n(1937);var lt={babel:{canAddNpmPackages:!0,judge:{judgeDisabled:!1,judgeActive:!1,evaluationContent:st.a.authorCode,hintsContent:[],solutionContent:"",showSolution:!1,exerciseTabsVisible:!1,version:st.a.version},module:"/",id:0,maxId:3,selectedId:2,children:[{id:1,module:"index.js",leaf:!0,data:{content:"import React from 'react';\r\nrequire('./style.css');\r\n\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app.js';\r\n\r\nReactDOM.render(\r\n  <App />, \r\n  document.getElementById('root')\r\n);\r\n",language:"jsx",staticFile:!0,hidden:!1,highlightedLines:null}},{id:2,module:"app.js",leaf:!0,data:{content:"import React from 'react';\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return (\r\n      <span>Hello World</span>\r\n    );\r\n  }\r\n}\r\n",language:"jsx",staticFile:!1,hidden:!1,highlightedLines:null}},{module:"style.css",id:3,leaf:!0,data:{content:"p {\r\n  color: blue;\r\n}",language:"css",staticFile:!1,hidden:!1,highlightedLines:null}}]},dart:{canAddNpmPackages:!1,judge:{judgeDisabled:!0,judgeActive:!1,evaluationContent:st.a.authorCode,hintsContent:[],solutionContent:"",showSolution:!1,exerciseTabsVisible:!1,version:st.a.version},module:"/",id:0,maxId:3,selectedId:1,children:[{id:1,module:"index.html",leaf:!0,data:{content:'<html>\r\n<head>\r\n  <script type="application/dart" src="main.dart"><\/script>\r\n</head>\r\n</html>',language:"html",staticFile:!0,hidden:!1,highlightedLines:null}},{id:2,module:"main.dart",leaf:!0,data:{content:"import 'dart:html';\r\n\r\nvoid main() {\r\n  querySelector('#container').text = 'Hello from your Dart App.';\r\n}",language:"dart",staticFile:!1,hidden:!1,highlightedLines:null}}]},"ts-react":{canAddNpmPackages:!1,judge:{judgeDisabled:!0,judgeActive:!1,evaluationContent:st.a.authorCode,hintsContent:[],solutionContent:"",showSolution:!1,exerciseTabsVisible:!1,version:st.a.version},module:"/",id:0,maxId:3,selectedId:1,children:[{id:1,module:"index.tsx",leaf:!0,data:{content:'import * as React from "react";\r\nimport * as ReactDOM from "react-dom";\r\n\r\nimport { Hello } from "./components/Hello";\r\n\r\n ReactDOM.render(\r\n    <Hello compiler="TypeScript" framework="React" />,\r\n    document.getElementById("root")\r\n);',language:"typescript",staticFile:!0,hidden:!1,highlightedLines:null}},{id:2,module:"components",leaf:!1,children:[{id:3,module:"Hello.tsx",leaf:!0,data:{content:'import * as React from "react";\r\n\r\nexport interface HelloProps { compiler: string; framework: string; }\r\n\r\nexport class Hello extends React.Component<HelloProps, {}> {\r\n    render() {\r\n        return <h1>Hello from {this.props.compiler} and {this.props.framework}!</h1>;\r\n    }\r\n}',language:"typescript",staticFile:!0,hidden:!1,highlightedLines:null}}]}]},elm:{canAddNpmPackages:!1,judge:{judgeDisabled:!0,judgeActive:!1,evaluationContent:st.a.authorCode,hintsContent:[],solutionContent:"",showSolution:!1,exerciseTabsVisible:!1,version:st.a.version},module:"/",id:0,maxId:3,selectedId:1,children:[{id:1,module:"elm.json",leaf:!0,data:{content:'{\r\n    "type": "application",\r\n    "source-directories": [\r\n        "src"\r\n    ],\r\n    "elm-version": "0.19.0",\r\n    "dependencies": {\r\n        "direct": {\r\n            "elm/browser": "1.0.1",\r\n            "elm/core": "1.0.2",\r\n            "elm/html": "1.0.0",\r\n            "elm/time": "1.0.0",\r\n            "elm/http": "2.0.0",\r\n            "elm/json": "1.1.3"\r\n        },\r\n        "indirect": {\r\n            "elm/url": "1.0.0",\r\n            "elm/virtual-dom": "1.0.2",\r\n            "elm/bytes": "1.0.8",\r\n            "elm/file": "1.0.5"\r\n        }\r\n    },\r\n    "test-dependencies": {\r\n        "direct": {},\r\n        "indirect": {}\r\n    }\r\n}',language:"elm",staticFile:!0,hidden:!1,highlightedLines:null}},{id:2,module:"src",leaf:!1,children:[{id:3,module:"Main.elm",leaf:!0,data:{content:'-- Press a button to send a GET request for random cat GIFs.\r\n--\r\n-- Read how it works:\r\n--   https://guide.elm-lang.org/effects/json.html\r\n--\r\n\r\nimport Browser\r\nimport Html exposing (..)\r\nimport Html.Attributes exposing (..)\r\nimport Html.Events exposing (..)\r\nimport Http\r\nimport Json.Decode exposing (Decoder, field, string)\r\n\r\n\r\n\r\n-- MAIN\r\n\r\n\r\nmain =\r\n  Browser.element\r\n    { init = init\r\n    , update = update\r\n    , subscriptions = subscriptions\r\n    , view = view\r\n    }\r\n\r\n\r\n\r\n-- MODEL\r\n\r\n\r\ntype Model\r\n  = Failure\r\n  | Loading\r\n  | Success String\r\n\r\n\r\ninit : () -> (Model, Cmd Msg)\r\ninit _ =\r\n  (Loading, getRandomCatGif)\r\n\r\n\r\n\r\n-- UPDATE\r\n\r\n\r\ntype Msg\r\n  = MorePlease\r\n  | GotGif (Result Http.Error String)\r\n\r\n\r\nupdate : Msg -> Model -> (Model, Cmd Msg)\r\nupdate msg model =\r\n  case msg of\r\n    MorePlease ->\r\n      (Loading, getRandomCatGif)\r\n\r\n    GotGif result ->\r\n      case result of\r\n        Ok url ->\r\n          (Success url, Cmd.none)\r\n\r\n        Err _ ->\r\n          (Failure, Cmd.none)\r\n\r\n\r\n\r\n-- SUBSCRIPTIONS\r\n\r\n\r\nsubscriptions : Model -> Sub Msg\r\nsubscriptions model =\r\n  Sub.none\r\n\r\n\r\n\r\n-- VIEW\r\n\r\n\r\nview : Model -> Html Msg\r\nview model =\r\n  div []\r\n    [ h2 [] [ text "Random Cats" ]\r\n    , viewGif model\r\n    ]\r\n\r\n\r\nviewGif : Model -> Html Msg\r\nviewGif model =\r\n  case model of\r\n    Failure ->\r\n      div []\r\n        [ text "I could not load a random cat for some reason. "\r\n        , button [ onClick MorePlease ] [ text "Try Again!" ]\r\n        ]\r\n\r\n    Loading ->\r\n      text "Loading..."\r\n\r\n    Success url ->\r\n      div []\r\n        [ button [ onClick MorePlease, style "display" "block" ] [ text "More Please!" ]\r\n        , img [ src url ] []\r\n        ]\r\n\r\n\r\n\r\n-- HTTP\r\n\r\n\r\ngetRandomCatGif : Cmd Msg\r\ngetRandomCatGif =\r\n  Http.get\r\n    { url = "https://api.giphy.com/v1/gifs/random?api_key=dc6zaTOxFJmzC&tag=cat"\r\n    , expect = Http.expectJson GotGif gifDecoder\r\n    }\r\n\r\n\r\ngifDecoder : Decoder String\r\ngifDecoder =\r\n  field "data" (field "image_url" string)',language:"elm",staticFile:!0,hidden:!1,highlightedLines:null}}]}]},"gojs-react":{canAddNpmPackages:!1,judge:{judgeDisabled:!0,judgeActive:!1,evaluationContent:st.a.authorCode,hintsContent:[],solutionContent:"",showSolution:!1,exerciseTabsVisible:!1,version:st.a.version},module:"/",id:0,maxId:3,selectedId:1,children:[{id:1,module:"index.js",leaf:!0,data:{content:"import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n",language:"jsx",staticFile:!0,hidden:!1,highlightedLines:null}},{id:2,module:"App.js",leaf:!0,data:{content:"  // App.js\r\n  import React from 'react';\r\n\r\n  import * as go from 'gojs';\r\n  import { ReactDiagram } from 'gojs-react';\r\n\r\n  import './App.css';  // contains .diagram-component CSS\r\n\r\n  // ...\r\n\r\n  /**\r\n   * Diagram initialization method, which is passed to the ReactDiagram component.\r\n   * This method is responsible for making the diagram and initializing the model and any templates.\r\n   * The model's data should not be set here, as the ReactDiagram component handles that via the other props.\r\n   */\r\n  function initDiagram() {\r\n    const $ = go.GraphObject.make;\r\n    const diagram =\r\n      $(go.Diagram,\r\n        {\r\n          'undoManager.isEnabled': true,  // must be set to allow for model change listening\r\n          // 'undoManager.maxHistoryLength': 0,  // uncomment disable undo/redo functionality\r\n          'clickCreatingTool.archetypeNodeData': { text: 'new node', color: 'lightblue' },\r\n          model: $(go.GraphLinksModel,\r\n            {\r\n              linkKeyProperty: 'key'  // IMPORTANT! must be defined for merges and data sync when using GraphLinksModel\r\n            })\r\n        });\r\n\r\n    // define a simple Node template\r\n    diagram.nodeTemplate =\r\n      $(go.Node, 'Auto',  // the Shape will go around the TextBlock\r\n        new go.Binding('location', 'loc', go.Point.parse).makeTwoWay(go.Point.stringify),\r\n        $(go.Shape, 'RoundedRectangle',\r\n          { name: 'SHAPE', fill: 'white', strokeWidth: 0 },\r\n          // Shape.fill is bound to Node.data.color\r\n          new go.Binding('fill', 'color')),\r\n        $(go.TextBlock,\r\n          { margin: 8, editable: true },  // some room around the text\r\n          new go.Binding('text').makeTwoWay()\r\n        )\r\n      );\r\n\r\n    return diagram;\r\n  }\r\n\r\n  /**\r\n   * This function handles any changes to the GoJS model.\r\n   * It is here that you would make any updates to your React state.\r\n   */\r\n  function handleModelChange(changes) {\r\n    console.log('GoJS model changed!');\r\n  }\r\n\r\n  // render function...\r\n  export default function App() {\r\n    return (\r\n      <div>\r\n        ...\r\n        <ReactDiagram\r\n          initDiagram={initDiagram}\r\n          divClassName='diagram-component'\r\n          nodeDataArray={[\r\n            { key: 0, text: 'Alpha', color: 'lightblue', loc: '0 0' },\r\n            { key: 1, text: 'Beta', color: 'orange', loc: '150 0' },\r\n            { key: 2, text: 'Gamma', color: 'lightgreen', loc: '0 150' },\r\n            { key: 3, text: 'Delta', color: 'pink', loc: '150 150' }\r\n          ]}\r\n          linkDataArray={[\r\n            { key: -1, from: 0, to: 1 },\r\n            { key: -2, from: 0, to: 2 },\r\n            { key: -3, from: 1, to: 1 },\r\n            { key: -4, from: 2, to: 3 },\r\n            { key: -5, from: 3, to: 0 }\r\n          ]}\r\n          onModelChange={handleModelChange}\r\n        />\r\n        ...\r\n      </div>\r\n    );\r\n  }\r\n",language:"jsx",staticFile:!1,hidden:!1,highlightedLines:null}},{id:3,module:"App.css",leaf:!0,data:{content:"/* App.css */\r\n.diagram-component {\r\n  width: 400px;\r\n  height: 400px;\r\n  border: solid 1px black;\r\n  background-color: white;\r\n}\r\n",language:"css",staticFile:!1,hidden:!1,highlightedLines:null}}]},vue:{canAddNpmPackages:!1,judge:{judgeDisabled:!1,judgeActive:!1,evaluationContent:st.a.authorCode,hintsContent:[],solutionContent:"",showSolution:!1,exerciseTabsVisible:!1,version:st.a.version},module:"/",id:0,maxId:3,selectedId:2,children:[{id:1,module:"main.js",leaf:!0,data:{content:"import Vue from 'vue'\r\nimport App from './App.vue'\r\nVue.config.productionTip = false\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n",language:"jsx",staticFile:!0,hidden:!1,highlightedLines:null}},{id:2,module:"App.vue",leaf:!0,data:{content:'<template>\r\n  <div id="app">\r\n    <HelloWorld msg="Hello World" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport HelloWorld from "./components/HelloWorld.vue";\r\nexport default {\r\n  name: "app",\r\n  components: {\r\n    HelloWorld\r\n  }\r\n};\r\n<\/script>\r\n',language:"jsx",staticFile:!1,hidden:!1,highlightedLines:null}},{id:3,module:"components",leaf:!1,children:[{id:4,module:"HelloWorld.vue",leaf:!0,data:{content:'<template>\r\n  <div class="hello">\r\n    <h1>{{ msg }}</h1>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: "HelloWorld",\r\n  props: {\r\n    msg: String\r\n  }\r\n};\r\n<\/script>\r\n',language:"elm",staticFile:!0,hidden:!1,highlightedLines:null}}]}]}},ct=n(1730);const ht={run:"Output",test:"Test Results",console:"Console",terminal:"Terminal",addTerminal:"+"};class dt extends r.Component{constructor(){var e;super(...arguments),e=this,this.state={outputUrl:null,executionInProgress:!1,execError:null,resultOutputExpanded:!1,testOutputExpanded:!1,testExecResult:null,testExecError:null,testExecInProgress:!1,bundleStatus:at.a.unknown,pollingBundleStatus:!1,packageNotFound:!1,githubRepoLoading:!1,githubTokenLoading:!1,githubRepoError:!1,githubTokenError:!1,outputOrientation:"right",iframeLogs:[],liveContainerStatus:null,onlyCodeChanged:!1,selectedOutputTabIndex:0,activeOutputs:[],canAddNpmPackages:!1,judgeDisabled:!0,genymotionVmInfo:{},updateTerm:0,appTerminal:"",isEditingPanelHeight:!1},this.resizable=o.a.createRef(),this.viewerWrapperRef=o.a.createRef(),this.closedTerminals=[],this.updateContentState=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({onlyCodeChanged:n},e.props.updateContentState(t))},this.onThemeSelect=e=>{this.updateContentState({theme:e})},this.handleCaptionChange=e=>{this.updateContentState({caption:e})},this.onShowLineNumbers=e=>{this.updateContentState({showLineNumbers:e})},this.onHideCodeViewChange=e=>{this.updateContentState({hideCodeView:e})},this.setEditingPanelHeight=e=>{this.setState({isEditingPanelHeight:e})},this.onUpdateHelloWorld=()=>{var e,t,i,r;if(null===(e=this.executionContext)||void 0===e?void 0:null===(t=e.docker)||void 0===t?void 0:t.android){const e=this.currentAndroidLoader(),t=Qe.a[e],{jsonFile:i}=t,r=Object(E.a)(()=>n(2629)("./".concat(i))),o=t.buildPath,a=t.packageName;return void r.then(e=>{this.updateContentState({codeContents:e.default,androidBuildPath:o,androidPackageName:a})})}const o=null===(i=this.props)||void 0===i?void 0:null===(r=i.content)||void 0===r?void 0:r.loaders;if(o){const e=Object.keys(o).filter(e=>o[e].enabled),t=lt[e[0]];this.updateContentState({codeContents:t})}},this.onLoadersChange=e=>{var t;const n=Object.keys(e).filter(t=>e[t].enabled),i=lt[n[0]],r=null===i||void 0===i?void 0:null===(t=i.judge)||void 0===t?void 0:t.judgeDisabled;this.setState({canAddNpmPackages:null===i||void 0===i?void 0:i.canAddNpmPackages,judgeDisabled:r});const{judgeActive:o}=this.getJudgeData();o&&r&&this.handleJudgeContentChange(!o,"judgeActive"),this.updateContentState({loaders:e})},this.onUpdateContent=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateContentState(t,n)},this.toggleJudgeActive=()=>{const{judgeActive:e}=this.getJudgeData();this.handleJudgeContentChange(!e,"judgeActive")},this.toggleShowConsole=()=>{const{showConsole:e}=this.props.content;this.updateContentState({showConsole:!e})},this.toggleHideResultOutput=()=>{const{content:{hideResultOutput:e}}=this.props;this.updateContentState({hideResultOutput:!e})},this.toggleSolution=()=>{const{showSolution:e}=this.getJudgeData();this.handleJudgeContentChange(!e,"showSolution")},this.toggleExerciseTabs=()=>{const{exerciseTabsVisible:e}=this.getJudgeData();this.handleJudgeContentChange(!e,"exerciseTabsVisible")},this.clearIFrameLogs=()=>{this.setState({iframeLogs:[]})},this.captureIFrameLogs=e=>{let{type:t,messages:n}=e;const i={type:t,messages:n},r=this.state.iframeLogs.concat(i);this.setState({iframeLogs:r})},this.handleJudgeContentChange=function(t,n){var r,o,a;let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const l=Object(i.a)({},e.props.content,{codeContents:Object(i.a)({},null===(r=e.props.content)||void 0===r?void 0:r.codeContents,{judge:Object(i.a)({},null===(o=e.props.content)||void 0===o?void 0:null===(a=o.codeContents)||void 0===a?void 0:a.judge,{[n]:t})})});e.onUpdateContent(l,s)},this.onHighlightedLinesChange=e=>{const{codeContents:t,codeContents:{selectedId:n}}=this.props.content;Object(we.f)(t,n,(e,t)=>{e.data.highlightedLines=t},e),this.onUpdateContent({codeContents:t})},this.handleApiKeySelection=e=>{this.updateContentState({selectedApiKeys:e})},this.handleEnvVarSelection=e=>{this.updateContentState({selectedEnvVars:e})},this.getHighlightedLines=()=>{let e="";const{codeContents:t,codeContents:{selectedId:n}}=this.props.content,i=Object(we.c)(t,n);return(null===i||void 0===i?void 0:i.data)&&(e=i.data.highlightedLines),e},this.onTestClicked=async()=>{await this.setStateSync({resultOutputExpanded:!1,testOutputExpanded:!0,testExecResult:null,testExecError:null,testExecInProgress:!0}),this.state.activeOutputs.includes(ht.test)?this.selectOuputTab(ht.test):this.addOutputTab(ht.test);const{authorId:e,collectionId:t,shotId:n,pageType:i,pageId:r,isDraft:o,content:{comp_id:a,codeContents:s}}=this.props,{evaluationContent:l}=this.getJudgeData(),c=tt()(Object(we.d)(s),{"ed_spa_test_code.js":{$set:l}}),h=st.a.edCode;try{const s=await Object(C.h)({author_id:e,work_id:t||n,work_type:i,page_id:r,comp_id:a,source_code:h,additional_files:JSON.stringify(c),language:"javascript",entry_filename:"ed_test.js",is_draft_page:o,test_output_on_console:!1});this.setState({testExecResult:JSON.parse(s),testExecInProgress:!1})}catch(d){console.log("codeJudge error in spa widget",d);const e=401!==d.status?d.responseText||d.toString():"Please login to use code judge.";this.setState({testExecError:e,testExecInProgress:!1})}},this.handleDockerJobChanged=e=>{const t=Object(i.a)({},e);e&&this.handleJudgeContentChange(!1,"judgeActive"),this.onUpdateContent({dockerJob:t})},this.enabledLoader=e=>Object.keys(e).filter(t=>e[t].enabled)[0],this.onRunClicked=()=>{var e;const{dockerJob:t={}}=this.props.content,{docker:n}=this.props;Object(w.h)(null===n||void 0===n?void 0:null===(e=n.container)||void 0===e?void 0:e.buildStatus)&&Object.keys(null!==t&&void 0!==t?t:{}).length?this.genDockerOutput():(this.state.activeOutputs.includes(ht.run)?this.selectOuputTab(ht.run):this.addOutputTab(ht.run),this.setState({testOutputExpanded:!1}),"babel"!==this.enabledLoader(this.props.content.loaders)?this.genCompiledAppOutput():this.pollForBundleStatus(this.genOutputIfBundleAvailable))},this.androidDockerContainer=()=>{var e;const{docker:t}=this.props,n=this.currentAndroidLoader(),r=null===t||void 0===t?void 0:t.container,o=null===(e=Qe.a[n])||void 0===e?void 0:e.dockerImage;return o?Object(i.a)({},t,{container:Object(i.a)({},r,{imageName:o})}):t},this.genDockerOutput=()=>{var e,t;const{authorId:n,collectionId:i,shotId:r,pageId:o,isDraft:a,docker:s,pageType:l}=this.props,c=null===(e=this.executionContext)||void 0===e?void 0:null===(t=e.docker)||void 0===t?void 0:t.android,{codeContents:h,comp_id:d,version:u,dockerJob:p}=this.props.content,f=Object(w.a)(c?this.androidDockerContainer():s,p);Object(rt.a)(h,[],[],u,n,i||r,l,o,a,d,f,this.genOutputCallback)},this.genCompiledAppOutput=()=>{const{authorId:e,collectionId:t,shotId:n,pageId:i,isDraft:r,pageType:o}=this.props,{codeContents:a,loaders:s,comp_id:l,version:c}=this.props.content;Object(rt.a)(a,s,[],c,e,t||n,o,i,r,l,null,this.genOutputCallback)},this.genOutputIfBundleAvailable=()=>{if(this.state.bundleStatus!==at.a.available)return;const{codeContents:e,loaders:t,comp_id:n,npmPackages:i,version:r}=this.props.content,{authorId:o,collectionId:a,shotId:s,pageId:l,pageType:c,isDraft:h}=this.props;Object(rt.a)(e,t,i,r,o,a||s,c,l,h,n,null,this.genOutputCallback)},this.genOutputCallback=(e,t,n)=>{this.setState({executionInProgress:e,execError:t,outputUrl:n,resultOutputExpanded:!0},()=>{var i,r;(null===(i=this.props)||void 0===i?void 0:null===(r=i.content)||void 0===r?void 0:r.showConsole)&&!t&&!e&&n&&(this.state.activeOutputs.includes(ht.console)?this.selectOuputTab(ht.console):this.addOutputTab(ht.console))})},this.onLiveContainerStatusChanged=e=>{let{instanceStatus:t,isAsync:n}=e;if(n&&!this.state.resultOutputExpanded&&!this.state.outputVisible&&0===this.state.activeOutputs.length)return;let i="";Object(x.k)(t)?i=x.b.ALLOCATION_FAILED:Object(x.j)(t)?i=x.b.PULL_FAILED:Object(x.p)(t)?i=x.b.DAEMON_FAILED:Object(x.n)(t)&&(i=x.b.UPDATE_FAILED);let{outputUrl:r}=this.state;var o,a,s;t&&(r=null===(o=this.executionContext)||void 0===o?void 0:null===(a=o.docker)||void 0===a?void 0:null===(s=a.liveInstance)||void 0===s?void 0:s.url);this.state.activeOutputs.includes(ht.run)||this.addOutputTab(ht.run),this.drawTerminal(t),this.setState({liveContainerStatus:t,resultOutputExpanded:!0,outputUrl:r,execError:i})},this.onAppDeployed=()=>{this.state.activeOutputs.includes(ht.run)?this.selectOuputTab(ht.run):this.addOutputTab(ht.run)},this.drawTerminal=async e=>{if(!Object(x.v)(e)){var t,n;const e=this.state.activeOutputs.filter(e=>this.closedTerminals.includes(e));if(await this.removeTerminalsAsync(e),-1===this.outputsContainTerminal()){var i,r;const e=null===(i=this.executionContext)||void 0===i?void 0:null===(r=i.docker)||void 0===r?void 0:r.android;this.state.activeOutputs.includes(ht.addTerminal)||e?this.addOutputTab(ht.terminal):this.setState({activeOutputs:[...this.state.activeOutputs,ht.addTerminal]},()=>{this.addOutputTab(ht.terminal)})}(null===(t=this.props)||void 0===t?void 0:null===(n=t.content)||void 0===n?void 0:n.hideResultOutput)&&this.state.activeOutputs.includes(ht.run)&&this.removeOutputTab(null,ht.run)}},this.setStateSync=e=>new Promise((t,n)=>{this.setState(e,t)}),this.removeTerminalsAsync=async e=>{const t=this.state.activeOutputs.filter(t=>!e.includes(t));this.closedTerminals=this.closedTerminals.filter(t=>!e.includes(t)),await this.setStateSync({activeOutputs:t})},this.onCodePanelHeightChange=e=>{this.updateContentState({codePanelHeight:e})},this.onOutputHeightChange=e=>{this.updateContentState({outputHeight:e})},this.onAndroidBuildPathChange=e=>{this.updateContentState({androidBuildPath:e})},this.onAndroidPackageNameChange=e=>{var t,n;const r=this.getAndroidStartScript(e),o=null===(t=this.props)||void 0===t?void 0:null===(n=t.content)||void 0===n?void 0:n.dockerJob;this.updateContentState({androidPackageName:e,dockerJob:Object(i.a)({},o,{startScript:r})})},this.closeOutput=()=>{this.setState({resultOutputExpanded:!1,testOutputExpanded:!1})},this.onSaveGithubToken=e=>{this.setState({githubTokenLoading:!0});const t=e.trim();null!=t?(this.props.saveUserMetaData({githubToken:t}),this.setState({githubTokenLoading:!1})):this.setState({githubTokenLoading:!1})},this.importGithubRepo=async e=>{try{this.setState({githubRepoLoading:!0,githubRepoError:!1});const t=e.trim();if(!t)return void this.setState({githubRepoLoading:!1,githubRepoError:!1});const{githubToken:n}=this.props.metaData||{},r=await Object(ot.b)(t,n),o=Object(i.a)({},await Object(ot.a)(r,n),{importedGithubPath:t});this.onUpdateContent({codeContents:o}),this.setState({githubRepoLoading:!1,githubRepoError:!1})}catch(t){console.warn("Import GitHub repo error\n",t),this.setState({githubRepoLoading:!1,githubRepoError:!0})}},this.addNpmPackage=async(e,t)=>{try{this.setState({packageNotFound:!1});const n=await Object(at.c)(e,t),r="string"===typeof n?JSON.parse(n):n;if(!r.name||!r.version)return;const o=Object(i.a)({},this.props.content.npmPackages,{[r.name]:r.version});this.updateContentState({npmPackages:o}),this.setState({bundleStatus:at.a.unknown})}catch(n){this.setState({packageNotFound:!0}),console.log("error",n)}},this.removeNpmPackage=e=>{const t=tt()(Object(i.a)({},this.props.content.npmPackages),{$unset:[e]});this.updateContentState({npmPackages:t}),this.setState({bundleStatus:at.a.unknown})},this.pollForBundleStatus=async e=>{this.setState({pollingBundleStatus:!0});let t=!1;const{npmPackages:n}=this.props.content,i=await Object(at.b)(n);if(i!==at.a.building)return void this.setState({bundleStatus:i,pollingBundleStatus:!1},e);this.setState({bundleStatus:i},e);const r=()=>{setTimeout(()=>{Object(at.b)(n).then(n=>{const i=!t&&n===at.a.building;this.setState({bundleStatus:t?at.a.unknown:n,pollingBundleStatus:i},e),i&&r()})},3e3)};r(),setTimeout(()=>{t=!0,this.state.bundleStatus===at.a.building&&this.setState({bundleStatus:at.a.unknown,pollingBundleStatus:!1},e)},12e4)},this.handleUpdateBundle=()=>{this.pollForBundleStatus()},this.handleResizeStart=()=>{var e;null===(e=this.viewerWrapperRef.current)||void 0===e||e.classList.add("iframe_is_unselectable")},this.handleResizeStop=()=>{var e;null===(e=this.viewerWrapperRef.current)||void 0===e||e.classList.remove("iframe_is_unselectable")},this.saveAppUrl=e=>{var t,n,i,r;e=e.trim();const o=null===(t=this.props)||void 0===t?void 0:null===(n=t.docker)||void 0===n?void 0:null===(i=n.container)||void 0===i?void 0:null===(r=i.liveInstance)||void 0===r?void 0:r.url;this.updateContentState({appUrl:e.startsWith(o)?e.replace(o,""):""})},this.changeOutputOrientation=()=>{let{outputOrientation:e}=this.state;e="bottom"===e?"right":"bottom",this.state.outputOrientation!==e&&this.setState({outputOrientation:e})},this.setAppTerminal=e=>{this.setState({appTerminal:e})},this.currentAndroidLoader=()=>{var e,t;return(null===(e=this.props)||void 0===e?void 0:null===(t=e.content)||void 0===t?void 0:t.androidLoader)||"Java"},this.addOutputTab=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t===ht.terminal?"".concat(t,"_").concat(Object(S.a)()):t;let r,o;t===ht.run?(o=[t,...e.state.activeOutputs],r=0):e.state.activeOutputs.includes(ht.addTerminal)?(o=tt()(e.state.activeOutputs,{$splice:[[e.state.activeOutputs.length-1,0,i]]}),r=o.length-2):(o=[...e.state.activeOutputs,i],r=o.length-1),r=n.silent?e.state.selectedOutputTabIndex:r,e.setState({activeOutputs:o,selectedOutputTabIndex:r,outputVisible:!0})},this.outputsContainTerminal=()=>this.state.activeOutputs.findIndex(e=>e.startsWith(ht.terminal)),this.handleOutputTabChange=e=>{this.state.activeOutputs[e]===ht.addTerminal?this.addOutputTab(ht.terminal):this.setState({selectedOutputTabIndex:e})},this.removeOutputTab=(e,t)=>{e&&(e.preventDefault(),e.stopPropagation());const{activeOutputs:n}=this.state,r=n.filter(e=>e!==t),o=this.getSelectedOutputTabName(),a=t===o?this.getTabToSelect(r,t):r.findIndex(e=>e===o);let s={activeOutputs:r,selectedOutputTabIndex:a};(0===r.length||r.includes(ht.addTerminal)&&1===r.length)&&(s=Object(i.a)({},s,{outputVisible:null,resultOutputExpanded:!1,activeOutputs:[]})),this.setState(s,()=>{t===ht.run&&this.removeOutputTab(null,ht.console)})},this.getTabToSelect=(e,t)=>{const n=e.includes(ht.addTerminal),i=this.state.activeOutputs.indexOf(t);return e.length?n&&e[i]===ht.addTerminal?i-1:1===e.length?0:i:-1},this.getSelectedOutputTabName=()=>{const{activeOutputs:e,selectedOutputTabIndex:t}=this.state;return e.length?e[t]:null},this.selectOuputTab=e=>{const{activeOutputs:t}=this.state;this.setState({selectedOutputTabIndex:t.findIndex(t=>t===e),outputVisible:!0})},this.onTerminalClose=e=>{this.closedTerminals=[...this.closedTerminals,e]},this.getAndroidStartScript=function(){var t,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o=i||(null===(t=e.props)||void 0===t?void 0:null===(n=t.content)||void 0===n?void 0:n.androidPackageName),a=r||e.currentAndroidLoader(),s="App:".concat(a,"_Package:").concat(o);return s},this.onAndroidLoaderChange=e=>{var t,n;const{androidLoader:r}=e,o=this.getAndroidStartScript(null,r),a=null===(t=this.props)||void 0===t?void 0:null===(n=t.content)||void 0===n?void 0:n.dockerJob;this.updateContentState({dockerJob:Object(i.a)({},a,{startScript:o}),androidLoader:r})}}componentDidMount(){var e,t;this.props.loadUserMetaData();const n=null===(e=this.props)||void 0===e?void 0:null===(t=e.content)||void 0===t?void 0:t.loaders;this.onLoadersChange(n)}componentDidUpdate(e){var t,n,i,r,o,a;const{jobs:s}=this.props.docker,l=null===(t=this.props)||void 0===t?void 0:null===(n=t.content)||void 0===n?void 0:null===(i=n.dockerJob)||void 0===i?void 0:i.name,c=!(null===s||void 0===s?void 0:s.some(e=>{var t,n;return u.a(e,null===(t=this.props)||void 0===t?void 0:null===(n=t.content)||void 0===n?void 0:n.dockerJob)})),h=""===(null===(r=this.props)||void 0===r?void 0:null===(o=r.docker)||void 0===o?void 0:null===(a=o.container)||void 0===a?void 0:a.imageName);if(l&&(c||h)){var d,p;(null===(d=this.executionContext)||void 0===d?void 0:null===(p=d.docker)||void 0===p?void 0:p.android)||this.handleDockerJobChanged()}var f;e.fullScreen&&!this.props.fullScreen&&(null===(f=this.resizable.current)||void 0===f||f.updateSize({width:"100%",height:"auto"}))}get executionContext(){var e,t,n;return Object(i.a)({},this.props.executionContext,{collection_id:this.props.collectionId,author_id:this.props.authorId||(null===(e=this.props)||void 0===e?void 0:null===(t=e.executionContext)||void 0===t?void 0:t.author_id),callback:this.genOutputCallback,docker:Object(w.a)((null===(n=this.props.content.dockerJob)||void 0===n?void 0:n.android)?this.androidDockerContainer():this.props.docker,this.props.content.dockerJob),userId:this.props.userId,setGenymotionVmInfo:e=>this.setState({genymotionVmInfo:e}),updateTerm:()=>this.setState({updateTerm:this.state.updateTerm+1})})}getCodeTheme(){const{content:{theme:e},default_themes:t}=this.props;return(null===t||void 0===t?void 0:t.SPA)&&("default"===e||t.isForced.SPA)?t.SPA:e}getJudgeData(){var e,t,n;return(null===(e=this.props)||void 0===e?void 0:null===(t=e.content)||void 0===t?void 0:null===(n=t.codeContents)||void 0===n?void 0:n.judge)||{}}get androidAppInfo(){const{androidBuildPath:e,androidPackageName:t}=this.props.content;return{androidBuildPath:e,androidPackageName:t}}renderOutput(e){var t,n,i,r,a,s,l,c;const{content:{outputHeight:h},userId:d}=this.props,u=null===(t=this.executionContext)||void 0===t?void 0:null===(n=t.docker)||void 0===n?void 0:n.android,{genymotionVmInfo:m,updateTerm:g}=this.state,v=this.currentAndroidLoader();switch(!0){case e===ht.run:return o.a.createElement("div",null,this.state.resultOutputExpanded&&o.a.createElement(it.a,{outputUrl:u?m.emulatorUrl:this.state.outputUrl,executionInProgress:this.state.executionInProgress,execError:this.state.execError,bundleStatus:at.a.available,outputHeight:h,captureIFrameLogs:this.captureIFrameLogs,liveContainerStatus:this.state.liveContainerStatus,userId:d,android:u,genymotionVmInfo:m}));case e.startsWith(ht.terminal):return o.a.createElement(_.a,{serverUrl:this.state.outputUrl,onStatusChange:this.onLiveContainerStatusChanged,startScript:null===(i=this.executionContext)||void 0===i?void 0:null===(r=i.docker)||void 0===r?void 0:null===(a=r.job)||void 0===a?void 0:a.startScript,appPort:null===(s=this.executionContext)||void 0===s?void 0:null===(l=s.docker)||void 0===l?void 0:null===(c=l.job)||void 0===c?void 0:c.ports,termId:e,onTerminalClose:this.onTerminalClose,instanceStatus:x.c.RUNNING,android:u,overrideBuildApk:Qe.a[v].apkBuildScript,androidAppInfo:this.androidAppInfo,genymotionVmInfo:m,updateTerm:g,onAppDeployed:this.onAppDeployed,setAppTerminal:this.setAppTerminal,terminalActiveStatus:!0});case e===ht.test:return o.a.createElement(p.a,{inProgress:this.state.testExecInProgress,result:this.state.testExecResult,error:this.state.testExecError});case e===ht.console:return o.a.createElement(f.a,{clearConsole:this.clearIFrameLogs,consoleLogs:this.state.iframeLogs});case e===ht.addTerminal:return o.a.createElement("div",null);default:return null}}render(){var e,t,n,i,r,c,h,d,u,p,f;const{showLineNumbers:m,npmPackages:g,loaders:v,outputHeight:b,codePanelHeight:y=600,hideCodeView:_,showConsole:x,androidBuildPath:w,androidPackageName:C,hideResultOutput:S}=this.props.content,{outputOrientation:E,onlyCodeChanged:k,genymotionVmInfo:O,appTerminal:T}=this.state,A=Object(we.a)(this.props.content.codeContents),{githubToken:I}=this.props.metaData||{},j=Math.min(y,600),{fullScreen:P,toggleFullScreen:M}=this.props,{judgeActive:R,evaluationContent:D,hintsContent:L,solutionContent:N,showSolution:B,exerciseTabsVisible:F}=this.getJudgeData(),z=null===(e=this.executionContext)||void 0===e?void 0:null===(t=e.docker)||void 0===t?void 0:t.android;let H=(null===(n=this.props)||void 0===n?void 0:null===(i=n.docker)||void 0===i?void 0:null===(r=i.container)||void 0===r?void 0:null===(c=r.liveInstance)||void 0===c?void 0:c.url)+(null!==(h=null===(d=this.props.content)||void 0===d?void 0:d.appUrl)&&void 0!==h?h:"");z&&(H=null,"BUSY"===O.status&&(H=O.emulatorUrl));const q=null===(u=this.props)||void 0===u?void 0:null===(p=u.content)||void 0===p?void 0:null===(f=p.dockerJob)||void 0===f?void 0:f.runInLiveContainer,W=this.currentAndroidLoader(),V=o.a.createElement(U.lb,{forceRenderTabPanel:!0,selectedIndex:this.state.selectedOutputTabIndex,onSelect:this.handleOutputTabChange},o.a.createElement(U.jb,null,this.state.activeOutputs.map((e,t)=>o.a.createElement(U.ib,{key:e,selected:this.state.selectedOutputTabIndex===t,addTerminalBtn:e===ht.addTerminal},e.startsWith(ht.terminal)?"Terminal":e,![ht.addTerminal,T].includes(e)&&o.a.createElement(U.gb,{onClick:t=>this.removeOutputTab(t,e)})))),this.state.activeOutputs.map(e=>o.a.createElement(U.kb,{key:e},this.renderOutput(e))));return o.a.createElement("div",null,o.a.createElement("div",{className:P?"fullscreen_editor_container":""},(()=>{const{githubRepoLoading:e}=this.state;return o.a.createElement(U.T,{disableEditor:e},o.a.createElement("div",{ref:this.viewerWrapperRef,className:"".concat(P?"fullscreen_editor_wrapper":""," \n              ").concat("bottom"===E?"output_opened":"")},o.a.createElement(nt,{showLineNumbers:m,judgeActive:R,hideCodeView:_,loaders:v,outputHeight:b,codePanelHeight:Number(j),highlightedLines:this.getHighlightedLines(),toggleJudgeActive:this.toggleJudgeActive,onThemeSelect:this.onThemeSelect,onHighlightedLinesChange:this.onHighlightedLinesChange,onShowLineNumbers:this.onShowLineNumbers,onHideCodeViewChange:this.onHideCodeViewChange,onLoadersChange:this.onLoadersChange,onAndroidLoaderChange:this.onAndroidLoaderChange,androidLoader:W,onOutputHeightChange:this.onOutputHeightChange,onCodePanelHeightChange:this.onCodePanelHeightChange,setEditingPanelHeight:this.setEditingPanelHeight,isEditingPanelHeight:this.state.isEditingPanelHeight,importGithubRepo:this.importGithubRepo,importedGithubPath:A.importedGithubPath,isLiveJob:q,npmPackages:g,addNpmPackage:this.addNpmPackage,removeNpmPackage:this.removeNpmPackage,packageNotFound:this.state.packageNotFound,pollingBundleStatus:this.state.pollingBundleStatus,updateBundle:this.handleUpdateBundle,githubToken:I,saveGithubToken:this.onSaveGithubToken,showConsole:x,hideResultOutput:S,toggleShowConsole:this.toggleShowConsole,toggleHideResultOutput:this.toggleHideResultOutput,githubRepoLoading:this.state.githubRepoLoading,githubTokenLoading:this.state.githubTokenLoading,githubRepoError:this.state.githubRepoError,githubTokenError:this.state.githubTokenError,docker:this.props.docker,selectedDockerJob:this.props.content.dockerJob,onDockerJobChanged:this.handleDockerJobChanged,fullscreen:P,androidBuildPath:w,onAndroidBuildPathChange:this.onAndroidBuildPathChange,androidPackageName:C,onAndroidPackageNameChange:this.onAndroidPackageNameChange,onUpdateHelloWorld:this.onUpdateHelloWorld,judgeDisabled:this.state.judgeDisabled,canAddNpmPackages:this.state.canAddNpmPackages,apiKeys:this.props.apiKeys,selectedApiKeys:this.props.content.selectedApiKeys,selectedEnvVars:this.props.content.selectedEnvVars,appUrl:H,handleApiKeySelection:this.handleApiKeySelection,handleEnvVarSelection:this.handleEnvVarSelection,saveAppUrl:this.saveAppUrl}),o.a.createElement("div",{className:"resize_items_wrapper ".concat(this.state.outputOrientation)},o.a.createElement(l.Resizable,{ref:this.resizable,bounds:"window",lockAspectRatio:!1,enable:{top:!1,right:P,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},maxWidth:"100%",minWidth:"50%"},o.a.createElement(ke,{inView:this.props.inView,codeContents:A,judgeActive:R,evaluationContent:D,hintsContent:L,exerciseTabsVisible:F,toggleExerciseTabs:this.toggleExerciseTabs,showSolution:B,toggleSolution:this.toggleSolution,solutionContent:N,onJudgeContentChange:this.handleJudgeContentChange,showLineNumbers:m,codePanelHeight:Number(j),codeTheme:this.getCodeTheme(),onUpdateContent:this.onUpdateContent,onlyCodeChanged:k,onRunClicked:this.onRunClicked,onTestClicked:this.onTestClicked,executionInProgress:this.state.executionInProgress||this.state.testExecInProgress,pollingBundleStatus:this.state.pollingBundleStatus,closeOutput:this.closeOutput,isOutputOpened:this.state.resultOutputExpanded||this.state.testOutputExpanded,fullscreen:P,fullscreenIconToggle:this.props.fullscreenIconToggle,outputOrientation:E,changeOutputOrientation:this.changeOutputOrientation,toggleFullScreen:M,executionContext:this.executionContext,onLiveContainerStatusChanged:this.onLiveContainerStatusChanged,liveOutputUrl:H})),q&&H&&!P&&!S&&o.a.createElement(U.P,{outputVisible:this.state.resultOutputExpanded},o.a.createElement("strong",null," Your app can be found at: "),o.a.createElement("a",{href:H,rel:"noopener noreferrer",target:"_blank"},H)),(this.state.resultOutputExpanded||this.state.testOutputExpanded)&&o.a.createElement(U.cb,null,o.a.createElement("div",{className:"output_container_".concat(E),style:{flex:"1 1 auto"}},o.a.createElement(a.a,null,o.a.createElement(s.a,{classNames:"runnable",timeout:500},V)))))),o.a.createElement(U.d,null,o.a.createElement(ct.a,{key:"caption",caption:this.props.content.caption,readOnly:!1,onCaptionChange:this.handleCaptionChange})))})()))}}dt.defaultProps={docker:{},executionContext:{},content:{dockerJob:{},selectedApiKeys:{},selectedEnvVars:{},judge:!1,comp_id:""},userId:null,apiKeys:null};const ut=Object(c.b)(e=>{let{ajaxMode:{enabled:t},user:{metaData:n}}=e;return{metaData:n,isDemo:!t}},e=>({saveUserMetaData:Object(h.bindActionCreators)(b,e),loadUserMetaData:Object(h.bindActionCreators)(y,e)}));t.default=ut(Object(d.f)(dt))},2288:function(e,t,n){"use strict";var i=n(0),r=n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createElement("path",{d:"M1682 1664q-44 0-132.5-3.5t-133.5-3.5q-44 0-132 3.5t-132 3.5q-24 0-37-20.5t-13-45.5q0-31 17-46t39-17 51-7 45-15q33-21 33-140l-1-391q0-21-1-31-13-4-50-4h-675q-38 0-51 4-1 10-1 31l-1 371q0 142 37 164 16 10 48 13t57 3.5 45 15 20 45.5q0 26-12.5 48t-36.5 22q-47 0-139.5-3.5t-138.5-3.5q-43 0-128 3.5t-127 3.5q-23 0-35.5-21t-12.5-45q0-30 15.5-45t36-17.5 47.5-7.5 42-15q33-23 33-143l-1-57v-813q0-3 .5-26t0-36.5-1.5-38.5-3.5-42-6.5-36.5-11-31.5-16-18q-15-10-45-12t-53-2-41-14-18-45q0-26 12-48t36-22q46 0 138.5 3.5t138.5 3.5q42 0 126.5-3.5t126.5-3.5q25 0 37.5 22t12.5 48q0 30-17 43.5t-38.5 14.5-49.5 4-43 13q-35 21-35 160l1 320q0 21 1 32 13 3 39 3h699q25 0 38-3 1-11 1-32l1-320q0-139-35-160-18-11-58.5-12.5t-66-13-25.5-49.5q0-26 12.5-48t37.5-22q44 0 132 3.5t132 3.5q43 0 129-3.5t129-3.5q25 0 37.5 22t12.5 48q0 30-17.5 44t-40 14.5-51.5 3-44 12.5q-35 23-35 161l1 943q0 119 34 140 16 10 46 13.5t53.5 4.5 41.5 15.5 18 44.5q0 26-12 48t-36 22z"});const l=e=>{let{svgRef:t,title:n}=e,i=a(e,["svgRef","title"]);return r.a.createElement("svg",o({className:"header-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?r.a.createElement("title",null,n):null,s)},c=r.a.forwardRef((e,t)=>r.a.createElement(l,o({svgRef:t},e)));n.p;function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createElement("g",{stroke:"none",strokeWidth:1},r.a.createElement("g",{id:"Core",transform:"translate(-87.000000, -509.000000)"},r.a.createElement("g",{id:"view-list",transform:"translate(87.500000, 509.000000)"},r.a.createElement("path",{d:"M0,9 L4,9 L4,5 L0,5 L0,9 L0,9 Z M0,14 L4,14 L4,10 L0,10 L0,14 L0,14 Z M0,4 L4,4 L4,0 L0,0 L0,4 L0,4 Z M5,9 L17,9 L17,5 L5,5 L5,9 L5,9 Z M5,14 L17,14 L17,10 L5,10 L5,14 L5,14 Z M5,0 L5,4 L17,4 L17,0 L5,0 L5,0 Z"}))));const p=e=>{let{svgRef:t,title:n}=e,i=d(e,["svgRef","title"]);return r.a.createElement("svg",h({className:"list-icon",height:"14px",viewBox:"0 0 19 14",width:"19px",ref:t},i),n?r.a.createElement("title",null,n):null,u)},f=r.a.forwardRef((e,t)=>r.a.createElement(p,h({svgRef:t},e)));n.p;function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var v=r.a.createElement("path",{d:"M480,0H32C14.328,0,0,14.312,0,32v352c0,17.688,14.328,32,32,32h192v32h-96c-17.672,0-32,14.312-32,32v32h320v-32  c0-17.688-14.328-32-32-32h-96v-32h192c17.672,0,32-14.312,32-32V32C512,14.312,497.672,0,480,0z M448,352H64V64h384V352z"});const b=e=>{let{svgRef:t,title:n}=e,i=g(e,["svgRef","title"]);return r.a.createElement("svg",m({className:"screen-icon",enableBackground:"new 0 0 512 512",height:"512px",viewBox:"0 0 512 512",width:"512px",ref:t},i),n?r.a.createElement("title",null,n):null,v)},y=r.a.forwardRef((e,t)=>r.a.createElement(b,m({svgRef:t},e)));n.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var w=r.a.createElement("path",{d:"M576 1376v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm0-384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm-512-768v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm-512-768v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm0-384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm128-320v1088q0 66-47 113t-113 47h-1344q-66 0-113-47t-47-113v-1088q0-66 47-113t113-47h1344q66 0 113 47t47 113z"});const C=e=>{let{svgRef:t,title:n}=e,i=x(e,["svgRef","title"]);return r.a.createElement("svg",_({className:"table-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?r.a.createElement("title",null,n):null,w)},S=r.a.forwardRef((e,t)=>r.a.createElement(C,_({svgRef:t},e)));n.p;function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var O=r.a.createElement("path",{d:"M1675 832q0 53-37 90l-651 652q-39 37-91 37-53 0-90-37l-651-652q-38-36-38-90 0-53 38-91l74-75q39-37 91-37 53 0 90 37l294 294v-704q0-52 38-90t90-38h128q52 0 90 38t38 90v704l294-294q37-37 90-37 52 0 91 37l75 75q37 39 37 91z"});const T=e=>{let{svgRef:t,title:n}=e,i=k(e,["svgRef","title"]);return r.a.createElement("svg",E({className:"arrow-down-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?r.a.createElement("title",null,n):null,O)},A=r.a.forwardRef((e,t)=>r.a.createElement(T,E({svgRef:t},e)));n.p;function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var P=r.a.createElement("path",{d:"M1675 971q0 51-37 90l-75 75q-38 38-91 38-54 0-90-38l-294-293v704q0 52-37.5 84.5t-90.5 32.5h-128q-53 0-90.5-32.5t-37.5-84.5v-704l-294 293q-36 38-90 38t-90-38l-75-75q-38-38-38-90 0-53 38-91l651-651q35-37 90-37 54 0 91 37l651 651q37 39 37 91z"});const M=e=>{let{svgRef:t,title:n}=e,i=j(e,["svgRef","title"]);return r.a.createElement("svg",I({className:"arrow-up-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?r.a.createElement("title",null,n):null,P)},R=r.a.forwardRef((e,t)=>r.a.createElement(M,I({svgRef:t},e)));n.p;function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var N=r.a.createElement("path",{d:"M484.3 609.1H127.7C57.3 609.1 0 551.8 0 481.4V127.7C0 57.3 57.3 0 127.7 0h356.7C554.7 0 612 57.3 612 127.7v353.8c0 70.3-57.3 127.6-127.7 127.6zM127.7 46.8c-44.6 0-80.9 36.3-80.9 80.9v353.8c0 44.6 36.3 80.9 80.9 80.9h356.7c44.6 0 80.9-36.3 80.9-80.9V127.7c0-44.6-36.3-80.9-80.9-80.9H127.7z"}),B=r.a.createElement("path",{d:"M148 388.8l.1-63.4 69.1.1.1-42.2-69.2-.1.1-63.4-69.3 84.4zM465 220.8l-.1 63.4-69.1-.1-.1 42.2 69.2.1-.1 63.4 69.3-84.4zM327.1 239.9l-41.8-.1-.2 131.8h41.8zM390.7 460.3h-63.4l.1-69.2-42.2-.1-.1 69.2-63.4-.1 84.4 69.3zM221.7 149.3l63.4.1-.1 69.2h42.2l.1-69.2 63.4.1-84.4-69.2z"}),F=r.a.createElement("path",{d:"M239.6 284.1l-.1 41.8 133.1.2.1-41.8z"});const z=e=>{let{svgRef:t,title:n}=e,i=L(e,["svgRef","title"]);return r.a.createElement("svg",D({className:"horizontal-align-icon",viewBox:"0 0 612 609.1",ref:t},i),n?r.a.createElement("title",null,n):null,N,B,F)},H=r.a.forwardRef((e,t)=>r.a.createElement(z,D({svgRef:t},e)));n.p;var U=n(1966);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function W(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var V=r.a.createElement("path",{d:"M918.37 1021.8l116-116-152-152-116 116v56h96v96h56zm440-720q-16-16-33 1l-350 350q-17 17-1 33t33-1l350-350q17-17 1-33zm80 594v190q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-14 14-32 8-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-126q0-13 9-22l64-64q15-15 35-7t20 29zm-96-738l288 288-672 672h-288v-288zm444 132l-92 92-288-288 92-92q28-28 68-28t68 28l152 152q28 28 28 68t-28 68z"});const G=e=>{let{svgRef:t,title:n}=e,i=W(e,["svgRef","title"]);return r.a.createElement("svg",q({className:"edit-icon",viewBox:"0 -256 1850 1850",ref:t},i),n?r.a.createElement("title",null,n):null,V)},K=r.a.forwardRef((e,t)=>r.a.createElement(G,q({svgRef:t},e)));n.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var J=r.a.createElement("path",{d:"M485.3 609.1H128.7C58.3 609.1 1 551.8 1 481.4V127.7C1 57.3 58.3 0 128.7 0h356.7C555.7 0 613 57.3 613 127.7v353.8c0 70.3-57.3 127.6-127.7 127.6zM128.7 46.8c-44.6 0-80.9 36.3-80.9 80.9v353.8c0 44.6 36.3 80.9 80.9 80.9h356.7c44.6 0 80.9-36.3 80.9-80.9V127.7c0-44.6-36.3-80.9-80.9-80.9H128.7z"}),$=r.a.createElement("path",{d:"M149 388.8l.1-63.4 69.1.1.1-42.2-69.2-.1.1-63.4-69.3 84.4zM466 220.8l-.1 63.4-69.1-.1-.1 42.2 69.2.1-.1 63.4 69.3-84.4zM328.1 194l-41.8-.1-.3 220.4 41.8.1z"});const Z=e=>{let{svgRef:t,title:n}=e,i=X(e,["svgRef","title"]);return r.a.createElement("svg",Y({className:"vertical-align-icon",viewBox:"0 0 612 609.1",ref:t},i),n?r.a.createElement("title",null,n):null,J,$)},Q=r.a.forwardRef((e,t)=>r.a.createElement(Z,Y({svgRef:t},e)));n.p;function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ne=r.a.createElement("path",{d:"M704 736v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm128 724v-948h-896v948q0 22 7 40.5t14.5 27 10.5 8.5h832q3 0 10.5-8.5t14.5-27 7-40.5zm-672-1076h448l-48-117q-7-9-17-11h-317q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z"});const ie=e=>{let{svgRef:t,title:n}=e,i=te(e,["svgRef","title"]);return r.a.createElement("svg",ee({className:"thin-trash-icon",width:1792,height:1792,viewBox:"0 0 1792 1792",ref:t},i),n?r.a.createElement("title",null,n):null,ne)},re=r.a.forwardRef((e,t)=>r.a.createElement(ie,ee({svgRef:t},e)));n.p;function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var se=r.a.createElement("path",{d:"M485.3 609.1H128.7C58.3 609.1 1 551.8 1 481.4V127.7C1 57.3 58.3 0 128.7 0h356.7C555.7 0 613 57.3 613 127.7v353.8c0 70.3-57.3 127.6-127.7 127.6zM128.7 46.8c-44.6 0-80.9 36.3-80.9 80.9v353.8c0 44.6 36.3 80.9 80.9 80.9h356.7c44.6 0 80.9-36.3 80.9-80.9V127.7c0-44.6-36.3-80.9-80.9-80.9H128.7z"}),le=r.a.createElement("path",{d:"M391.7 460.3h-63.4l.1-69.2-42.2-.1-.1 69.2-63.4-.1 84.4 69.3zM222.7 149.3l63.4.1-.1 69.2h42.2l.1-69.2 63.4.1-84.4-69.2zM197.2 284.1l-.1 41.8 219.9.2.1-41.8z"});const ce=e=>{let{svgRef:t,title:n}=e,i=ae(e,["svgRef","title"]);return r.a.createElement("svg",oe({className:"both-align-icon",viewBox:"0 0 612 609.1",ref:t},i),n?r.a.createElement("title",null,n):null,se,le)},he=r.a.forwardRef((e,t)=>r.a.createElement(ce,oe({svgRef:t},e)));n.p,t.a={headerIcon:c,listIcon:f,screenIcon:y,tableIcon:S,arrowdownIcon:A,arrowupIcon:R,bothAlignIcon:H,cloneIcon:U.a,editIcon:K,horizontalAlignIcon:Q,trashIcon:re,verticalAlignIcon:he}},2289:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(30),a=n(420),s=n(175),l=n(253),c=n(1656),h=n(1499),d=n(114),u=n(1),p=n(58),f=n(415),m=n(21),g=n(18),v=n(12);u.d.div.withConfig({displayName:"styles__DockerDetailsStyled",componentId:"sc-1sqaznc-0"})([""]);const b=u.d.div.withConfig({displayName:"styles__Row",componentId:"sc-1sqaznc-1"})(["width:100%;"]),y=u.d.span.withConfig({displayName:"styles__IconContainer",componentId:"sc-1sqaznc-2"})(["display:flex;"]),_=(u.d.span.withConfig({displayName:"styles__JobViewLabel",componentId:"sc-1sqaznc-3"})(["margin-left:50px;color:",";font-size:",";font-weight:",";"],e=>{let{theme:t}=e;return t.palette.primary.main},v.a.textMedium,m.f),u.d.div.withConfig({displayName:"styles__JobViewWrapper",componentId:"sc-1sqaznc-4"})(["display:flex;background-color:",";flex-wrap:wrap;margin:0px auto 0px;"],e=>{let{theme:t}=e;return t.palette.grey[100]})),x=u.d.div.withConfig({displayName:"styles__JobControls",componentId:"sc-1sqaznc-5"})(["text-align:center;margin-top:10px;"]),w=Object(u.d)(p.a).attrs({purple:!0,small:!0}).withConfig({displayName:"styles__JobControlUpdateButton",componentId:"sc-1sqaznc-6"})(["padding-top:8px;align-self:center;"]),C=Object(u.d)(p.a).attrs({small:!0}).withConfig({displayName:"styles__JobControlCancelButton",componentId:"sc-1sqaznc-7"})(["padding-top:8px;margin:10px 0 0 5px;align-self:center;"]),S=Object(u.d)(p.a).attrs({purple:!0,small:!0}).withConfig({displayName:"styles__JobControlEditButton",componentId:"sc-1sqaznc-8"})(["padding-top:8px;align-self:center;"]),E=(Object(u.d)(p.a).attrs({small:!0}).withConfig({displayName:"styles__JobControlDuplicateButton",componentId:"sc-1sqaznc-9"})(["padding-top:8px;margin:10px 0 0 5px;align-self:center;"]),Object(u.d)(p.a).attrs({small:!0}).withConfig({displayName:"styles__JobControlRemoveButton",componentId:"sc-1sqaznc-10"})(["padding-top:8px;margin:10px 0 0 5px;align-self:center;"])),k=u.d.div.withConfig({displayName:"styles__JobsContainer",componentId:"sc-1sqaznc-11"})(["border:1px solid ",";border-radius:",";padding:20px;margin:10px;margin-left:8%;margin-right:13%;"],e=>{let{theme:t}=e;return t.palette.grey[300]},g.m),O=u.d.div.withConfig({displayName:"styles__CollectionDockerContainer",componentId:"sc-1sqaznc-12"})(["margin-top:15px;border:1px solid ",";border-radius:",";padding:15px;"],e=>{let{theme:t}=e;return t.palette.grey[300]},g.m),T=u.d.div.withConfig({displayName:"styles__Label",componentId:"sc-1sqaznc-13"})(["font-size:",";font-weight:",";color:",";text-transform:uppercase;"],v.a.textMedium,m.b,e=>{let{theme:t}=e;return t.palette.grey.A100}),A=u.d.div.withConfig({displayName:"styles__HelpText",componentId:"sc-1sqaznc-14"})(["font-weight:",";font-size:",";"],m.f,v.a.detail),I=u.d.div.withConfig({displayName:"styles__RequestStatusTextError",componentId:"sc-1sqaznc-15"})(["margin-left:40px;color:",";"],e=>{let{theme:t}=e;return t.palette.error.main}),j=u.d.div.withConfig({displayName:"styles__RequestStatusTextSuccess",componentId:"sc-1sqaznc-16"})(["margin-left:40px;color:",";"],e=>{let{theme:t}=e;return t.palette.success.main}),P=u.d.span.withConfig({displayName:"styles__ContainerFileName",componentId:"sc-1sqaznc-17"})(["margin-left:40px;color:",";font-weight:",";"],e=>{let{theme:t}=e;return t.palette.error.main},m.g),M=u.d.button.withConfig({displayName:"styles__BtnTransparent",componentId:"sc-1sqaznc-18"})(["background-color:transparent;border-color:",";border:none;color:",";outline:none;"],e=>{let{theme:t}=e;return t.palette.grey[300]},e=>e.disabled?"lightGray":e=>{let{theme:t}=e;return t.palette.common.black}),R=Object(u.d)(f.a).withConfig({displayName:"styles__ImageLoader",componentId:"sc-1sqaznc-19"})(["margin-left:40px;padding:0px;"]),D=u.d.span.withConfig({displayName:"styles__SectionLabel",componentId:"sc-1sqaznc-20"})(["font-size:",";font-weight:",";color:",";margin:10px 0px;"],v.a.textLarge,m.f,e=>{let{theme:t}=e;return t.palette.grey[800]}),L=u.d.label.withConfig({displayName:"styles__EnvLabel",componentId:"sc-1sqaznc-21"})(["font-size:",";font-weight:",";color:",";margin-left:10px;margin-top:8px;"],v.a.textMedium,m.f,e=>{let{theme:t}=e;return t.palette.grey[800]}),N=u.d.input.withConfig({displayName:"styles__EnvInput",componentId:"sc-1sqaznc-22"})(["width:150px;border:1px solid ",";border-radius:",";margin-left:10px;outline:none;padding-left:10px;",""],e=>{let{theme:t}=e;return t.palette.grey[300]},g.v,e=>{let{error:t}=e;return t&&"\n    border-color: red;\n  "}),B=u.d.label.withConfig({displayName:"styles__EnvDefaultLabel",componentId:"sc-1sqaznc-23"})(["margin-left:10px;margin-right:10px;font-size:",";font-weight:",";color:",";margin-top:8px;"],v.a.textMedium,m.f,e=>{let{theme:t}=e;return t.palette.grey[800]}),F=Object(u.d)(b).withConfig({displayName:"styles__DockerEdcompToolbar",componentId:"sc-1sqaznc-24"})(["display:flex;justify-content:space-between;align-items:center;font-size:",";font-weight:",";background-color:",";border-radius:",";border:none;padding-right:7px;.form-control{font-size:",";color:",";}"],v.a.textMedium,m.b,e=>{let{theme:t}=e;return t.palette.grey[100]},g.D,v.a.textMedium,e=>{let{theme:t}=e;return t.palette.secondary.main}),z=u.d.div.withConfig({displayName:"styles__RequestStatus",componentId:"sc-1sqaznc-25"})(["text-align:left;"]),H=u.d.div.withConfig({displayName:"styles__SaveIcon",componentId:"sc-1sqaznc-26"})(["margin-top:8px;margin-left:8px;"]),U=u.d.div.withConfig({displayName:"styles__Container",componentId:"sc-1sqaznc-27"})(["display:flex;flex-direction:column;flex:0 1 auto;width:100%;"]),q=u.d.div.withConfig({displayName:"styles__TransparentButtons",componentId:"sc-1sqaznc-28"})(["position:relative;float:right;display:flex;flex-flow:row wrap;"]),W=u.d.div.withConfig({displayName:"styles__ViewRow",componentId:"sc-1sqaznc-29"})(["width:100%;display:flex;align-items:center;justify-content:space-around;"]),V=u.d.div.withConfig({displayName:"styles__ViewCol",componentId:"sc-1sqaznc-30"})(["margin-left:11%;margin-right:10px;"," font-size:",";font-weight:",";align-content:center;text-align:left;width:50%;"],e=>{let{label:t}=e;return t&&"\n    color: ".concat(e=>{let{theme:t}=e;return t.palette.primary.main},";\n  ")},v.a.textMedium,m.f);var G=e=>{let{onClick:t=(()=>{}),disabled:n=!1,icon:i,title:o,danger:a=!1}=e;return r.a.createElement(M,{onClick:t,disabled:n,id:"add_env_variable_btn"},r.a.createElement(c.a,{placement:"top",overlay:r.a.createElement(h.a,null,o)},r.a.createElement(y,null,r.a.createElement(d.a,{icon:i,size:16,zoomOnHover:!0,disabled:n,danger:a}))))},K=n(14),Y=n(1747),X=n(1732),J=n(133),$=n.n(J);class Z extends r.a.Component{constructor(e){var t;super(e),this.showBuildScript=!1,this.onSave=()=>{const{job:{runInLiveContainer:e}}=this.state,t=e?this.fields:this.fields.filter(e=>"startScript"!==e.id&&"ports"!==e.id),n=Object(X.f)(t,{fields:this.getFields(this.state.job)}).filter(e=>e.error).reduce((e,t)=>Object(K.a)({},e,{[t.fieldName]:t.error}),{});this.setState({errors:n},()=>{var e;0===Object.keys(null!==(e=this.state.errors)&&void 0!==e?e:{}).length&&this.props.onSaved(this.state.job)})},this.getFields=e=>this.fields.reduce((t,n)=>Object(K.a)({},t,{[n.id]:Object(K.a)({},n,{value:e[n.id]})}),{}),this.onChange=(e,t)=>{const{errors:n}=this.state;this.setState(i=>({job:Object(K.a)({},i.job,{[t]:e}),errors:$()(n,{$unset:[t]})}))};const n=Object.keys(null!==(t=e.job)&&void 0!==t?t:{}).length?{job:Object(K.a)({},e.job)}:{job:{name:"",inputFileName:"",buildScript:"",ports:"",runScript:"",runInLiveContainer:!1,startScript:""}};this.state=Object(K.a)({},n,{errors:{}}),this.showBuildScript=!!e.job.buildScript;const i=e.jobs.filter(e=>e.get("name")!==n.job.name);this.fields=[{name:"name",label:"Job Name",id:"name",type:"input",errors:{},maxLength:100,validators:[{name:"required",validator:X.b.required},{name:"min",validator:X.b.min(3,100)},{name:"max",validator:X.b.max(3,100)},{name:"jobName",validator:X.b.jobName(i)}]},{name:"inputFileName",label:"Input File Name",id:"inputFileName",type:"input",errors:{},maxLength:255,validators:[{name:"required",validator:X.b.required},{name:"min",validator:X.b.min(3,255)},{name:"max",validator:X.b.max(3,255)}]},{name:"buildScript",label:"Build Script ",id:"buildScript",type:"textarea",errors:{},maxLength:2048,validators:[]},{name:"runScript",label:"Run Script ",id:"runScript",type:"textarea",errors:{},maxLength:2048,validators:[{name:"required",validator:X.b.required},{name:"min",validator:X.b.min(0,2048)},{name:"max",validator:X.b.max(0,2048)}]},{name:"runInLiveContainer",label:"Run in Live Container",id:"runInLiveContainer",type:"checkBox",errors:{},maxLength:0,validators:[]},{name:"ports",label:"Application Port",id:"ports",type:"input",errors:{},maxLength:5,validators:[{name:"required",validator:X.b.required},{name:"port",validator:X.b.port}]},{name:"https",label:"HTTPS Strict Mode",id:"https",type:"checkBox",errors:{},maxLength:0,validators:[]},{name:"startScript",label:"Start Script",id:"startScript",type:"textarea",errors:{},maxLength:2048,validators:[{name:"required",validator:X.b.required},{name:"min",validator:X.b.min(0,2048)},{name:"max",validator:X.b.max(0,2048)}]}]}render(){const{job:{runInLiveContainer:e}}=this.state;let t=e?this.fields:this.fields.filter(e=>"startScript"!==e.id&&"ports"!==e.id&&"https"!==e.id);return this.showBuildScript||(t=t.filter(e=>"buildScript"!==e.id)),r.a.createElement(Y.o,null,t.map(e=>r.a.createElement(Y.j,{key:e.id},r.a.createElement(Y.g,null,r.a.createElement(Y.h,null,e.label),r.a.createElement(Y.f,null," ",this.state.errors[e.id]," "),"runInLiveContainer"===e.id&&r.a.createElement(Y.e,{componentClass:"input",type:e.type,maxLength:e.maxLength,onChange:t=>this.onChange(t.target.checked,e.id),data_is_error:this.state.errors[e.name],checked:this.state.job.runInLiveContainer}),"https"===e.id&&r.a.createElement(Y.e,{componentClass:"input",type:e.type,maxLength:e.maxLength,onChange:t=>this.onChange(t.target.checked,e.id),data_is_error:this.state.errors[e.name],checked:this.state.job.https})),"checkBox"!==e.type&&r.a.createElement(Y.e,{componentClass:e.type,type:e.type,maxLength:e.maxLength,onChange:t=>this.onChange(t.target.value,e.id),data_is_error:this.state.errors[e.id],value:this.state.job[e.id],children:"textarea"===e.type?this.state.job[e.id]:void 0}))),r.a.createElement(x,null,r.a.createElement(w,{bsSize:"small",onClick:this.onSave},"Update"),r.a.createElement(C,{bsSize:"small",onClick:this.props.onCancel},"Cancel")))}}var Q=Object(o.b)(e=>{let{dockerDetails:t}=e;return{jobs:t.getIn(["jobs"])}})(Z),ee=e=>{let{job:t={},onEdit:n=(()=>{}),onRemoved:i=(()=>{}),onDuplicate:o=(()=>{})}=e;return r.a.createElement("div",null,r.a.createElement(_,null,r.a.createElement("div",{className:"container"},r.a.createElement(W,null,r.a.createElement(V,null,r.a.createElement(V,{label:"1"},"Job Name")),r.a.createElement(V,null,t.name)),r.a.createElement(W,null,r.a.createElement(V,null,r.a.createElement(V,{label:"1"},"InputFileName")),r.a.createElement(V,null,t.inputFileName)),t.buildScript&&r.a.createElement(W,null,r.a.createElement(V,null,r.a.createElement(V,{label:"1"},"Build Script")),r.a.createElement(V,null,t.buildScript)),r.a.createElement(W,null,r.a.createElement(V,null,r.a.createElement(V,{label:"1"},"Run Script")),r.a.createElement(V,null,t.runScript)),t.runInLiveContainer&&[r.a.createElement(W,null,r.a.createElement(V,null,r.a.createElement(V,{label:"1"},"Run in Live Container")),r.a.createElement(V,null,"true")),r.a.createElement(W,null,r.a.createElement(V,null,r.a.createElement(V,{label:"1"},"Application Port")),r.a.createElement(V,null,t.ports)),r.a.createElement(W,null,r.a.createElement(V,null,r.a.createElement(V,{label:"1"},"HTTPS Strict Mode")),r.a.createElement(V,null,t.https?"true":"false")),r.a.createElement(W,null,r.a.createElement(V,null,r.a.createElement(V,{label:"1"},"Start Script")),r.a.createElement(V,null,t.startScript))])),r.a.createElement(x,null,r.a.createElement(S,{bsSize:"small",onClick:n},"Edit Job"),r.a.createElement(E,{bsSize:"small",onClick:o},"Duplicate Job"),r.a.createElement(E,{bsSize:"small",onClick:i},"Remove Job")))};const te={VIEW:"view",EDIT:"edit"};class ne extends i.Component{constructor(e){super(e),this.state={mode:this.props.mode}}isConcrete(){return-1!==this.props.index}onBeginEdit(){this.setState({mode:te.EDIT})}onCancelEdit(){this.isConcrete()&&this.setState({mode:te.VIEW}),this.props.onCancelled()}onSaved(e){this.setState({mode:te.VIEW}),this.props.onSaved(e,this.props.index)}onDuplicate(){this.props.onDuplicate(this.props.job)}render(){return r.a.createElement(k,null,this.state.mode===te.VIEW?r.a.createElement(ee,{job:this.props.job,onEdit:()=>this.onBeginEdit(),onRemoved:()=>this.props.onRemoved(this.props.job,this.props.index),onDuplicate:()=>this.onDuplicate()}):r.a.createElement(Q,{job:this.props.job,onCancel:()=>this.onCancelEdit(),onSaved:e=>this.onSaved(e)}))}}ne.defaultProps={onCancelled:()=>{}};var ie={Job:ne,JOB_MODES:te},re=n(37),oe=n(29),ae=n(28),se=n(1674),le=n(1666);var ce=u.d.div.withConfig({displayName:"Environment",componentId:"dmh6a3-0"})(["display:flex;flex:1;flex-direction:row;margin:7px 0px;"]);class he extends r.a.Component{constructor(e){super(e),this.checkErrors=e=>{let t=Object(K.a)({},this.state.error),n=!1;return e.key&&e.key.match(/^[a-zA-Z][a-zA-Z0-9_]+$/g)||(t=Object(K.a)({},t,{key:!0}),n=!0),e.useAsDefault&&!e.value&&(t=Object(K.a)({},t,{value:!0}),n=!0),this.setState({errors:t}),n},this.onEnvRemoved=()=>this.props.onEnvRemoved(this.state.env),this.state={env:Object(K.a)({},this.props.env),errors:{}}}componentDidUpdate(e){Object(s.i)(this.props.env,e.env)||this.setState({env:Object(K.a)({},this.state.env,{},this.props.env)})}onEnvSaved(){var e,t;const n=Object(K.a)({},this.state.env,{value:null===(e=this.state.env)||void 0===e?void 0:null===(t=e.value)||void 0===t?void 0:t.trim()});this.setState({env:n}),this.checkErrors(n)||this.props.onEnvSaved(Object(s.d)(n))}onParamChange(e){return t=>{let{target:n}=t;const{errors:i}=this.state,r="checkbox"===n.type?n.checked:n.value,o={[e]:r},a="useAsDefault"===e?"value":e;this.setState({env:Object(K.a)({},this.state.env,{},o),errors:Object(K.a)({},i,{[a]:!1})})}}render(){const{errors:e}=this.state;return r.a.createElement(ce,null,r.a.createElement(L,{htmlFor:"key"},"Key"),r.a.createElement(N,{id:"key",error:e.key,value:this.state.env.key,onChange:this.onParamChange("key")}),r.a.createElement(L,{htmlFor:"val"},"Value"),r.a.createElement(N,{id:"val",error:e.value,value:this.state.env.value,onChange:this.onParamChange("value")}),r.a.createElement(c.a,{placement:"top",overlay:r.a.createElement(h.a,null,"Provided value will be saved for all users")},r.a.createElement(B,{htmlFor:"use-as-default"},"Save for all","  ",r.a.createElement("input",{id:"use-as-default",type:"checkbox",onChange:this.onParamChange("useAsDefault"),checked:this.state.env.useAsDefault}))),r.a.createElement(H,{name:"env-save"},r.a.createElement(se.a,{size:18,onClick:()=>this.onEnvSaved(this.state.env)}))," ",r.a.createElement(l.a,{popoverTitle:"Remove this env variable?",handleConfirm:this.onEnvRemoved,hideOnConfirm:!0,danger:!0},r.a.createElement(H,{name:"env-delete"},r.a.createElement(le.a,{size:18}))))}}he.defaultProps={env:{},showDeleteButton:!1,onEnvRemoved:()=>{},isViewed:!1};const de=Object(o.b)((e,t)=>{let{dockerDetails:n,editorPages:{dockerFunctions:i}}=e,{index:r}=t;const o=re.Iterable.isIterable(n)?n:Object(re.Map)(),a=n.getIn(["envs",r])||Object(re.Map)(),s=i.toJS();return{env:a.toJS(),docker:o,saveAfterAction:s.saveAfterAction,saveAfterActionParams:s.params}},e=>({updateEnvInLocalStorage:t=>{e(Object(oe.a)("DOCKER_SAVE_ENV_VARIABLE")(t)),e(Object(ae.d)({text:"Environment Variable Updated"}))},dispatch:e}));class ue extends r.a.Component{constructor(){super(...arguments),this.onEnvSaved=e=>{const{docker:{container:t},saveAfterActionParams:n,saveAfterAction:i}=this.props;this.props.isEditor&&this.props.onEditorSaved(),this.props.isViewed?this.props.updateEnvInLocalStorage({container:t,env:e}):i(Object(K.a)({},n),"DOCKER_SAVE_ENV_VARIABLE",{container:t,env:e})},this.onEnvRemoved=e=>{const{container:t,saveAfterActionParams:n,saveAfterAction:i}=this.props;this.props.isEditor?this.props.onEditorCancelled():i(Object(K.a)({},n),"DOCKER_REMOVE_ENV_VARIABLE",{container:t,env:e})}}render(){var e=this;return this.props.docker?r.a.createElement(he,{env:this.props.env,isViewed:this.props.isViewed,onEnvSaved:function(){return e.onEnvSaved(...arguments)},onEnvRemoved:function(){return e.onEnvRemoved(...arguments)}}):r.a.createElement("div",null)}}ue.defaultProps={index:-1,env:{},isEditor:!1,onEditorSaved:()=>{},onEditorCancelled:()=>{},isViewed:!1};var pe=de(ue),fe=n(35);class me extends i.Component{constructor(){super(...arguments),this.state={showEnvEditor:void 0,showNewJobEditor:void 0,removeFile:!1},this.addJob=()=>{this.setState({showNewJobEditor:!0})},this.addEnv=()=>{this.setState({showEnvEditor:!0})},this.afterImageRemoved=()=>{this.setState({removeFile:!1})},this.onImageRemoved=()=>{this.setState({removeFile:!0}),this.props.onImageRemoved()},this.downloadDockerTarball=()=>{var e,t,n;const i=null===(e=this.props)||void 0===e?void 0:null===(t=e.docker)||void 0===t?void 0:null===(n=t.container)||void 0===n?void 0:n.tarballDownloadUrl;i&&window.open(i,"_blank")},this.downloadDockerBuildLog=()=>{var e,t,n;const i=null===(e=this.props)||void 0===e?void 0:null===(t=e.docker)||void 0===t?void 0:null===(n=t.container)||void 0===n?void 0:n.buildLogUrl;i&&window.open(i,"_blank")}}hasFile(){var e,t,n,i;return null===(e=this.props)||void 0===e?void 0:null===(t=e.docker)||void 0===t?void 0:null===(n=t.container)||void 0===n?void 0:null===(i=n.file)||void 0===i?void 0:i.awaitingUpload}hasJobs(){var e;return Object.keys(null!==(e=this.props.docker.jobs)&&void 0!==e?e:{}).length>0}hasImage(){return!!this.props.docker.container.imageName}hideEnvEditor(){this.setState({showEnvEditor:!1})}hideJobEditor(){this.setState({showNewJobEditor:!1})}get buildStatus(){return this.props.docker.container.buildStatus}get isJobEditorVisible(){return this.state.showNewJobEditor}onNewJobSaved(e){this.hideJobEditor(),this.props.onJobSaved(e)}onNewJobCancelled(){this.hideJobEditor()}render(){var e,t,n,i,o,c=this;return r.a.createElement(O,null,r.a.createElement(U,null,r.a.createElement(b,null,r.a.createElement(T,null,"Docker Container")),r.a.createElement(b,null,r.a.createElement(A,null,"Need to use a personalized docker container and execution jobs in your lessons? Configure them here. Only a gzip tarball is supported.")),r.a.createElement(F,null,r.a.createElement(a.default,{accept:"application/gzip",onChange:this.props.onDockerFileChanged,removeFile:this.state.removeFile,afterImageRemoved:this.afterImageRemoved,isDockerTarBall:!0,uploaderType:fe.u.COLLECTION_FILES_UPLOADER},r.a.createElement("span",null,"Change Docker File (Beta)")),r.a.createElement(z,null,Object(s.j)(this.buildStatus)&&r.a.createElement(R,{visible:!0,content:"Docker File is being uploaded"}),Object(s.k)(this.buildStatus)&&r.a.createElement(R,{visible:!0,content:"Starting image rebuild"}),this.hasFile()&&!this.hasImage()&&Object(s.c)(this.buildStatus)&&r.a.createElement(I,null,"File uploading has failed"),this.hasFile()&&!this.hasImage()&&!Object(s.j)(this.buildStatus)&&r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement(P,null,this.props.docker.container.file.name," will be uploaded on save")),this.hasImage()&&Object(s.g)(this.buildStatus)&&r.a.createElement(R,{visible:!0,content:"Image is being built"}),this.hasImage()&&Object(s.h)(this.buildStatus)&&r.a.createElement(j,null,"Image has been built"),this.hasImage()&&Object(s.f)(this.buildStatus)&&r.a.createElement(I,null,"Image build has failed")),r.a.createElement(q,null,r.a.createElement(G,{icon:"Globe",onClick:this.addEnv,title:"Add Env Variable"}),r.a.createElement(G,{icon:"Plus",title:"Add Job",onClick:this.addJob}),r.a.createElement(G,{icon:"ArrowDown",title:"Download Tarball",disabled:!this.hasImage(),onClick:this.downloadDockerTarball}),r.a.createElement(G,{icon:"Download",title:"Download Build Logs",onClick:this.downloadDockerBuildLog,disabled:!this.hasImage()||Object(s.g)(this.buildStatus)}),(null===(e=this.props.docker)||void 0===e?void 0:null===(t=e.container)||void 0===t?void 0:t.rebuildImageUrl)&&r.a.createElement(l.a,{popoverTitle:"Rebuild this image?",handleConfirm:this.props.onImageRebuild,hideOnConfirm:!0,danger:!0},r.a.createElement(G,{icon:"RefreshCw",title:"Rebuild Image",disabled:!this.hasImage()||Object(s.g)(this.buildStatus)})),r.a.createElement(l.a,{popoverTitle:"Permanently remove this image?",handleConfirm:this.onImageRemoved,hideOnConfirm:!0,danger:!0},r.a.createElement(G,{icon:"Trash2",title:"Remove Image",disabled:!this.hasImage(),danger:!0})))),r.a.createElement("div",null,(Object.keys(null!==(n=this.props.docker.envs)&&void 0!==n?n:{}).length>0||this.state.showEnvEditor)&&r.a.createElement(D,null,"Environment Variables"),Object.values(null!==(i=this.props.docker.envs)&&void 0!==i?i:{}).map((e,t)=>r.a.createElement("div",{className:"row",key:t},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(pe,{index:t}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},this.state.showEnvEditor&&r.a.createElement(pe,{isEditor:!0,onEditorSaved:()=>this.hideEnvEditor(),onEditorCancelled:()=>this.hideEnvEditor()}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"list"},null===(o=this.props.docker.jobs)||void 0===o?void 0:o.map((e,t)=>r.a.createElement("div",{className:"col-xs-12 list",key:t},r.a.createElement(ie.Job,{mode:ie.JOB_MODES.VIEW,job:e,index:t,onSaved:function(){return c.props.onJobUpdated(...arguments)},onRemoved:this.props.onJobRemoved,onDuplicate:function(){return c.props.onJobDuplicate(...arguments)}}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},this.isJobEditorVisible?r.a.createElement(ie.Job,{mode:ie.JOB_MODES.EDIT,job:{},index:-1,onSaved:function(){return c.onNewJobSaved(...arguments)},onRemoved:function(){return c.props.onJobRemoved(...arguments)},onCancelled:()=>this.onNewJobCancelled()}):""))))}}me.defaultProps={docker:{container:{}}};var ge=n(1953),ve=n(824);class be extends r.a.Component{get docker(){const e=this.props.docker;return e?e.toJS():{}}getTypeVars(){var e=this;const{type:t,editorPageParams:n}=this.props;return{id:t===fe.D.COLLECTION?n.collection_id:n.shotId,onJobSaved:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.props.saveAfterAction(n,"ADD_DOCKER_CONTAINER_JOB",...i)},onJobUpdated:(e,t)=>{this.props.saveAfterAction(n,"UPDATE_DOCKER_CONTAINER_JOB",{payload:e,index:t})},onJobDuplicate:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.props.saveAfterAction(n,"DUPLICATE_DOCKER_CONTAINER_JOB",...i)},onJobRemoved:(e,t)=>{this.props.saveAfterAction(n,"REMOVE_DOCKER_CONTAINER_JOB",{index:t})},onImageRemoved:()=>{this.props.saveAfterAction(n,"REMOVE_DOCKER_IMAGE")},onDockerFileChanged:function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];t===fe.D.COLLECTION?e.props.setDockerFile(n.author_id,n.collection_id,...r):t===fe.D.SHOT&&e.props.setDockerFile(n.shotId,...r)}}}render(){const{docker:e}=this.props,{onDockerFileChanged:t,onJobSaved:n,onJobUpdated:i,onJobDuplicate:o,onJobRemoved:a,onImageRemoved:s}=this.getTypeVars();return e?r.a.createElement("div",null,r.a.createElement(me,{docker:this.docker,onDockerFileChanged:t,onJobSaved:n,onJobUpdated:i,onJobDuplicate:o,onJobRemoved:a,onImageRemoved:s,onImageRebuild:()=>this.props.onImageRebuild(this.props.docker)}),r.a.createElement(ge.a,null)):r.a.createElement("div",null)}}be.defaultProps={type:fe.D.COLLECTION};const ye=Object(o.b)(e=>{let{author:{collection:t},dockerDetails:n,editorPages:{dockerFunctions:i}}=e;const r=t.get("collectionId"),o=i.toJS();return{docker:n,collectionId:r,editorPageParams:o.params,saveAfterAction:o.saveAfterAction,setDockerFile:o.setDockerFile}},e=>({onImageRebuild:t=>e(Object(ve.b)(t))}));t.a=ye(be)},2290:function(e,t,n){"use strict";n.r(t);var i=n(14),r=n(0),o=n.n(r),a=n(1858),s=n(1759),l=n(1),c=n(58);const h=l.d.div.withConfig({displayName:"styles__QuizModeChangerStyled",componentId:"spafkb-0"})(["justify-content:center;display:flex;padding:7px;"]),d=Object(l.d)(c.a).attrs({small:!0}).withConfig({displayName:"styles__ModesButton",componentId:"spafkb-1"})(["min-width:200px;margin-right:20px;"]);var u=h;class p extends r.Component{constructor(){super(...arguments),this.setContinuousHandler=()=>{this.props.setRenderModeHandler(s.e.CONTINUOUS)},this.setSlideHandler=()=>{this.props.setRenderModeHandler(s.e.SLIDE)}}render(){const{mode:e}=this.props;return o.a.createElement(u,null,o.a.createElement(d,{onClick:this.setSlideHandler,purple:e===s.e.SLIDE},"Slide"),o.a.createElement(d,{onClick:this.setContinuousHandler,purple:e===s.e.CONTINUOUS},"Continuous"))}}var f=n(1034),m=n(27),g=n(1846),v=n(253),b=n(647),y=n(1682),_=n(1666),x=n(1033),w=n(5),C=n(290),S=n(21),E=n(18),k=n(12);l.d.div;const O=l.d.div.withConfig({displayName:"styles__TitleContainer",componentId:"sc-15imsbc-0"})(["margin:",";"," .CodeMirror-wrap{border-radius:",";}.cmcomp-editor-container-markdown{border-right:none;border-radius:",";}"],e=>e.isOption?"6px":"20px 10px",e=>e.isEmpty&&Object(l.c)(["border-top-right-radius:",";border:1px solid ",";"],E.x,e=>{let{theme:t}=e;return t.palette.error.main}),E.m,E.m),T=Object(l.d)(b.a).attrs({size:C.f}).withConfig({displayName:"styles__QuizX",componentId:"sc-15imsbc-1"})(["transition:0.2s;cursor:pointer;:hover{stroke:",";}"],e=>{let{theme:t}=e;return t.palette.error.main}),A=Object(l.d)(x.a).withConfig({displayName:"styles__QuizNavItem",componentId:"sc-15imsbc-2"})(["display:flex;justify-content:center;align-items:center;min-width:100px;margin-left:0px !important;transition:0.2s;a{color:"," !important;border:1px solid "," !important;display:flex !important;justify-content:space-between !important;align-items:center !important;:hover{background:"," !important;}}&.active{a{background:"," !important;font-weight:"," !important;color:"," !important;}}@media (max-width:","){width:100%;}"],e=>{let{theme:t}=e;return t.palette.grey[600]},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[100]},e=>{let{theme:t}=e;return t.palette.grey[100]},S.g,e=>{let{theme:t}=e;return t.palette.common.black},w.f.pixels),I=Object(l.d)(y.a).attrs(e=>{let{theme:t}=e;return{size:C.a,color:t.palette.common.white}}).withConfig({displayName:"styles__QuizPlus",componentId:"sc-15imsbc-3"})([""]),j=Object(l.d)(c.a).attrs({purple:!0}).withConfig({displayName:"styles__AddButton",componentId:"sc-15imsbc-4"})(["display:flex;justify-content:center;align-items:center;width:36px;height:36px;margin-top:2px;padding:0px;margin-left:3px;"]),P=Object(l.d)(c.a).attrs({purple:!0,small:!0}).withConfig({displayName:"styles__AddAnswerButton",componentId:"sc-15imsbc-5"})(["justify-self:center;"]),M=l.d.div.withConfig({displayName:"styles__FlexContainer",componentId:"sc-15imsbc-6"})(["display:flex;justify-content:center;"," ",""],e=>e.isTypeToggle&&Object(l.c)(["justify-content:flex-end;margin-bottom:5px;"]),e=>e.isDynamicQuiz&&Object(l.c)(["margin-top:8px;"])),R=l.d.span.withConfig({displayName:"styles__Text",componentId:"sc-15imsbc-7"})(["display:flex;text-align:center;margin-right:5px;margin-top:-1px;"]),D=l.d.span.withConfig({displayName:"styles__OptionLabel",componentId:"sc-15imsbc-8"})(["font-size:",";font-weight:",";color:",";vertical-align:middle;text-align:center;cursor:move;display:table-cell;border-top-left-radius:",";border-bottom-left-radius:",";position:relative;width:40px;transition:0.2s;background:",";"],k.a.textLarge,S.f,e=>e.isCorrect?e=>{let{theme:t}=e;return t.palette.common.white}:e=>{let{theme:t}=e;return t.palette.common.black},E.m,E.m,e=>e.isCorrect?e=>{let{theme:t}=e;return t.palette.success.main}:e=>{let{theme:t}=e;return t.palette.primary.lightP2}),L=Object(l.d)(_.a).attrs({size:C.a}).withConfig({displayName:"styles__Trash",componentId:"sc-15imsbc-9"})(["transition:0.2s;cursor:pointer;position:absolute;bottom:15px;right:calc(100% - 30px);:hover{stroke:",";}"],e=>{let{theme:t}=e;return t.palette.error.main}),N=l.d.input.withConfig({displayName:"styles__Input",componentId:"sc-15imsbc-10"})(["width:60px;height:23px;margin-right:5px;"]);var B=Object(g.sortable)(e=>{let{index:t,onTabSelect:n,onTabRemove:i,children:r,updateState:a,draggingIndex:s}=e,l=Object(m.a)(e,["index","onTabSelect","onTabRemove","children","updateState","draggingIndex"]);return o.a.createElement(A,Object.assign({},l,{eventKey:t,"data-tab-key":t,key:t,onClick:()=>n(t)}),o.a.createElement("span",null,r),o.a.createElement(v.a,{popoverTitle:"Remove Question?",handleConfirm:i(t),invertButtons:!0,hideOnConfirm:!0,danger:!0},o.a.createElement(T,{key:"delete question button"})))});class F extends r.Component{constructor(){super(...arguments),this.state={draggingIndex:null},this.tabRemove=e=>t=>{document.querySelector("body").click(),this.props.deleteQuestionHandler(e)},this.updateTabsOrder=e=>{let t=null;({}).hasOwnProperty.call(e,"draggingIndex")&&(t=e.draggingIndex),this.props.changeQuestionOrderHandler(t||this.props.currentQuestion),this.setState({draggingIndex:e.draggingIndex})},this.selectQuestionHandler=e=>{this.props.selectQuestionHandler(e)}}renderTabs(){return[...this.props.data.map((e,t)=>{const n={active:this.props.currentQuestion===t,index:t,draggingIndex:this.state.draggingIndex,onTabSelect:this.props.selectQuestionHandler,onTabRemove:this.tabRemove};return o.a.createElement(B,Object.assign({key:t,updateState:this.updateTabsOrder,onSortItems:this.updateTabsOrder,items:this.props.data,draggingIndex:this.state.draggingIndex,sortId:t,outline:"list"},n),"Q".concat(t+1))}),o.a.createElement(j,{active:!0,onClick:this.props.createQuestionHandler,key:"add tab"},o.a.createElement(I,null))]}render(){return o.a.createElement(f.a,{bsStyle:"tabs",activeKey:this.props.currentQuestion,onSelect:this.selectQuestionHandler},this.renderTabs())}}var z=n(1809),H=n(1656),U=n(1499),q=n(182),W=n.n(q);class V extends r.Component{constructor(){super(...arguments),this.answerChangeHandler=()=>{const{text:e,mdHtml:t}=this.props.data;this.props.updateOptionHandler({text:e,mdHtml:t},this.props.index,!0)},this.correctAnswerHandler=()=>{this.props.updateOptionHandler({correct:!this.props.data.correct},this.props.index,!0)},this.createNewOption=e=>{e.preventDefault();const t=e.target.value;this.props.createOptionHandler(this.props.index,t,this.props.data.correct)},this.explanationChangeHandler=e=>{const{mdText:t,mdHtml:n}=e;try{this.props.updateExplanationHandler&&this.props.updateExplanationHandler(this.props.index,{mdText:t,mdHtml:n})}catch(i){console.error(i,"ERROR AT textChangeHandler in QuestionOptionEditComponent")}},this.textChangeHandler=e=>{const{mdText:t,mdHtml:n}=e;try{this.props.updateOptionHandler&&this.props.updateOptionHandler({text:t,mdHtml:n},this.props.index,!0)}catch(i){console.error(i,"ERROR AT textChangeHandler in QuestionOptionEditComponent")}}}renderBody(){const e=this.props.data.correct,{isEmpty:t}=this.props,n=e?"This is the correct Answer":"Check to indicate correct answer";return this.props.isDummy?o.a.createElement(M,null,o.a.createElement(P,{onClick:this.createNewOption},"Add option")):this.props.data?o.a.createElement("div",{className:"input-group option-item option-item-wrapper","data-option-id":this.props.index},o.a.createElement("span",{className:"input-group-addon",style:{background:"transparent"}},o.a.createElement(H.a,{placement:"top",overlay:o.a.createElement(U.a,{id:"Check answers"},n)},o.a.createElement("input",{type:"checkbox",onChange:this.correctAnswerHandler,checked:this.props.data.correct}))),o.a.createElement(D,{isCorrect:e},this.props.label,o.a.createElement(v.a,{popoverTitle:"Remove Option?",handleConfirm:()=>this.props.deleteOptionHandler(this.props.index),hideOnConfirm:!0,danger:!0},o.a.createElement(L,{key:"delete question button"}))),o.a.createElement(O,{isOption:!0,isCorrect:e,isEmpty:t},o.a.createElement(a.a,{inView:this.props.inView,mdText:this.props.data.text||"",placeholder:"Type option",onlyCodeChanged:this.props.onlyCodeChanged,setFocus:this.props.setFocus,onMarkdownUpdated:W()(this.textChangeHandler,100),resizable:!1})),o.a.createElement(O,{isOption:!0},o.a.createElement(a.a,{inView:this.props.inView,mdText:this.props.data.explanation&&this.props.data.explanation.mdText||"",placeholder:"Add an explanation if needed",onlyCodeChanged:this.props.onlyCodeChanged,onMarkdownUpdated:W()(this.explanationChangeHandler,100),resizable:!1}))):null}render(){return o.a.createElement("div",{className:"form-group"},this.renderBody())}}var G=n(133),K=n.n(G);class Y extends r.Component{constructor(){var e;super(...arguments),e=this,this.state={setEmpty:!1},this.labels="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.optionContainerRef=o.a.createRef(),this.cancelHandler=()=>{this.props.questionCancelHandler()},this.changeOptionOrderHandler=e=>{let{data:t}=this.props;const n=e.map(e=>t.questionOptions[e]);t=Object(i.a)({},t,{questionOptions:n}),this.props.updateOnlyCodeChangedForQuestion(!1),this.props.updateQuestionData(t)},this.createOptionHandler=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{data:r}=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],e.props);const{onlyCodeChanged:o}=e.props,a=r.questionOptions[t-1],s=()=>{if(r.multipleAnswers)r=Object(i.a)({},r,{questionOptions:r.questionOptions.concat([{text:n,correct:!1,explanation:{mdText:"",mdHtml:""}}])});else{const e=(()=>{const e=r.questionOptions.findIndex((e,t)=>e.correct);return{checked:-1!==e,index:e}})();r=Object(i.a)({},r,{questionOptions:r.questionOptions.map((t,n)=>Object(i.a)({},t,{correct:e.checked&&n===e.index})).concat([{text:n,correct:!e.checked,explanation:{mdText:"",mdHtml:""}}])})}e.setState({setEmpty:!1}),e.props.updateOnlyCodeChangedForQuestion(o),e.props.updateQuestionData(r)};a?""!==a.text||a.mdHtml&&""!==a.mdHtml?s():e.setState({setEmpty:!0}):s()},this.deleteOptionHandler=e=>{this.props.questionRemoveOptionHandler(e),this.props.updateOnlyCodeChangedForQuestion(!1)},this.questionTextHandler=e=>{const t=Object(i.a)({},this.props.data,{questionText:e.mdText,questionTextHtml:e.mdHtml});this.props.updateOnlyCodeChangedForQuestion(!0),this.props.updateQuestionData(t)},this.renderOptions=()=>{if(null==this.props.data.questionOptions)return[];const e=this.props.data.questionOptions.length;return this.props.data.questionOptions.map((t,n)=>{const i=!e||e-1===n,r=o.a.createElement(V,{inView:this.props.inView,index:n,key:n,label:this.labels[n],data:this.props.data.questionOptions[n],isDummy:!1,isEmpty:this.state.setEmpty&&!t.text,setFocus:i,dragBag:this.dragBag,onlyCodeChanged:this.props.onlyCodeChanged,updateOptionHandler:this.updateOptionHandler,updateExplanationHandler:this.updateExplanationHandler,deleteOptionHandler:this.deleteOptionHandler});return o.a.createElement(z.a,{index:n,moveItem:this.moveQuizOptions,ListItemJSX:r,key:n})}).concat(o.a.createElement(V,{inView:this.props.inView,index:e,key:e,label:this.labels[e],data:{},isDummy:!0,onlyCodeChanged:this.props.onlyCodeChanged,createOptionHandler:this.createOptionHandler}))},this.saveHandler=()=>{this.props.questionSaveHandler()},this.updateOptionHandler=(e,t,n)=>{let r=K()(this.props.data,{questionOptions:{[t]:{$set:Object(i.a)({},this.props.data.questionOptions[t],{},e)}}});r.multipleAnswers||(r=K()(r,{questionOptions:{$set:r.questionOptions.map((n,r)=>e.correct&&r!==t?Object(i.a)({},n,{correct:!1}):n)}})),r.questionOptions.some(e=>e.correct)||(r=K()(r,{questionOptions:{0:{correct:{$set:!0}}}})),this.props.updateOnlyCodeChangedForQuestion(n),this.props.updateQuestionData(r)},this.moveQuizOptions=(e,t)=>{const{data:n}=this.props;[n.questionOptions[e.itemIndex],n.questionOptions[t.itemIndex]]=[n.questionOptions[t.itemIndex],n.questionOptions[e.itemIndex]],this.props.updateOnlyCodeChangedForQuestion(!1),this.props.updateQuestionData(n)},this.updateExplanationHandler=(e,t)=>{const n=K()(this.props.data,{questionOptions:{[e]:{explanation:{$set:t}}}});this.props.updateOnlyCodeChangedForQuestion(!0),this.props.updateQuestionData(n)},this.changeMulti=e=>{let t=Object(i.a)({},this.props.data,{multipleAnswers:e.target.checked});t.questionOptions.length>1&&(t=Object(i.a)({},t,{questionOptions:t.questionOptions.map((e,t)=>0===t?Object(i.a)({},e,{correct:!0}):Object(i.a)({},e,{correct:!1}))})),this.props.updateQuestionData(t)}}render(){return o.a.createElement("div",null,o.a.createElement(O,null,o.a.createElement(M,{isTypeToggle:!0},o.a.createElement(R,null,"Multiple Correct Answers"),o.a.createElement("input",{checked:this.props.data.multipleAnswers,onClick:this.changeMulti,type:"checkbox"})),o.a.createElement(a.a,{inView:this.props.inView,mdText:this.props.data.questionText,placeholder:"Write Question here",onlyCodeChanged:this.props.onlyCodeChanged,onMarkdownUpdated:this.questionTextHandler,resizable:!1})),o.a.createElement("div",{ref:this.optionContainerRef},this.renderOptions()))}}var X=n(1732);n.d(t,"default",(function(){return J}));class J extends r.Component{constructor(){super(...arguments),this.state={currentQuestion:0,onlyCodeChanged:!1,onlyCodeChangedForQuestion:!1,draggingIndex:null,dynamicQuestionsCount:this.props.content.dynamicQuestionsCount},this.changeQuestionOrderHandler=e=>{this.selectQuestionHandler(e)},this.updateOnlyCodeChangedForQuestion=e=>{this.setState({onlyCodeChangedForQuestion:e})},this.createQuestionHandler=e=>{e.preventDefault();const t=Object(i.a)({},this.props.content,{questions:[...this.props.content.questions,{questionText:"",questionOptions:[],multipleAnswers:!1}]});this.setState({currentQuestion:t.questions.length-1,onlyCodeChanged:!1}),this.updateState(t),this.updateOnlyCodeChangedForQuestion(!1)},this.deleteQuestionHandler=e=>{if(1===this.props.content.questions.length)return;const t=K()(this.props.content,{questions:{$splice:[[e,1]]}});this.selectQuestionHandler(e>0?e-1:0),this.updateState(t),this.updateOnlyCodeChangedForQuestion(!1)},this.questionRemoveOptionHandler=e=>{const{currentQuestion:t}=this.state;let n=K()(this.props.content,{questions:{[t]:{questionOptions:{$set:this.props.content.questions[t].questionOptions.filter((t,n)=>n!==e)}}}});n.questions[t].questionOptions.length&&(n.questions[t].questionOptions.some(e=>{let{correct:t}=e;return t})||(n=K()(n,{questions:{[t]:{questionOptions:{0:{correct:{$set:!0}}}}}}))),this.updateState(n)},this.questionCancelHandler=()=>{null!=this.props.quizCancelHandler&&this.props.quizCancelHandler()},this.questionSaveHandler=()=>{null!=this.props.quizSaveHandler&&this.props.quizSaveHandler()},this.filterEmptyQuestions=()=>{const{content:{questions:e}}=this.props;return[...e].map(e=>Object(i.a)({},e,{questionOptions:e.questionOptions.filter(e=>!!e.text||!!e.mdHtml)}))},this.selectQuestionHandler=e=>{this.setState({currentQuestion:e})},this.setRenderModeHandler=e=>{const{content:t}=this.props;this.updateState(Object(i.a)({},t,{renderMode:e}))},this.titleChangeHandler=e=>{let{mdText:t,mdHtml:n}=e;const{content:r}=this.props;this.setState({onlyCodeChanged:!0}),this.updateState(Object(i.a)({},r,{title:t,titleMdHtml:n}))},this.setdynamicQuestionsCount=e=>{const{naturalNumber:t}=X.b,{questions:n}=this.props.content;let r=Number(e.target.value);t(r)?r>n.length&&(r=n.length):r=null;const o=Object(i.a)({},this.props.content,{dynamicQuestionsCount:r});this.setState({dynamicQuestionsCount:o.dynamicQuestionsCount||""}),this.updateState(o)},this.updateQuestionData=e=>{const{content:t}=this.props;t.questions[this.state.currentQuestion]=e,this.updateState(t)},this.updateState=e=>this.props.updateContentState({version:e.version,title:e.title,titleMdHtml:e.titleMdHtml,renderMode:e.renderMode,questions:e.questions,dynamicQuestionsCount:e.dynamicQuestionsCount})}saveComponent(){const{content:e}=this.props;this.props.updateContentState({version:e.version,title:e.title,titleMdHtml:e.titleMdHtml,renderMode:e.renderMode,questions:this.filterEmptyQuestions()})}render(){const{content:e}=this.props;return o.a.createElement("div",null,o.a.createElement("div",{className:"edcomp-toolbar"},o.a.createElement(p,{mode:e.renderMode,setRenderModeHandler:this.setRenderModeHandler})),o.a.createElement("div",null,o.a.createElement(O,null,o.a.createElement(a.a,{inView:this.props.inView,mdText:e.title,placeholder:"Add a Title or Context",onlyCodeChanged:this.state.onlyCodeChanged,onMarkdownUpdated:this.titleChangeHandler,resizable:!1}),o.a.createElement(M,{isTypeToggle:!0,isDynamicQuiz:!0},o.a.createElement(H.a,{trigger:["hover"],placement:"top",overlay:o.a.createElement(U.a,null,"N (number of questions specified) will be randomly asked out of total questions. If left empty, all questions will be asked.")},o.a.createElement(R,null,"Dynamic Questions")),o.a.createElement(N,{onChange:this.setdynamicQuestionsCount,value:this.state.dynamicQuestionsCount}))),o.a.createElement(F,{currentQuestion:this.state.currentQuestion,deleteQuestionHandler:this.deleteQuestionHandler,changeQuestionOrderHandler:this.changeQuestionOrderHandler,createQuestionHandler:this.createQuestionHandler,selectQuestionHandler:this.selectQuestionHandler,data:e.questions}),o.a.createElement("br",null),o.a.createElement(Y,{inView:this.props.inView,index:this.state.currentQuestion,key:this.state.currentQuestion,questionSaveHandler:this.questionSaveHandler,questionCancelHandler:this.questionCancelHandler,questionRemoveOptionHandler:this.questionRemoveOptionHandler,data:e.questions[this.state.currentQuestion],updateQuestionData:this.updateQuestionData,updateOnlyCodeChangedForQuestion:this.updateOnlyCodeChangedForQuestion,onlyCodeChanged:this.state.onlyCodeChangedForQuestion})))}}},2291:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(2190),a=n(1730),s=n(1737),l=n(14),c=n(2640),h=n(1508),d=n(1933),u=n(27),p=n(1846),f=n(650),m=n(330),g=n(1819),v=n(1966);var b=Object(p.sortable)(Object(f.a)(e=>{let{selected:t,index:n,draggingIndex:i=null,onTabSelect:o,onRemoveTab:a,onCloneTab:s,theme:c}=e,h=Object(u.a)(e,["selected","index","draggingIndex","onTabSelect","onRemoveTab","onCloneTab","theme"]),p={},f={background:c.palette.common.white};return n===i?p=Object(l.a)({},p,{borderLeft:"1px solid ".concat(c.palette.primary.main)}):t&&(p=Object(l.a)({},p,{borderLeft:"1px solid ".concat(c.palette.success.main),color:c.palette.success.dark,background:c.palette.grey[200]}),f=Object(l.a)({},f,{background:c.palette.grey[200]})),r.a.createElement("div",Object.assign({},h,{onClick:()=>o(n)}),r.a.createElement(d.c.TabWrapper,{style:p},"Scene ".concat(n+1),r.a.createElement("div",null,r.a.createElement("button",{className:"cmcomp-glyphicon-clone",style:f,onClick:()=>s(n)},r.a.createElement(m.a,{icon:r.a.createElement(v.a,null)})),r.a.createElement("button",{className:"cmcomp-glyphicon-remove",style:f,onClick:()=>a(n)},r.a.createElement(m.a,{icon:r.a.createElement(g.a,null)})))))})),y=n(530),_=n(1980),x=n(133),w=n.n(x);class C extends i.Component{constructor(){super(...arguments),this.state={draggingIndex:null},this.onAddCodeTab=()=>{const e=[...this.props.codeContent.animationContent,_.d];this.props.handleMultiChange({selectedIndex:e.length-1,animationContent:e,onlyCodeChanged:!1})},this.onRemoveTab=e=>{const t=w()(this.props.codeContent.animationContent,{$splice:[[e,1]]});this.props.handleMultiChange({animationContent:t,selectedIndex:e>0?e-1:0,onlyCodeChanged:!1})},this.onCloneTab=e=>{const t=Object(l.a)({},this.props.codeContent.animationContent[e]),n=w()([...this.props.codeContent.animationContent],{$splice:[[e,0,t]]});this.props.handleMultiChange({animationContent:n,onlyCodeChanged:!1})},this.onUpdateTabsOrder=e=>{let t=null;({}).hasOwnProperty.call(e,"draggingIndex")&&(t=e.draggingIndex),{}.hasOwnProperty.call(e,"items")&&this.props.handleMultiChange({animationContent:e.items,selectedIndex:isNaN(t)?this.props.codeContent.selectedIndex:t,onlyCodeChanged:!1}),this.setState({draggingIndex:e.draggingIndex})},this.onTabSelect=e=>{e<this.props.codeContent.animationContent.length&&this.props.onSelectedIndexChange(e)},this.onDelaySelect=e=>{this.props.handleSelectDelay(_.e[e.target.value])},this.onResetDelay=e=>{this.props.handleResetDelay(_.e[e])},this.getAdditionalTabs=()=>{const{selectedIndex:e,animationContent:t}=this.props.codeContent,n=Object.keys(_.e);return t.map((i,o)=>{const a={selected:e===o,index:o,draggingIndex:this.state.draggingIndex,onTabSelect:this.onTabSelect,onRemoveTab:this.onRemoveTab,onCloneTab:this.onCloneTab},s="sceneKey".concat(o),l="sceneTabKey".concat(o),c="selectKey".concat(o);return r.a.createElement(d.b.Scene,{key:s},r.a.createElement(b,{key:l,updateState:this.onUpdateTabsOrder,items:t,draggingIndex:this.state.draggingIndex,sortId:o,outline:"list",childProps:a},i),r.a.createElement("select",{key:c,onChange:this.onDelaySelect,onFocus:()=>this.onTabSelect(o)},n.map((e,t)=>r.a.createElement("option",{key:t,selected:_.e[e]===i.delay?"selected":null},e))))})}}render(){const{selectedIndex:e,language:t,theme:n,animationContent:i}=this.props.codeContent,o={content:i.length>0?i[e].content:"",language:t,theme:n},a=this.getAdditionalTabs(),s=Object.keys(_.e);return r.a.createElement(d.b.Container,null,r.a.createElement(d.b.TabsList,null,r.a.createElement(d.b.ButtonsWrapper,null,r.a.createElement(d.b.AddFileButton,{onClick:this.onAddCodeTab},"Add Scene"),r.a.createElement(c.a,{title:"Reset delay",id:"dropdown-basic",onSelect:this.onResetDelay},s.map((e,t)=>r.a.createElement(h.a,{key:t,eventKey:e},e)))),r.a.createElement("div",{style:{display:"block",overflowY:"scroll",minHeight:200,maxHeight:"65vh",flex:"1 0 auto"}},a),r.a.createElement(d.b.HeightViewer,null,r.a.createElement("label",null,"Height(px)",r.a.createElement("input",{style:{width:"150px"},type:"number",name:"heightViewer",onChange:e=>this.props.inputChange(e),onBlur:this.props.validateHeight,value:this.props.heightViewer})))),r.a.createElement("div",{className:"editor-container-viewer",style:{display:"block",width:"100%",overflowY:"unset",minHeight:200,maxHeight:"65vh",paddingLeft:3}},r.a.createElement(y.a,{key:"editor",codeContent:o,readOnly:!1,tabsAsSpaces:!0,onlyCodeChanged:this.props.onlyCodeChanged,onEditorChange:this.props.onEditorChange,isNotCodeEditor:!0})))}}n.d(t,"default",(function(){return S}));class S extends i.Component{constructor(){super(...arguments),this.generateSvgString=async()=>{const{selectedIndex:e,animationContent:t}=this.props;if(0===(null!==t&&void 0!==t?t:[]).length||0===t[e].content.trim().length)return this.graphvizPreviewArea.innerHTML="",void(this.graphvizError.innerHTML="");const n=t[e].content,i=await s.b(n);i.success?(this.graphvizPreviewArea.innerHTML=i.svgString,this.graphvizError.innerHTML=""):(this.graphvizPreviewArea.innerHTML="",this.graphvizError.innerHTML=i.errorMessage)}}async componentDidMount(){await this.generateSvgString()}async componentDidUpdate(){await this.generateSvgString()}render(){var e,t;const{selectedIndex:n,animationContent:i}=this.props,s=null!==(e=null===i||void 0===i?void 0:null===(t=i[n])||void 0===t?void 0:t.caption)&&void 0!==e?e:"",l={language:"haskell",theme:"eclipse",selectedIndex:n,animationContent:i};return r.a.createElement(d.a.Editor,null,r.a.createElement(o.a,{lg:this.props.isFullscreen?8:12},!this.props.isFullscreen&&r.a.createElement("div",{style:{display:"flex",margin:"10px 0"}},this.props.fullscreenIconToggle({onClick:this.props.onExpand})),r.a.createElement(C,{codeContent:l,readOnly:!1,onlyCodeChanged:this.props.onlyCodeChanged,handleSelectDelay:this.props.handleSelectDelay,handleResetDelay:this.props.handleResetDelay,heightViewer:this.props.heightViewer,onEditorChange:this.props.onUpdate,onSelectedIndexChange:this.props.handleSelectedIndexChange,handleMultiChange:this.props.handleMultiChange,inputChange:this.props.handleHeightChange,validateHeight:this.props.validateHeight})),r.a.createElement(o.a,{lg:this.props.isFullscreen?4:12},r.a.createElement(d.a.GraphVizError,{ref:e=>{this.graphvizError=e}}),r.a.createElement("div",null,r.a.createElement(a.a,{caption:s,onCaptionChange:this.props.handleCaptionChange})),r.a.createElement("div",{style:{textAlign:this.props.compAlign,height:"".concat(this.props.heightViewer)},ref:e=>{this.graphvizPreviewArea=e},className:"graphvizPreviewArea"})))}}},2292:function(e,t,n){"use strict";var i=n(14),r=n(0),o=n.n(r),a=n(30),s=n(649),l=n(809),c=n(810),h=n(281),d=n(192),u=n(332),p=n(536),f=n(1),m=n(12),g=n(58);f.d.div.withConfig({displayName:"styles__SlidingModalStyled",componentId:"cx6s3l-0"})([""]);const v=Object(f.d)(d.d).withConfig({displayName:"styles__TextArea",componentId:"cx6s3l-1"})(["margin-top:26px;min-width:100%;max-width:100%;"]),b=Object(f.d)(d.b).withConfig({displayName:"styles__Select",componentId:"cx6s3l-2"})(["color:"," !important;border:1px solid "," !important;"],e=>{let{theme:t}=e;return t.palette.common.black},e=>{let{theme:t}=e;return t.palette.grey[300]}),y=f.d.p.withConfig({displayName:"styles__SubmitError",componentId:"cx6s3l-3"})(["margin-top:-25px;font-size:",";color:",";"],m.a.textMedium,e=>{let{theme:t}=e;return t.palette.error.main}),_=Object(f.d)(y).withConfig({displayName:"styles__SubmitSuccess",componentId:"cx6s3l-4"})(["color:",";"],e=>{let{theme:t}=e;return t.palette.success.main}),x=Object(f.d)(g.a).attrs({small:!0}).withConfig({displayName:"styles__AddButton",componentId:"cx6s3l-5"})(["margin:30px 10px;align-self:center;"]);var w=n(133),C=n.n(w);const S=Object(a.b)();class E extends r.Component{constructor(){super(...arguments),this.state={errors:{},validationStates:{},isSubmitted:!1,submitError:!1,formValues:{},showError:!1},this.formFieldsObj={},this.fieldsTypeToValidate=["text","textArea"],this.inputRefs={},this.createFormFieldObject=()=>{const{formFields:e}=this.props;this.formFieldsObj={},e.forEach(e=>{this.formFieldsObj[e.name]=e})},this.initializeValues=()=>{const{formFields:e}=this.props;e.forEach(e=>{var t;"undefined"!==typeof e.initialValue&&(null===(t=this.inputRefs)||void 0===t?void 0:t[e.name])&&(this.inputRefs[e.name].value=e.initialValue)})},this.handleInputChange=e=>{const{name:t}=e.target,{errors:n,validationStates:r}=this.state,o=this.validateField(t);this.setState({errors:Object(i.a)({},n,{[t]:o.warning}),validationStates:Object(i.a)({},r,{[t]:o.validation})})},this.hasErrors=()=>{var e;return Object.values(null!==(e=this.state.errors)&&void 0!==e?e:[]).some(e=>!!e)},this.validateForm=e=>{let t={},n={};const{formFields:i}=this.props;i.forEach(e=>{let{name:i}=e;const r=this.validateField(i);t=C()(t,{[i]:{$set:r.warning}}),n=C()(n,{[i]:{$set:r.validation}})}),this.setState({showError:!0,errors:t,validationStates:n},e)},this.validateField=e=>{const t=this.formFieldsObj[e];if(!this.fieldsTypeToValidate.includes(t.type))return{validation:"success",warning:""};const n=this.inputRefs[e]?this.inputRefs[e].value.trim():"";if(!t.optional&&""===n)return{validation:"error",warning:"This field is required"};if(!t.optional||""!==n){if(!Object(p.a)(e,n))return{validation:"error",warning:p.b[e]}}if((!t.optional||""!==n)&&t.validate){const e=t.validate(n);if(!1===(null===e||void 0===e?void 0:e.validation))return{validation:"error",warning:(null===e||void 0===e?void 0:e.warning)||""}}return{validation:"success",warning:""}},this.handleSubmit=e=>{const{formFields:t,onSubmit:n}=this.props;e.preventDefault(),this.validateForm(()=>{if(this.hasErrors())setTimeout(()=>{this.setState({showError:!1})},4e3);else{let e={};t.forEach(t=>{let{name:n}=t;e=C()(e,{[n]:{$set:this.inputRefs[n]?this.inputRefs[n].value:""}})});const i=n(e);i instanceof Promise?i.then(()=>{this.setState({isSubmitted:!0,submitError:!1})}).catch(()=>{this.setState({isSubmitted:!0,submitError:!0})}):this.setState({isSubmitted:!0,submitError:!1}),setTimeout(()=>{this.setState({isSubmitted:!1})},4e3)}})},this.renderSelectControl=(e,t)=>o.a.createElement(b,{name:e,inputRef:t=>{this.inputRefs[e]=t},onChange:this.handleInputChange,key:e},!!t&&t.map(e=>o.a.createElement("option",{value:e},e))),this.renderTextArea=(e,t,n)=>o.a.createElement(v,{name:e,type:"textarea",placeholder:t,inputRef:t=>{this.inputRefs[e]=t},onChange:this.handleInputChange,rows:n||"3",key:e,value:this.inputRefs[e]&&this.inputRefs[e].value}),this.renderDefaultFormControl=(e,t,n)=>o.a.createElement(s.a,{name:e,type:t,placeholder:n,inputRef:t=>{this.inputRefs[e]=t},onChange:this.handleInputChange,key:e,value:this.inputRefs[e]&&this.inputRefs[e].value}),this.renderButton=(e,t,n)=>o.a.createElement(x,{id:e,onClick:n,key:e}," ",t),this.renderLabel=(e,t,n,i)=>o.a.createElement("div",{style:i,key:e}," ",t,n.iconDiv),this.renderFormControl=(e,t,n,i,r,o,a,s,l)=>{switch(e){case"select":return this.renderSelectControl(t,r);case"textarea":return this.renderTextArea(t,n,i);case"button":return this.renderButton(t,o,a);case"label":return this.renderLabel(t,o,s,l);default:return this.renderDefaultFormControl(t,e,n)}},this.renderFormField=e=>{const{formControlId:t}=this.props,{validationStates:n,errors:i,showError:r}=this.state,{name:a,type:s,placeholder:h,help:d,rows:u,options:p,value:f,onClick:m,icon:g,customStyle:v}=e;return o.a.createElement(o.a.Fragment,{key:"".concat(t,"-").concat(a)},e.title,o.a.createElement(l.a,{key:"".concat(t,"-").concat(a),controlId:"".concat(t,"-").concat(a),validationState:n[a]},this.renderFormControl(s,a,h,u,p,f,m,g,v),"error"===n[a]&&r?o.a.createElement(c.a,null,(null===i||void 0===i?void 0:i[a])||""):d&&o.a.createElement(c.a,null,d)))}}componentDidMount(){this.createFormFieldObject(),this.initializeValues()}componentDidUpdate(e){const{formFields:t}=this.props;e.formFields!==t&&this.createFormFieldObject()}render(){const{formFields:e,title:t,closeIcon:n,beforeForm:i,afterForm:r,submitText:a,showSubmit:s,showSubmitStatus:l,submitErrorMessage:c,submitSuccessMessage:p}=this.props,{submitError:f,isSubmitted:m}=this.state;return o.a.createElement(h.a,null,n,o.a.createElement(d.e,null,o.a.createElement(u.a,{title:t}),i,o.a.createElement(d.a.default,{onSubmit:this.handleSubmit},e.map(this.renderFormField),s&&o.a.createElement(d.a.SubmitButton,{disabled:e.length<1,type:"submit"},a),l&&m&&(f?o.a.createElement(y,null,c):o.a.createElement(_,null,p))),r))}}E.defaultProps={title:"",closeIcon:null,beforeForm:null,afterForm:null,submitText:"SUBMIT",showSubmit:!0,showSubmitStatus:!1,submitErrorMessage:"An error occurred while submitting!",submitSuccessMessage:"Submitted successfully!"};t.a=S(E)},2293:function(e,t,n){"use strict";var i=n(46),r=n(65),o=n(68),a=n(2006),s=n.n(a),l=n(57),c=n.n(l),h=n(654),d=n.n(h),u=n(0),p=n.n(u),f=n(2),m=n.n(f),g=n(580),v=n.n(g);function b(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}var y,_=n(120),x={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function w(e){e.offsetHeight}var C=((y={})[g.EXITED]="collapse",y[g.EXITING]="collapsing",y[g.ENTERING]="collapsing",y[g.ENTERED]="collapse in",y),S={in:m.a.bool,mountOnEnter:m.a.bool,unmountOnExit:m.a.bool,appear:m.a.bool,timeout:m.a.number,onEnter:m.a.func,onEntering:m.a.func,onEntered:m.a.func,onExit:m.a.func,onExiting:m.a.func,onExited:m.a.func,dimension:m.a.oneOfType([m.a.oneOf(["height","width"]),m.a.func]),getDimensionValue:m.a.func,role:m.a.string},E={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,dimension:"height",getDimensionValue:function(e,t){var n=t["offset"+b(e)],i=x[e];return n+s()(d()(t,i[0]),10)+s()(d()(t,i[1]),10)}},k=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleEnter=function(e){e.style[t.getDimension()]="0"},t.handleEntering=function(e){var n=t.getDimension();e.style[n]=t._getScrollDimensionValue(e,n)},t.handleEntered=function(e){e.style[t.getDimension()]=null},t.handleExit=function(e){var n=t.getDimension();e.style[n]=t.props.getDimensionValue(n,e)+"px",w(e)},t.handleExiting=function(e){e.style[t.getDimension()]="0"},t}Object(o.a)(t,e);var n=t.prototype;return n.getDimension=function(){return"function"===typeof this.props.dimension?this.props.dimension():this.props.dimension},n._getScrollDimensionValue=function(e,t){return e["scroll"+b(t)]+"px"},n.render=function(){var e=this,t=this.props,n=t.onEnter,o=t.onEntering,a=t.onEntered,s=t.onExit,l=t.onExiting,h=t.className,d=t.children,u=Object(r.a)(t,["onEnter","onEntering","onEntered","onExit","onExiting","className","children"]);delete u.dimension,delete u.getDimensionValue;var f=Object(_.a)(this.handleEnter,n),m=Object(_.a)(this.handleEntering,o),g=Object(_.a)(this.handleEntered,a),b=Object(_.a)(this.handleExit,s),y=Object(_.a)(this.handleExiting,l);return p.a.createElement(v.a,Object(i.a)({},u,{"aria-expanded":u.role?u.in:null,onEnter:f,onEntering:m,onEntered:g,onExit:b,onExiting:y}),(function(t,n){return p.a.cloneElement(d,Object(i.a)({},n,{className:c()(h,d.props.className,C[t],"width"===e.getDimension()&&"width")}))}))},t}(p.a.Component);k.propTypes=S,k.defaultProps=E;t.a=k},2295:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(649),a=n(809),s=n(650),l=n(18),c=n(64),h=n(1),d=n(12),u=n(21);function p(){const e=Object(c.a)(["\ninput:-webkit-autofill,\ninput:-webkit-autofill:hover,\ninput:-webkit-autofill:focus textarea:-webkit-autofill,\ntextarea:-webkit-autofill:hover textarea:-webkit-autofill:focus,\nselect:-webkit-autofill,\nselect:-webkit-autofill:hover,\nselect:-webkit-autofill:focus {\n  -webkit-box-shadow: 0 0 0px 1000px "," inset !important;\n  transition: background-color 5000s ease-in-out 0s !important;\n}\n.socialMediaLink {\n  min-height: 60px !important;\n  input {\n    color: "," !important;\n    font-size: "," !important;\n    padding-top: 25px !important;\n  }\n}\n\n.form-horizontal {\n  .b-input-with-label {\n    display: flex;\n    min-height: 85px;\n    margin: 0;\n\n    .control-label {\n      padding: 0 5px 0 18px;\n      background-color: ",";\n      min-width: 125px;\n      width: 20%;\n      cursor: pointer;\n      margin: 0;\n      font-weight: ",";\n      line-height: normal;\n\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      flex-shrink: 0;\n\n      &.label-top {\n        padding-top: 25px;\n        display: inline-block;\n      }\n    }\n\n    .form-control {\n      min-width: 1px;\n      height: auto !important;\n      border-radius: 0;\n      border: none;\n      padding-left: 25px;\n      padding-right: 25px;\n      font-weight: ",";\n      font-size: ",";\n      color: ",";\n    }\n\n    .form-control:disabled {\n      background-color: ",";\n      cursor: default;\n    }\n\n    textarea.form-control {\n      ","\n      resize: vertical;\n    }\n\n    .input-group {\n      position: static;\n      display: inline-flex;\n      width: 80%;\n    }\n\n    .input-group-addon {\n      display: inline-flex;\n      padding-left: 3.35%;\n      width: 20%;\n      min-width: 140px;\n      height: auto !important;\n      background-color: ",";\n      font-size: ",";\n      font-weight: ",";\n      text-transform: uppercase;\n      color: ",";\n      align-items: center;\n    }\n\n    &.focused {\n      .control-label {\n        background-color: ",";\n      }\n\n      .b-select {\n        background-color: ",";\n      }\n      .b-select:after {\n        background-color: ",";\n      }\n    }\n    &.error {\n      border: 1px solid ",";\n    }\n  }\n  .dp-priceinput {\n    display: flex;\n    height: 50px;\n\n    .b-select {\n      padding-top: 18px;\n      padding-left: 6px;\n      background-color: ",";\n      select {\n        -webkit-appearance: none;\n      }\n    }\n    .dp-numberinput {\n      width: 100%;\n      min-width: 1px;\n      height: 50px;\n      padding: 2px 10px;\n      border-width: 1px;\n      background-color: ",";\n    }\n  }\n}\n\n.label-inn {\n  text-align: left;\n  position: absolute;\n  margin-top: 2px;\n  margin-left: 9px;\n}\n\n.label-text {\n  font-size: ",";\n  text-transform: uppercase;\n  color: ",";\n  display: block;\n  background: ",";\n  border-radius: ",";\n  padding: 1px 8px;\n  font-weight: ",";\n}\n\n.label-help {\n  font-size: ",";\n  color: ",";\n  position: absolute;\n  right: 0;\n  align-self: flex-start;\n  margin-right: 27px;\n  margin-top: 2px;\n  background: ",";\n}\n\n.label-error {\n  font-size: ",";\n  color: ",";\n  position: absolute;\n  right: 0;\n  align-self: flex-start;\n  margin-right: 27px;\n  margin-top: 2px;\n  background: ",";\n}\n\n.external-editor-wrap {\n  ","\n  display: inline-block;\n  padding-left: 25px;\n  padding-right: 25px;\n  width: 80%;\n  background-color: ",";\n\n  .textEditor {\n    margin: 0;\n    min-height: 138px;\n    color: ",";\n    font-weight: ",";\n    font-size: ",";\n\n    *:last-child {\n      margin-bottom: 0;\n    }\n  }\n\n  .medium-editor-placeholder:after {\n    ","\n  }\n}\n\n.price-tooltip {\n  z-index: 9999;\n\n  .tooltip-arrow {\n    position: absolute;\n    margin-left: 0px !important;\n    border-bottom-color: "," !important;\n    opacity: 1;\n  }\n  .tooltip-inner {\n    padding: 3px 8px;\n    font-size: ",";\n    color: ",";\n    background-color: ",";\n    opacity: 1;\n    border: 1px solid ",";\n  }\n}\n\n.b-input-with-label_simple {\n  display: flex;\n  width: 100%;\n  height: 40px;\n\n  .form-control {\n    background-color: ",";\n    display: inline-block;\n    height: 100%;\n  }\n\n  label {\n    line-height: 40px;\n    background-color: ",";\n    display: inline-block;\n    padding: 0 10px;\n    height: 100%;\n    font-size: ",";\n    min-width: 86px;\n    margin: 0;\n    font-weight: ",";\n    text-transform: capitalize;\n    flex-shrink: 0;\n  }\n}\n\n.errorField) {\n  border: 1px solid red;\n}\n"]);return p=function(){return e},e}const f=Object(h.c)(["min-height:138px;padding-top:36px !important;padding-bottom:22px !important;padding-left:40px;color:",";font-size:",";"],e=>{let{theme:t}=e;return t.palette.grey.A100},d.a.detail),m=Object(h.c)(["color:",";font-style:italic;font-weight:",";"],e=>{let{theme:t}=e;return t.palette.alphas.black5},u.f);var g=Object(h.b)(p(),e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.grey.A100},d.a.textLarge,e=>{let{theme:t}=e;return t.palette.grey[200]},u.f,u.f,d.a.detail,e=>{let{theme:t}=e;return t.palette.grey.A100},e=>{let{theme:t}=e;return t.palette.common.white},f,e=>{let{theme:t}=e;return t.palette.grey[200]},d.a.textMedium,u.f,e=>{let{theme:t}=e;return t.palette.success.dark},e=>{let{theme:t}=e;return t.palette.primary.lightP1},e=>{let{theme:t}=e;return t.palette.primary.lightP1},e=>{let{theme:t}=e;return t.palette.primary.lightP1},e=>{let{theme:t}=e;return t.palette.error.main},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.common.white},d.a.textMedium,e=>{let{theme:t}=e;return t.palette.grey.A100},e=>{let{theme:t}=e;return t.palette.common.white},l.i,u.b,d.a.textSmall,e=>{let{theme:t}=e;return t.palette.grey[800]},e=>{let{theme:t}=e;return t.palette.common.white},d.a.textSmall,e=>{let{theme:t}=e;return t.palette.error.main},e=>{let{theme:t}=e;return t.palette.common.white},f,e=>{let{theme:t}=e;return t.palette.common.white},e=>{let{theme:t}=e;return t.palette.success.dark},u.f,d.a.detail,m,e=>{let{theme:t}=e;return t.palette.utils.ribbon2},d.a.textMedium,e=>{let{theme:t}=e;return t.palette.success.dark},e=>{let{theme:t}=e;return t.palette.primary.light},e=>{let{theme:t}=e;return t.palette.utils.ribbon2},e=>{let{theme:t}=e;return t.palette.grey[200]},e=>{let{theme:t}=e;return t.palette.grey[200]},d.a.textLarge,u.f);class v extends i.Component{constructor(e){super(e),this.inputRef=r.a.createRef(),this.handleChange=()=>{this.inputRef.current&&this.setState({value:this.inputRef.current.value},()=>{var e,t;return null===(e=(t=this.props).onChange)||void 0===e?void 0:e.call(t,this.props.name,this.state.value)})};const{value:t=""}=e;this.state={value:t,isFocused:!1}}componentDidUpdate(e){e.value===this.props.value||this.props.isError||this.setState({value:this.props.value})}getValue(){return this.state.value}renderLabel(){const{label:e,help:t,errorMsg:n}=this.props;return[n?r.a.createElement("span",{className:"label-error"},n):r.a.createElement("span",{className:"label-help",key:1},t),r.a.createElement("span",{key:2,className:"label-inn"},r.a.createElement("span",{className:"label-text"},e))]}renderControl(){const{placeholder:e,type:t}=this.props,n=this.props.validate?this.props.styleValidate:{};return r.a.createElement(o.a,{inputRef:this.inputRef,componentClass:"textarea"===t?"textarea":"input",type:t,placeholder:e,onChange:this.handleChange,value:this.state.value||"",onBlur:this.props.handleBlur,onFocus:this.props.handleFocus,style:n,name:this.props.name,disabled:this.props.disabled,maxLength:this.props.maxLength||""})}render(){const e={marginTop:"15px",padding:"10px",border:this.props.isError?"1px solid ".concat(this.props.theme.palette.error.main):"1px solid ".concat(this.props.theme.palette.grey[300]),borderRadius:l.i};return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(a.a,{bsClass:"form-group form-group-lg b-input-with-label",style:e,className:this.props.className},this.renderLabel(),this.props.children?this.props.children:this.renderControl()))}}t.a=Object(s.a)(v)},2297:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(133),a=n.n(o),s=n(2014),l=n(387),c=n(20);var h=n(129),d=n.n(h),u=n(182),p=n.n(u);n.d(t,"a",(function(){return g}));const f=e=>e?"object"===typeof e&&"length"in e?e.filter(e=>!!e):e.trim().split(","):[];let m="";class g extends i.Component{constructor(e){super(e),this.state={activeSuggestionIndex:0,suggestedTags:[]},this.inputRef=r.a.createRef(),this.onTagsClick=e=>{var t;null===(t=this.inputRef.current)||void 0===t||t.focus()},this.handleFocusBlur=(e,t)=>{const{value:n}=e.target;n&&t?this.addTag(n,e):e.target.value=""},this.onKeyUp=e=>{const{autoCompleteTags:t}=this.props,n=e.keyCode,i=e.target.value.trim(),{tags:r,hasValue:o,suggestedTags:a,activeSuggestionIndex:s}=this.state;if(m=i,t&&n===d.a.codes.down){const t=a.length>s+1?s+1:0;return this.setState({activeSuggestionIndex:t}),void(e.target.value=a[t])}if(t&&n===d.a.codes.up){const t=s>0?s-1:a.length-1;return this.setState({activeSuggestionIndex:t}),void(e.target.value=a[t])}if(8!==n||i||!o)if(8!==n||o){if(i){if(27===n||","===i)return e.target.value="",void this.setState({suggestedTags:[],activeSuggestionIndex:0});if(13===n||188===n){let t=!1;return this.isSameTag(13===n&&a[s]||i)&&(e.target.value="",t=!0),t||this.addTag(13===n&&a[s]||i,e),void this.setState({activeSuggestionIndex:0,suggestedTags:[]})}t&&this.getSuggestedTags(i,a),this.setState({hasValue:!0})}}else this.removeTag(r[r.length-1]);else this.setState({hasValue:!1,suggestedTags:[],activeSuggestionIndex:0})},this.getSuggestedTags=p()((e,t)=>{if(0===t.length&&e)this.setState({suggestedTags:[e]});else if(e&&t[0]!==e){const n=a()(t,{0:{$set:e}});this.setState({suggestedTags:n})}(e=>{const t="/api/".concat("edpresso/shot_tags","?search_string=").concat(encodeURIComponent(e));return Object(c.a)({url:"".concat(t),type:"GET"})})(e).then(t=>this.onGettingSuggestionTags(t,e)).catch(e=>console.log(e.responseJSON))},100),this.onGettingSuggestionTags=(e,t)=>{let n=[];try{if(""!==m){var i;const r=null===(i=JSON.parse(e))||void 0===i?void 0:i.edpresso_tags;r&&(n=r.map(e=>e.tag)),n=a()(n,{$unshift:[t]})}this.setState({suggestedTags:n,activeSuggestionIndex:0})}catch(r){this.setState({suggestedTags:[]})}},this.removeTag=e=>{const t=this.state.tags.indexOf(e);this.setState(a()(this.state,{tags:{$splice:[[t,1]]}}),()=>{var e,t;return null===(e=(t=this.props).onChange)||void 0===e?void 0:e.call(t,this.state.tags)})},this.hasMaxTags=()=>this.state.tags.length>=this.props.maxTags,this.state={tags:f(e.tags),suggestedTags:[],hasValue:!1}}componentDidUpdate(e){this.props.tags!==e.tags&&this.setState({tags:f(this.props.tags)})}shouldComponentUpdate(e,t){return!(t.hasValue&&t.hasValue===this.state.hasValue&&t.suggestedTags===this.state.suggestedTags&&t.activeSuggestionIndex===this.state.activeSuggestionIndex)}getTags(){return this.state.tags.toString()}isSameTag(e){return-1!==this.state.tags.indexOf(e)}addTag(e,t){if(e=e.replace(",",""),!this.checkTags(e))return;const n=a()(this.state,{tags:{$push:[e]},hasValue:{$set:!1}});this.setState(n,()=>{var e,t;return null===(e=(t=this.props).onChange)||void 0===e?void 0:e.call(t,this.state.tags)}),t.target.value=""}addSuggestedTag(e){if(this.isSameTag(e))return void this.setState({suggestedTags:[]});const{tags:t}=this.state,n={tags:[...t,e],suggestedTags:[],hasValue:!1};this.setState(n,()=>{"function"===typeof this.props.onChange&&this.props.onChange(this.state.tags)})}checkTags(e){const{minTagLength:t,maxTagLength:n}=this.props;return!this.hasMaxTags()&&!(e.length<t||e.length>n)}render(){const{autoCompleteTags:e}=this.props,{activeSuggestionIndex:t}=this.state,n=this.state.tags.map((e,t)=>r.a.createElement("li",{key:t},r.a.createElement(s.a,{data:e,key:t,removeTag:this.removeTag}))),i=this.state.suggestedTags.map((e,n)=>r.a.createElement("li",{key:e+n},r.a.createElement(l.d,{active:n===t,onClick:t=>this.addSuggestedTag(e)},e))),o=this.hasMaxTags()?"A Maximum of ".concat(this.props.maxTags," Tags is allowed"):"Type tags here and press 'ENTER' or , to add new tag";return r.a.createElement("div",null,r.a.createElement(l.f,{onClick:this.onTagsClick,isEmpty:!this.state.tags.length,adjustSuggestions:e&&i.length>0},r.a.createElement(l.b,null,n),r.a.createElement("input",{type:"hidden",name:"tags",value:this.state.tags.join()}),"write"===this.props.mode&&r.a.createElement(l.a,{type:"text",ref:this.inputRef,name:"inputtags",disabled:this.hasMaxTags(),placeholder:o,onFocus:this.handleFocusBlur,onBlur:e=>this.handleFocusBlur(e,!i.length),onKeyUp:this.onKeyUp})),e&&i.length>0&&r.a.createElement(l.f,{onClick:this.onTagsClick,isEmpty:!i.length,suggestions:!0},r.a.createElement(l.b,{suggestions:!0},i)))}}g.defaultProps={tags:[],maxTags:3,isShot:!1,minTagLength:3,maxTagLength:24,autoCompleteTags:!1}},2298:function(e,t,n){"use strict";n.r(t);var i=n(14),r=n(1499),o=n(1656),a=n(649),s=n(0),l=n.n(s),c=n(531),h=n(816),d=n(12),u=n(1730),p=n(1740),f=n(1958),m=n.n(f),g=n(1),v=n(1750);const b={ColorPicker:Object(g.d)(v.a).withConfig({displayName:"styles__ColorPicker",componentId:"zmmbcr-0"})([".fa{font-size:",";color:",";&:before{z-index:1;}&:after{content:'';position:absolute;left:0;}}"],d.a.body,e=>{let{theme:t}=e;return t.palette.grey.A400}),MatrixArea:g.d.div.withConfig({displayName:"styles__MatrixArea",componentId:"zmmbcr-1"})(["display:block;border:1px solid ",";margin:0 auto;"],e=>{let{theme:t}=e;return t.palette.grey[300]}),Menu:g.d.div.withConfig({displayName:"styles__Menu",componentId:"zmmbcr-2"})(["display:block;padding:5px;border:1px solid ",";margin-bottom:10px;.b-some-with-icon-icon{vertical-align:baseline;}.b-btn{padding:4px 6px;&:focus{outline:none;.align-icon,.fa{opacity:1;}}}.fa{font-size:",";}.form-control{margin-left:5px;width:60px;display:inline-block;padding:3px;}.align-icon{width:18px;height:18px;}.align-icon,.fa{color:",";transition:opacity 0.2s;opacity:0.5;&:hover{opacity:1;}}"],e=>{let{theme:t}=e;return t.palette.grey[300]},d.a.h4,e=>{let{theme:t}=e;return t.palette.grey[700]}),Row:g.d.div.withConfig({displayName:"styles__Row",componentId:"zmmbcr-3"})(["overflow:visible;padding:5px 0;border-bottom:1px solid ",";&:first-child{padding-top:0;}&:last-child{padding-bottom:0;border-bottom:none;}"],e=>{let{theme:t}=e;return t.palette.grey[300]}),RowTitle:g.d.div.withConfig({displayName:"styles__RowTitle",componentId:"zmmbcr-4"})(["text-transform:uppercase;display:inline-block;margin-right:10px;min-width:70px;"])};var y=n(133),_=n.n(y);function x(e){return l.a.createElement(r.a,{id:e},e)}n.d(t,"default",(function(){return w}));class w extends s.Component{constructor(){super(...arguments),this.matrix_redraw_required=!1,this.state={root_svg:null,selected_cell_color:null,selected_cell_stroke_color:null,selected_cell_text_size:null,selected_cells:[],cached_cell_svgs:[]},this.cellTextInputRef=l.a.createRef(),this.matrixAreaRef=l.a.createRef(),this.getDefaultCell=()=>({text:"",width:40,height:40,color:"#caff97"}),this.getCell=(e,t,n,i)=>({text:e,width:40,height:40,color:t,stroke_color:n,text_size:i}),this.getDefaultColumn=()=>({max_width:40,cells:[]}),this.getDefaultCellStrokeStyle=()=>({color:"#000000",opacity:1,width:1}),this.getCellStrokeStyle=e=>null===e?{color:"#000000",opacity:0,width:0}:{color:e,opacity:1,width:1},this.getSelectedCellStrokeStyle=()=>({color:"#3A9FBF",opacity:1,width:5}),this.getDefaultCellTextStyle=()=>({size:20,family:"Verdana"}),this.getCellTextStyle=e=>({size:e,family:"Verdana"}),this.handleCellClicked=async e=>{await this.unselectAllCells(),e.cell_svg_rect.stroke(this.getSelectedCellStrokeStyle());const t=[{row:e.row,col:e.col}],{matrix_data:n}=this.props.content,i=n.cols[e.col].cells[e.row];this.cellTextInputRef.current&&(this.cellTextInputRef.current.value=i.text,this.cellTextInputRef.current.focus());const r={selected_cell_color:i.color,selected_cell_text_size:void 0===i.text_size?"20":i.text_size,selected_cell_stroke_color:void 0===i.stroke_color?"#000000":i.stroke_color,selected_cells:t};this.setState(r)},this.unselectAllCells=()=>(this.state.selected_cells.forEach(e=>{var t,n,i,r,o,a,s;const l=null===(t=this.props.content.matrix_data.cols)||void 0===t?void 0:null===(n=t[e.col])||void 0===n?void 0:null===(i=n.cells)||void 0===i?void 0:null===(r=i[e.row])||void 0===r?void 0:r.stroke_color;let c=this.getDefaultCellStrokeStyle();void 0!==l&&(c=this.getCellStrokeStyle(l)),null===(o=this.state.cached_cell_svgs)||void 0===o||null===(a=o[e.col])||void 0===a||null===(s=a[e.row])||void 0===s||s.cell_svg_rect.stroke(c)}),new Promise(e=>this.setState({selected_cells:[]},()=>e()))),this.getFirstSelectedCell=()=>this.state.selected_cells.length>=1?this.state.selected_cells[0]:null,this.initializeMatrix=()=>{const e=this.matrixAreaRef.current,{matrix_data:t}=this.props.content,n=m()(e).size(t.width,t.height);n.viewbox(0,0,t.width,t.height);const i=t.left_padding,r=t.top_padding,{row_gap:o}=t,{col_gap:a}=t;let s=i,l=r,c=[];for(let h=0;h<t.cols.length;h++){l=r;const e=t.cols[h],{cells:i}=e,d=e.max_width;let u=[];for(let t=0;t<i.length;t++){let r=n.nested(),a=1;i[t].color||(a=0);const c=r.rect(d,i[t].height).attr({x:s,y:l,fill:i[t].color,"fill-opacity":a});c.radius(3),void 0!==i[t].stroke_color?c.stroke(this.getCellStrokeStyle(i[t].stroke_color)):c.stroke(this.getDefaultCellStrokeStyle());let p=this.getDefaultCellTextStyle();void 0!==i[t].text_size&&(p=this.getCellTextStyle(i[t].text_size));const f=r.plain(i[t].text).font(p),m=f.bbox();f.x(s+d/2-m.width/2),f.y(l+i[t].height/2-m.height/2),l+=e.cells[t].height+o,r.row=t,r.col=h,r.cell_svg_rect=c,r.cell_svg_text=f,u=[...u,r];const g=this;r.click((function(e){e.stopPropagation(),e.preventDefault(),g.handleCellClicked(this)}))}s+=d+a,c=[...c,u]}this.setState({root_svg:n,cached_cell_svgs:c})},this.moveSelectionToNextCell=()=>{let{selected_cells:e}=this.state;const{matrix_data:t}=this.props.content;if(1!==e.length)return;const{col:n}=e[0],{row:i}=e[0];let r=null,o=null;if(n<t.cols.length-1)r=n+1,o=i;else if(i<t.cols[0].cells.length-1)r=0,o=i+1;else{if(0===n&&0===i)return;r=0,o=0}if(null!==r&&null!==o){e=_()(e,{0:{col:{$set:r},row:{$set:o}}});const a=t.cols[r].cells[o];this.cellTextInputRef.current&&(this.cellTextInputRef.current.value=a.text,this.cellTextInputRef.current.focus()),this.state.cached_cell_svgs[n][i].cell_svg_rect.stroke(this.getDefaultCellStrokeStyle()),this.state.cached_cell_svgs[r][o].cell_svg_rect.stroke(this.getSelectedCellStrokeStyle())}},this.handleCellValueUpdate=e=>{if(!this.cellTextInputRef.current)return;const{selected_cells:t}=this.state;if(t.length>0){let{matrix_data:n}=this.props.content;const{value:r}=this.cellTextInputRef.current,o=this.state.root_svg.defs().text(r).font(this.getDefaultCellTextStyle());let a=o.bbox().width+n.cell_left_padding+n.cell_right_padding;a<n.minimum_cell_width&&(a=n.minimum_cell_width),o.remove();for(let e=0;e<t.length;e++){const o=t[e].col,s=t[e].row,l=n.cols[o].cells;let c=0;for(let e=0;e<l.length;e++)e===s&&(n=_()(n,{cols:{[o]:{cells:{[e]:{text:{$set:r},width:{$set:a}}}}}})),c<n.cols[o].cells[e].width&&(c=n.cols[o].cells[e].width);n=Object(i.a)({},n,{width:n.width+c-n.cols[o].max_width}),n=_()(n,{cols:{[o]:{max_width:{$set:c}}}})}"Tab"===e.key&&(e.stopPropagation(),e.preventDefault(),this.moveSelectionToNextCell()),this.matrix_redraw_required=!0,this.props.updateContentState({matrix_data:n})}},this.handleCellBackgroundColorChange=e=>{const{selected_cells:t}=this.state;if(t.length>0){let{matrix_data:n}=this.props.content;n=t.reduce((t,n)=>{let{col:i,row:r}=n;return _()(t,{cols:{[i]:{cells:{[r]:{color:{$set:e}}}}}})},n),this.matrix_redraw_required=!0,this.setState({selected_cell_color:e}),this.props.updateContentState({matrix_data:n})}},this.handleCellStrokeColorChange=e=>{const{selected_cells:t}=this.state;if(t.length>0){let{matrix_data:n}=this.props.content;n=t.reduce((t,n)=>{let{col:i,row:r}=n;return _()(t,{cols:{[i]:{cells:{[r]:{stroke_color:{$set:e}}}}}})},n),this.matrix_redraw_required=!0,this.setState({selected_cell_stroke_color:e}),this.props.updateContentState({matrix_data:n})}},this.handleCellTextSizeChange=e=>{const{selected_cells:t}=this.state;if(t.length>0){let{matrix_data:n}=this.props.content;n=t.reduce((t,n)=>{let{col:i,row:r}=n;return _()(t,{cols:{[i]:{cells:{[r]:{text_size:{$set:e.target.value}}}}}})},n),this.matrix_redraw_required=!0,this.setState({selected_cell_text_size:e.target.value}),this.props.updateContentState({matrix_data:n})}},this.generateRowHeader=e=>{this.addCol(0,!0)},this.handleAddRow=e=>{this.addRow()},this.addRow=(e,t)=>{const n=this.getFirstSelectedCell();let r=null,{matrix_data:o}=this.props.content;if(n)r=n.row;else{if(!(o.cols.length>0))return;r=o.cols[0].cells.length-1}let a=r+1;null!==e&&void 0!==e&&(a=e);for(let i=0;i<o.cols.length;i++){let e=this.getDefaultCell();t&&(e=this.getCell(i,null,null,12)),o=_()(o,{cols:{[i]:{cells:{$splice:[[a,0,e]]}}}})}o=Object(i.a)({},o,{height:o.height+o.minimum_cell_height+o.row_gap}),this.matrix_redraw_required=!0,this.props.updateContentState({matrix_data:o})},this.handleRemoveRow=e=>{if(1!==this.state.selected_cells.length)return;const t=this.getFirstSelectedCell();if(!t)return;let{matrix_data:n}=this.props.content;const{row:r}=t;if(1===n.cols[0].cells.length)return;const o=n.cols[0].cells[0].height;for(let i=0;i<n.cols.length;i++)n=_()(n,{cols:{[i]:{cells:{$splice:[[r,1]]}}}});n=Object(i.a)({},n,{height:n.height-o+n.row_gap}),this.matrix_redraw_required=!0,this.props.updateContentState({matrix_data:n})},this.generateColHeader=e=>{this.addRow(0,!0)},this.handleAddCol=e=>{this.addCol()},this.addCol=(e,t)=>{const n=this.getFirstSelectedCell();let r=null,{matrix_data:o}=this.props.content;if(n)r=n.col;else{if(!(o.cols[0].cells.length>0))return;r=o.cols.length-1}let a=r+1;null!==e&&void 0!==e&&(a=e);const s=o.cols[r].cells.length;let l=this.getDefaultColumn();for(let c=0;c<s;c++){let e=this.getDefaultCell();t&&(e=this.getCell(c,null,null,12)),l=Object(i.a)({},l,{cells:[...l.cells,e]})}o=_()(o,{cols:{$splice:[[a,0,l]]},width:{$set:o.width+o.minimum_cell_width+o.col_gap}}),this.matrix_redraw_required=!0,this.props.updateContentState({matrix_data:o})},this.handleRemoveCol=e=>{if(1!==this.state.selected_cells.length)return;const t=this.getFirstSelectedCell();if(!t)return;let{matrix_data:n}=this.props.content;if(1===n.cols.length)return;const{col:i}=t,r=n.cols[i].max_width;n=_()(this.props.content.matrix_data,{cols:{$splice:[[i,1]]},width:{$set:n.width-r+n.col_gap}}),this.matrix_redraw_required=!0,this.props.updateContentState({matrix_data:n})},this.selectCellsAfterUpdate=()=>{const{selected_cells:e,cached_cell_svgs:t}=this.state;for(let n=e.length-1;n>=0;n--){const i=e[n];t.length>i.col&&t[i.col].length>i.row?t[i.col][i.row].cell_svg_rect.stroke(this.getSelectedCellStrokeStyle()):this.setState(e=>({selected_cells:[...e.selected_cells].splice(n,1)}))}},this.handleCaptionChange=e=>{this.props.updateContentState({caption:e})},this.handleKeyDown=e=>{"Enter"!==e.key&&"Tab"!==e.key||"cellText"===e.target.name&&this.handleCellValueUpdate(e)}}componentDidMount(){this.initializeMatrix()}componentDidUpdate(){this.matrix_redraw_required&&(this.state.root_svg.remove(),this.initializeMatrix(),this.selectCellsAfterUpdate(),this.matrix_redraw_required=!1)}saveComponent(){if(this.state.root_svg){this.unselectAllCells();const{matrix_data:e}=this.props.content,t=this.state.root_svg.svg(),n=e.width,i=e.height;this.props.updateContentState({svg_string:t,svg_width:n,svg_height:i,matrix_data:e})}}render(){let e=null;null!=this.props.config&&null!=this.props.config.disableCaption&&!0===this.props.config.disableCaption||(e=l.a.createElement(u.a,{caption:this.props.content.caption,readOnly:!1,onCaptionChange:this.handleCaptionChange}));const{matrix_data:t}=this.props.content,n=t.width+5,i=t.height+5,r=l.a.createElement(o.a,{placement:"top",overlay:x("Adds row below")},l.a.createElement(p.a,{style:{marginLeft:5},sm:!0,outlined:!0,bsStyle:"darkgreen45",onClick:this.handleAddRow},l.a.createElement(c.a,{icon:h.k,style:{fontSize:d.a.textLarge}}),"Row")),s=l.a.createElement(o.a,{placement:"top",overlay:x("Removes selected row")},l.a.createElement(p.a,{style:{marginLeft:5},sm:!0,outlined:!0,bsStyle:"darkgreen45",onClick:this.handleRemoveRow},l.a.createElement(c.a,{icon:h.o,style:{fontSize:d.a.textLarge}}),"Row")),f=l.a.createElement(o.a,{placement:"top",overlay:x("Adds column to right")},l.a.createElement(p.a,{style:{marginLeft:5},sm:!0,outlined:!0,bsStyle:"darkgreen45",onClick:this.handleAddCol},l.a.createElement(c.a,{icon:h.k,style:{fontSize:d.a.textLarge}}),"Col")),m=l.a.createElement(o.a,{placement:"top",overlay:x("Removes selected column")},l.a.createElement(p.a,{style:{marginLeft:5},sm:!0,outlined:!0,bsStyle:"darkgreen45",onClick:this.handleRemoveCol},l.a.createElement(c.a,{icon:h.o,style:{fontSize:d.a.textLarge}}),"Col")),g=l.a.createElement("div",null,l.a.createElement(b.Menu,{className:"edcomp-toolbar"},l.a.createElement(b.Row,null,l.a.createElement(b.RowTitle,null,"Matrix"),l.a.createElement(o.a,{placement:"top",overlay:x("Set Cell Value")},l.a.createElement(a.a,{style:{marginLeft:8,marginRight:8,width:"200px",display:"inline"},inputRef:this.cellTextInputRef,name:"cellText",onKeyDown:this.handleKeyDown})),l.a.createElement(o.a,{placement:"top",overlay:x("Set cell color")},l.a.createElement(b.ColorPicker,{onChange:this.handleCellBackgroundColorChange,value:this.state.selected_cell_color},l.a.createElement(c.a,{icon:h.h}))),l.a.createElement(o.a,{placement:"top",overlay:x("Set cell color")},l.a.createElement(b.ColorPicker,{onChange:this.handleCellStrokeColorChange,value:this.state.selected_cell_stroke_color},l.a.createElement(c.a,{icon:h.h}))),l.a.createElement(o.a,{placement:"top",overlay:x("Set cell text size")},l.a.createElement(a.a,{componentClass:"select",style:{marginLeft:8},value:this.state.selected_cell_text_size||"",onChange:this.handleCellTextSizeChange},l.a.createElement("option",{value:"10"},"10"),l.a.createElement("option",{value:"12"},"12"),l.a.createElement("option",{value:"14"},"14"),l.a.createElement("option",{value:"16"},"16"),l.a.createElement("option",{value:"18"},"18"),l.a.createElement("option",{value:"20"},"20"))),l.a.createElement(o.a,{placement:"top",overlay:x("Generate Column Header")},l.a.createElement(p.a,{style:{marginLeft:5},sm:!0,outlined:!0,bsStyle:"darkgreen45",onClick:this.generateColHeader},l.a.createElement(c.a,{icon:h.k,style:{fontSize:d.a.textLarge}}),"Column Header")),l.a.createElement(o.a,{placement:"top",overlay:x("Generate Row Header")},l.a.createElement(p.a,{style:{marginLeft:5},sm:!0,outlined:!0,bsStyle:"darkgreen45",onClick:this.generateRowHeader},l.a.createElement(c.a,{icon:h.k,style:{fontSize:d.a.textLarge}}),"Row Header")),r,s,f,m)),l.a.createElement("div",null,l.a.createElement(b.MatrixArea,{style:{width:"".concat(n,"px"),height:"".concat(i,"px")},ref:this.matrixAreaRef})));return l.a.createElement("div",null,g,e)}}},2299:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(2190),a=n(1508),s=n(2189),l=n(485),c=n(648),h=n(2630),d=n.n(h),u=n(1737),p=n(529),f=n(1730),m=n(836),g=n(1),v=n(21),b=n(12),y=n(1740),_=n(2640);const x={TitleArea:g.d.div.withConfig({displayName:"styles__TitleArea",componentId:"dlpb9k-0"})(["border-bottom:3px solid ",";text-align:center;height:50px;padding:10px;"],e=>{let{theme:t}=e;return t.palette.grey[300]}),Title:g.d.span.withConfig({displayName:"styles__Title",componentId:"dlpb9k-1"})(["display:inline-block;max-width:100%;margin-bottom:5px;font-weight:",";padding-top:5px;"],v.b),Button:Object(g.d)(y.a).withConfig({displayName:"styles__Button",componentId:"dlpb9k-2"})(["text-transform:none;margin-top:-3px;position:absolute;right:25px;font-size:",";padding-left:4px;padding-right:4px;color:",";"],b.a.textSmall,e=>{let{theme:t}=e;return t.palette.success.dark}),Error:g.d.div.withConfig({displayName:"styles__Error",componentId:"dlpb9k-3"})(["text-align:center;color:",";padding:10px;border-bottom:1px solid ",";"],e=>{let{theme:t}=e;return t.palette.error.main},e=>{let{theme:t}=e;return t.palette.grey[300]}),DiagramPreviewArea:g.d.div.withConfig({displayName:"styles__DiagramPreviewArea",componentId:"dlpb9k-4"})(["> svg:not(:first-child){display:none;}"]),DiagramInProgress:g.d.div.withConfig({displayName:"styles__DiagramInProgress",componentId:"dlpb9k-5"})(["text-align:center;height:40px;> svg{display:none;}"]),DiagramTypeArea:g.d.div.withConfig({displayName:"styles__DiagramTypeArea",componentId:"dlpb9k-6"})(["text-align:center;margin:10px 0px;"]),DiagramDropdownButton:Object(g.d)(_.a).withConfig({displayName:"styles__DiagramDropdownButton",componentId:"dlpb9k-7"})(["text-transform:none;width:95px;"]),DiagramDropdownLabel:g.d.label.withConfig({displayName:"styles__DiagramDropdownLabel",componentId:"dlpb9k-8"})(["margin-right:5px;"])};const w=[{type:"simple",title:"Simple"},{type:"hand",title:"Hand drawn"}];function C(e,t){if(e===t)return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;const r=hasOwnProperty.bind(t);for(let o=0;o<n.length;o++)if(!r(n[o])||e[n[o]]!==t[n[o]])return!1;return!0}class S extends r.a.Component{constructor(e,t){super(e,t),this.cursorPosition=null,this.errMessage="",this.text="",this.svg_string="",this.sequencePreviewAreaRef=r.a.createRef(),this.updateDiagram=()=>{""===this.errMessage?this.setState({render:!this.state.render},()=>{this.drawDiagram()}):this.setState({render:!this.state.render})},this.handleCaptionChange=e=>{this.setState({caption:e}),this.props.handleCaption(e)},this.handleEditorChange=(e,t)=>{this.cursorPosition=t,this.text=e,this.props.handleText(e),this.generateSvgFromSequenceDiagram(!1)},this.handleDiagramType=e=>{this.setState({diagram_type:e,loading:!0},()=>{this.props.handleDiagramType(e),this.generateSvgFromSequenceDiagram(!0)})},this.text=e.content.text,this.svg_string=e.content.svg_string,this.state={caption:e.content.caption?e.content.caption:"",diagram_type:e.content.diagram_type,render:!0,loading:!1}}componentDidMount(){this.drawDiagram()}shouldComponentUpdate(e,t){return function(e,t,n){return!C(e.props,t)||!C(e.state,n)}(this,e,t)}drawDiagram(){!this.state.loading&&this.sequencePreviewAreaRef.current&&(this.sequencePreviewAreaRef.current.innerHTML=this.svg_string)}generateSvgFromSequenceDiagram(e){!function(e,t,n,i){const r=document.getElementById(n);r&&(r.innerHTML="");try{d.a.parse(e).drawSVG(n,{theme:t}),Object(u.g)(e,n,e=>{i({err:!1,svg_string:e})})}catch(o){const e={err:!0,errMessae:o.message};i(e)}}(this.text,this.state.diagram_type,"web-sequence-diagram-editor-div",t=>{if(t.err?(this.errMessage=t.errMessae,this.props.handleSvg("")):(this.errMessage="",this.svg_string=t.svg_string,this.props.handleSvg(t.svg_string)),e){const e=this;setTimeout(()=>{this.setState({render:!e.state.render,loading:!1}),e.updateDiagram()},1e3)}})}render(){const e={content:this.text,language:"markdown",theme:"eclipse"},t=""===this.errMessage?r.a.createElement(o.a,{lg:6},r.a.createElement(x.TitleArea,null,r.a.createElement(x.Title,null," ","UML Sequence Diagram"," "),r.a.createElement(x.Button,{onClick:this.updateDiagram,bsSize:"xsmall"},"Preview")),r.a.createElement(x.DiagramInProgress,null,r.a.createElement(l.a,null,this.state.loading&&r.a.createElement(c.a,{classNames:"runnable",timeout:{transitionTime:1500}},r.a.createElement(p.a,{statusData:{status:"WAIT",text:"Sequence Diagram in progress"}})))),r.a.createElement("div",null,r.a.createElement(l.a,null,!this.state.loading&&r.a.createElement(c.a,{classNames:"runnable",timeout:{transitionTime:1500}},r.a.createElement("div",{style:{textAlign:"center"},ref:this.sequencePreviewAreaRef,className:"diagramPreviewArea"}))))):r.a.createElement(o.a,{lg:6},r.a.createElement(x.TitleArea,null,r.a.createElement(x.Title,null," ","UML Sequence Diagram"," "),r.a.createElement(x.Button,{onClick:this.updateDiagram,bsSize:"xsmall"},"Preview")),r.a.createElement("div",{style:{textAlign:"center"},ref:this.sequencePreviewAreaRef,className:"diagramPreviewArea",hidden:!0})),n=""!==this.errMessage&&r.a.createElement(x.Error,null,this.errMessage),i=function(e){for(let t=0;t<w.length;t++)if(w[t].type===e)return w[t].title;return null}(this.state.diagram_type),h=w.map((e,t)=>this.state.diagram_type===e.type?r.a.createElement(a.a,{eventKey:e.type,key:t,active:!0},e.title):r.a.createElement(a.a,{eventKey:e.type,key:t},e.title)),d=r.a.createElement(x.DiagramDropdownButton,{bsSize:"xsmall",onSelect:this.handleDiagramType,title:i,id:"dropdown-size-extra-small"},h);let u=null;return null!=this.props.config&&null!=this.props.config.disableCaption&&!0===this.props.config.disableCaption||(u=r.a.createElement(f.a,{caption:this.state.caption,readOnly:!1,onCaptionChange:this.handleCaptionChange})),r.a.createElement("div",null,r.a.createElement("div",{id:"web-sequence-diagram-editor-div",style:{position:"absolute",top:"-10000px"}}),r.a.createElement(s.a,null,r.a.createElement(o.a,{lg:6},r.a.createElement("div",null,r.a.createElement(x.TitleArea,null,r.a.createElement(x.Title,null,"Sequence Diagram Text")),r.a.createElement(m.a,{inView:this.props.inView,key:"editor",codeContent:e,readOnly:!1,onEditorChange:this.handleEditorChange,cursorPosition:this.cursorPosition,codeMirrorStyle:"cmcomp-editor-container-graphviz",isNotCodeEditor:!0}),r.a.createElement(x.DiagramTypeArea,null,r.a.createElement(x.DiagramDropdownLabel,null," ","Sequence Diagram Type:"," "),d))),t),n,u)}}S.defaultProps={config:{},content:{caption:"",text:"",svg_string:"",diagram_type:{}},handleCaption:()=>{},handleSvg:()=>{},handleDiagramType:()=>{},handleText:()=>{}};t.default=S},2308:function(e,t,n){"use strict";function i(e,t,n){void 0===t&&(t="\t"),void 0===n&&(n=!1),"\t"!=t&&(e=e.replace(/\t/g,"    "));var i=e.split(/\r?\n/),r=[],o=[];i.forEach((function(e,n){"undefined"==typeof r[n]&&(r[n]=[]);var i=new RegExp(t+'(?![^"]*"\\B)');e.split(i).forEach((function(e,t){"undefined"==typeof o[t]&&(o[t]=0),e=e.replace(/(\||\\)/g,"\\$1"),o[t]=Math.max(o[t],e.length),r[n][t]=e}))}));var a="",s="";o.forEach((function(e){var t=Array(e+1+2);s+="|"+t.join("-"),a+="|"+t.join(" ")})),a+="| \n",s+="| \n",n&&(a="");var l="";return r.forEach((function(e,t){o.forEach((function(i,r){var o="undefined"==typeof e[r]?"":e[r],s="| "+o+Array(i-o.length+1).join(" ")+" ";n&&0===t?a+=s:l+=s})),n&&0===t?a+="| \n":l+="| \n"})),""+a+s+l}t.__esModule=!0,t.csvToMarkdown=i,e.exports=i},2309:function(e,t,n){"use strict";e.exports=function(e,t){var n,r,c,h,d,u,p,f,m,g,v,b,y=t||{},_=y.delimiter,x=y.start,w=y.end,C=y.align,S=y.stringLength||a,E=0,k=-1,O=e.length,T=[];C=C?C.concat():[],(null===_||void 0===_)&&(_=" | ");null!==x&&void 0!==x||(x="| ");null!==w&&void 0!==w||(w=" |");for(;++k<O;)for(h=e[k],u=-1,h.length>E&&(E=h.length);++u<E;)p=h[u]?l(h[u]):null,T[u]||(T[u]=3),p>T[u]&&(T[u]=p);"string"===typeof C&&(C=s(E,C).split(""));u=-1;for(;++u<E;)"string"===typeof(n=C[u])&&(n=n.charAt(0).toLowerCase()),"l"!==n&&"r"!==n&&"c"!==n&&"."!==n&&(n=""),C[u]=n;k=-1,c=[];for(;++k<O;){for(h=e[k],u=-1,d=[];++u<E;)m=o(m=h[u]),"."===C[u]?(p=l(m),f=T[u]+(i.test(m)?0:1)-(S(m)-p),d[u]=m+s(f-1)):d[u]=m;c[k]=d}T=[],k=-1;for(;++k<O;)for(d=c[k],u=-1;++u<E;)m=d[u],T[u]||(T[u]=3),(f=S(m))>T[u]&&(T[u]=f);k=-1;for(;++k<O;){if(d=c[k],u=-1,!1!==y.pad)for(;++u<E;)m=d[u],p=T[u]-(S(m)||0),g=s(p),"r"===C[u]||"."===C[u]?m=g+m:"c"===C[u]?((p/=2)%1===0?(v=p,b=p):(v=p+.5,b=p-.5),m=s(v)+m+s(b)):m+=g,d[u]=m;c[k]=d.join(_)}if(!1!==y.rule){for(u=-1,r=[];++u<E;)!1===y.pad?(m=e[0][u],g=(g=S(o(m)))>3?g:3):g=T[u],n=C[u],m="r"===n||""===n?"-":":",m+=s(g-2,"-"),m+="l"!==n&&""!==n?":":"-",r[u]=m;c.splice(1,0,r.join(_))}return x+c.join(w+"\n"+x)+w};var i=/\./,r=/\.[^.]*$/;function o(e){return null===e||void 0===e?"":String(e)}function a(e){return String(e).length}function s(e,t){return new Array(e+1).join(t||" ")}function l(e){var t=r.exec(e);return t?t.index+1:e.length}},2310:function(e,t,n){},2341:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0),r=n.n(i),o=n(50);const a=Object(o.a)({resolved:{},chunkName:()=>"DetailsTextEditor",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(7),n.e(24)]).then(n.bind(null,2257)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 2257}},{ssr:!1});class s extends i.Component{constructor(){super(...arguments),this.onTextChange=e=>{this.props.onTextChange({details:e})}}render(){const{initialValue:e}=this.props;return r.a.createElement(a,{mode:"edit",text:e,onTextChange:this.onTextChange,options:["bold","italic","underline","h2","h3","quote","anchor","orderedlist","unorderedlist","strikethrough","removeFormat"],placeholder:"Type your Text"})}}},2365:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=function(e){var t=e.color,n=e.size,i=l(e,["color","size"]);return r.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.a.createElement("polyline",{points:"4 17 10 11 4 5"}),r.a.createElement("line",{x1:"12",y1:"19",x2:"20",y2:"19"}))};c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.defaultProps={color:"currentColor",size:"24"},t.a=c},2368:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1963),n(2372),n(2373),n(1801),n(1802),n(1919),n(2214),n(2374),n(2215),n(2375),n(2376),n(2377),n(1920),n(2378),n(1777),n(1745),n(2379),n(2380),n(2381),n(2382),n(2383),n(2384),n(2385),n(2386),n(2387),n(2388),n(2389),n(1964),n(2390),n(2391),n(2392),n(2393),o)}()},2372:function(e,t,n){!function(t,i){var r;e.exports=(r=n(1731),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,i=[],r=0;r<n;r++)i[r>>>2]|=e[r]<<24-r%4*8;t.call(this,i,n)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)}()},2373:function(e,t,n){!function(t,i){var r;e.exports=(r=n(1731),function(){var e=r,t=e.lib.WordArray,n=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r+=2){var o=t[r>>>2]>>>16-r%4*8&65535;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var n=e.length,i=[],r=0;r<n;r++)i[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return t.create(i,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var a=i(t[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)}()},2374:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(2214),function(){var e=o,t=e.lib.WordArray,n=e.algo,i=n.SHA256,r=n.SHA224=i.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=i._createHelper(r),e.HmacSHA224=i._createHmacHelper(r)}(),o.SHA224)}()},2375:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1963),n(2215),function(){var e=o,t=e.x64,n=t.Word,i=t.WordArray,r=e.algo,a=r.SHA512,s=r.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=a._createHelper(s),e.HmacSHA384=a._createHmacHelper(s)}(),o.SHA384)}()},2376:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1963),function(e){var t=o,n=t.lib,i=n.WordArray,r=n.Hasher,a=t.x64.Word,s=t.algo,l=[],c=[],h=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var i=(2*e+3*t)%5;e=t%5,t=i}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,o=0;o<24;o++){for(var s=0,d=0,u=0;u<7;u++){if(1&r){var p=(1<<u)-1;p<32?d^=1<<p:s^=1<<p-32}128&r?r=r<<1^113:r<<=1}h[o]=a.create(s,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=a.create()}();var u=s.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,i=this.blockSize/2,r=0;r<i;r++){var o=e[t+2*r],a=e[t+2*r+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(T=n[r]).high^=a,T.low^=o}for(var s=0;s<24;s++){for(var u=0;u<5;u++){for(var p=0,f=0,m=0;m<5;m++)p^=(T=n[u+5*m]).high,f^=T.low;var g=d[u];g.high=p,g.low=f}for(u=0;u<5;u++){var v=d[(u+4)%5],b=d[(u+1)%5],y=b.high,_=b.low;for(p=v.high^(y<<1|_>>>31),f=v.low^(_<<1|y>>>31),m=0;m<5;m++)(T=n[u+5*m]).high^=p,T.low^=f}for(var x=1;x<25;x++){var w=(T=n[x]).high,C=T.low,S=l[x];S<32?(p=w<<S|C>>>32-S,f=C<<S|w>>>32-S):(p=C<<S-32|w>>>64-S,f=w<<S-32|C>>>64-S);var E=d[c[x]];E.high=p,E.low=f}var k=d[0],O=n[0];for(k.high=O.high,k.low=O.low,u=0;u<5;u++)for(m=0;m<5;m++){var T=n[x=u+5*m],A=d[x],I=d[(u+1)%5+5*m],j=d[(u+2)%5+5*m];T.high=A.high^~I.high&j.high,T.low=A.low^~I.low&j.low}T=n[0];var P=h[s];T.high^=P.high,T.low^=P.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,l=s/8,c=[],h=0;h<l;h++){var d=a[h],u=d.high,p=d.low;u=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),c.push(p),c.push(u)}return new i.init(c,s)},clone:function(){for(var e=r.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=r._createHelper(u),t.HmacSHA3=r._createHmacHelper(u)}(Math),o.SHA3)}()},2377:function(e,t,n){!function(t,i){var r;e.exports=(r=n(1731),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),u=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o,a,p,_,x,w,C,S,E,k,O,T=this._hash.words,A=d.words,I=u.words,j=s.words,P=l.words,M=c.words,R=h.words;for(w=o=T[0],C=a=T[1],S=p=T[2],E=_=T[3],k=x=T[4],n=0;n<80;n+=1)O=o+e[t+j[n]]|0,O+=n<16?f(a,p,_)+A[0]:n<32?m(a,p,_)+A[1]:n<48?g(a,p,_)+A[2]:n<64?v(a,p,_)+A[3]:b(a,p,_)+A[4],O=(O=y(O|=0,M[n]))+x|0,o=x,x=_,_=y(p,10),p=a,a=O,O=w+e[t+P[n]]|0,O+=n<16?b(C,S,E)+I[0]:n<32?v(C,S,E)+I[1]:n<48?g(C,S,E)+I[2]:n<64?m(C,S,E)+I[3]:f(C,S,E)+I[4],O=(O=y(O|=0,R[n]))+k|0,w=k,k=E,E=y(S,10),S=C,C=O;O=T[1]+p+E|0,T[1]=T[2]+_+k|0,T[2]=T[3]+x+w|0,T[3]=T[4]+o+C|0,T[4]=T[0]+a+S|0,T[0]=O},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,o=r.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return r},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function v(e,t,n){return e&n|t&~n}function b(e,t,n){return e^(t|~n)}function y(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(p),t.HmacRIPEMD160=o._createHmacHelper(p)}(Math),r.RIPEMD160)}()},2378:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1919),n(1920),function(){var e=o,t=e.lib,n=t.Base,i=t.WordArray,r=e.algo,a=r.SHA1,s=r.HMAC,l=r.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=s.create(n.hasher,e),o=i.create(),a=i.create([1]),l=o.words,c=a.words,h=n.keySize,d=n.iterations;l.length<h;){var u=r.update(t).finalize(a);r.reset();for(var p=u.words,f=p.length,m=u,g=1;g<d;g++){m=r.finalize(m),r.reset();for(var v=m.words,b=0;b<f;b++)p[b]^=v[b]}o.concat(u),c[0]++}return o.sigBytes=4*h,o}});e.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)}}(),o.PBKDF2)}()},2379:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1745),o.mode.CFB=function(){var e=o.lib.BlockCipherMode.extend();function t(e,t,n,i){var r,o=this._iv;o?(r=o.slice(0),this._iv=void 0):r=this._prevBlock,i.encryptBlock(r,0);for(var a=0;a<n;a++)e[t+a]^=r[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize;t.call(this,e,n,r,i),this._prevBlock=e.slice(n,n+r)}}),e.Decryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,o=e.slice(n,n+r);t.call(this,e,n,r,i),this._prevBlock=o}}),e}(),o.mode.CFB)}()},2380:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1745),o.mode.CTR=function(){var e=o.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,o=this._counter;r&&(o=this._counter=r.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[i-1]=o[i-1]+1|0;for(var s=0;s<i;s++)e[t+s]^=a[s]}});return e.Decryptor=t,e}(),o.mode.CTR)}()},2381:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1745),o.mode.CTRGladman=function(){var e=o.lib.BlockCipherMode.extend();function t(e){if(255===(e>>24&255)){var t=e>>16&255,n=e>>8&255,i=255&e;255===t?(t=0,255===n?(n=0,255===i?i=0:++i):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=i}else e+=1<<24;return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(a);var s=a.slice(0);i.encryptBlock(s,0);for(var l=0;l<r;l++)e[n+l]^=s[l]}});return e.Decryptor=n,e}(),o.mode.CTRGladman)}()},2382:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1745),o.mode.OFB=function(){var e=o.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,o=this._keystream;r&&(o=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<i;a++)e[t+a]^=o[a]}});return e.Decryptor=t,e}(),o.mode.OFB)}()},2383:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1745),o.mode.ECB=function(){var e=o.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),o.mode.ECB)}()},2384:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1745),o.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,i=4*t,r=i-n%i,o=n+r-1;e.clamp(),e.words[o>>>2]|=r<<24-o%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.pad.Ansix923)}()},2385:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1745),o.pad.Iso10126={pad:function(e,t){var n=4*t,i=n-e.sigBytes%n;e.concat(o.lib.WordArray.random(i-1)).concat(o.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.pad.Iso10126)}()},2386:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1745),o.pad.Iso97971={pad:function(e,t){e.concat(o.lib.WordArray.create([2147483648],1)),o.pad.ZeroPadding.pad(e,t)},unpad:function(e){o.pad.ZeroPadding.unpad(e),e.sigBytes--}},o.pad.Iso97971)}()},2387:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1745),o.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},o.pad.ZeroPadding)}()},2388:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1745),o.pad.NoPadding={pad:function(){},unpad:function(){}},o.pad.NoPadding)}()},2389:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1745),function(e){var t=o,n=t.lib.CipherParams,i=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return n.create({ciphertext:t})}}}(),o.format.Hex)}()},2390:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1801),n(1802),n(1777),n(1745),function(){var e=o,t=e.lib,n=t.WordArray,i=t.BlockCipher,r=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=r.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var i=a[n]-1;t[n]=e[i>>>5]>>>31-i%32&1}for(var r=this._subKeys=[],o=0;o<16;o++){var c=r[o]=[],h=l[o];for(n=0;n<24;n++)c[n/6|0]|=t[(s[n]-1+h)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(s[n+24]-1+h)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=r[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],u.call(this,4,252645135),u.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),u.call(this,1,1431655765);for(var i=0;i<16;i++){for(var r=n[i],o=this._lBlock,a=this._rBlock,s=0,l=0;l<8;l++)s|=c[l][((a^r[l])&h[l])>>>0];this._lBlock=a,this._rBlock=o^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,u.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),u.call(this,16,65535),u.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function u(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function p(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=i._createHelper(d);var f=r.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),i=e.length<4?e.slice(0,2):e.slice(2,4),r=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(n.create(t)),this._des2=d.createEncryptor(n.create(i)),this._des3=d.createEncryptor(n.create(r))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(f)}(),o.TripleDES)}()},2391:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1801),n(1802),n(1777),n(1745),function(){var e=o,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,i=this._S=[],r=0;r<256;r++)i[r]=r;r=0;for(var o=0;r<256;r++){var a=r%n,s=t[a>>>2]>>>24-a%4*8&255;o=(o+i[r]+s)%256;var l=i[r];i[r]=i[o],i[o]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=r.call(this)},keySize:8,ivSize:0});function r(){for(var e=this._S,t=this._i,n=this._j,i=0,r=0;r<4;r++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,i|=e[(e[t]+e[n])%256]<<24-8*r}return this._i=t,this._j=n,i}e.RC4=t._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)r.call(this)}});e.RC4Drop=t._createHelper(a)}(),o.RC4)}()},2392:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1801),n(1802),n(1777),n(1745),function(){var e=o,t=e.lib.StreamCipher,n=e.algo,i=[],r=[],a=[],s=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)r[n]^=i[n+4&7];if(t){var o=t.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=c>>>16|4294901760&h,u=h<<16|65535&c;for(r[0]^=c,r[1]^=d,r[2]^=h,r[3]^=u,r[4]^=c,r[5]^=d,r[6]^=h,r[7]^=u,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)r[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<r[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<r[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<r[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<r[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<r[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<r[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<r[6]>>>0?1:0)|0,this._b=t[7]>>>0<r[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],o=65535&i,s=i>>>16,l=((o*o>>>17)+o*s>>>15)+s*s,c=((4294901760&i)*i|0)+((65535&i)*i|0);a[n]=l^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(s)}(),o.Rabbit)}()},2393:function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(1731),n(1801),n(1802),n(1777),n(1745),function(){var e=o,t=e.lib.StreamCipher,n=e.algo,i=[],r=[],a=[],s=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var o=t.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=c>>>16|4294901760&h,u=h<<16|65535&c;for(i[0]^=c,i[1]^=d,i[2]^=h,i[3]^=u,i[4]^=c,i[5]^=d,i[6]^=h,i[7]^=u,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)r[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<r[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<r[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<r[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<r[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<r[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<r[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<r[6]>>>0?1:0)|0,this._b=t[7]>>>0<r[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],o=65535&i,s=i>>>16,l=((o*o>>>17)+o*s>>>15)+s*s,c=((4294901760&i)*i|0)+((65535&i)*i|0);a[n]=l^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(s)}(),o.RabbitLegacy)}()},2402:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=function(e){var t=e.color,n=e.size,i=l(e,["color","size"]);return r.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.a.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),r.a.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}))};c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.defaultProps={color:"currentColor",size:"24"},t.a=c},2576:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=function(e){var t=e.color,n=e.size,i=l(e,["color","size"]);return r.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.a.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),r.a.createElement("polyline",{points:"12 19 5 12 12 5"}))};c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.defaultProps={color:"currentColor",size:"24"},t.a=c},2594:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){function t(t,n,i,r,o,a){var s=r||"<<anonymous>>",l=a||i;if(null==n[i])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,h=Array(c>6?c-6:0),d=6;d<c;d++)h[d-6]=arguments[d];return e.apply(void 0,[n,i,s,o,l].concat(h))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}},2625:function(e,t){e.exports=function(e){var t,n=e.getSelectionContext(),i=1;function r(e){o(e.x1>e.x2?e.x2:e.x1,e.y+.5,e.x2>e.x1?e.x2:e.x1,e.y+.5)}function o(e,r,o,a){n.save(),n.lineWidth=1,n.strokeStyle="rgb(0,255,0)",n.beginPath(),n.moveTo((e+t[4])*i,(r+t[5])*i),n.lineTo((o+t[4])*i,(a+t[5])*i),n.stroke(),n.restore()}function a(e,t){e=Math.round(e),t=Math.round(t);for(var n=e-4,i=e+4;n<=i;n++)if(n===t)return!0;return!1}var s=[],l=[];e.on("mouse:down",(function(){t=e.viewportTransform,i=e.getZoom()})),e.on("object:moving",(function(n){var i=n.target,r=e.getObjects(),o=i.getCenterPoint(),c=o.x,h=o.y,d=i.getBoundingRect(),u=d.height/t[3],p=d.width/t[0],f=!1,m=!1;if(e._currentTransform){for(var g=r.length;g--;)if(r[g]!==i){var v=r[g].getCenterPoint(),b=v.x,y=v.y,_=r[g].getBoundingRect(),x=_.height/t[3],w=_.width/t[0];a(b,c)&&(m=!0,s.push({x:b,y1:y<h?y-x/2-5:y+x/2+5,y2:h>y?h+u/2+5:h-u/2-5}),i.setPositionByOrigin(new fabric.Point(b,h),"center","center")),a(b-w/2,c-p/2)&&(m=!0,s.push({x:b-w/2,y1:y<h?y-x/2-5:y+x/2+5,y2:h>y?h+u/2+5:h-u/2-5}),i.setPositionByOrigin(new fabric.Point(b-w/2+p/2,h),"center","center")),a(b+w/2,c+p/2)&&(m=!0,s.push({x:b+w/2,y1:y<h?y-x/2-5:y+x/2+5,y2:h>y?h+u/2+5:h-u/2-5}),i.setPositionByOrigin(new fabric.Point(b+w/2-p/2,h),"center","center")),a(y,h)&&(f=!0,l.push({y:y,x1:b<c?b-w/2-5:b+w/2+5,x2:c>b?c+p/2+5:c-p/2-5}),i.setPositionByOrigin(new fabric.Point(c,y),"center","center")),a(y-x/2,h-u/2)&&(f=!0,l.push({y:y-x/2,x1:b<c?b-w/2-5:b+w/2+5,x2:c>b?c+p/2+5:c-p/2-5}),i.setPositionByOrigin(new fabric.Point(c,y-x/2+u/2),"center","center")),a(y+x/2,h+u/2)&&(f=!0,l.push({y:y+x/2,x1:b<c?b-w/2-5:b+w/2+5,x2:c>b?c+p/2+5:c-p/2-5}),i.setPositionByOrigin(new fabric.Point(c,y+x/2-u/2),"center","center"))}f||(l.length=0),m||(s.length=0)}})),e.on("before:render",(function(){e.clearContext(e.contextTop)})),e.on("after:render",(function(){for(var e=s.length;e--;)o((t=s[e]).x+.5,t.y1>t.y2?t.y2:t.y1,t.x+.5,t.y2>t.y1?t.y2:t.y1);var t;for(e=l.length;e--;)r(l[e]);s.length=l.length=0})),e.on("mouse:up",(function(){s.length=l.length=0,e.renderAll()}))}},2626:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(14);class r{constructor(e){let{frameWidth:t,frameHeight:n,objectToBoundingRect:r,revertState:o,serializer:a,deserializer:s}=e;this._isBoundingRectInBounds=e=>{let{top:t,left:n,width:i,height:r}=e;return Math.round(t)>=0&&Math.round(n)>=0&&Math.round(t+r)<=this._frameHeight&&Math.round(n+i)<=this._frameWidth},this.track=e=>{this._trackedObj=e,this._prevObjectState=this._serialize(e)},this.update=e=>{if(this._isBoundingRectInBounds(this._objToBoundingRect(e)))this._prevObjectState=this._serialize(e);else{const e=this._deserialize(this._prevObjectState);this._revertState(this._trackedObj,e)}},this.setWidth=e=>{this._frameWidth=Math.round(e)},this.setHeight=e=>{this._frameHeight=Math.round(e)},this._frameWidth=Math.round(t),this._frameHeight=Math.round(n),this._objToBoundingRect=r,this._revertState=o,this._serialize=a||(e=>Object(i.a)({},e)),this._deserialize=s||(e=>e),this._prevObjectState=null,this._trackedObj=null}}},2627:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(0),r=n.n(i),o=n(1067),a=n(1499),s=n(1656),l=n(649),c=n(330),h=n(334),d=n(2288),u=n(1990);function p(e){return r.a.createElement(a.a,{id:e},e)}class f extends i.Component{constructor(){super(...arguments),this.componentWidthRef=r.a.createRef(),this.componentHeightRef=r.a.createRef(),this.componentXRef=r.a.createRef(),this.componentYRef=r.a.createRef(),this.componentAngleRef=r.a.createRef(),this.componentScaleRef=r.a.createRef(),this.canvasHeightRef=r.a.createRef(),this.canvasWidthRef=r.a.createRef(),this.handleKeyUp=e=>{"Enter"===e.key&&("componentWidth"===e.target.name?this.props.onComponentWidthChange(e):"componentHeight"===e.target.name?this.props.onComponentHeightChange(e):"componentX"===e.target.name?this.props.onComponentXChange(e):"componentY"===e.target.name?this.props.onComponentYChange(e):"componentAngle"===e.target.name?this.props.onComponentAngleChange(e):"componentScale"===e.target.name&&this.props.onComponentScaleChange(e))}}componentDidMount(){this.setValues()}componentDidUpdate(){this.setValues()}render(){const e=r.a.createElement(u.g,null,r.a.createElement(u.h,null,"Element"),r.a.createElement(s.a,{placement:"top",overlay:p("Set object width")},r.a.createElement(u.f,null,"Width",r.a.createElement(l.a,{name:"componentWidth",inputRef:this.componentWidthRef,onKeyUp:this.handleKeyUp,onBlur:this.props.onComponentWidthChange}))),r.a.createElement(s.a,{placement:"top",overlay:p("Set object height")},r.a.createElement(u.f,null,"Height",r.a.createElement(l.a,{name:"componentHeight",inputRef:this.componentHeightRef,onKeyUp:this.handleKeyUp,onBlur:this.props.onComponentHeightChange}))),r.a.createElement(s.a,{placement:"top",overlay:p("Set object's X coordinate")},r.a.createElement(u.f,null,"X",r.a.createElement(l.a,{name:"componentX",inputRef:this.componentXRef,onKeyUp:this.handleKeyUp,onBlur:this.props.onComponentXChange}))),r.a.createElement(s.a,{placement:"top",overlay:p("Set object's Y coordinate")},r.a.createElement(u.f,null,"Y",r.a.createElement(l.a,{type:"text",name:"componentY",inputRef:this.componentYRef,onKeyUp:this.handleKeyUp,onBlur:this.props.onComponentYChange}))),r.a.createElement(s.a,{placement:"top",overlay:p("Set object's rotation angle")},r.a.createElement(u.f,null,"Angle",r.a.createElement(l.a,{type:"text",name:"componentAngle",inputRef:this.componentAngleRef,onKeyUp:this.handleKeyUp,onBlur:this.props.onComponentAngleChange}))),r.a.createElement(s.a,{placement:"top",overlay:p("Set object scale. Set 100% to reset")},r.a.createElement(u.f,null,"Scale",r.a.createElement(l.a,{type:"text",name:"componentScale",inputRef:this.componentScaleRef,onKeyUp:this.handleKeyUp,onBlur:this.props.onComponentScaleChange}))),r.a.createElement(s.a,{placement:"top",overlay:p("Bring object to front")},r.a.createElement(h.a,{default:!0,onClick:this.props.bringToFront},r.a.createElement(c.a,{icon:r.a.createElement(d.a.arrowupIcon,null)}))),r.a.createElement(s.a,{placement:"top",overlay:p("Send object to back")},r.a.createElement(h.a,{default:!0,onClick:this.props.sendToBack},r.a.createElement(c.a,{icon:r.a.createElement(d.a.arrowdownIcon,null)}))),r.a.createElement(s.a,{placement:"top",overlay:p("Center horizontal")},r.a.createElement(h.a,{default:!0,onClick:this.props.centerComponentHorizontal},r.a.createElement(c.a,{icon:r.a.createElement(d.a.horizontalAlignIcon,null)}))),r.a.createElement(s.a,{placement:"top",overlay:p("Center vertical")},r.a.createElement(h.a,{default:!0,onClick:this.props.centerComponentVertical},r.a.createElement(c.a,{icon:r.a.createElement(d.a.verticalAlignIcon,null)}))),r.a.createElement(s.a,{placement:"top",overlay:p("Center object")},r.a.createElement(h.a,{default:!0,onClick:this.props.centerComponent},r.a.createElement(c.a,{icon:r.a.createElement(d.a.bothAlignIcon,null)}))),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(s.a,{placement:"top",overlay:p("Duplicate object")},r.a.createElement(h.a,{default:!0,onClick:this.props.duplicateComponent},r.a.createElement(c.a,{icon:r.a.createElement(d.a.cloneIcon,null)}))),r.a.createElement(s.a,{placement:"top",overlay:p("Delete object")},r.a.createElement(h.a,{default:!0,onClick:this.props.removeComponent},r.a.createElement(c.a,{icon:r.a.createElement(d.a.trashIcon,null)}))),r.a.createElement(s.a,{placement:"top",overlay:p("Edit object")},r.a.createElement(h.a,{default:!0,onClick:this.props.editToggleComponent},r.a.createElement(c.a,{icon:r.a.createElement(d.a.editIcon,null)})))));return r.a.createElement(u.e,null,r.a.createElement(u.g,null,r.a.createElement(u.h,null,"Canvas"),r.a.createElement(s.a,{placement:"top",overlay:p("Set canvas width")},r.a.createElement(u.f,null,"Width",r.a.createElement(l.a,{inputRef:this.canvasWidthRef,onBlur:this.props.onWidthChange}))),r.a.createElement(s.a,{placement:"top",overlay:p("Set Canvas height")},r.a.createElement(u.f,null,"Height",r.a.createElement(l.a,{inputRef:this.canvasHeightRef,onBlur:this.props.onHeightChange}))),r.a.createElement(s.a,{placement:"top",overlay:p("Show/Hide grid")},r.a.createElement(h.a,{default:!0,onClick:this.props.switchGridLines},r.a.createElement(o.a,{className:"grid-icon"})))),e)}setValues(){if("edit"===this.props.mode){this.canvasHeightRef.current&&(this.canvasHeightRef.current.value=this.props.canvasHeight||""),this.canvasWidthRef.current&&(this.canvasWidthRef.current.value=this.props.canvasWidth||"");const{currentFabricComponent:e}=this.props;let t=0,n=0,i=0,r=0,o=0,a=0;e&&(t=(e.height*e.scaleY).toFixed(2),n=(e.width*e.scaleX).toFixed(2),r=parseInt(e.left,10),i=parseInt(e.top,10),o=e.angle,a=(100*e.scaleX).toFixed(2),e.scaleX!==e.scaleY&&(a="NA")),this.componentWidthRef.current&&(this.componentWidthRef.current.value=n),this.componentHeightRef.current&&(this.componentHeightRef.current.value=t),this.componentXRef.current&&(this.componentXRef.current.value=r),this.componentYRef.current&&(this.componentYRef.current.value=i),this.componentAngleRef.current&&(this.componentAngleRef.current.value=o),this.componentScaleRef.current&&(this.componentScaleRef.current.value=a)}}}},2629:function(e,t,n){var i={"./flutterAndroid":[2282,9],"./flutterAndroid.json":[2282,9],"./javaAndroid":[2283,10],"./javaAndroid.json":[2283,10],"./kotlinAndroid":[2284,11],"./kotlinAndroid.json":[2284,11],"./reactNativeAndroid":[2285,12],"./reactNativeAndroid.json":[2285,12]};function r(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(i)},r.id=2629,e.exports=r},2630:function(e,t,n){(function(e,i,r){var o=n(2631),a=n(2632);!function(){"use strict";function s(){this.title=void 0,this.actors=[],this.signals=[]}function l(e,t){o.extend(this,t),this.name="ParseError",this.message=e||""}function c(e){this.message=e}function h(e,t){if(!e)throw new c(t)}function d(e,t){s.themes[e]=t}function u(e){return e.x+e.width/2}function p(e,t,n){return e<t?t:e>n?n:e}function f(e,t,n,i){h(o.every([e,n,t,i],o.isFinite),"x1,x2,y1,y2 must be numeric");var r=Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))/25,a=p(Math.random(),.2,.8),s=p(Math.random(),.2,.8),l=Math.random()>.5?r:-r,c=Math.random()>.5?r:-r,d={x:(n-e)*a+e+l,y:(i-t)*a+t+c},u={x:(n-e)*s+e-l,y:(i-t)*s+t-c};return"C"+d.x.toFixed(1)+","+d.y.toFixed(1)+" "+u.x.toFixed(1)+","+u.y.toFixed(1)+" "+n.toFixed(1)+","+i.toFixed(1)}function m(e,t,n,i){return h(o.every([e,t,n,i],o.isFinite),"x, y, w, h must be numeric"),"M"+e+","+t+f(e,t,e+n,t)+f(e+n,t,e+n,t+i)+f(e+n,t+i,e,t+i)+f(e,t+i,e,t)}function g(e,t,n,i){return h(o.every([e,n,t,i],o.isFinite),"x1,x2,y1,y2 must be numeric"),"M"+e.toFixed(1)+","+t.toFixed(1)+f(e,t,n,i)}s.prototype.getActor=function(e,t){e=e.trim();var n,i=this.actors;for(n in i)if(i[n].alias==e)return i[n];return n=i.push(new s.Actor(e,t||e,i.length)),i[n-1]},s.prototype.getActorWithAlias=function(e){e=e.trim();var t,n,i=/([\s\S]+) as (\S+)$/im.exec(e);return i?(n=i[1].trim(),t=i[2].trim()):n=t=e,this.getActor(t,n)},s.prototype.setTitle=function(e){this.title=e},s.prototype.addSignal=function(e){this.signals.push(e)},s.Actor=function(e,t,n){this.alias=e,this.name=t,this.index=n},s.Signal=function(e,t,n,i){this.type="Signal",this.actorA=e,this.actorB=n,this.linetype=3&t,this.arrowtype=t>>2&3,this.message=i},s.Signal.prototype.isSelf=function(){return this.actorA.index==this.actorB.index},s.Note=function(e,t,n){if(this.type="Note",this.actor=e,this.placement=t,this.message=n,this.hasManyActors()&&e[0]==e[1])throw new Error("Note should be over two different actors")},s.Note.prototype.hasManyActors=function(){return o.isArray(this.actor)},s.unescape=function(e){return e.trim().replace(/^"(.*)"$/m,"$1").replace(/\\n/gm,"\n")},s.LINETYPE={SOLID:0,DOTTED:1},s.ARROWTYPE={FILLED:0,OPEN:1},s.PLACEMENT={LEFTOF:0,RIGHTOF:1,OVER:2},"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var v=function(){function e(){this.yy={}}var t=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},n=[5,8,9,13,15,24],i=[1,13],r=[1,17],o=[24,29,30],a={trace:function(){},yy:{},symbols_:{error:2,start:3,document:4,EOF:5,line:6,statement:7,NL:8,participant:9,actor_alias:10,signal:11,note_statement:12,title:13,message:14,note:15,placement:16,actor:17,over:18,actor_pair:19,",":20,left_of:21,right_of:22,signaltype:23,ACTOR:24,linetype:25,arrowtype:26,LINE:27,DOTLINE:28,ARROW:29,OPENARROW:30,MESSAGE:31,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"NL",9:"participant",13:"title",15:"note",18:"over",20:",",21:"left_of",22:"right_of",24:"ACTOR",27:"LINE",28:"DOTLINE",29:"ARROW",30:"OPENARROW",31:"MESSAGE"},productions_:[0,[3,2],[4,0],[4,2],[6,1],[6,1],[7,2],[7,1],[7,1],[7,2],[12,4],[12,4],[19,1],[19,3],[16,1],[16,1],[11,4],[17,1],[10,1],[23,2],[23,1],[25,1],[25,1],[26,1],[26,1],[14,1]],performAction:function(e,t,n,i,r,o,a){var l=o.length-1;switch(r){case 1:return i.parser.yy;case 4:break;case 6:o[l];break;case 7:case 8:i.parser.yy.addSignal(o[l]);break;case 9:i.parser.yy.setTitle(o[l]);break;case 10:this.$=new s.Note(o[l-1],o[l-2],o[l]);break;case 11:this.$=new s.Note(o[l-1],s.PLACEMENT.OVER,o[l]);break;case 12:case 20:this.$=o[l];break;case 13:this.$=[o[l-2],o[l]];break;case 14:this.$=s.PLACEMENT.LEFTOF;break;case 15:this.$=s.PLACEMENT.RIGHTOF;break;case 16:this.$=new s.Signal(o[l-3],o[l-2],o[l-1],o[l]);break;case 17:this.$=i.parser.yy.getActor(s.unescape(o[l]));break;case 18:this.$=i.parser.yy.getActorWithAlias(s.unescape(o[l]));break;case 19:this.$=o[l-1]|o[l]<<2;break;case 21:this.$=s.LINETYPE.SOLID;break;case 22:this.$=s.LINETYPE.DOTTED;break;case 23:this.$=s.ARROWTYPE.FILLED;break;case 24:this.$=s.ARROWTYPE.OPEN;break;case 25:this.$=s.unescape(o[l].substring(1))}},table:[t(n,[2,2],{3:1,4:2}),{1:[3]},{5:[1,3],6:4,7:5,8:[1,6],9:[1,7],11:8,12:9,13:[1,10],15:[1,12],17:11,24:i},{1:[2,1]},t(n,[2,3]),t(n,[2,4]),t(n,[2,5]),{10:14,24:[1,15]},t(n,[2,7]),t(n,[2,8]),{14:16,31:r},{23:18,25:19,27:[1,20],28:[1,21]},{16:22,18:[1,23],21:[1,24],22:[1,25]},t([20,27,28,31],[2,17]),t(n,[2,6]),t(n,[2,18]),t(n,[2,9]),t(n,[2,25]),{17:26,24:i},{24:[2,20],26:27,29:[1,28],30:[1,29]},t(o,[2,21]),t(o,[2,22]),{17:30,24:i},{17:32,19:31,24:i},{24:[2,14]},{24:[2,15]},{14:33,31:r},{24:[2,19]},{24:[2,23]},{24:[2,24]},{14:34,31:r},{14:35,31:r},{20:[1,36],31:[2,12]},t(n,[2,16]),t(n,[2,10]),t(n,[2,11]),{17:37,24:i},{31:[2,13]}],defaultActions:{3:[2,1],24:[2,14],25:[2,15],27:[2,19],28:[2,23],29:[2,24],37:[2,13]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,n=[0],i=[null],r=[],o=this.table,a="",s=0,l=0,c=0,h=1,d=r.slice.call(arguments,1),u=Object.create(this.lexer),p={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(p.yy[f]=this.yy[f]);u.setInput(e,p.yy),p.yy.lexer=u,p.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var m=u.yylloc;r.push(m);var g=u.options&&u.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,b,y,_,x,w,C,S,E,k={};;){if(y=n[n.length-1],this.defaultActions[y]?_=this.defaultActions[y]:(null!==v&&void 0!==v||(v=function(){var e;return"number"!=typeof(e=u.lex()||h)&&(e=t.symbols_[e]||e),e}()),_=o[y]&&o[y][v]),void 0===_||!_.length||!_[0]){var O="";for(w in E=[],o[y])this.terminals_[w]&&w>2&&E.push("'"+this.terminals_[w]+"'");O=u.showPosition?"Parse error on line "+(s+1)+":\n"+u.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(s+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(O,{text:u.match,token:this.terminals_[v]||v,line:u.yylineno,loc:m,expected:E})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+v);switch(_[0]){case 1:n.push(v),i.push(u.yytext),r.push(u.yylloc),n.push(_[1]),v=null,b?(v=b,b=null):(l=u.yyleng,a=u.yytext,s=u.yylineno,m=u.yylloc,c>0&&c--);break;case 2:if(C=this.productions_[_[1]][1],k.$=i[i.length-C],k._$={first_line:r[r.length-(C||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(C||1)].first_column,last_column:r[r.length-1].last_column},g&&(k._$.range=[r[r.length-(C||1)].range[0],r[r.length-1].range[1]]),void 0!==(x=this.performAction.apply(k,[a,l,s,p.yy,_[1],i,r].concat(d))))return x;C&&(n=n.slice(0,-1*C*2),i=i.slice(0,-1*C),r=r.slice(0,-1*C)),n.push(this.productions_[_[1]][0]),i.push(k.$),r.push(k._$),S=o[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},l={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,i){switch(n){case 0:return 8;case 1:case 2:break;case 3:return 9;case 4:return 21;case 5:return 22;case 6:return 18;case 7:return 15;case 8:return this.begin("title"),13;case 9:return this.popState(),31;case 10:return 20;case 11:case 12:return 24;case 13:return 28;case 14:return 27;case 15:return 30;case 16:return 29;case 17:return 31;case 18:return 5;case 19:return"INVALID"}},rules:[/^(?:[\r\n]+)/i,/^(?:\s+)/i,/^(?:#[^\r\n]*)/i,/^(?:participant\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:title\b)/i,/^(?:[^\r\n]+)/i,/^(?:,)/i,/^(?:[^\->:,\r\n"]+)/i,/^(?:"[^"]+")/i,/^(?:--)/i,/^(?:-)/i,/^(?:>>)/i,/^(?:>)/i,/^(?:[^\r\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{title:{rules:[9],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,13,14,15,16,17,18,19],inclusive:!0}}};return a.lexer=l,e.prototype=a,a.Parser=e,new e}();t.parser=v,t.Parser=v.Parser,t.parse=function(){return v.parse.apply(v,arguments)},t.main=function(i){i[1]||(console.log("Usage: "+i[0]+" FILE"),e.exit(1));var r=n(2633).readFileSync(n(2634).normalize(i[1]),"utf8");return t.parser.parse(r)},n.c[n.s]===i&&t.main(e.argv.slice(1)),l.prototype=new Error,s.ParseError=l,s.parse=function(e){v.yy=new s,v.yy.parseError=function(e,t){throw new l(e,t)};var t=v.parse(e);return delete t.parseError,t};var b=s.PLACEMENT,y=s.LINETYPE,_=s.ARROWTYPE;c.prototype.toString=function(){return"AssertException: "+this.message},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),s.themes={};var x,w=function(e,t){this.init(e,t)};if(o.extend(w.prototype,{init:function(e,t){this.diagram=e,this.actorsHeight_=0,this.signalsHeight_=0,this.title_=void 0},setupPaper:function(e){},draw:function(e){this.setupPaper(e),this.layout();var t=10+(this.title_?this.title_.height:0);this.drawTitle(),this.drawActors(t),this.drawSignals(t+this.actorsHeight_)},layout:function(){function e(e,t,n){h(e<t,"a must be less than or equal to b"),e<0?(t=i[t]).x=Math.max(n-t.width/2,t.x):t>=i.length?(e=i[e]).paddingRight=Math.max(n,e.paddingRight):(e=i[e]).distances[t]=Math.max(n,e.distances[t]?e.distances[t]:0)}var t=this.diagram,n=this.font_,i=t.actors,r=t.signals;if(t.width=0,t.height=0,t.title){var a=this.title_={},s=this.textBBox(t.title,n);a.textBB=s,a.message=t.title,a.width=s.width+10,a.height=s.height+10,a.x=10,a.y=10,t.width+=a.width,t.height+=a.height}o.each(i,o.bind((function(e){var t=this.textBBox(e.name,n);e.textBB=t,e.x=0,e.y=0,e.width=t.width+40,e.height=t.height+40,e.distances=[],e.paddingRight=0,this.actorsHeight_=Math.max(e.height,this.actorsHeight_)}),this)),o.each(r,o.bind((function(t){var i,r,o=this.textBBox(t.message,n);t.textBB=o,t.width=o.width,t.height=o.height;var a=0;if("Signal"==t.type)t.width+=20,t.height+=20,t.isSelf()?(r=(i=t.actorA.index)+1,t.width+=20):(i=Math.min(t.actorA.index,t.actorB.index),r=Math.max(t.actorA.index,t.actorB.index));else{if("Note"!=t.type)throw new Error("Unhandled signal type:"+t.type);if(t.width+=30,t.height+=30,a=20,t.placement==b.LEFTOF)i=(r=t.actor.index)-1;else if(t.placement==b.RIGHTOF)r=(i=t.actor.index)+1;else if(t.placement==b.OVER&&t.hasManyActors())i=Math.min(t.actor[0].index,t.actor[1].index),r=Math.max(t.actor[0].index,t.actor[1].index),a=-40;else if(t.placement==b.OVER)return e((i=t.actor.index)-1,i,t.width/2),e(i,i+1,t.width/2),void(this.signalsHeight_+=t.height)}e(i,r,t.width+a),this.signalsHeight_+=t.height}),this));var l=0;return o.each(i,(function(e){e.x=Math.max(l,e.x),o.each(e.distances,(function(t,n){void 0!==t&&(n=i[n],t=Math.max(t,e.width/2,n.width/2),n.x=Math.max(n.x,e.x+e.width/2+t-n.width/2))})),l=e.x+e.width+e.paddingRight})),t.width=Math.max(l,t.width),t.width+=20,t.height+=20+2*this.actorsHeight_+this.signalsHeight_,this},textBBox:function(e,t){},drawTitle:function(){var e=this.title_;e&&this.drawTextBox(e,e.message,0,5,this.font_,0)},drawActors:function(e){var t=e;o.each(this.diagram.actors,o.bind((function(e){this.drawActor(e,t,this.actorsHeight_),this.drawActor(e,t+this.actorsHeight_+this.signalsHeight_,this.actorsHeight_);var n=u(e);this.drawLine(n,t+this.actorsHeight_-10,n,t+this.actorsHeight_+10+this.signalsHeight_)}),this))},drawActor:function(e,t,n){e.y=t,e.height=n,this.drawTextBox(e,e.name,10,10,this.font_,1)},drawSignals:function(e){var t=e;o.each(this.diagram.signals,o.bind((function(e){"Signal"==e.type?e.isSelf()?this.drawSelfSignal(e,t):this.drawSignal(e,t):"Note"==e.type&&this.drawNote(e,t),t+=e.height}),this))},drawSelfSignal:function(e,t){h(e.isSelf(),"signal must be a self signal");var n=e.textBB,i=u(e.actorA),r=t+5+5,o=r+e.height-10-5;this.drawLine(i,r,i+20,r,e.linetype),this.drawLine(i+20,r,i+20,o,e.linetype),this.drawLine(i+20,o,i,o,e.linetype,e.arrowtype);var a=i+20+5,s=r+(o-r-n.height)/2;this.drawText(a,s,e.message,this.font_,0)},drawSignal:function(e,t){var n=u(e.actorA),i=u(e.actorB),r=(i-n)/2+n,o=t+5+5;this.drawText(r,o,e.message,this.font_,2),o=t+e.height-5,this.drawLine(n,o,i,o,e.linetype,e.arrowtype)},drawNote:function(e,t){e.y=t;var n=u(e.hasManyActors()?e.actor[0]:e.actor);switch(e.placement){case b.RIGHTOF:e.x=n+10;break;case b.LEFTOF:e.x=n-10-e.width;break;case b.OVER:if(e.hasManyActors()){var i=u(e.actor[1]);e.x=Math.min(n,i)-20,e.width=Math.max(n,i)+20-e.x}else e.x=n-e.width/2;break;default:throw new Error("Unhandled note placement: "+e.placement)}return this.drawTextBox(e,e.message,10,5,this.font_,0)},drawTextBox:function(e,t,n,i,r,o){var a=e.x+n,s=e.y+n,l=e.width-2*n,c=e.height-2*n;return this.drawRect(a,s,l,c),1==o?(a=u(e),s=function(e){return e.y+e.height/2}(e)):(a+=i,s+=i),this.drawText(a,s,t,r,o)}}),"undefined"!=typeof Snap){var C="http://www.w3.org/2000/svg",S={stroke:"#000000","stroke-width":2,fill:"none"},E={stroke:"#000000","stroke-width":2,fill:"#fff"},k={},O=function(e,t,n){o.defaults(t,{"css-class":"simple","font-size":16,"font-family":"Andale Mono, monospace"}),this.init(e,t,n)};o.extend(O.prototype,w.prototype,{init:function(e,t,n){w.prototype.init.call(this,e),this.paper_=void 0,this.cssClass_=t["css-class"]||void 0,this.font_={"font-size":t["font-size"],"font-family":t["font-family"]};var i=this.arrowTypes_={};i[_.FILLED]="Block",i[_.OPEN]="Open";var r=this.lineTypes_={};r[y.SOLID]="",r[y.DOTTED]="6,2";var o=this;this.waitForFont((function(){n(o)}))},waitForFont:function(e){var t=this.font_["font-family"];if("undefined"==typeof WebFont)throw new Error("WebFont is required (https://github.com/typekit/webfontloader).");k[t]?e():WebFont.load({custom:{families:[t]},classes:!1,active:function(){k[t]=!0,e()},inactive:function(){k[t]=!0,e()}})},addDescription:function(e,t){var n=document.createElementNS(C,"desc");n.appendChild(document.createTextNode(t)),e.appendChild(n)},setupPaper:function(e){var t=document.createElementNS(C,"svg");e.appendChild(t),this.addDescription(t,this.diagram.title||""),this.paper_=Snap(t),this.paper_.addClass("sequence"),this.cssClass_&&this.paper_.addClass(this.cssClass_),this.beginGroup();var n=this.arrowMarkers_={},i=this.paper_.path("M 0 0 L 5 2.5 L 0 5 z");n[_.FILLED]=i.marker(0,0,5,5,5,2.5).attr({id:"markerArrowBlock"}),i=this.paper_.path("M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"),n[_.OPEN]=i.marker(0,0,9.6,16,9.6,8).attr({markerWidth:"4",id:"markerArrowOpen"})},layout:function(){w.prototype.layout.call(this),this.paper_.attr({width:this.diagram.width+"px",height:this.diagram.height+"px"})},textBBox:function(e,t){var n=this.createText(e,t),i=n.getBBox();return n.remove(),i},pushToStack:function(e){return this._stack.push(e),e},beginGroup:function(){this._stack=[]},finishGroup:function(){var e=this.paper_.group.apply(this.paper_,this._stack);return this.beginGroup(),e},createText:function(e,t){e=e.split("\n").map((function(e){return e.trim()}));var n=this.paper_.text(0,0,e);return n.attr(t||{}),e.length>1&&n.selectAll("tspan:nth-child(n+2)").attr({dy:"1.2em",x:0}),n},drawLine:function(e,t,n,i,r,o){var a=this.paper_.line(e,t,n,i).attr(S);return void 0!==r&&a.attr("strokeDasharray",this.lineTypes_[r]),void 0!==o&&a.attr("markerEnd",this.arrowMarkers_[o]),this.pushToStack(a)},drawRect:function(e,t,n,i){var r=this.paper_.rect(e,t,n,i).attr(E);return this.pushToStack(r)},drawText:function(e,t,n,i,r){var o=this.createText(n,i),a=o.getBBox();return 1!=r&&2!=r||(e-=a.width/2),1!=r&&3!=r||(t-=a.height/2),o.attr({x:e-a.x,y:t-a.y}),o.selectAll("tspan").attr({x:e}),this.pushToStack(o),o},drawTitle:function(){return this.beginGroup(),w.prototype.drawTitle.call(this),this.finishGroup().addClass("title")},drawActor:function(e,t,n){return this.beginGroup(),w.prototype.drawActor.call(this,e,t,n),this.finishGroup().addClass("actor")},drawSignal:function(e,t){return this.beginGroup(),w.prototype.drawSignal.call(this,e,t),this.finishGroup().addClass("signal")},drawSelfSignal:function(e,t){return this.beginGroup(),w.prototype.drawSelfSignal.call(this,e,t),this.finishGroup().addClass("signal")},drawNote:function(e,t){return this.beginGroup(),w.prototype.drawNote.call(this,e,t),this.finishGroup().addClass("note")}});var T=function(e,t,n){o.defaults(t,{"css-class":"hand","font-size":16,"font-family":"danielbd"}),this.init(e,t,n)};o.extend(T.prototype,O.prototype,{drawLine:function(e,t,n,i,r,o){var a=this.paper_.path(g(e,t,n,i)).attr(S);return void 0!==r&&a.attr("strokeDasharray",this.lineTypes_[r]),void 0!==o&&a.attr("markerEnd",this.arrowMarkers_[o]),this.pushToStack(a)},drawRect:function(e,t,n,i){var r=this.paper_.path(m(e,t,n,i)).attr(E);return this.pushToStack(r)}}),d("snapSimple",O),d("snapHand",T)}if("undefined"!=typeof a){S={stroke:"#000000","stroke-width":2,fill:"none"},E={stroke:"#000000","stroke-width":2,fill:"#fff"};a.fn.line=function(e,t,n,i){return h(o.every([e,n,t,i],o.isFinite),"x1,x2,y1,y2 must be numeric"),this.path("M{0},{1} L{2},{3}",e,t,n,i)};var A=function(e,t,n){this.init(e,o.defaults(t,{"font-size":16,"font-family":"Andale Mono, monospace"}),n)};o.extend(A.prototype,w.prototype,{init:function(e,t,n){w.prototype.init.call(this,e),this.paper_=void 0,this.font_={"font-size":t["font-size"],"font-family":t["font-family"]};var i=this.arrowTypes_={};i[_.FILLED]="block",i[_.OPEN]="open";var r=this.lineTypes_={};r[y.SOLID]="",r[y.DOTTED]="-",n(this)},setupPaper:function(e){this.paper_=new a(e,320,200),this.paper_.setStart()},draw:function(e){w.prototype.draw.call(this,e),this.paper_.setFinish()},layout:function(){w.prototype.layout.call(this),this.paper_.setSize(this.diagram.width,this.diagram.height)},cleanText:function(e){return e.split("\n").map((function(e){return e.trim()})).join("\n")},textBBox:function(e,t){var n;e=this.cleanText(e),(t=t||{}).obj_?n=this.paper_.print(0,0,e,t.obj_,t["font-size"]):(n=this.paper_.text(0,0,e)).attr(t);var i=n.getBBox();return n.remove(),i},drawLine:function(e,t,n,i,r,o){var a=this.paper_.line(e,t,n,i).attr(S);return void 0!==o&&a.attr("arrow-end",this.arrowTypes_[o]+"-wide-long"),void 0!==o&&a.attr("stroke-dasharray",this.lineTypes_[r]),a},drawRect:function(e,t,n,i){return this.paper_.rect(e,t,n,i).attr(E)},drawText:function(e,t,n,i,r){n=this.cleanText(n),i=i||{},r=r||0;var o,a=this.paper_,s=this.textBBox(n,i);return 1!=r&&2!=r||(e-=s.width/2),1!=r&&3!=r||(t-=s.height/2),i.obj_?o=a.print(e-s.x,t-s.y,n,i.obj_,i["font-size"]):((o=a.text(e-s.x-s.width/2,t-s.y,n)).attr(i),o.attr({"text-anchor":"start"})),o}});var I=function(e,t,n){this.init(e,o.defaults(t,{"font-size":16,"font-family":"daniel"}),n)};o.extend(I.prototype,A.prototype,{setupPaper:function(e){A.prototype.setupPaper.call(this,e),this.font_.obj_=this.paper_.getFont("daniel")},drawLine:function(e,t,n,i,r,o){var a=this.paper_.path(g(e,t,n,i)).attr(S);return void 0!==o&&a.attr("arrow-end",this.arrowTypes_[o]+"-wide-long"),void 0!==o&&a.attr("stroke-dasharray",this.lineTypes_[r]),a},drawRect:function(e,t,n,i){return this.paper_.path(m(e,t,n,i)).attr(E)}}),d("raphaelSimple",A),d("raphaelHand",I)}if("undefined"!=typeof a&&a.registerFont({w:209,face:{"font-family":"Daniel","font-weight":700,"font-stretch":"normal","units-per-em":"360","panose-1":"2 11 8 0 0 0 0 0 0 0",ascent:"288",descent:"-72","x-height":"7",bbox:"-92.0373 -310.134 519 184.967","underline-thickness":"3.51562","underline-position":"-25.1367","unicode-range":"U+0009-U+F002"},glyphs:{" ":{w:179},"\t":{w:179},"\r":{w:179},"!":{d:"66,-306v9,3,18,11,19,24v-18,73,-20,111,-37,194v0,10,2,34,-12,34v-12,0,-18,-9,-18,-28v0,-85,23,-136,38,-214v1,-7,4,-10,10,-10xm25,-30v15,-1,28,34,5,35v-11,-1,-38,-36,-5,-35",w:115},'"':{d:"91,-214v-32,3,-25,-40,-20,-68v3,-16,7,-25,12,-27v35,13,14,56,8,95xm8,-231v4,-31,1,-40,18,-75v37,7,11,51,11,79v-3,3,-4,8,-5,13v-17,4,-16,-10,-24,-17",w:117},"#":{d:"271,-64v-30,26,-96,-7,-102,51v-6,2,-13,2,-24,-2v-2,-11,10,-21,2,-28v-14,5,-48,0,-48,22v0,23,-11,14,-29,10v-7,-6,6,-19,-1,-24r-32,4v-19,-8,-15,-24,5,-28r33,-6v4,0,24,-23,11,-27v-26,0,-63,14,-74,-10v3,-1,9,-17,16,-10v15,-8,81,4,89,-30v8,-14,16,-34,24,-38v23,9,24,38,5,49v37,24,55,-38,72,-43v19,10,20,23,-1,45v2,8,23,1,29,4v3,3,6,6,10,11v-14,13,-20,12,-45,12v-17,0,-16,17,-19,29v18,-7,49,3,67,-2v4,0,8,4,12,11xm161,-104v-30,-1,-44,10,-44,37v14,1,24,0,40,-5v0,-1,3,-10,8,-26v0,-4,-1,-6,-4,-6",w:285},$:{d:"164,-257v29,4,1,42,-3,50v5,5,38,13,41,24v8,4,6,15,-2,21v-18,3,-36,-17,-49,-17v-17,1,-31,40,-28,48v5,4,8,8,9,10v13,1,35,37,28,44v-10,21,-36,20,-65,28v-10,10,-12,40,-17,51v-9,-3,-28,1,-18,-17v0,-13,5,-24,-1,-35v-18,1,-59,-10,-42,-29v21,0,56,16,55,-16v5,-4,9,-18,9,-26v-14,-15,-55,-41,-53,-65v2,-33,56,-19,98,-26v10,-14,31,-43,38,-45xm93,-152v11,-10,15,-15,14,-29v-17,-3,-37,1,-43,6v10,12,20,19,29,23xm111,-103v-8,1,-11,12,-10,22v10,0,28,2,27,-8v0,-4,-13,-15,-17,-14",w:225},"%":{d:"181,-96v24,-7,67,-13,104,1v14,18,21,19,22,44v-13,43,-99,61,-146,36v-9,-9,-22,-11,-32,-29v0,-27,24,-53,52,-52xm139,-185v-9,68,-138,73,-131,-5v0,-3,3,-9,9,-17v13,1,27,1,17,-16v5,-39,63,0,93,-6v36,1,80,-9,102,11v15,32,12,32,-8,56v-16,21,-103,78,-152,125r-14,28v-23,11,-25,-7,-29,-20v34,-71,133,-98,171,-162v-13,-12,-52,-5,-61,1v0,1,1,3,3,5xm38,-190v0,34,55,29,70,8v0,-14,-20,-11,-32,-14v-14,-3,-24,-9,-40,-10v1,0,5,11,2,16xm172,-53v12,27,90,18,102,-5v-18,-7,-32,-10,-40,-10v-29,3,-57,-4,-62,15",w:308},"&":{d:"145,-82v17,-8,47,-15,71,-26v13,2,25,12,9,23v-23,7,-40,16,-53,27r0,6v13,8,30,21,36,38v0,8,-4,12,-11,12v-19,0,-43,-39,-59,-44v-30,12,-65,29,-97,32v-32,3,-45,-41,-23,-63v21,-20,52,-26,70,-48v-4,-31,-12,-47,9,-73v13,-16,20,-29,23,-39v15,-15,32,-22,51,-22v30,9,62,64,32,96v-2,3,-47,42,-69,48v-15,8,-11,9,0,22v6,7,10,11,11,11xm114,-138v25,-13,62,-38,74,-62v0,-9,-10,-31,-20,-29v-28,7,-60,42,-60,75v0,10,2,15,6,16xm99,-91v-18,10,-54,18,-59,45v26,5,61,-12,77,-22v-1,-5,-13,-23,-18,-23",w:253},"'":{d:"36,-182v-36,7,-34,-61,-17,-80v15,1,21,19,21,20r-1,-1v0,0,-1,12,-5,35v1,5,3,17,2,26",w:63},"(":{d:"130,-306v13,2,23,43,-1,43v-49,43,-77,77,-90,148v5,49,27,67,64,101v4,14,5,6,2,19r-15,0v-35,-17,-79,-58,-79,-120v0,-58,66,-176,119,-191",w:120},")":{d:"108,-138v-2,73,-48,120,-98,153v-17,-5,-16,-20,-6,-31v52,-64,73,-62,74,-135v1,-42,-40,-98,-58,-128v0,-5,-1,-12,-2,-22v18,-18,25,0,42,27v25,39,50,66,48,136",w:120},"*":{d:"121,-271v15,-5,36,-8,40,9v-5,10,-31,19,-47,31v0,11,34,43,14,53v-18,8,-24,-24,-34,-20v-4,10,-4,19,-12,41v-25,7,-15,-30,-17,-47v-13,-1,-17,9,-46,30r-10,0v-20,-32,37,-43,54,-64v-10,-11,-36,-33,-16,-51v3,0,14,8,33,24v8,-10,26,-39,32,-42v14,7,15,23,9,36",w:177},"+":{d:"163,-64v-7,22,-65,2,-77,21v-2,10,-6,21,-11,35v-20,4,-21,-12,-19,-29v3,-23,-44,6,-39,-27v-8,-22,36,-8,49,-18v8,-13,6,-36,24,-40v19,-4,14,32,11,39v18,3,19,2,54,8v2,1,5,5,8,11",w:170},",":{d:"25,63v-26,21,-48,-2,-22,-24v14,-12,35,-40,35,-69v3,-2,3,-11,12,-9v35,17,5,88,-25,102",w:97},"-":{d:"57,-94v19,4,55,-5,54,17v-15,23,-54,20,-91,15v-4,2,-13,-10,-11,-16v-1,-22,28,-15,48,-16",w:124},".":{d:"40,-48v21,20,21,44,-4,44v-33,0,-26,-24,-10,-44r14,0",w:67},"/":{d:"21,20v-22,-45,21,-95,41,-126v38,-57,115,-158,193,-201v2,0,4,3,7,11v11,29,-15,34,-25,55v-81,56,-189,208,-197,261r-19,0",w:275},0:{d:"78,-237v70,-47,269,-41,270,59v0,34,-11,53,-29,76v-13,35,-30,32,-85,64v-6,2,-10,6,-7,8v-73,14,-98,38,-173,1v-7,-13,-52,-48,-46,-88v9,-57,27,-75,70,-120xm123,-38v100,0,202,-46,195,-153v-32,-55,-144,-73,-211,-35v-16,34,-68,54,-53,108v6,25,1,22,-3,39v6,24,41,41,72,41",w:353},1:{d:"39,-208v0,-14,6,-59,29,-39v3,4,6,13,10,24r-22,128r8,87v-4,6,-9,3,-16,2v-44,-38,-9,-137,-9,-202",w:93},2:{d:"88,-35v47,-10,119,-24,168,-9v0,12,-23,13,-35,16v1,1,3,1,5,1v-74,8,-118,23,-194,23v-14,0,-20,-13,-21,-28v55,-40,83,-61,123,-104v26,-13,65,-67,71,-102v-1,-9,-11,-16,-22,-16v-20,-1,-120,29,-156,49v-10,-2,-30,-20,-10,-28v50,-21,111,-51,178,-48v25,10,44,22,36,39v12,30,-19,64,-34,83v-39,48,-37,39,-115,109v0,5,-3,8,-8,11v4,3,8,4,14,4",w:265},3:{d:"188,-282v34,-10,74,25,47,51v-19,32,-55,50,-92,70v28,14,116,25,108,70v8,14,-49,40,-63,48v-29,9,-130,22,-168,42v-6,-5,-19,-7,-12,-22v56,-36,175,-21,210,-76v-9,-20,-88,-42,-97,-33v-20,-1,-41,2,-56,-7r5,-21v56,-25,103,-36,137,-78v1,-1,2,-5,4,-11v-15,-14,-56,7,-79,0v-10,9,-73,22,-92,31v-11,-4,-28,-23,-13,-30v50,-22,96,-26,154,-37v0,-1,8,3,7,3",w:260},4:{d:"79,-249v-7,17,-29,75,-33,96v0,6,3,8,8,8v43,-2,111,6,141,-6v17,-47,20,-100,63,-148v9,4,16,7,21,10v-17,31,-44,95,-51,141v7,4,24,-4,23,10v-1,16,-29,12,-31,23v-10,22,-9,69,-7,103v-3,2,-7,5,-10,9v-47,-11,-23,-74,-16,-114v0,-4,-2,-6,-7,-6v-65,2,-89,13,-162,4v-22,-22,-2,-53,5,-76v16,-15,17,-57,35,-70v6,-1,21,11,21,16",w:267},5:{d:"185,-272v30,7,45,-8,53,18v1,16,-17,18,-34,14v0,0,-95,-11,-129,1v-6,9,-24,33,-29,54v76,10,171,5,214,47v11,11,22,30,5,52v-14,12,-30,14,-34,27v-26,11,-141,63,-157,60v-16,-2,-25,-19,-4,-27v48,-18,128,-39,170,-86v4,-14,-65,-41,-85,-41r-92,0v-10,-4,-66,-1,-57,-23v0,-23,23,-51,35,-83v11,-28,133,-10,144,-13",w:284},6:{d:"70,-64v9,-51,63,-74,123,-71v43,2,109,3,111,41r-25,47v0,1,1,2,2,3v-5,0,-39,10,-41,20v-15,3,-22,4,-22,11v-39,1,-77,20,-119,13v-42,-7,-35,-9,-77,-46v-56,-118,94,-201,176,-229v7,0,21,8,20,15v-2,17,-23,15,-43,24v-69,31,-119,72,-134,145v-5,25,36,68,78,64v59,-6,128,-18,153,-61v-7,-14,-13,-9,-32,-21v-67,-15,-118,-5,-150,43r0,12v-13,4,-17,-3,-20,-10",w:310},7:{d:"37,-228v33,-14,173,-17,181,-19v28,-1,24,31,9,45v-17,15,-45,49,-59,69v-17,26,-55,67,-61,113v-10,13,-9,14,-14,20v-33,-13,-20,-25,-11,-53v16,-48,73,-115,109,-156v2,-7,5,-14,-10,-12v-26,4,-54,6,-76,13v-23,-5,-83,31,-94,-9v2,-8,18,-19,26,-11",w:245},8:{d:"57,-236v40,-50,166,-51,213,-10v22,28,10,63,-22,78r-35,17v8,5,54,24,53,44v-5,14,-4,33,-18,42v-13,13,-35,18,-44,34v-60,27,-190,49,-194,-42v7,-41,17,-54,59,-70r0,-4v-32,-9,-73,-62,-26,-85v4,0,8,-2,14,-4xm142,-160v24,-2,160,-31,99,-72v-28,-18,-108,-33,-146,-5v-16,12,-28,30,-33,59v24,12,37,20,80,18xm41,-62v30,65,189,6,199,-37v3,-14,-60,-30,-74,-30v-70,0,-118,10,-125,67",w:290},9:{d:"11,-192v15,-49,119,-61,161,-23v16,15,27,55,11,79v-20,62,-51,79,-96,118v-10,4,-45,27,-50,6v9,-15,66,-52,98,-99v-7,-7,-8,-3,-25,0v-49,-11,-96,-25,-99,-81xm145,-131v7,-5,13,-34,13,-41v-2,-51,-104,-38,-114,-6v-2,10,37,35,46,35v23,1,43,-1,55,12",w:198},":":{d:"39,-125v15,-8,40,-1,40,15v0,15,-6,22,-19,22v-13,0,-29,-21,-21,-37xm66,-17v-8,27,-51,19,-46,-8v-1,-6,8,-22,14,-20v29,0,30,6,32,28",w:95},";":{d:"56,-93v2,-30,37,-22,40,2v0,2,-1,7,-3,15v-13,8,-15,6,-27,4xm64,-44v11,-11,30,-4,32,14v-21,39,-63,71,-92,85v-5,0,-11,-2,-18,-8v11,-23,36,-36,50,-61v11,-7,19,-20,28,-30",w:107},"<":{d:"166,-202v12,0,29,15,24,29v0,4,-119,64,-120,73v15,21,89,64,91,86v2,29,-18,12,-30,15v-27,-29,-59,-54,-95,-75v-18,-10,-25,-13,-24,-41",w:176},"=":{d:"125,-121v18,7,55,-9,69,14v0,17,-45,26,-135,26v-18,0,-27,-7,-27,-21v-1,-37,60,-5,93,-19xm138,-71v20,0,48,-1,50,16v-13,24,-86,32,-131,29v-29,-2,-43,-10,-43,-24v-7,-23,36,-14,39,-17v27,6,57,-4,85,-4",w:196},">":{d:"4,-14v20,-48,77,-59,118,-94v-16,-19,-58,-52,-81,-75v-11,-7,-15,-38,-1,-40v33,16,83,71,121,105v26,23,-6,35,-41,53v-29,16,-56,28,-73,54v-21,15,-16,20,-34,15v-3,0,-9,-16,-9,-18",w:174},"?":{d:"105,-291v57,-13,107,-4,107,39v0,67,-136,85,-155,137v-1,6,10,23,-4,23v-23,1,-33,-35,-23,-57v31,-41,124,-60,149,-103v-8,-21,-72,-5,-88,-1v-23,6,-59,39,-71,8v0,0,-1,0,1,-17v10,-4,45,-20,84,-29xm80,-25v-6,4,-8,39,-24,22v-24,3,-22,-21,-13,-35v17,-7,29,5,37,13",w:216},"@":{d:"218,-207v23,8,42,14,47,37v44,68,-27,137,-87,85r1,0v0,2,-59,19,-61,17v-35,0,-42,-47,-17,-68r0,-4v-19,-1,-45,37,-49,40v-37,76,58,72,121,62v11,-2,34,-13,36,3v-14,31,-69,31,-114,33v-51,2,-99,-41,-80,-92v2,-30,22,-40,42,-63v35,-20,91,-53,161,-50xm217,-101v23,0,35,-19,35,-41v0,-43,-75,-41,-102,-19v36,3,55,16,62,41v-6,5,-6,19,5,19xm127,-110v8,5,51,-15,28,-16v-4,0,-25,4,-28,16",w:291},A:{d:"97,-81v-23,-10,-39,38,-52,60v-8,6,-8,6,-22,18v-22,-7,-23,-37,-4,-49v7,-8,11,-15,15,-23r-1,1v-14,-26,23,-29,31,-40v1,-1,15,-29,26,-36v17,-31,39,-58,54,-92v16,-20,20,-51,41,-66v29,5,34,62,45,92v9,64,21,103,49,155v-3,25,-44,11,-54,0v-34,-12,-97,-29,-128,-20xm107,-118v20,6,80,10,111,17v6,-7,-4,-15,-7,-24v-11,-28,-9,-92,-30,-117v-9,9,-19,44,-34,55v-9,23,-27,40,-40,69",w:294},B:{d:"256,-179v41,10,115,34,91,91v-6,3,-14,12,-19,20v-37,19,-50,34,-63,25v-9,10,-12,11,-34,13r3,-3v-4,-4,-12,-4,-18,0v0,0,2,2,5,4v-21,14,-26,6,-44,15v-4,0,-7,-2,-8,-5v-6,11,-20,-5,-18,11v-36,4,-91,35,-114,4v-7,-62,-10,-138,4,-199v-1,-19,-37,2,-37,-27v0,-8,2,-13,6,-15v68,-31,231,-92,311,-39v8,12,12,20,12,25v-8,42,-32,49,-77,80xm79,-160v72,-17,135,-39,184,-70v20,-13,31,-23,31,-27v1,-6,-30,-13,-38,-12v-54,0,-116,13,-186,41v11,21,1,48,9,68xm262,-43v0,-4,3,-6,-4,-5v0,1,1,2,4,5xm211,-140v-34,7,-94,24,-139,15v-6,20,-4,56,-4,82v0,29,43,1,56,2v48,-11,108,-25,154,-48v20,-10,32,-17,32,-25v0,-18,-33,-26,-99,-26xm195,-20v6,1,6,-2,5,-7v-3,2,-7,2,-5,7",w:364},C:{d:"51,-114v-12,75,96,76,166,71r145,-10v9,2,9,5,9,18v-37,18,-85,28,-109,22v-18,10,-47,10,-71,10v-29,0,-68,1,-105,-11v-6,-1,-10,-3,-10,-8v-33,-13,-48,-33,-66,-59v-19,-114,146,-150,224,-177v35,0,88,-31,99,7v-1,29,-49,14,-76,28v-55,8,-115,35,-175,71v-13,8,-23,21,-31,38",w:376},D:{d:"312,-78v-2,1,-3,7,-10,5v6,-3,10,-4,10,-5xm4,-252v2,-27,83,-38,106,-39v130,-7,267,1,291,109v0,0,-2,8,-3,25v-5,9,-4,28,-23,34v-4,4,-2,5,-7,0v-3,3,-15,7,-5,10v0,0,-10,14,-13,2v-11,1,-8,5,-20,14v1,2,7,3,9,1v-4,13,-22,13,-11,4v0,-3,1,-6,-3,-5v-40,29,-103,38,-141,65v10,6,22,-7,34,-3v-41,20,-127,44,-171,46v-21,1,-47,-33,-11,-39v15,-2,43,-6,56,-11v-16,-101,-5,-130,9,-207v2,0,4,-1,6,-3v-16,-17,-91,38,-103,-3xm297,-69v-7,3,-17,8,-25,7v1,1,3,2,5,2v-4,2,-11,5,-23,9v4,-11,30,-21,43,-18xm240,-51v10,0,12,2,0,6r0,-6xm220,-36v-1,-3,4,-6,6,-3v0,1,-2,1,-6,3xm125,-48v16,6,137,-46,155,-53v29,-18,101,-44,82,-93v-21,-53,-84,-61,-168,-67v-20,7,-50,3,-77,8v33,54,-12,132,8,205xm159,-22v-4,-1,-15,-5,-15,2v7,-1,12,-2,15,-2",w:381},E:{d:"45,-219v-19,-36,34,-41,63,-36v44,-10,133,-8,194,-15v3,2,38,11,52,15v-73,19,-171,21,-246,38v-9,11,-16,32,-20,61v35,11,133,-6,183,3v1,6,2,7,3,14v-46,24,-118,16,-193,27v-15,13,-22,52,-22,66v60,1,121,-20,188,-20v22,10,53,-7,74,5v16,29,-23,26,-43,32v-73,4,-139,13,-216,27r-52,-10v-4,-22,23,-69,26,-98v-3,0,-10,-15,-12,-24v20,-12,34,-23,35,-67v2,-1,5,-5,5,-7v0,-4,-14,-11,-19,-11",w:353},F:{d:"270,-258v13,2,59,6,48,34v-78,-3,-143,1,-212,22v-10,16,-21,43,-24,69r145,-9v8,3,29,-3,16,21v-14,-1,-59,13,-60,7v-12,13,-67,18,-108,21v-2,1,-4,3,-7,6v-2,23,-8,43,-7,69v1,28,-30,11,-40,5r10,-80r-26,-14v5,-10,10,-33,28,-25v21,-3,15,-46,26,-59v-1,-3,-32,-13,-28,-24v2,-22,45,-16,59,-30v47,4,99,-14,151,-9v5,-3,25,-3,29,-4",w:236},G:{d:"311,-168v53,0,94,57,74,110v-31,37,-71,34,-136,52v-13,-7,-41,10,-57,7v-73,-1,-122,-17,-162,-59v-49,-51,-24,-80,5,-130v35,-61,138,-93,214,-106v16,4,42,-1,40,21v-5,40,-39,2,-73,21v-76,19,-162,65,-177,142v28,103,237,76,312,29v2,-3,3,-7,3,-13v-10,-35,-37,-43,-87,-45v-16,-13,-53,-9,-78,1v-4,-3,-5,-7,-5,-11v17,-29,73,-17,108,-24v12,4,18,5,19,5",w:391},H:{d:"300,-268v18,12,19,32,4,51v-35,44,-34,140,-46,217v-1,5,-5,13,-11,12v-6,1,-19,-14,-18,-27r7,-106v-28,7,-76,22,-116,14v-18,2,-36,6,-55,3v-43,-8,-14,53,-33,75v-29,1,-26,-67,-21,-97v5,-31,28,-73,43,-98v2,2,7,3,14,3v13,33,-11,48,-13,78v61,4,118,2,176,2v8,0,13,-6,15,-20v4,-47,21,-87,54,-107",w:288},I:{d:"63,-266v34,10,-4,105,-8,128r-24,126v-2,2,-3,1,-9,6v-12,-10,-12,-15,-12,-47v0,-93,9,-156,28,-188v10,-17,19,-25,25,-25",w:79},J:{d:"235,-291v26,11,31,104,31,142v0,37,-2,95,-32,126v-33,34,-121,26,-167,1v-18,-11,-54,-29,-59,-59v0,-3,5,-15,16,-14v31,36,90,57,162,51v63,-30,56,-148,32,-226v-1,-16,11,-13,17,-21",w:282},K:{d:"212,-219v17,-5,80,-60,80,-19v0,9,-2,14,-5,16r-132,78v-34,23,-54,32,-21,50v39,21,74,23,124,41v5,2,7,5,7,9v-4,24,-55,15,-79,8v-67,-19,-98,-36,-116,-83v9,-24,38,-35,66,-61v7,-4,49,-30,76,-39xm47,-194v11,-20,11,-45,31,-55v2,2,4,3,6,0v29,39,-21,96,-18,128v-17,24,-15,62,-29,113v-4,3,-10,7,-19,11v-12,-13,-10,-28,-8,-53v3,-31,17,-79,37,-144",w:270},L:{d:"84,-43v58,0,179,-27,242,-4v3,17,-29,24,-40,26v-85,-4,-202,46,-268,3v-24,-16,-2,-33,-4,-57v26,-76,38,-108,86,-191v14,-7,26,-50,45,-32v6,22,5,31,-12,46v-20,39,-50,82,-67,142v-7,6,-19,46,-19,54v0,9,12,13,37,13",w:331},M:{d:"174,-236v-1,52,-11,92,-7,143v10,5,15,-12,22,-18v42,-55,90,-130,136,-174r15,-18v42,2,32,53,11,80v-12,58,-54,143,-34,210v0,3,-3,12,-9,10v-31,-5,-32,-57,-27,-92v4,-27,12,-58,25,-93v-5,-10,5,-19,6,-30v-46,44,-66,110,-129,172v-11,10,-18,15,-22,15v-34,6,-28,-103,-28,-152v-28,22,-65,119,-96,170v-9,15,-34,3,-31,-19v30,-64,91,-177,139,-229v12,-1,29,13,29,25",w:343},N:{d:"248,-20v-3,17,-37,18,-43,3v-24,-35,-53,-145,-80,-203v-32,40,-55,120,-92,174v-13,3,-26,-13,-27,-22r87,-171v4,-13,20,-57,42,-32v42,48,46,139,82,198v29,-45,46,-88,65,-153v12,-19,23,-42,38,-60v27,-1,14,18,4,44v-6,46,-32,68,-37,121v-15,29,-33,69,-39,101",w:307},O:{d:"240,-268v85,1,163,29,150,125v13,7,-12,18,-5,26v-23,63,-133,112,-228,124v-80,-16,-171,-56,-148,-153v11,-47,20,-43,53,-83v17,-9,39,-22,73,-29v45,-10,81,-10,105,-10xm363,-156v16,-51,-62,-85,-111,-79v-25,-11,-50,8,-81,0v-15,10,-70,16,-85,31v6,20,-27,24,-39,45v-42,75,40,128,115,128v56,0,209,-71,201,-125",w:383},P:{d:"70,-225v-7,-12,-36,16,-49,19v-4,0,-9,-5,-14,-17v21,-47,114,-55,172,-59v41,-3,132,33,99,87v-21,34,-72,59,-144,80v-2,16,-79,3,-74,46v3,25,-5,47,-10,68v-22,-1,-23,-29,-22,-56v2,-25,-20,-32,-8,-50v21,-5,10,-35,25,-57v6,-28,14,-48,25,-61xm71,-229v47,14,-2,50,-1,99v41,-3,113,-37,173,-76v5,-9,8,-14,8,-15v-28,-47,-125,-29,-180,-8",w:252},Q:{d:"374,-217v20,59,-11,127,-48,156r30,38v-1,6,-8,16,-14,9v-3,0,-19,-9,-47,-26v-72,35,-173,75,-236,12v-70,-40,-67,-213,26,-217r8,5v24,-20,72,-48,112,-38v21,-4,22,-1,50,-2v66,-2,94,20,119,63xm296,-88v13,5,61,-49,63,-84v4,-62,-54,-78,-119,-76v-14,-6,-49,5,-71,3v-42,16,-89,41,-93,94v-9,11,1,25,-7,38v-12,-19,-7,-67,-1,-88v-56,30,-37,137,19,155v27,17,92,19,119,0v12,-2,29,-9,52,-20v2,-2,3,-3,3,-6v-11,-12,-46,-27,-54,-56v0,-13,3,-19,9,-19v18,1,60,52,80,59",w:379},R:{d:"100,-275v96,-23,196,-10,208,78v-3,18,-17,52,-49,62v-14,20,-54,23,-79,40v-2,0,-14,2,-36,6v-40,8,-30,14,-3,33v37,27,52,30,118,55v16,6,31,23,12,27v-58,-2,-104,-29,-143,-61v-14,-3,-16,-15,-39,-27v-23,-19,-28,-12,-15,-38v63,-19,111,-15,163,-53v27,-20,43,-36,43,-49v0,-64,-120,-62,-173,-38v-9,4,-38,9,-40,18v-10,32,-16,70,-13,116v-10,21,-8,47,-6,75v2,31,-9,29,-27,22v-9,-55,5,-140,15,-190v-8,-6,-24,10,-24,-11v0,-34,16,-34,42,-55v2,-1,17,-4,46,-10",w:297},S:{d:"13,-3v-7,-3,-22,-18,-5,-22v68,-15,119,-32,154,-45v51,-19,39,-34,3,-53v-46,-25,-82,-30,-121,-64v-33,-29,-50,-35,-25,-58v37,-20,119,-29,181,-29v29,0,44,6,44,18v-9,26,-62,6,-104,14v-17,2,-72,6,-92,16v37,53,132,58,180,111v8,9,11,20,11,30v-4,17,-23,35,-42,34v-21,16,-17,1,-49,17v-14,7,-41,9,-56,20v-25,-3,-49,10,-79,11",w:234},T:{d:"141,-3v-36,-6,1,-49,-3,-79v10,-19,6,-35,15,-64r26,-85v-51,-9,-100,10,-141,14v-16,2,-30,-26,-11,-32v26,-8,143,-8,179,-19r12,6v67,-2,142,-1,200,-1v8,0,14,3,19,10v-18,16,-74,3,-103,14v-48,-4,-60,4,-113,7v-42,22,-36,130,-58,187v1,12,-9,44,-22,42",w:277},U:{d:"365,-262v13,56,-22,104,-36,141v-19,22,-30,38,-57,56v-4,18,-60,35,-78,50v-53,28,-142,0,-161,-34v-31,-56,-37,-108,-11,-164v17,-33,29,-50,48,-29v-2,2,-3,7,-4,13v-44,36,-38,149,7,174v30,26,55,19,102,4v56,-17,66,-34,120,-76v12,-24,56,-68,46,-122r0,-16v0,1,-1,3,-1,6v4,-13,11,-10,25,-3",w:368},V:{d:"246,-258v21,-22,31,-26,44,-8v1,1,-12,22,-28,35v-15,25,-41,38,-56,69v-13,15,-20,31,-28,57v-15,13,-11,29,-27,72v3,21,-5,24,-27,27v-33,-45,-54,-118,-84,-167v-5,-26,-18,-50,-25,-76v-3,-12,24,-8,29,-5v8,13,18,52,26,70r52,115v9,-2,4,-9,10,-21r25,-47v25,-44,46,-76,89,-121",w:234},W:{d:"31,-213v16,46,17,106,41,151v31,-35,49,-89,76,-127v30,-15,39,27,52,56v10,22,21,48,35,67v2,0,4,-1,5,-3v16,-28,50,-76,79,-121v14,-21,40,-63,64,-83r5,8v-30,58,-76,110,-97,173v-18,28,-25,37,-33,63v-11,1,-16,25,-30,15v-21,-31,-44,-89,-62,-131v0,-2,-1,-3,-5,-5v-17,11,-16,36,-31,50v-20,33,-20,84,-68,94v-24,-19,-23,-81,-39,-111v-1,-15,-29,-94,-10,-108v9,2,12,5,18,12",w:331},X:{d:"143,-183v43,-25,69,-36,126,-62v22,-10,86,-10,56,21v-51,3,-158,61,-154,64v10,15,41,30,50,52v27,17,46,60,70,82v9,14,-6,30,-24,20v-35,-43,-75,-100,-116,-132v-48,13,-100,47,-118,94v-1,49,-26,34,-27,4v-1,-26,13,-27,17,-48v22,-27,68,-55,90,-77v-9,-12,-60,-39,-79,-57v-6,-10,-6,-25,12,-25",w:312},Y:{d:"216,-240v19,-14,42,10,22,26v-54,66,-121,109,-156,197v-8,21,-11,15,-30,4v3,-37,27,-61,33,-76v12,-12,15,-19,32,-42v-8,-6,-40,5,-45,5v-48,-6,-69,-65,-56,-113v14,0,13,-1,24,7v2,33,12,75,42,73v36,-2,102,-57,134,-81",w:189},Z:{d:"60,-255v66,12,200,-34,240,21v-13,42,-63,62,-98,89v-19,15,-47,33,-82,55v-25,16,-47,32,-66,47v58,24,129,-6,208,-6v23,0,36,12,13,19v-33,2,-53,5,-86,10v-32,18,-88,15,-135,15v-9,-1,-55,-1,-48,-29v1,-24,30,-24,40,-41v64,-50,151,-86,208,-147v-38,-17,-155,12,-198,-4v0,0,-11,-33,4,-29",w:310},"[":{d:"72,-258r-15,250v30,4,55,-3,80,-6v7,-1,8,17,9,23v-28,15,-73,23,-121,21v-7,0,-10,-6,-10,-17v0,-60,25,-193,22,-288v0,-16,13,-20,33,-19v9,-3,34,-12,51,-12v16,0,15,16,19,29v-16,7,-48,10,-68,19",w:151},"\\":{d:"236,38v20,-18,-8,-74,-13,-90v-44,-78,-112,-190,-200,-253v-2,0,-5,4,-7,12v-11,31,13,36,24,58v74,61,174,219,180,273r16,0",w:257},"]":{d:"133,-258v-23,-13,-84,6,-85,-32v0,-10,5,-15,14,-15v0,0,30,2,90,7v10,1,15,13,15,36v2,7,-8,59,-13,112r-11,125v-9,48,9,90,-59,71v-20,-4,-39,-1,-59,-4v-5,-10,-25,-12,-14,-30v8,-3,61,-13,78,-8v14,1,8,-7,10,-17v15,-69,21,-166,34,-245",w:171},"^":{d:"68,-306v20,15,47,36,58,60v-1,4,0,7,-9,7v-26,0,-47,-38,-49,-32v-15,9,-41,50,-54,30v-2,-31,17,-23,33,-51v8,-9,15,-14,21,-14",w:135},_:{d:"11,15v-8,33,18,45,50,34r205,2r197,-5v11,-5,14,-9,7,-28v-95,-21,-258,-10,-376,-10v-25,0,-72,-3,-83,7",w:485},"`":{d:"75,-264v16,8,56,14,39,43v-30,-8,-65,-23,-105,-44v-1,-3,-3,-28,5,-25v16,5,44,17,61,26",w:129},a:{d:"124,-56v10,4,59,41,65,50v1,7,-6,17,-12,17r-60,-30v-22,2,-42,21,-65,19v-33,4,-68,-67,-15,-81v41,-27,96,-39,110,9v0,6,-4,12,-11,16v-33,-25,-67,-5,-88,12v10,16,61,-18,76,-12",w:196},b:{d:"80,-140v69,1,123,0,134,52v5,26,-71,71,-97,70v-11,11,-88,22,-94,22v-11,-3,-26,-18,-6,-24v19,-5,-2,-19,-1,-35v1,-18,11,-36,-5,-47v-6,-17,-6,-21,14,-32v6,-45,18,-89,28,-124v2,-7,8,-12,17,-15v5,3,10,11,16,28v-12,27,-13,63,-23,96v0,6,6,9,17,9xm87,-107v-40,-9,-31,31,-39,54v8,15,0,25,12,22v30,-8,60,-18,88,-32v39,-18,49,-33,-1,-42v-20,-4,-45,-7,-60,-2",w:217},c:{d:"128,-123v29,-7,37,29,12,33v-27,-4,-40,6,-79,25v-8,4,-13,11,-16,22v30,32,91,3,134,11v5,13,-8,26,-22,19v-51,25,-139,28,-150,-30v6,-50,69,-82,121,-80",w:194},d:{d:"224,-201v0,-35,-17,-111,24,-94v7,86,-2,119,0,197v-4,2,-8,21,-18,16v-62,-7,-154,-8,-185,29v6,17,28,26,51,26v16,0,100,-15,132,-18v7,5,-6,20,-10,22v-24,8,-122,42,-163,25v-32,-5,-62,-53,-36,-80v35,-37,118,-46,198,-43v1,-22,7,-49,7,-80",w:265},e:{d:"4,-57v0,-58,51,-71,110,-74v33,-1,45,16,59,35v1,14,2,39,-7,42v-24,-2,-73,13,-99,11v-2,2,-2,3,-2,3v0,3,12,8,37,15v21,0,69,9,31,22v-9,14,-34,6,-56,6v-27,-5,-73,-28,-73,-60xm123,-102v-22,2,-68,5,-65,26v24,-2,66,5,79,-6v-5,-13,-1,-13,-14,-20",w:182},f:{d:"6,-59v6,-29,53,-4,53,-43v0,-64,29,-118,84,-150v45,-25,167,-24,155,51v-1,2,-7,6,0,6r-10,2v-45,-58,-165,-39,-186,39v-7,26,-11,42,-9,62v44,8,95,-21,135,-7v-12,25,-39,21,-76,30v-19,5,-18,7,-54,19v-2,8,15,32,17,35v-6,25,-26,26,-40,-5r-15,-24v-41,10,-44,12,-54,-15",w:234},g:{d:"132,-97v30,27,21,75,30,117v-12,31,-11,66,-36,103v-32,46,-105,83,-167,39v-31,-21,-49,-29,-51,-75v-2,-37,77,-50,121,-57v37,-6,68,-10,95,-11v7,-6,3,-32,4,-46v0,0,-1,1,-1,2v0,-18,-5,-31,-14,-45v-44,5,-79,20,-94,-18v3,-54,73,-54,125,-50v12,7,12,13,4,25v-30,-11,-76,8,-90,20v23,3,50,-16,74,-4xm-34,121v60,53,168,1,159,-86v-47,-7,-93,24,-142,30v-12,7,-45,19,-42,29v0,10,8,19,25,27",w:188},h:{d:"100,-310v11,-2,10,19,11,20v-11,52,-40,133,-53,189v-6,30,-9,37,-9,47v27,0,113,-34,143,-34v42,0,31,47,39,79v0,4,-5,17,-16,16v4,2,11,3,4,6v-24,-1,-28,-34,-25,-64v-1,-1,-2,-3,-5,-5v-51,0,-110,38,-162,51v-9,1,-15,-15,-16,-23v17,-89,39,-141,71,-264v0,-9,6,-19,18,-18",w:251},i:{d:"62,-209v7,18,9,23,-5,38v-23,-6,-21,-18,-11,-36v2,0,8,-1,16,-2xm34,-7v-18,-21,-8,-73,-1,-106v7,-10,20,-8,23,6v-1,36,7,72,-2,104v-8,2,-8,0,-20,-4",w:80},j:{d:"88,-191v5,28,-18,40,-28,21v0,-20,12,-29,28,-21xm82,-99v28,-1,16,35,16,61v0,60,-19,150,-35,202v-12,8,-19,31,-35,16v-32,-7,-43,-19,-56,-44r2,-17v11,4,49,45,61,18v10,-55,27,-107,30,-171v0,-16,0,-59,17,-65",w:120},k:{d:"59,-66v33,26,114,37,155,62v8,-4,22,-2,19,-17v0,-4,-12,-11,-30,-24v-36,-25,-54,-22,-99,-33v14,-21,119,-13,103,-63r-16,-7r-123,47r25,-93v-3,-15,16,-49,18,-81v1,-15,-21,-14,-25,-3v-31,82,-49,168,-75,257v2,2,22,30,27,10v2,-5,4,-9,9,-11v4,-16,4,-15,12,-44",w:236},l:{d:"66,-300v21,-6,37,23,30,55v-10,51,-28,135,-28,208v0,11,6,36,-13,37v-29,-5,-30,-48,-25,-83r28,-177v-6,-17,1,-29,8,-40",w:102},m:{d:"348,-59v-2,21,0,57,3,73v-17,3,-30,-1,-32,-16v-8,-7,-5,-44,-13,-70v-35,3,-82,49,-111,70v-12,8,-40,4,-39,-15r2,-56v-1,-13,4,-28,-8,-29v-35,8,-79,72,-115,87v-6,2,-20,-18,-21,-22v1,-20,14,-105,39,-64r8,15v17,-14,72,-56,93,-54v27,3,49,40,43,80v24,-2,66,-55,124,-53v11,14,28,23,27,54",w:368},n:{d:"121,-136v37,6,62,54,62,111v0,32,-16,25,-31,17v-18,-30,-5,-45,-22,-85v-37,-13,-71,55,-92,65v-20,-3,-39,-39,-21,-62v2,-12,3,-15,11,-30v12,-8,20,11,29,12",w:194},o:{d:"108,-139v52,-24,104,18,104,63v0,59,-66,67,-114,83v-52,-2,-115,-50,-80,-105v23,-18,52,-35,90,-41xm45,-60v16,54,125,16,131,-23v-12,-59,-129,-8,-131,23",w:217},p:{d:"82,14v-10,12,-8,117,-24,142v-15,2,-19,0,-29,-13v0,-76,9,-113,22,-192v14,-27,35,-6,37,13v0,8,-3,21,-7,38v2,2,3,2,4,2v26,-9,116,-33,126,-72v-7,-17,-24,-33,-49,-31v-40,3,-116,13,-116,47v-5,7,-2,17,-16,20v-17,-12,-18,-20,-12,-38v8,-25,74,-61,110,-59v55,-15,113,15,118,70v-15,52,-84,79,-146,83v-5,0,-11,-4,-18,-10",w:251},q:{d:"144,-147v27,-8,89,-3,97,31v-9,29,-42,-4,-73,1v-32,6,-118,20,-111,49v0,7,13,13,21,13v21,0,78,-24,104,-34v2,0,9,8,22,21v1,1,1,2,1,5v-27,90,-22,70,-43,203v11,15,-15,54,-33,33v-6,-8,-10,-20,-3,-28v1,-72,5,-114,15,-172v-35,3,-35,10,-59,8v-41,-4,-98,-41,-56,-85v33,-34,59,-27,118,-45",w:248},r:{d:"242,-117v2,22,5,10,-14,23v-73,-7,-166,-23,-174,56v-8,6,-3,20,-8,36v-29,10,-40,-9,-33,-46v6,-31,7,-69,32,-55v58,-37,66,-42,175,-19v3,5,15,4,22,5",w:229},s:{d:"154,-151v19,1,27,24,13,32v-4,1,-22,4,-53,7v-16,8,-22,-2,-39,9v23,21,89,16,96,62v-13,24,-85,35,-124,42v-9,-3,-18,-3,-27,0v-6,-4,-21,-16,-8,-25v30,-6,83,-13,102,-24v-17,-16,-80,-33,-97,-48v-3,-2,-4,-7,-4,-15v-6,-6,3,-13,15,-18v22,-9,94,-23,126,-22",w:188},t:{d:"85,-150v10,-41,35,-126,65,-134v4,1,24,19,11,36v-17,22,-29,57,-36,104v26,8,50,-7,73,5v14,0,22,3,22,9v-1,19,-44,18,-57,23v-10,1,-46,0,-54,10v-10,24,-4,67,-20,98v-21,-3,-26,1,-26,-20v0,-9,2,-36,8,-81v-15,-13,-81,9,-77,-27v4,-38,71,6,91,-23",w:194},u:{d:"207,-136v-1,-2,11,-14,14,-13v6,0,10,7,10,22v-3,40,-23,56,-40,82v-13,19,-62,43,-93,43v-67,-2,-111,-75,-71,-133v26,-3,21,29,19,49v-1,27,26,44,57,42v41,-2,93,-55,104,-92",w:242},v:{d:"24,-127r52,71v42,-16,70,-54,124,-65v5,4,8,7,8,11v-8,19,-4,8,-33,32v0,1,-1,3,-1,5v-61,45,-93,68,-97,68v-40,-15,-50,-72,-68,-100v6,-14,10,-22,15,-22",w:214},w:{d:"15,-139v38,-2,27,57,45,86v30,2,67,-66,101,-78v26,6,36,69,60,78v47,-35,51,-54,119,-104v3,0,7,-2,15,-4v19,23,-9,28,-21,49v-33,28,-68,90,-107,109v-10,6,-52,-47,-72,-71v-20,17,-85,74,-97,73v-38,7,-41,-98,-52,-122v0,-1,3,-7,9,-16",w:325},x:{d:"95,-124v22,-13,78,-32,99,-31v16,0,23,6,23,18v0,22,-17,11,-49,21v-3,0,-45,20,-42,24v0,1,2,4,8,10v20,24,49,41,44,80v-35,3,-27,-9,-60,-44v-40,-43,-37,-26,-79,9v-1,1,-2,3,-3,8v-12,8,-28,10,-27,-11v-6,-8,45,-65,48,-65v-17,-21,-61,-52,-24,-68v9,0,48,37,62,49",w:223},y:{d:"44,-65v22,33,70,4,99,-8v5,-4,28,-15,41,-31r17,0v25,47,-26,70,-40,114v-5,4,-9,8,-10,21v-16,12,-11,33,-27,51v-5,18,-12,43,-23,71v-1,-1,-2,34,-18,29v-12,1,-22,-12,-22,-23v20,-70,24,-65,68,-177v-47,16,-111,8,-116,-39v-11,-13,-7,-62,8,-62v18,0,22,26,23,54",w:216},z:{d:"189,-43v9,-1,46,-6,41,12v0,7,-5,13,-15,14v-45,6,-148,24,-181,13v0,-3,-5,-8,-14,-15v5,-44,66,-46,90,-85v-15,-18,-84,21,-84,-14v0,-10,5,-17,14,-18v33,-3,79,-13,109,-3v4,-2,14,11,12,15v0,23,-26,51,-78,84v28,10,73,-3,106,-3",w:244},"{":{d:"94,-303v27,-9,90,-14,79,26v-20,17,-55,-5,-87,13v-4,1,-6,4,-6,8v33,42,31,44,7,85v-6,10,-13,16,-13,13v5,6,17,17,15,31r-33,78v7,35,28,49,57,63r49,0v7,42,-51,41,-86,20v-43,-13,-51,-51,-56,-89v-2,-25,25,-54,27,-71v-3,-4,-46,-5,-41,-21v2,-10,-3,-29,11,-25v2,0,51,-17,52,-38v4,-3,-25,-23,-25,-49v0,-41,8,-30,50,-44",w:179},"|":{d:"30,-308v26,5,14,50,15,80v5,78,-8,153,-3,225v-2,15,-1,31,-11,36v-8,-3,-25,-22,-25,-32r9,-183v0,-40,0,-78,1,-112v0,-4,9,-15,14,-14",w:63},"}":{d:"47,-298v34,-17,118,-18,112,36v6,25,-76,98,-69,103v4,16,39,7,44,28v7,34,-34,17,-37,39v8,29,49,83,23,123v-15,23,-43,26,-73,46v-34,8,-43,11,-49,-17v1,-15,30,-15,33,-20v24,-12,70,-27,55,-61v-14,-33,-37,-68,-19,-103v-46,-50,46,-100,60,-141v-10,-16,-68,6,-77,-12",w:143},"~":{d:"7,-254v2,-6,59,-50,67,-46v11,-1,35,19,46,26v5,0,27,-10,66,-31v21,8,-1,25,-7,38v-27,21,-48,31,-65,31v-24,-11,-37,-39,-65,-9v-7,7,-26,36,-42,11v3,-5,-3,-17,0,-20",w:199},"\xa0":{w:179},"\xa1":{d:"86,-197v8,16,-7,41,-24,25v-11,-11,-4,-16,-3,-29v13,0,15,-2,27,4xm46,-107v4,-8,11,-16,23,-7v19,26,-5,57,-6,87v-7,0,-5,18,-9,28v0,14,-17,52,-11,70v-2,7,-15,28,-25,12v-4,-6,-15,-7,-6,-16v2,-39,14,-96,34,-174",w:95},"\xa2":{d:"105,-188v13,-12,14,-18,26,-15v7,23,7,15,-3,49v6,0,18,14,17,20v-3,5,-12,19,-26,13v-14,1,-14,5,-16,21v10,10,46,-13,38,18v-9,17,-23,16,-54,20v-17,16,-4,55,-29,60v-37,-10,19,-64,-24,-71v-20,-10,-37,-47,-6,-62v23,-20,73,-4,77,-53xm65,-101v4,-9,7,-8,3,-13v-14,4,-22,10,-3,13",w:154},"\xa3":{d:"153,-170v3,22,62,0,49,39v-18,6,-31,12,-58,9v-12,-1,-17,30,-23,39v19,26,50,56,91,35v9,-2,27,-13,27,4v0,27,-27,39,-58,42v-32,-5,-59,-19,-78,-39v-6,1,-35,44,-57,39v-25,0,-37,-15,-37,-46v0,-41,43,-53,73,-50v4,1,12,-18,12,-21v-7,-15,-49,0,-44,-30v-2,-31,31,-16,60,-19v16,-30,25,-119,93,-113v16,2,75,16,50,44v-4,5,-7,7,-12,8v-18,-12,-32,-18,-41,-18v-35,-1,-38,52,-47,77xm43,-45v4,5,12,-2,11,-9v-1,2,-12,1,-11,9",w:242},"\xa4":{d:"308,-133r-200,16v-2,1,-6,4,-10,10v70,-2,144,-14,211,-8v3,0,8,4,13,8v-1,4,-3,9,-9,17v-57,11,-164,6,-219,25v26,32,112,25,173,25v9,0,35,2,35,19v0,9,-4,13,-12,14v-115,12,-146,23,-211,-19v-12,-4,-22,-9,-25,-27v-6,-29,-61,3,-43,-49v17,-1,36,7,42,-12v-32,7,-36,-39,-11,-40v29,14,63,-25,73,-30v52,-25,72,-44,142,-44v23,0,21,41,-1,39v-35,-3,-61,9,-102,31v2,2,5,4,8,4v18,-6,101,-9,115,-9v7,0,55,13,31,30",w:312},"\u20ac":{d:"308,-133r-200,16v-2,1,-6,4,-10,10v70,-2,144,-14,211,-8v3,0,8,4,13,8v-1,4,-3,9,-9,17v-57,11,-164,6,-219,25v26,32,112,25,173,25v9,0,35,2,35,19v0,9,-4,13,-12,14v-115,12,-146,23,-211,-19v-12,-4,-22,-9,-25,-27v-6,-29,-61,3,-43,-49v17,-1,36,7,42,-12v-32,7,-36,-39,-11,-40v29,14,63,-25,73,-30v52,-25,72,-44,142,-44v23,0,21,41,-1,39v-35,-3,-61,9,-102,31v2,2,5,4,8,4v18,-6,101,-9,115,-9v7,0,55,13,31,30",w:312},"\xa5":{d:"31,-248v30,-3,64,64,74,59v37,-22,77,-65,107,-82v20,-11,34,18,21,32v-28,19,-52,38,-70,57v-18,8,-40,21,-35,60v2,19,39,7,64,7v25,0,16,21,2,27v-36,16,-46,8,-68,18v6,11,101,-20,66,24v-21,11,-42,12,-75,20v-2,1,-5,6,-10,18v-8,3,-11,10,-24,8v-7,-17,-2,-18,-9,-26v-13,5,-39,3,-53,-2v-10,-17,-7,-27,0,-34v23,-1,45,1,64,-5v-11,-7,-28,-4,-64,-6v-13,-8,-15,-24,-6,-35v33,-2,102,9,76,-37v-14,-14,-33,-38,-60,-66v-10,-10,-8,-28,0,-37",w:219},"\xa7":{d:"141,-115v12,10,29,36,28,56v-4,68,-129,69,-152,16v-1,-12,-10,-22,8,-23v17,3,47,21,67,23v16,1,40,-8,38,-21v-8,-49,-119,-30,-117,-85v1,-28,15,-45,-3,-64v-1,-53,55,-61,103,-62v15,-5,6,-5,20,-2v16,17,23,27,23,30v-1,26,-29,7,-45,7v-21,0,-51,2,-62,17v19,14,87,8,97,43v18,14,16,57,-5,65xm64,-147r57,17v10,-28,-22,-43,-47,-44v-25,-1,-35,19,-10,27",w:174},"\xa8":{d:"124,-259v0,9,-4,13,-12,13v-18,0,-22,-21,-17,-35v19,-1,30,1,29,22xm23,-285v7,2,30,9,29,18v1,10,-9,19,-18,19v-19,0,-28,-26,-11,-37",w:136},"\xa9":{d:"102,-29v-74,5,-124,-84,-70,-140v22,-22,53,-35,97,-38v46,-4,88,49,74,100v0,44,-51,75,-101,78xm96,-66v42,-3,75,-23,75,-69v0,-23,-4,-38,-44,-38v-16,0,-33,6,-49,20v36,-4,55,-12,62,20v-5,16,-49,1,-50,21v10,15,53,-14,54,11v0,18,-14,27,-42,27v-22,1,-46,-11,-46,-31v0,-25,7,-39,20,-44v-1,-1,-2,-2,-3,-2v-51,22,-32,89,23,85",w:217},"\xaa":{d:"6,-265v1,-31,58,-53,80,-22v-11,14,25,28,25,36v-2,8,-15,12,-27,10v-22,-29,-68,19,-78,-24xm52,-281v-8,1,-24,10,-9,13v11,1,24,-10,9,-13",w:117},"\xab":{d:"191,-64v16,6,87,37,53,63v-39,-9,-71,-28,-107,-40v-14,-13,-13,-34,10,-47v27,-15,48,-55,84,-62v9,-2,21,10,21,18r-13,21v-16,5,-44,22,-51,41v0,4,1,6,3,6xm71,-65v17,6,87,35,55,62v-39,-8,-66,-27,-108,-40v-14,-13,-13,-36,10,-46v23,-18,50,-56,84,-63v9,-2,21,10,21,18r-13,22v-20,6,-32,17,-51,37v0,3,-1,11,2,10",w:265},"\xac":{d:"141,-99v47,7,103,-3,149,6v14,24,18,15,10,39v-10,34,-7,31,-26,76v-4,6,-15,8,-16,21v-4,2,-4,1,-13,5v-22,-33,-4,-33,16,-104v-5,-9,-28,-4,-38,-6r-183,4v-14,0,-41,-29,-17,-36v31,-9,82,5,118,-5",w:315},"\xae":{d:"75,-194v78,-29,116,9,130,84v-2,42,-22,47,-57,67v-74,20,-161,-19,-129,-110v6,-18,29,-34,57,-40xm46,-86v51,36,84,21,129,-15v7,-15,0,-39,-10,-49v-13,-37,-49,-26,-86,-18v-28,7,-49,46,-33,82xm72,-123v-5,-43,68,-57,75,-14v-17,26,-18,17,3,32v2,25,-25,18,-45,7r-4,-4v-1,8,-3,20,-12,24v-10,-3,-21,-34,-17,-45xm112,-135v-10,-1,-20,13,-9,14v6,-6,9,-11,9,-14",w:217},"\xaf":{d:"63,-295v28,-7,73,10,105,7v11,1,6,8,5,19v-37,21,-72,11,-136,11v-23,0,-31,-14,-27,-36v12,-15,40,0,53,-1",w:183},"\xb0":{d:"106,-268v0,36,-35,38,-51,46v-48,5,-60,-58,-25,-78v33,-11,76,-9,76,32xm38,-257v16,7,39,2,38,-17v-13,-9,-28,-1,-32,11v-5,3,-7,0,-6,6",w:114},"\xb1":{d:"93,-163v-7,46,76,-4,46,47v-14,6,-27,13,-38,8v-24,2,-14,28,-28,44r-14,0v-7,-12,-5,-15,-7,-33v-12,-7,-41,-1,-37,-24v2,-11,23,-17,36,-14r28,-38v4,0,9,4,14,10xm113,-27v-12,18,-58,27,-85,24v-16,2,-22,-23,-13,-36v28,-7,85,-11,98,12",w:151},"\xb4":{d:"52,-284v29,-11,50,-34,62,-14v3,12,-86,54,-94,56v-14,0,-16,-12,-12,-23v11,-5,25,-11,44,-19",w:120},"\xb6":{d:"121,-237v21,-9,44,-13,63,-1v-1,7,5,6,7,11r-4,190v-2,33,4,39,-15,40v-16,1,-10,-20,-10,-33r4,-161v0,-17,-1,-34,-16,-25v2,10,1,23,1,35v-9,46,-6,75,-15,156v-3,4,-7,5,-12,5v-17,-10,-3,-89,-10,-115v-43,14,-98,10,-101,-29v-4,-53,59,-63,104,-75v3,1,4,2,4,2xm95,-204v2,9,-30,50,1,50v35,0,23,-13,29,-43v0,-1,-2,-7,-4,-15v-12,-1,-14,2,-26,8",w:206},"\xb8":{d:"74,16v32,2,49,14,55,36v-3,7,-14,31,-29,33v-28,4,-57,11,-88,14v-19,-6,-13,-31,8,-33v20,-1,59,-5,73,-14v-17,-14,-68,8,-53,-37v9,-10,2,-28,24,-30v8,8,13,17,10,31",w:129},"\xba":{d:"13,-273v1,-31,56,-41,83,-18v36,8,14,48,-9,52v-35,6,-64,-5,-74,-34xm81,-269v-7,-7,-20,-11,-29,-6v5,13,13,11,29,6",w:128},"\xbb":{d:"120,-129v9,-33,48,-10,64,5v9,20,86,52,50,86v-36,11,-66,31,-107,40v-6,-7,-9,-13,-9,-17v-2,-13,50,-46,63,-46v11,-18,-33,-42,-48,-47xm1,-128v10,-33,46,-8,64,6v8,19,86,50,51,85v-40,13,-69,30,-108,40v-6,-7,-8,-12,-8,-16v-2,-14,50,-46,63,-47v7,-13,-9,-20,-19,-30v-10,-9,-20,-15,-30,-17",w:252},"\xbf":{d:"181,-247v3,1,31,2,29,15v-4,22,-37,27,-41,4v1,-5,7,-20,12,-19xm161,-34v-45,-1,-105,19,-124,51v0,11,18,17,54,17v39,0,82,-13,112,4v-10,35,-58,31,-100,31v-47,0,-80,-10,-99,-31v-10,-56,22,-73,64,-90v8,-3,32,-9,74,-18v21,-15,7,-62,22,-92v-1,-5,-1,-11,4,-12v16,0,24,7,24,22v-8,30,-8,73,-17,111v-3,5,-7,7,-14,7",w:213},"\xc0":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm150,-268v14,10,54,14,37,41v-28,-7,-62,-22,-100,-42v-2,-3,-2,-26,5,-23v16,4,42,17,58,24"},"\xc1":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm84,-250v31,-5,83,-53,100,-31v0,5,-11,15,-35,28v-16,5,-51,28,-53,25v-14,1,-16,-11,-12,-22"},"\xc2":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm202,-219v-27,-6,-40,-26,-61,-37v-21,7,-39,46,-65,23v-2,-4,-3,-10,-4,-14v19,-4,43,-32,61,-43v27,6,40,22,62,37v12,8,18,17,18,25v0,6,-3,9,-11,9"},"\xc3":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm100,-285v26,-19,54,19,69,22v4,0,15,-5,34,-13v23,-9,22,-17,31,-12v3,11,-9,9,-7,21v-26,20,-46,30,-59,30v-3,3,-50,-26,-49,-29v-12,1,-31,35,-51,32v-3,-8,-5,-14,-5,-18v10,-9,16,-17,37,-33"},"\xc4":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm187,-259v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm90,-284v7,3,28,11,28,18v0,9,-9,18,-18,17v-17,0,-25,-24,-10,-35"},"\xc5":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm112,-239v-31,-17,-9,-61,29,-56v12,2,22,3,33,12v24,39,-30,62,-62,44xm119,-262v2,14,41,8,41,-4v0,-4,-8,-6,-24,-9v-10,-2,-17,10,-17,13"},"\xc6":{d:"335,-259v0,30,-102,12,-122,34v10,21,2,79,16,100v24,-6,59,-13,86,-16v23,-2,32,21,13,26r-103,29v-3,22,-4,38,8,43v28,-5,60,-6,86,-14v5,-1,14,7,14,11v6,16,-90,40,-107,40v-29,0,-39,-19,-32,-46v-2,-4,0,-26,-9,-28v-29,2,-58,6,-88,6v-31,0,-40,74,-82,73v-18,-23,4,-37,12,-50v40,-65,112,-126,165,-207v20,-17,69,-11,112,-13v21,0,31,4,31,12xm123,-111v28,1,44,-2,67,-10v-4,-22,5,-49,-7,-65v-3,6,-65,61,-60,75",w:348},"\xc7":{d:"48,-108v-12,70,90,71,159,67r138,-9v9,-1,7,9,7,17v-37,16,-80,27,-103,21v-14,9,-40,3,-67,9v-30,0,-64,1,-100,-10v-6,-1,-10,-4,-10,-8v-32,-12,-46,-31,-63,-56v-16,-61,47,-103,83,-121v82,-42,118,-45,200,-60v21,-4,36,34,11,37v-90,11,-148,31,-225,77v-12,8,-23,20,-30,36xm172,18v29,4,47,14,53,35v-2,7,-14,31,-27,31v-28,7,-55,9,-84,14v-18,-5,-13,-32,7,-32v21,0,55,-5,69,-13v-16,-14,-63,10,-50,-35v9,-10,1,-27,23,-29v7,8,11,16,9,29",w:331},"\xc8":{d:"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm184,-236v6,9,5,13,0,23v-28,-7,-62,-21,-100,-41v-3,-2,-3,-27,5,-23v34,11,60,25,95,41",w:252},"\xc9":{d:"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm133,-248v27,-11,48,-32,59,-14v3,11,-79,52,-88,53v-14,1,-16,-11,-12,-21v10,-4,23,-11,41,-18",w:252},"\xca":{d:"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm199,-211v-27,-6,-39,-26,-60,-37v-21,7,-40,47,-65,22v-2,-7,-2,-7,-4,-13v18,-5,44,-31,61,-43v27,6,41,22,62,37v12,9,18,17,18,25v0,6,-4,9,-12,9",w:252},"\xcb":{d:"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-17,41,-17,51v55,0,112,-21,169,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-3,-21,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm191,-236v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm95,-261v7,3,29,9,28,18v0,7,-9,17,-18,17v-18,0,-26,-25,-10,-35",w:252},"\xcc":{d:"33,-5v-9,-6,-9,-12,-9,-36v0,-71,8,-119,22,-144v8,-13,14,-20,19,-20v27,20,-11,87,-10,120r-15,76v-1,1,-4,2,-7,4xm72,-247v7,6,55,15,36,40v-28,-7,-61,-21,-99,-41v-3,-2,-3,-27,5,-23v18,3,41,17,58,24",w:111},"\xcd":{d:"26,-5v-9,-6,-9,-12,-9,-36v0,-71,7,-119,21,-144v8,-13,14,-20,19,-20v28,19,-7,89,-10,120v-2,21,-8,47,-14,76v-2,1,-2,0,-7,4xm6,-233v31,-6,83,-53,101,-31v2,11,-80,53,-89,53v-14,1,-14,-11,-12,-22",w:104},"\xce":{d:"53,-9v-15,7,-16,-3,-16,-32v0,-71,7,-119,21,-144v8,-13,14,-20,19,-20v28,19,-7,89,-10,120v-2,21,-8,47,-14,76xm137,-209v-27,-6,-40,-26,-61,-37v-8,0,-9,4,-13,10v-11,13,-50,37,-56,0v18,-5,43,-32,61,-43v28,5,40,21,62,36v12,9,18,17,18,25v0,6,-4,9,-11,9",w:144},"\xcf":{d:"33,-5v-9,-6,-9,-12,-9,-36v0,-71,8,-119,22,-144v8,-13,14,-20,19,-20v27,20,-11,87,-10,120r-15,76v-1,1,-4,2,-7,4xm111,-222v0,8,-4,12,-12,12v-18,0,-19,-19,-16,-33v18,-1,29,1,28,21xm15,-247v8,2,29,9,28,17v0,21,-37,24,-36,1v0,-7,2,-13,8,-18",w:110},"\xd1":{d:"224,-182v1,-17,15,-24,22,-38v20,0,13,10,3,33v-3,36,-25,52,-28,94v-10,24,-30,55,-29,82r-19,7v-32,-8,-36,-70,-58,-111v-2,-23,-7,-27,-19,-54v-28,36,-41,93,-71,133v-9,5,-20,-9,-20,-17r73,-149v9,-24,31,-5,36,7v19,41,31,98,53,139v22,-35,34,-69,50,-118v2,-3,3,-3,7,-8xm203,-257v22,-8,41,-24,65,-26v3,11,-8,9,-7,21v-26,20,-46,31,-59,31v-2,3,-49,-27,-49,-29v-11,0,-32,31,-46,32v-11,-2,-12,-21,-4,-23v4,-6,28,-30,48,-34v17,-4,43,28,52,28",w:219},"\xd2":{d:"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm161,-262v14,10,52,13,37,41v-28,-7,-62,-21,-100,-41v-3,-3,-3,-26,5,-24v16,5,42,17,58,24",w:273},"\xd3":{d:"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm142,-250v27,-11,47,-32,59,-14v2,11,-80,53,-89,53v-13,1,-15,-11,-12,-21v10,-5,24,-11,42,-18",w:273},"\xd4":{d:"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm157,-282v17,18,52,34,54,63v-24,12,-52,-36,-53,-29r-42,34v-23,-4,-6,-31,5,-34v1,1,27,-37,36,-34",w:273},"\xd5":{d:"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm116,-270v26,-19,54,19,69,22v4,0,15,-5,34,-13v23,-10,22,-16,31,-12v3,11,-8,9,-7,21v-45,28,-47,42,-88,16v-29,-19,-12,-20,-43,2v-8,5,-12,18,-23,15v-13,-3,-12,-20,-4,-23v4,-6,14,-15,31,-28",w:273},"\xd6":{d:"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm197,-229v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm101,-254v7,3,28,9,27,18v1,8,-8,17,-17,17v-18,0,-26,-24,-10,-35",w:273},"\xd8":{d:"76,-211v41,-13,100,-22,140,-3v26,-19,40,-29,44,-29v10,0,15,7,15,20v0,15,-23,23,-30,35v23,39,29,114,-21,139v-36,19,-102,35,-147,18v-14,-5,-29,29,-46,35v-25,-13,-19,-24,3,-56v-9,-17,-28,-27,-28,-60v0,-38,23,-72,70,-99xm107,-66v55,15,125,-12,123,-70v0,-16,-5,-25,-13,-29r-110,95r0,4xm39,-108v-1,3,17,31,22,27v8,-6,109,-90,123,-106v-15,-11,-43,1,-63,2v-33,10,-80,35,-82,77",w:270},"\xd9":{d:"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm151,-243v14,10,54,14,37,41v-28,-7,-61,-22,-99,-42v-3,-2,-4,-25,4,-23v16,5,42,17,58,24",w:262},"\xda":{d:"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm194,-265v3,-1,11,4,11,6v3,12,-81,52,-89,54v-14,0,-13,-9,-12,-22",w:262},"\xdb":{d:"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm150,-266v24,11,58,27,73,46v0,5,-3,6,-10,6v-28,2,-61,-30,-63,-25v-10,0,-57,40,-69,23v3,-10,-8,-15,8,-19v17,-1,34,-29,61,-31",w:262},"\xdc":{d:"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-29,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm197,-227v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm101,-252v7,3,27,10,27,18v0,8,-9,18,-18,17v-18,-1,-24,-25,-9,-35",w:262},"\xdf":{d:"33,10v-29,4,-28,-32,-16,-70v18,-58,17,-137,56,-176v12,-24,46,-58,82,-43v20,8,47,24,47,54v0,30,-62,59,-67,90v33,23,56,33,63,63v-18,21,-22,36,-48,54v-24,17,-27,41,-53,16v-2,-19,7,-35,24,-42v15,-13,26,-22,34,-40v-13,-17,-78,-29,-56,-70v-3,-27,64,-54,66,-86v-8,-25,-41,-4,-52,8v-29,30,-47,83,-51,141v-17,25,-8,71,-29,101"},"\xe0":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm99,-137v7,6,56,14,37,40v-28,-7,-62,-21,-100,-41v-2,-3,-2,-26,5,-23v16,4,42,17,58,24",w:173},"\xe1":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm32,-117v24,-3,85,-55,101,-32v3,11,-80,53,-89,53v-13,2,-14,-10,-12,-21",w:173},"\xe2":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm147,-97v-27,-6,-39,-26,-60,-37v-21,7,-38,46,-65,23v-2,-5,-3,-10,-4,-14v18,-4,43,-31,61,-42v28,5,40,21,62,36v12,8,18,17,18,25v0,6,-4,9,-12,9",w:173},"\xe3":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm114,-136v22,-8,41,-24,64,-26v3,11,-7,10,-7,21v-26,20,-45,30,-58,30v-3,3,-49,-26,-49,-28v-10,-1,-32,35,-51,31v-12,-32,8,-29,32,-51v24,-21,54,20,69,23",w:173},"\xe4":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-32,5,-66,-64,-15,-77v39,-26,92,-36,104,9v0,6,-3,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm142,-119v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm46,-144v7,3,28,9,27,18v1,8,-9,18,-18,17v-18,-1,-25,-25,-9,-35",w:173},"\xe5":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm54,-101v-37,-20,-9,-71,34,-65v13,1,25,3,38,13v27,45,-34,73,-72,52xm61,-128v4,20,48,7,49,-5v0,-5,-9,-7,-28,-10v-12,-2,-21,11,-21,15",w:173},"\xe6":{d:"145,-44r33,7v2,42,-59,29,-85,16v-6,7,-35,24,-48,15v-19,2,-35,-21,-33,-37v2,-24,5,-19,28,-36v-6,-8,-45,3,-33,-21v21,-22,58,-12,85,-1v6,-5,35,-28,45,-15v20,-4,36,17,36,35v0,23,-4,21,-28,37xm111,-72v12,3,49,-16,19,-17v-5,0,-20,12,-19,17xm74,-50v-14,-4,-48,16,-19,17v4,1,19,-14,19,-17",w:184},"\xe7":{d:"108,-118v30,-6,56,21,25,33v-24,-6,-39,5,-75,23v-7,4,-12,12,-15,22v31,28,86,3,128,9v3,28,-29,16,-44,28v-53,15,-106,10,-120,-37v0,-48,62,-70,101,-78xm92,18v23,4,45,12,48,32v-2,6,-12,28,-25,28v-24,6,-50,10,-77,13v-16,-4,-11,-28,7,-29v17,-1,51,-4,63,-12v-14,-15,-57,10,-46,-32v9,-8,0,-25,21,-26v6,6,12,14,9,26",w:171},"\xe8":{d:"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm95,-166v7,6,54,14,37,40v-28,-7,-62,-21,-100,-41v-3,-3,-3,-26,5,-24v16,5,42,18,58,25",w:161},"\xe9":{d:"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm76,-169v26,-11,48,-32,59,-14v3,10,-80,53,-89,53v-14,1,-14,-10,-12,-21v15,-7,16,-7,42,-18",w:161},"\xea":{d:"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm145,-129v-27,-6,-39,-26,-60,-37v-8,0,-10,4,-14,10v-11,15,-51,34,-56,0v17,-4,44,-32,61,-43v28,5,41,21,63,36v12,8,17,17,17,25v0,6,-3,9,-11,9",w:161},"\xeb":{d:"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10r-3,3v0,3,12,7,36,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-67,-27,-71,-58v7,-52,48,-65,105,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm140,-144v0,8,-4,12,-12,12v-18,0,-19,-19,-16,-33v18,-1,29,1,28,21xm44,-169v7,3,28,9,28,17v0,9,-9,18,-18,18v-18,0,-25,-24,-10,-35",w:161},"\xec":{d:"57,-98v22,5,13,50,11,95v-7,1,-11,2,-20,-4v1,-7,-12,-18,-10,-24v4,-22,-2,-64,19,-67xm70,-139v14,10,54,14,37,41v-28,-7,-61,-22,-99,-42v-3,-2,-3,-25,5,-23v15,5,41,17,57,24",w:109},"\xed":{d:"59,-98v20,4,15,53,10,95v-6,1,-11,2,-19,-4v1,-7,-12,-18,-10,-24v4,-22,-4,-65,19,-67xm50,-139v27,-11,49,-32,59,-14v3,11,-80,53,-89,53v-14,1,-14,-12,-11,-22v15,-7,14,-6,41,-17",w:105},"\xee":{d:"72,-98v20,5,12,51,10,95v-6,2,-13,1,-20,-4v1,-8,-12,-18,-10,-24v4,-22,-3,-65,20,-67xm134,-94v-26,-7,-39,-25,-60,-37v-7,0,-9,4,-13,10v-14,15,-51,34,-56,-1v18,-4,45,-33,61,-43v27,6,40,22,62,37v12,8,18,17,18,25v0,6,-4,9,-12,9",w:143},"\xef":{d:"55,-97v19,5,15,53,10,95v-17,5,-26,-14,-30,-28v6,-20,-3,-65,20,-67xm110,-118v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm14,-143v6,3,28,8,28,17v0,9,-9,18,-18,18v-18,0,-25,-24,-10,-35",w:107},"\xf1":{d:"115,-129v34,6,59,50,59,105v0,31,-15,24,-30,17v-15,-29,-5,-42,-20,-81v-35,-13,-68,52,-88,61v-20,-4,-38,-36,-19,-59v0,-12,3,-14,10,-28v11,-8,18,11,27,12xm117,-166v22,-7,41,-23,64,-26v3,11,-7,10,-7,21v-26,20,-45,30,-58,30v-3,3,-49,-26,-49,-28v-10,-1,-32,35,-51,31v-5,-12,-8,-16,0,-23v4,-6,28,-29,48,-33v17,-3,43,28,53,28",w:171},"\xf2":{d:"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm115,-181v14,10,51,13,37,40v-28,-7,-62,-21,-100,-41v-3,-2,-3,-26,5,-23v16,5,42,17,58,24",w:191},"\xf3":{d:"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm49,-154v24,-3,85,-55,101,-32v3,11,-80,53,-89,53v-14,0,-13,-8,-12,-21",w:191},"\xf4":{d:"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm110,-177v-22,6,-38,45,-65,22v-2,-4,-3,-9,-4,-13v18,-4,43,-32,61,-43v27,6,40,21,62,36v12,9,18,17,18,25v1,11,-15,10,-23,7",w:191},"\xf5":{d:"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm58,-199v26,-21,54,18,69,22v4,0,15,-5,34,-13v22,-9,21,-16,31,-13v3,11,-9,9,-7,22v-26,20,-46,30,-59,30v-2,4,-49,-28,-49,-29v-11,0,-32,31,-46,32v-12,-3,-13,-21,-4,-23v4,-6,14,-15,31,-28",w:191},"\xf6":{d:"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm161,-160v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm65,-185v7,3,28,9,28,18v0,7,-9,18,-18,17v-18,1,-25,-24,-10,-35",w:191},"\xf7":{d:"167,-158v-4,3,-7,9,-10,20v-23,4,-34,-8,-29,-31v14,-6,18,1,39,11xm78,-72v-53,11,-53,12,-69,-15v-1,-12,11,-17,22,-14v71,-13,151,-18,230,-24v11,1,21,16,23,28v-28,20,-90,11,-126,16v-36,5,-62,5,-80,9xm123,-40v19,-17,41,-1,41,17v0,13,-6,19,-17,19v-15,0,-29,-14,-24,-36",w:293},"\xf8":{d:"76,-136v17,7,33,-8,51,0v9,-6,21,-13,36,-21v23,22,-13,31,3,50v11,13,4,21,14,35v-4,5,-1,14,-4,23v-14,23,-45,41,-84,39v-12,2,-29,28,-41,38v-2,-11,-34,-10,-15,-30v3,-7,5,-11,5,-11v-15,-24,-60,-54,-22,-89v23,-21,25,-32,57,-34xm102,-54v18,1,50,-19,30,-32v-12,7,-22,18,-30,32xm85,-92v-14,3,-26,8,-38,17v2,20,17,13,26,0v6,-8,12,-13,12,-17",w:188},"\xf9":{d:"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm126,-166v7,6,56,14,37,40v-28,-7,-62,-22,-100,-42v-2,-3,-2,-26,5,-23v16,4,42,18,58,25",w:213},"\xfa":{d:"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm106,-174v26,-11,48,-32,59,-14v3,11,-81,53,-89,54v-13,1,-15,-12,-11,-22v15,-7,14,-7,41,-18",w:213},"\xfb":{d:"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm172,-143v-27,-6,-39,-26,-60,-37v-8,0,-10,4,-14,10v-11,15,-49,35,-56,0v17,-4,44,-32,61,-43v27,6,41,21,63,36v12,9,17,17,17,25v0,6,-3,9,-11,9",w:213},"\xfc":{d:"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm168,-161v0,8,-3,13,-11,13v-17,0,-20,-19,-17,-34v18,-1,29,1,28,21xm72,-186v7,3,29,9,28,18v0,7,-9,18,-18,17v-18,1,-25,-24,-10,-35",w:213},"\xff":{d:"118,85v-11,11,-11,38,-22,61v-2,-1,-2,31,-17,27v-11,0,-21,-10,-21,-22v20,-66,23,-61,64,-168v-22,1,-38,16,-58,4v-22,4,-51,-16,-51,-42v-11,-13,-7,-59,7,-58v16,1,21,24,22,51v21,33,66,5,94,-7v4,-3,26,-14,38,-29r17,0v23,44,-23,59,-34,102v-6,9,-13,9,-13,26v-15,6,-12,33,-27,48v0,2,1,4,1,7xm158,-136v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,29,1,28,21xm62,-161v7,3,28,9,27,18v1,8,-8,17,-17,17v-18,0,-26,-24,-10,-35",w:190},"\u0131":{d:"43,-103v21,4,16,56,11,100v-7,2,-11,1,-20,-5v0,-7,-13,-18,-11,-25v4,-23,-3,-68,20,-70",w:80},"\u0152":{d:"247,-243v71,4,161,-7,245,-8v17,0,27,6,27,17v-8,27,-70,14,-104,23v-3,1,-52,0,-65,7r0,4v16,16,17,29,17,65v32,10,74,-14,99,16v-14,25,-76,17,-127,24v-17,18,-55,32,-75,51v85,0,128,-3,204,-11v15,-2,21,11,20,29v-78,24,-177,12,-270,24v-24,3,-24,-29,-48,-15v-46,7,-70,4,-105,-4v-19,-18,-42,-22,-52,-55v-10,-34,0,-47,12,-78v-18,-59,48,-78,105,-84v17,-18,103,-13,117,-5xm125,-45v76,-9,186,-43,209,-105v-26,-67,-137,-83,-217,-54v3,34,-45,25,-60,58v-41,48,5,108,68,101",w:492},"\u0153":{d:"185,-54v25,28,107,-17,104,33v-12,12,-60,14,-87,14v0,0,1,1,2,1v-11,1,-39,-9,-50,-17v-28,17,-75,32,-114,7v-22,-14,-34,-11,-34,-41v0,-36,33,-49,48,-75v29,-16,72,-3,95,11v12,-9,48,-27,59,-26v30,0,64,15,65,40v0,7,-6,20,-20,37v-29,1,-44,11,-68,16xm226,-106v-21,-7,-41,-2,-48,13v14,1,42,-7,48,-13xm132,-87v-21,-35,-94,11,-92,24v-2,14,43,21,61,21v25,0,36,-20,31,-45",w:295},"\u0178":{d:"176,-189v35,20,-25,54,-39,72v-26,34,-57,57,-74,104v-10,15,-4,14,-23,3r0,-10v19,-44,27,-46,50,-81v-9,-5,-24,4,-34,4v-38,0,-54,-50,-44,-87v21,-5,18,19,22,35v4,18,15,27,29,27v41,0,60,-39,113,-67xm153,-222v0,8,-3,12,-11,12v-18,0,-21,-19,-16,-33v18,-1,28,2,27,21xm57,-247v8,2,29,9,28,17v0,21,-37,24,-36,1v0,-7,2,-13,8,-18",w:135},"\u0192":{d:"115,-262v-23,6,-39,63,-38,96v1,3,57,2,54,16v1,22,-45,15,-51,30v3,34,12,68,10,103v14,17,-18,53,-28,63v-48,8,-89,5,-95,-37v20,-5,77,21,83,-18v17,-29,-4,-61,0,-98v0,-5,-3,-10,-7,-17v-33,4,-43,-17,-25,-37v10,-4,27,5,27,-10v0,-43,15,-77,32,-109v12,-7,16,-22,38,-20v11,1,51,35,25,55v-9,1,-16,-17,-25,-17",w:145},"\u02c6":{d:"144,-220v-29,0,-41,-27,-63,-39v-8,0,-11,5,-15,11v-17,12,-32,31,-54,13v-2,-5,-3,-9,-4,-14v20,-5,45,-33,64,-45v28,6,43,23,65,38v12,9,19,19,19,27v0,6,-4,9,-12,9",w:165},"\u02c7":{d:"39,-286v33,46,63,-4,96,-16v6,0,9,6,9,19v0,24,-49,46,-77,46v-32,0,-52,-28,-59,-48v0,-25,23,-17,31,-1",w:153},"\u02d8":{d:"65,-269v20,-11,45,-31,74,-36v20,30,-42,40,-59,66v-5,6,-11,8,-18,8v-8,-3,-45,-32,-51,-54v5,-24,14,-13,34,1",w:158},"\u02d9":{d:"23,-302v15,-13,32,1,32,18v1,22,-36,29,-39,4v0,0,3,-7,7,-22",w:70},"\u02da":{d:"23,-225v-43,-24,-11,-85,41,-78v16,2,31,4,46,17v32,54,-41,86,-87,61xm33,-257v2,20,57,11,57,-6v0,-6,-11,-9,-33,-12v-14,-2,-24,13,-24,18",w:123},"\u02db":{d:"82,-5v-8,12,-16,55,-21,75v0,4,2,7,7,7v6,0,22,-7,50,-20v8,0,12,7,12,20v-2,22,-6,14,-27,30v-15,12,-26,16,-30,16v-47,-8,-59,-14,-56,-75v8,-27,12,-54,25,-77v19,-21,35,15,40,24",w:138},"\u02dc":{d:"47,-300v26,-21,57,19,72,23v4,0,16,-5,36,-14v24,-10,22,-16,32,-13v3,12,-7,11,-7,23v-27,21,-48,32,-62,32v-3,2,-52,-27,-51,-31v-12,-2,-34,40,-54,33v-4,-13,-8,-18,1,-24v5,-7,16,-15,33,-29",w:186},"\u02dd":{d:"91,-249v15,-11,38,-53,57,-29v0,9,0,14,-3,23v-2,3,-20,22,-54,55v-5,5,-10,8,-16,8v-17,2,-6,-22,-7,-31v-1,0,-2,0,-4,1v-17,21,-29,31,-50,27v-5,-18,-3,-15,3,-27v23,-27,40,-46,48,-59v7,-12,31,3,29,9v-1,14,-3,24,-13,31v4,4,9,-1,10,-8",w:151},"\u2013":{d:"6,-66v-8,-72,79,-21,146,-39v37,-10,79,7,111,0v9,8,14,13,14,17v2,26,-72,13,-99,21v-83,4,-124,21,-172,1",w:282},"\u2014":{d:"175,-106v86,-9,201,1,286,-1v11,6,13,11,6,30v-118,15,-246,10,-377,10v-25,0,-73,3,-82,-8r-2,-26v11,-13,32,-9,52,-7v38,3,84,-5,117,2",w:485},"\u2018":{d:"73,-262v-10,7,-41,39,-38,69v-15,13,-27,-16,-28,-28v-2,-20,51,-83,66,-83v20,0,25,41,0,42",w:95},"\u2019":{d:"74,-300v13,31,-1,99,-44,101v-13,0,-19,-5,-19,-15v6,-10,31,-34,35,-59v2,-11,1,-32,11,-32v6,0,11,2,17,5",w:90},"\u201a":{d:"25,63v-26,21,-48,-2,-22,-24v14,-12,35,-40,35,-69v3,-2,3,-11,12,-9v35,17,5,88,-25,102",w:97},"\u201c":{d:"66,-261v-21,5,-37,51,-22,77v0,4,-2,6,-7,6v-31,-9,-38,-62,-12,-94v12,-15,21,-28,31,-34v16,-1,19,24,22,34v10,-11,22,-32,43,-23v-2,8,4,16,5,19v-6,11,-51,53,-29,74v-12,21,-30,5,-33,-17v-6,-13,9,-28,2,-42",w:118},"\u201d":{d:"120,-294v12,3,30,26,19,34v2,15,-40,70,-55,66v-40,-10,10,-51,14,-64v3,-3,8,-31,22,-36xm70,-306v14,3,26,34,16,49v-19,30,-31,45,-58,59v-12,-11,-33,-17,-7,-36v13,-19,36,-27,36,-59v0,-5,9,-13,13,-13",w:148},"\u201e":{d:"25,63v-26,21,-48,-2,-22,-24v11,-9,36,-41,35,-69v3,-2,4,-12,12,-9v36,14,5,89,-25,102xm84,64v-24,20,-45,-1,-21,-24v21,-20,32,-35,35,-69v3,-2,3,-11,12,-9v36,17,9,86,-26,102",w:135},"\u2020":{d:"22,-286v15,6,5,-20,19,-19v9,-3,15,21,17,22v6,1,12,3,20,6v3,10,5,16,-9,16v-34,-10,-6,51,-34,52v-20,-7,11,-47,-15,-49v-14,3,-25,-5,-17,-24v7,-2,14,-4,19,-4",w:77},"\u2021":{d:"102,-284v16,2,42,-2,33,18v-7,15,-42,1,-38,30v3,3,31,1,30,11v4,15,-29,19,-36,24v-2,18,-4,24,-16,29r-25,-26v-25,7,-53,3,-42,-25v4,-10,70,0,51,-22v-17,4,-41,12,-39,-15v-5,-16,39,-18,44,-20v4,-2,7,-10,10,-24v19,-3,23,6,28,20",w:145},"\u2022":{d:"130,-114v0,47,-124,54,-120,-8r6,-31v44,-28,64,-34,104,0v8,6,10,20,10,39",w:139},"\u2026":{d:"244,-24v-1,21,-38,32,-41,3v-2,-19,23,-22,34,-17v0,7,0,15,7,14xm113,-24v0,-22,28,-21,38,-8v5,34,-39,40,-38,8xm35,-2v-10,-2,-36,-17,-18,-29v-1,-15,17,-17,31,-6v7,17,6,33,-13,35",w:258},"\u2030":{d:"398,-131v58,-1,87,13,72,65v-1,30,-66,63,-99,65v-56,3,-99,-58,-62,-102v2,2,5,2,8,2v20,-16,51,-17,81,-30xm202,-279v33,0,94,-24,95,18v-7,31,-33,27,-54,55v-36,32,-71,74,-112,99v-18,18,-40,34,-51,58v-19,14,-25,37,-56,40v-17,2,-25,-29,-10,-40v15,-11,40,-37,52,-52r87,-72v-51,13,-100,6,-116,-27v1,-5,-6,-30,-9,-36v-3,-5,22,-41,27,-39v29,2,16,34,5,49v0,15,14,23,42,23v42,0,59,-31,28,-38v-17,-4,-53,3,-50,-23v0,-7,1,-12,4,-16v16,-9,36,4,49,5v0,0,23,-4,69,-4xm222,-118v33,-2,55,18,50,57v-29,36,-48,45,-96,50v-27,-5,-56,-17,-58,-51v13,-37,64,-43,104,-56xm335,-61v13,44,101,7,108,-31v-11,-3,-20,-4,-30,-4v-18,-1,-82,18,-78,35xm225,-244v-18,0,-29,-1,-46,3v7,15,6,28,0,43v15,-14,34,-30,46,-46xm164,-53v26,5,59,-10,76,-26v-17,-16,-49,2,-67,14v1,8,-8,6,-9,12",w:485},"\u2039":{d:"64,-107v9,17,86,17,87,43v0,11,-4,16,-13,16v-36,-11,-70,-22,-109,-31v-19,-4,-18,-14,-9,-36v59,-56,93,-84,101,-84v17,0,19,20,13,29",w:159},"\u203a":{d:"41,-181v26,27,112,44,70,91r-82,60v-20,3,-25,-23,-13,-32r70,-51r-66,-46v-5,-6,-4,-28,5,-29v4,2,9,4,16,7",w:137},"\u2044":{d:"193,-305v7,6,17,31,3,41v-10,7,-12,13,-21,25v-79,56,-190,209,-197,260r-18,0v-23,-19,9,-70,15,-85v52,-83,121,-179,218,-241",w:120},"\u2122":{d:"213,-307v28,9,11,49,7,75v-1,4,-4,6,-11,6v-7,1,-11,-14,-11,-34v-14,-6,-34,34,-46,28v-2,0,-10,-9,-24,-27v-10,7,-3,36,-27,31v-15,-24,-3,-27,1,-48v-6,-7,-27,-1,-31,3v-3,14,-7,30,-11,51v-5,10,-29,9,-24,-12v-5,-8,1,-18,3,-35v-13,6,-33,2,-29,-18v20,-17,64,-17,100,-19v28,-1,29,30,45,39v11,-6,35,-32,58,-40",w:239},"\u2206":{d:"18,-1v-24,-30,8,-48,25,-71v14,-19,34,-28,40,-56v20,-35,29,-14,57,4v9,39,43,62,57,102v0,16,-34,17,-50,14v-28,2,-72,4,-129,7xm139,-47r-22,-52v-12,-5,-12,15,-24,27v-7,6,-14,16,-23,28v23,1,36,-1,69,-3",w:199},"\u2219":{d:"57,-77v6,18,-7,21,-19,23v-34,6,-25,-40,-9,-43v18,-3,29,8,28,20",w:67},"\u221a":{d:"364,-218v43,-21,80,-51,104,-32v-3,19,-24,21,-44,40v-41,15,-78,53,-136,78r-137,98v-20,16,-79,66,-91,68v-3,1,-25,-11,-24,-13v-4,-28,-43,-61,-30,-85v26,-15,42,19,58,32r295,-188v0,1,2,2,5,2",w:474},"\u221e":{d:"322,-72v-4,22,-54,41,-76,41v-43,0,-83,-17,-114,-35v-46,19,-125,53,-128,-18v-1,-14,10,-22,13,-35v29,-10,62,-31,97,-4v37,28,47,5,75,-8v40,-19,73,-10,114,1v13,1,18,55,19,58xm228,-69v15,0,62,-12,61,-25v-19,-23,-89,-10,-105,11v0,2,1,4,2,4v28,6,42,10,42,10xm75,-102v-13,2,-41,4,-44,19v0,4,3,7,10,7v21,0,40,-6,54,-17v-9,-6,-16,-9,-20,-9",w:330},"\u222b":{d:"62,-151v-7,-70,20,-130,63,-150v28,1,39,10,70,23v20,8,6,33,-6,35v-29,-13,-45,-20,-49,-20v-20,-4,-45,51,-43,70v8,60,5,129,5,189v0,62,-27,93,-79,93v-37,-1,-71,-14,-63,-57v21,0,79,34,91,-2v16,-3,14,-64,21,-85v-2,-31,-1,-74,-10,-96",w:156},"\u2248":{d:"133,-112v21,15,48,-30,78,-17v3,3,5,7,5,9v-8,30,-47,45,-76,45v-19,0,-64,-48,-90,-21r-29,20v-6,-1,-17,-16,-15,-32v24,-17,70,-42,107,-21v4,4,10,9,20,17xm138,-57v28,2,48,-25,76,-26v13,30,-21,42,-40,53v-41,24,-77,-15,-114,-23v-15,14,-46,32,-49,-1v-3,-9,27,-28,54,-30",w:223},"\u2260":{d:"48,-130v29,11,49,-57,60,-50v25,6,7,27,-1,46v22,5,29,7,21,22v-18,2,-48,-1,-50,15v9,8,53,-7,54,10v-4,22,-46,20,-72,24v-7,13,-18,32,-34,57v-8,6,-15,-3,-13,-14v-1,-9,15,-39,14,-45v-30,5,-24,-17,-13,-25v12,-1,36,4,29,-13v-14,0,-47,6,-36,-12v0,-18,27,-13,41,-15",w:140},"\u2264":{d:"73,-109v10,15,87,16,87,42v0,11,-5,16,-13,16v-36,-11,-69,-24,-109,-31v-18,-8,-18,-13,-9,-36v59,-56,93,-83,101,-83v16,0,18,17,14,28v-27,24,-42,35,-71,64xm10,-29v35,-12,117,-26,148,-3v1,2,-5,19,-8,18r-124,15v-16,2,-26,-18,-16,-30",w:168},"\u2265":{d:"115,-174v20,7,53,36,20,57v-19,11,-91,68,-82,59v-18,3,-25,-22,-13,-31v15,-10,14,-10,70,-51r-50,-37v-5,-4,-5,-27,4,-28v16,7,40,17,51,31xm14,-32v33,-10,86,-14,127,-10v12,12,5,23,-11,27v-49,9,-82,13,-99,13v-22,0,-24,-16,-17,-30",w:163},"\u25ca":{d:"76,-158v48,-8,64,11,100,36v28,19,-5,39,-22,54v-15,13,-40,32,-48,49v-17,5,-12,0,-27,-16v-6,-6,-86,-31,-68,-53r2,-9v27,-23,48,-44,63,-61xm93,-65v12,-2,35,-31,41,-38v-5,-10,-16,-14,-34,-24v-12,12,-36,29,-40,44v19,11,30,18,33,18",w:199}}}),"undefined"==typeof a&&"undefined"==typeof Snap)throw new Error("Raphael or Snap.svg is required to be included.");if(o.isEmpty(s.themes))throw new Error("No themes were registered. Please call registerTheme(...).");s.themes.hand=s.themes.snapHand||s.themes.raphaelHand,s.themes.simple=s.themes.snapSimple||s.themes.raphaelSimple,s.prototype.drawSVG=function(e,t){if(!((t=o.defaults(t||{},{theme:"hand"})).theme in s.themes))throw new Error("Unsupported theme: "+t.theme);var n=o.isString(e)?document.getElementById(e):e;if(null===n||!n.tagName)throw new Error("Invalid container: "+e);new(0,s.themes[t.theme])(this,t,(function(e){e.draw(n)}))},"undefined"!=typeof jQuery&&((x=jQuery).fn.sequenceDiagram=function(e){return this.each((function(){var t=x(this),n=s.parse(t.text());t.html(""),n.drawSVG(this,e)}))});"object"==typeof self&&self.self==self&&self||"object"==typeof r&&r.global;i.exports&&(t=i.exports=s),t.Diagram=s}()}).call(this,n(328),n(333)(e),n(191))},2631:function(e,t,n){(function(){var n=this,i=n._,r={},o=Array.prototype,a=Object.prototype,s=Function.prototype,l=o.push,c=o.slice,h=o.concat,d=a.toString,u=a.hasOwnProperty,p=o.forEach,f=o.map,m=o.reduce,g=o.reduceRight,v=o.filter,b=o.every,y=o.some,_=o.indexOf,x=o.lastIndexOf,w=Array.isArray,C=Object.keys,S=s.bind,E=function e(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};e.exports&&(t=e.exports=E),t._=E,E.VERSION="1.4.4";var k=E.each=E.forEach=function(e,t,n){if(null!=e)if(p&&e.forEach===p)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e)===r)return}else for(var a in e)if(E.has(e,a)&&t.call(n,e[a],a,e)===r)return};E.map=E.collect=function(e,t,n){var i=[];return null==e?i:f&&e.map===f?e.map(t,n):(k(e,(function(e,r,o){i[i.length]=t.call(n,e,r,o)})),i)};var O="Reduce of empty array with no initial value";E.reduce=E.foldl=E.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),m&&e.reduce===m)return i&&(t=E.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(k(e,(function(e,o,a){r?n=t.call(i,n,e,o,a):(n=e,r=!0)})),!r)throw new TypeError(O);return n},E.reduceRight=E.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return i&&(t=E.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=E.keys(e);o=a.length}if(k(e,(function(s,l,c){l=a?a[--o]:--o,r?n=t.call(i,n,e[l],l,c):(n=e[l],r=!0)})),!r)throw new TypeError(O);return n},E.find=E.detect=function(e,t,n){var i;return T(e,(function(e,r,o){if(t.call(n,e,r,o))return i=e,!0})),i},E.filter=E.select=function(e,t,n){var i=[];return null==e?i:v&&e.filter===v?e.filter(t,n):(k(e,(function(e,r,o){t.call(n,e,r,o)&&(i[i.length]=e)})),i)},E.reject=function(e,t,n){return E.filter(e,(function(e,i,r){return!t.call(n,e,i,r)}),n)},E.every=E.all=function(e,t,n){t||(t=E.identity);var i=!0;return null==e?i:b&&e.every===b?e.every(t,n):(k(e,(function(e,o,a){if(!(i=i&&t.call(n,e,o,a)))return r})),!!i)};var T=E.some=E.any=function(e,t,n){t||(t=E.identity);var i=!1;return null==e?i:y&&e.some===y?e.some(t,n):(k(e,(function(e,o,a){if(i||(i=t.call(n,e,o,a)))return r})),!!i)};E.contains=E.include=function(e,t){return null!=e&&(_&&e.indexOf===_?-1!=e.indexOf(t):T(e,(function(e){return e===t})))},E.invoke=function(e,t){var n=c.call(arguments,2),i=E.isFunction(t);return E.map(e,(function(e){return(i?t:e[t]).apply(e,n)}))},E.pluck=function(e,t){return E.map(e,(function(e){return e[t]}))},E.where=function(e,t,n){return E.isEmpty(t)?n?null:[]:E[n?"find":"filter"](e,(function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0}))},E.findWhere=function(e,t){return E.where(e,t,!0)},E.max=function(e,t,n){if(!t&&E.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&E.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return k(e,(function(e,r,o){var a=t?t.call(n,e,r,o):e;a>=i.computed&&(i={value:e,computed:a})})),i.value},E.min=function(e,t,n){if(!t&&E.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&E.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return k(e,(function(e,r,o){var a=t?t.call(n,e,r,o):e;a<i.computed&&(i={value:e,computed:a})})),i.value},E.shuffle=function(e){var t,n=0,i=[];return k(e,(function(e){t=E.random(n++),i[n-1]=i[t],i[t]=e})),i};var A=function(e){return E.isFunction(e)?e:function(t){return t[e]}};E.sortBy=function(e,t,n){var i=A(t);return E.pluck(E.map(e,(function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}})).sort((function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index<t.index?-1:1})),"value")};var I=function(e,t,n,i){var r={},o=A(t||E.identity);return k(e,(function(t,a){var s=o.call(n,t,a,e);i(r,s,t)})),r};E.groupBy=function(e,t,n){return I(e,t,n,(function(e,t,n){(E.has(e,t)?e[t]:e[t]=[]).push(n)}))},E.countBy=function(e,t,n){return I(e,t,n,(function(e,t){E.has(e,t)||(e[t]=0),e[t]++}))},E.sortedIndex=function(e,t,n,i){for(var r=(n=null==n?E.identity:A(n)).call(i,t),o=0,a=e.length;o<a;){var s=o+a>>>1;n.call(i,e[s])<r?o=s+1:a=s}return o},E.toArray=function(e){return e?E.isArray(e)?c.call(e):e.length===+e.length?E.map(e,E.identity):E.values(e):[]},E.size=function(e){return null==e?0:e.length===+e.length?e.length:E.keys(e).length},E.first=E.head=E.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:c.call(e,0,t)},E.initial=function(e,t,n){return c.call(e,0,e.length-(null==t||n?1:t))},E.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:c.call(e,Math.max(e.length-t,0))},E.rest=E.tail=E.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},E.compact=function(e){return E.filter(e,E.identity)};var j=function e(t,n,i){return k(t,(function(t){E.isArray(t)?n?l.apply(i,t):e(t,n,i):i.push(t)})),i};E.flatten=function(e,t){return j(e,t,[])},E.without=function(e){return E.difference(e,c.call(arguments,1))},E.uniq=E.unique=function(e,t,n,i){E.isFunction(t)&&(i=n,n=t,t=!1);var r=n?E.map(e,n,i):e,o=[],a=[];return k(r,(function(n,i){(t?i&&a[a.length-1]===n:E.contains(a,n))||(a.push(n),o.push(e[i]))})),o},E.union=function(){return E.uniq(h.apply(o,arguments))},E.intersection=function(e){var t=c.call(arguments,1);return E.filter(E.uniq(e),(function(e){return E.every(t,(function(t){return E.indexOf(t,e)>=0}))}))},E.difference=function(e){var t=h.apply(o,c.call(arguments,1));return E.filter(e,(function(e){return!E.contains(t,e)}))},E.zip=function(){for(var e=c.call(arguments),t=E.max(E.pluck(e,"length")),n=new Array(t),i=0;i<t;i++)n[i]=E.pluck(e,""+i);return n},E.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},E.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return e[i=E.sortedIndex(e,t)]===t?i:-1;i=n<0?Math.max(0,r+n):n}if(_&&e.indexOf===_)return e.indexOf(t,n);for(;i<r;i++)if(e[i]===t)return i;return-1},E.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(x&&e.lastIndexOf===x)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},E.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=new Array(i);r<i;)o[r++]=e,e+=n;return o},E.bind=function(e,t){if(e.bind===S&&S)return S.apply(e,c.call(arguments,1));var n=c.call(arguments,2);return function(){return e.apply(t,n.concat(c.call(arguments)))}},E.partial=function(e){var t=c.call(arguments,1);return function(){return e.apply(this,t.concat(c.call(arguments)))}},E.bindAll=function(e){var t=c.call(arguments,1);return 0===t.length&&(t=E.functions(e)),k(t,(function(t){e[t]=E.bind(e[t],e)})),e},E.memoize=function(e,t){var n={};return t||(t=E.identity),function(){var i=t.apply(this,arguments);return E.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},E.delay=function(e,t){var n=c.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},E.defer=function(e){return E.delay.apply(E,[e,1].concat(c.call(arguments,1)))},E.throttle=function(e,t){var n,i,r,o,a=0,s=function(){a=new Date,r=null,o=e.apply(n,i)};return function(){var l=new Date,c=t-(l-a);return n=this,i=arguments,c<=0?(clearTimeout(r),r=null,a=l,o=e.apply(n,i)):r||(r=setTimeout(s,c)),o}},E.debounce=function(e,t,n){var i,r;return function(){var o=this,a=arguments,s=function(){i=null,n||(r=e.apply(o,a))},l=n&&!i;return clearTimeout(i),i=setTimeout(s,t),l&&(r=e.apply(o,a)),r}},E.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},E.wrap=function(e,t){return function(){var n=[e];return l.apply(n,arguments),t.apply(this,n)}},E.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},E.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},E.keys=C||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)E.has(e,n)&&(t[t.length]=n);return t},E.values=function(e){var t=[];for(var n in e)E.has(e,n)&&t.push(e[n]);return t},E.pairs=function(e){var t=[];for(var n in e)E.has(e,n)&&t.push([n,e[n]]);return t},E.invert=function(e){var t={};for(var n in e)E.has(e,n)&&(t[e[n]]=n);return t},E.functions=E.methods=function(e){var t=[];for(var n in e)E.isFunction(e[n])&&t.push(n);return t.sort()},E.extend=function(e){return k(c.call(arguments,1),(function(t){if(t)for(var n in t)e[n]=t[n]})),e},E.pick=function(e){var t={},n=h.apply(o,c.call(arguments,1));return k(n,(function(n){n in e&&(t[n]=e[n])})),t},E.omit=function(e){var t={},n=h.apply(o,c.call(arguments,1));for(var i in e)E.contains(n,i)||(t[i]=e[i]);return t},E.defaults=function(e){return k(c.call(arguments,1),(function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])})),e},E.clone=function(e){return E.isObject(e)?E.isArray(e)?e.slice():E.extend({},e):e},E.tap=function(e,t){return t(e),e};var P=function e(t,n,i,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;t instanceof E&&(t=t._wrapped),n instanceof E&&(n=n._wrapped);var o=d.call(t);if(o!=d.call(n))return!1;switch(o){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var a=i.length;a--;)if(i[a]==t)return r[a]==n;i.push(t),r.push(n);var s=0,l=!0;if("[object Array]"==o){if(l=(s=t.length)==n.length)for(;s--&&(l=e(t[s],n[s],i,r)););}else{var c=t.constructor,h=n.constructor;if(c!==h&&!(E.isFunction(c)&&c instanceof c&&E.isFunction(h)&&h instanceof h))return!1;for(var u in t)if(E.has(t,u)&&(s++,!(l=E.has(n,u)&&e(t[u],n[u],i,r))))break;if(l){for(u in n)if(E.has(n,u)&&!s--)break;l=!s}}return i.pop(),r.pop(),l};E.isEqual=function(e,t){return P(e,t,[],[])},E.isEmpty=function(e){if(null==e)return!0;if(E.isArray(e)||E.isString(e))return 0===e.length;for(var t in e)if(E.has(e,t))return!1;return!0},E.isElement=function(e){return!(!e||1!==e.nodeType)},E.isArray=w||function(e){return"[object Array]"==d.call(e)},E.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],(function(e){E["is"+e]=function(t){return d.call(t)=="[object "+e+"]"}})),E.isArguments(arguments)||(E.isArguments=function(e){return!(!e||!E.has(e,"callee"))}),E.isFunction=function(e){return"function"===typeof e},E.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},E.isNaN=function(e){return E.isNumber(e)&&e!=+e},E.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==d.call(e)},E.isNull=function(e){return null===e},E.isUndefined=function(e){return void 0===e},E.has=function(e,t){return u.call(e,t)},E.noConflict=function(){return n._=i,this},E.identity=function(e){return e},E.times=function(e,t,n){for(var i=Array(e),r=0;r<e;r++)i[r]=t.call(n,r);return i},E.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=E.invert(M.escape);var R={escape:new RegExp("["+E.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+E.keys(M.unescape).join("|")+")","g")};E.each(["escape","unescape"],(function(e){E[e]=function(t){return null==t?"":(""+t).replace(R[e],(function(t){return M[e][t]}))}})),E.result=function(e,t){if(null==e)return null;var n=e[t];return E.isFunction(n)?n.call(e):n},E.mixin=function(e){k(E.functions(e),(function(t){var n=E[t]=e[t];E.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),F.call(this,n.apply(E,e))}}))};var D=0;E.uniqueId=function(e){var t=++D+"";return e?e+t:t},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;E.template=function(e,t,n){var i;n=E.defaults({},n,E.templateSettings);var r=new RegExp([(n.escape||L).source,(n.interpolate||L).source,(n.evaluate||L).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(r,(function(t,n,i,r,s){return a+=e.slice(o,s).replace(B,(function(e){return"\\"+N[e]})),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),o=s+t.length,t})),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(l){throw l.source=a,l}if(t)return i(t,E);var s=function(e){return i.call(this,e,E)};return s.source="function("+(n.variable||"obj")+"){\n"+a+"}",s},E.chain=function(e){return E(e).chain()};var F=function(e){return this._chain?E(e).chain():e};E.mixin(E),k(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=o[e];E.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}})),k(["concat","join","slice"],(function(e){var t=o[e];E.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}})),E.extend(E.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},2632:function(e,t,n){var i,r,o;(e=e||{}).exports=0,function(n){var r,o,a="hasOwnProperty",s=/[\.\/]/,l=function(){},c=function(e,t){return e-t},h={n:{}},d=function e(t,n){t=String(t);var i,a=o,s=Array.prototype.slice.call(arguments,2),l=e.listeners(t),h=0,d=[],u={},p=[],f=r;r=t,o=0;for(var m=0,g=l.length;m<g;m++)"zIndex"in l[m]&&(d.push(l[m].zIndex),l[m].zIndex<0&&(u[l[m].zIndex]=l[m]));for(d.sort(c);d[h]<0;)if(i=u[d[h++]],p.push(i.apply(n,s)),o)return o=a,p;for(m=0;m<g;m++)if("zIndex"in(i=l[m]))if(i.zIndex==d[h]){if(p.push(i.apply(n,s)),o)break;do{if((i=u[d[++h]])&&p.push(i.apply(n,s)),o)break}while(i)}else u[i.zIndex]=i;else if(p.push(i.apply(n,s)),o)break;return o=a,r=f,p.length?p:null};d._events=h,d.listeners=function(e){var t,n,i,r,o,a,l,c,d=e.split(s),u=h,p=[u],f=[];for(r=0,o=d.length;r<o;r++){for(c=[],a=0,l=p.length;a<l;a++)for(n=[(u=p[a].n)[d[r]],u["*"]],i=2;i--;)(t=n[i])&&(c.push(t),f=f.concat(t.f||[]));p=c}return f},d.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var n=e.split(s),i=h,r=0,o=n.length;r<o;r++)i=(i=i.n).hasOwnProperty(n[r])&&i[n[r]]||(i[n[r]]={n:{}});for(i.f=i.f||[],r=0,o=i.f.length;r<o;r++)if(i.f[r]==t)return l;return i.f.push(t),function(e){+e==+e&&(t.zIndex=+e)}},d.f=function(e){var t=[].slice.call(arguments,1);return function(){d.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},d.stop=function(){o=1},d.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(r):r},d.nts=function(){return r.split(s)},d.off=d.unbind=function(e,t){if(e){var n,i,r,o,l,c,u,p=e.split(s),f=[h];for(o=0,l=p.length;o<l;o++)for(c=0;c<f.length;c+=r.length-2){if(r=[c,1],n=f[c].n,"*"!=p[o])n[p[o]]&&r.push(n[p[o]]);else for(i in n)n[a](i)&&r.push(n[i]);f.splice.apply(f,r)}for(o=0,l=f.length;o<l;o++)for(n=f[o];n.n;){if(t){if(n.f){for(c=0,u=n.f.length;c<u;c++)if(n.f[c]==t){n.f.splice(c,1);break}!n.f.length&&delete n.f}for(i in n.n)if(n.n[a](i)&&n.n[i].f){var m=n.n[i].f;for(c=0,u=m.length;c<u;c++)if(m[c]==t){m.splice(c,1);break}!m.length&&delete n.n[i].f}}else for(i in delete n.f,n.n)n.n[a](i)&&n.n[i].f&&delete n.n[i].f;n=n.n}}else d._events=h={n:{}}},d.once=function(e,t){return d.on(e,(function n(){return d.unbind(e,n),t.apply(this,arguments)}))},d.version="0.4.2",d.toString=function(){return"You are running Eve 0.4.2"},"undefined"!=typeof e&&e.exports?e.exports=d:i=function(){return d}.apply(t,[])}(window),o=this,void 0===(r=function(t){return function(t,n){function i(e){if(i.is(e,"function"))return r?e():n.on("raphael.DOMload",e);if(i.is(e,I))return i._engine.create[m](i,e.splice(0,3+i.is(e[0],A))).add(e);var t=Array.prototype.slice.call(arguments,0);if(i.is(t[t.length-1],"function")){var o=t.pop();return r?o.call(i._engine.create[m](i,t)):n.on("raphael.DOMload",(function(){o.call(i._engine.create[m](i,t))}))}return i._engine.create[m](i,arguments)}i.version="2.1.2",i.eve=n;var r,o,a,s,l=/[, ]+/,c={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},h=/\{(\d+)\}/g,d="hasOwnProperty",u={doc:document,win:t},p={was:Object.prototype[d].call(u.win,"Raphael"),is:u.win.Raphael},f=function(){this.ca=this.customAttributes={}},m="apply",g="ontouchstart"in u.win||u.win.DocumentTouch&&u.doc instanceof DocumentTouch,v="",b=" ",y=String,_="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(b),x={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},w=y.prototype.toLowerCase,C=Math,S=C.max,E=C.min,k=C.abs,O=C.pow,T=C.PI,A="number",I="array",j=Object.prototype.toString,P=(i._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),M={NaN:1,Infinity:1,"-Infinity":1},R=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,D=C.round,L=parseFloat,N=parseInt,B=y.prototype.toUpperCase,F=i._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},z=i._availableAnimAttrs={blur:A,"clip-rect":"csv",cx:A,cy:A,fill:"colour","fill-opacity":A,"font-size":A,height:A,opacity:A,path:"path",r:A,rx:A,ry:A,stroke:"colour","stroke-opacity":A,"stroke-width":A,transform:"transform",width:A,x:A,y:A},H=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,U={hs:1,rg:1},q=/,?([achlmqrstvxz]),?/gi,W=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,V=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,G=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,K=(i._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),Y=function(e,t){return L(e)-L(t)},X=function(e){return e},J=i._rectPath=function(e,t,n,i,r){return r?[["M",e+r,t],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",e,t],["l",n,0],["l",0,i],["l",-n,0],["z"]]},$=function(e,t,n,i){return null==i&&(i=n),[["M",e,t],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},Z=i._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return $(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return $(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return J(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return J(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return J(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return J(t.x,t.y,t.width,t.height)}},Q=i.mapPath=function(e,t){if(!t)return e;var n,i,r,o,a,s,l;for(r=0,a=(e=Te(e)).length;r<a;r++)for(o=1,s=(l=e[r]).length;o<s;o+=2)n=t.x(l[o],l[o+1]),i=t.y(l[o],l[o+1]),l[o]=n,l[o+1]=i;return e};if(i._g=u,i.type=u.win.SVGAngle||u.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==i.type){var ee,te=u.doc.createElement("div");if(te.innerHTML='<v:shape adj="1"/>',(ee=te.firstChild).style.behavior="url(#default#VML)",!ee||"object"!=typeof ee.adj)return i.type=v;te=null}function ne(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[d](n)&&(t[n]=ne(e[n]));return t}i.svg=!(i.vml="VML"==i.type),i._Paper=f,i.fn=o=f.prototype=i.prototype,i._id=0,i._oid=0,i.is=function(e,t){return"finite"==(t=w.call(t))?!M[d](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||j.call(e).slice(8,-1).toLowerCase()==t},i.angle=function(e,t,n,r,o,a){if(null==o){var s=e-n,l=t-r;return s||l?(180+180*C.atan2(-l,-s)/T+360)%360:0}return i.angle(e,t,o,a)-i.angle(n,r,o,a)},i.rad=function(e){return e%360*T/180},i.deg=function(e){return Math.round(180*e/T%360*1e3)/1e3},i.snapTo=function(e,t,n){if(n=i.is(n,"finite")?n:10,i.is(e,I)){for(var r=e.length;r--;)if(k(e[r]-t)<=n)return e[r]}else{var o=t%(e=+e);if(o<n)return t-o;if(o>e-n)return t-o+e}return t},i.createUUID=(a=/[xy]/g,s=function(e){var t=16*C.random()|0;return("x"==e?t:3&t|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,s).toUpperCase()}),i.setWindow=function(e){n("raphael.setWindow",i,u.win,e),u.win=e,u.doc=u.win.document,i._engine.initWin&&i._engine.initWin(u.win)};var ie=function(e){if(i.vml){var t,n=/^\s+|\s+$/g;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),t=r.body}catch(s){t=createPopup().document.body}var o=t.createTextRange();ie=he((function(e){try{t.style.color=y(e).replace(n,v);var i=o.queryCommandValue("ForeColor");return"#"+("000000"+(i=(255&i)<<16|65280&i|(16711680&i)>>>16).toString(16)).slice(-6)}catch(s){return"none"}}))}else{var a=u.doc.createElement("i");a.title="Rapha\xebl Colour Picker",a.style.display="none",u.doc.body.appendChild(a),ie=he((function(e){return a.style.color=e,u.doc.defaultView.getComputedStyle(a,v).getPropertyValue("color")}))}return ie(e)},re=function(){return"hsb("+[this.h,this.s,this.b]+")"},oe=function(){return"hsl("+[this.h,this.s,this.l]+")"},ae=function(){return this.hex},se=function(e,t,n){if(null==t&&i.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,t=e.g,e=e.r),null==t&&i.is(e,"string")){var r=i.getRGB(e);e=r.r,t=r.g,n=r.b}return(e>1||t>1||n>1)&&(e/=255,t/=255,n/=255),[e,t,n]},le=function(e,t,n,r){var o={r:e*=255,g:t*=255,b:n*=255,hex:i.rgb(e,t,n),toString:ae};return i.is(r,"finite")&&(o.opacity=r),o};function ce(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function he(e,t,n){return function i(){var r=Array.prototype.slice.call(arguments,0),o=r.join("\u2400"),a=i.cache=i.cache||{},s=i.count=i.count||[];return a[d](o)?(ce(s,o),n?n(a[o]):a[o]):(s.length>=1e3&&delete a[s.shift()],s.push(o),a[o]=e[m](t,r),n?n(a[o]):a[o])}}function de(){return this.hex}function ue(e,t){for(var n=[],i=0,r=e.length;r-2*!t>i;i+=2){var o=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];t?i?r-4==i?o[3]={x:+e[0],y:+e[1]}:r-2==i&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[r-2],y:+e[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+e[i],y:+e[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}i.color=function(e){var t;return i.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=i.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):i.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=i.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(i.is(e,"string")&&(e=i.getRGB(e)),i.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(t=i.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=i.rgb2hsb(e),e.v=t.b):(e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1),e.toString=ae,e},i.hsb2rgb=function(e,t,n,i){var r,o,a,s,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,i=e.o,e=e.h),s=(l=n*t)*(1-k((e=(e*=360)%360/60)%2-1)),r=o=a=n-l,le(r+=[l,s,0,0,s,l][e=~~e],o+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],i)},i.hsl2rgb=function(e,t,n,i){var r,o,a,s,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),s=(l=2*t*(n<.5?n:1-n))*(1-k((e=(e*=360)%360/60)%2-1)),r=o=a=n-l/2,le(r+=[l,s,0,0,s,l][e=~~e],o+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],i)},i.rgb2hsb=function(e,t,n){var i,r;return e=(n=se(e,t,n))[0],t=n[1],n=n[2],{h:((0==(r=(i=S(e,t,n))-E(e,t,n))?null:i==e?(t-n)/r:i==t?(n-e)/r+2:(e-t)/r+4)+360)%6*60/360,s:0==r?0:r/i,b:i,toString:re}},i.rgb2hsl=function(e,t,n){var i,r,o,a;return e=(n=se(e,t,n))[0],t=n[1],n=n[2],i=((r=S(e,t,n))+(o=E(e,t,n)))/2,{h:((0==(a=r-o)?null:r==e?(t-n)/a:r==t?(n-e)/a+2:(e-t)/a+4)+360)%6*60/360,s:0==a?0:i<.5?a/(2*i):a/(2-2*i),l:i,toString:oe}},i._path2string=function(){return this.join(",").replace(q,"$1")},i._preload=function(e,t){var n=u.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){t.call(this),this.onload=null,u.doc.body.removeChild(this)},n.onerror=function(){u.doc.body.removeChild(this)},u.doc.body.appendChild(n),n.src=e},i.getRGB=he((function(e){if(!e||(e=y(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:de};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:de};!U[d](e.toLowerCase().substring(0,2))&&"#"!=e.charAt()&&(e=ie(e));var t,n,r,o,a,s,l=e.match(P);return l?(l[2]&&(r=N(l[2].substring(5),16),n=N(l[2].substring(3,5),16),t=N(l[2].substring(1,3),16)),l[3]&&(r=N((a=l[3].charAt(3))+a,16),n=N((a=l[3].charAt(2))+a,16),t=N((a=l[3].charAt(1))+a,16)),l[4]&&(s=l[4].split(H),t=L(s[0]),"%"==s[0].slice(-1)&&(t*=2.55),n=L(s[1]),"%"==s[1].slice(-1)&&(n*=2.55),r=L(s[2]),"%"==s[2].slice(-1)&&(r*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(o=L(s[3])),s[3]&&"%"==s[3].slice(-1)&&(o/=100)),l[5]?(s=l[5].split(H),t=L(s[0]),"%"==s[0].slice(-1)&&(t*=2.55),n=L(s[1]),"%"==s[1].slice(-1)&&(n*=2.55),r=L(s[2]),"%"==s[2].slice(-1)&&(r*=2.55),("deg"==s[0].slice(-3)||"\xb0"==s[0].slice(-1))&&(t/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(o=L(s[3])),s[3]&&"%"==s[3].slice(-1)&&(o/=100),i.hsb2rgb(t,n,r,o)):l[6]?(s=l[6].split(H),t=L(s[0]),"%"==s[0].slice(-1)&&(t*=2.55),n=L(s[1]),"%"==s[1].slice(-1)&&(n*=2.55),r=L(s[2]),"%"==s[2].slice(-1)&&(r*=2.55),("deg"==s[0].slice(-3)||"\xb0"==s[0].slice(-1))&&(t/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(o=L(s[3])),s[3]&&"%"==s[3].slice(-1)&&(o/=100),i.hsl2rgb(t,n,r,o)):((l={r:t,g:n,b:r,toString:de}).hex="#"+(16777216|r|n<<8|t<<16).toString(16).slice(1),i.is(o,"finite")&&(l.opacity=o),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:de}}),i),i.hsb=he((function(e,t,n){return i.hsb2rgb(e,t,n).hex})),i.hsl=he((function(e,t,n){return i.hsl2rgb(e,t,n).hex})),i.rgb=he((function(e,t,n){return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)})),i.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex},i.getColor.reset=function(){delete this.start},i.parsePathString=function(e){if(!e)return null;var t=pe(e);if(t.arr)return _e(t.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return i.is(e,I)&&i.is(e[0],I)&&(r=_e(e)),r.length||y(e).replace(W,(function(e,t,i){var o=[],a=t.toLowerCase();if(i.replace(G,(function(e,t){t&&o.push(+t)})),"m"==a&&o.length>2&&(r.push([t].concat(o.splice(0,2))),a="l",t="m"==t?"l":"L"),"r"==a)r.push([t].concat(o));else for(;o.length>=n[a]&&(r.push([t].concat(o.splice(0,n[a]))),n[a]););})),r.toString=i._path2string,t.arr=_e(r),r},i.parseTransformString=he((function(e){if(!e)return null;var t=[];return i.is(e,I)&&i.is(e[0],I)&&(t=_e(e)),t.length||y(e).replace(V,(function(e,n,i){var r=[];w.call(n),i.replace(G,(function(e,t){t&&r.push(+t)})),t.push([n].concat(r))})),t.toString=i._path2string,t}));var pe=function e(t){var n=e.ps=e.ps||{};return n[t]?n[t].sleep=100:n[t]={sleep:100},setTimeout((function(){for(var e in n)n[d](e)&&e!=t&&(n[e].sleep--,!n[e].sleep&&delete n[e])})),n[t]};function fe(e,t,n,i,r){return e*(e*(-3*t+9*n-9*i+3*r)+6*t-12*n+6*i)-3*t+3*n}function me(e,t,n,i,r,o,a,s,l){null==l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],u=0,p=0;p<12;p++){var f=c*h[p]+c,m=fe(f,e,n,r,a),g=fe(f,t,i,o,s),v=m*m+g*g;u+=d[p]*C.sqrt(v)}return c*u}function ge(e,t,n,i,r,o,a,s){if(!(S(e,n)<E(r,a)||E(e,n)>S(r,a)||S(t,i)<E(o,s)||E(t,i)>S(o,s))){var l=(e-n)*(o-s)-(t-i)*(r-a);if(l){var c=((e*i-t*n)*(r-a)-(e-n)*(r*s-o*a))/l,h=((e*i-t*n)*(o-s)-(t-i)*(r*s-o*a))/l,d=+c.toFixed(2),u=+h.toFixed(2);if(!(d<+E(e,n).toFixed(2)||d>+S(e,n).toFixed(2)||d<+E(r,a).toFixed(2)||d>+S(r,a).toFixed(2)||u<+E(t,i).toFixed(2)||u>+S(t,i).toFixed(2)||u<+E(o,s).toFixed(2)||u>+S(o,s).toFixed(2)))return{x:c,y:h}}}}function ve(e,t,n){var r=i.bezierBBox(e),o=i.bezierBBox(t);if(!i.isBBoxIntersect(r,o))return n?0:[];for(var a=me.apply(0,e),s=me.apply(0,t),l=S(~~(a/5),1),c=S(~~(s/5),1),h=[],d=[],u={},p=n?0:[],f=0;f<l+1;f++){var m=i.findDotsAtSegment.apply(i,e.concat(f/l));h.push({x:m.x,y:m.y,t:f/l})}for(f=0;f<c+1;f++)m=i.findDotsAtSegment.apply(i,t.concat(f/c)),d.push({x:m.x,y:m.y,t:f/c});for(f=0;f<l;f++)for(var g=0;g<c;g++){var v=h[f],b=h[f+1],y=d[g],_=d[g+1],x=k(b.x-v.x)<.001?"y":"x",w=k(_.x-y.x)<.001?"y":"x",C=ge(v.x,v.y,b.x,b.y,y.x,y.y,_.x,_.y);if(C){if(u[C.x.toFixed(4)]==C.y.toFixed(4))continue;u[C.x.toFixed(4)]=C.y.toFixed(4);var O=v.t+k((C[x]-v[x])/(b[x]-v[x]))*(b.t-v.t),T=y.t+k((C[w]-y[w])/(_[w]-y[w]))*(_.t-y.t);O>=0&&O<=1.001&&T>=0&&T<=1.001&&(n?p++:p.push({x:C.x,y:C.y,t1:E(O,1),t2:E(T,1)}))}}return p}function be(e,t,n){e=i._path2curve(e),t=i._path2curve(t);for(var r,o,a,s,l,c,h,d,u,p,f=n?0:[],m=0,g=e.length;m<g;m++){var v=e[m];if("M"==v[0])r=l=v[1],o=c=v[2];else{"C"==v[0]?(u=[r,o].concat(v.slice(1)),r=u[6],o=u[7]):(u=[r,o,r,o,l,c,l,c],r=l,o=c);for(var b=0,y=t.length;b<y;b++){var _=t[b];if("M"==_[0])a=h=_[1],s=d=_[2];else{"C"==_[0]?(p=[a,s].concat(_.slice(1)),a=p[6],s=p[7]):(p=[a,s,a,s,h,d,h,d],a=h,s=d);var x=ve(u,p,n);if(n)f+=x;else{for(var w=0,C=x.length;w<C;w++)x[w].segment1=m,x[w].segment2=b,x[w].bez1=u,x[w].bez2=p;f=f.concat(x)}}}}}return f}i.findDotsAtSegment=function(e,t,n,i,r,o,a,s,l){var c=1-l,h=O(c,3),d=O(c,2),u=l*l,p=u*l,f=h*e+3*d*l*n+3*c*l*l*r+p*a,m=h*t+3*d*l*i+3*c*l*l*o+p*s,g=e+2*l*(n-e)+u*(r-2*n+e),v=t+2*l*(i-t)+u*(o-2*i+t),b=n+2*l*(r-n)+u*(a-2*r+n),y=i+2*l*(o-i)+u*(s-2*o+i),_=c*e+l*n,x=c*t+l*i,w=c*r+l*a,S=c*o+l*s,E=90-180*C.atan2(g-b,v-y)/T;return(g>b||v<y)&&(E+=180),{x:f,y:m,m:{x:g,y:v},n:{x:b,y:y},start:{x:_,y:x},end:{x:w,y:S},alpha:E}},i.bezierBBox=function(e,t,n,r,o,a,s,l){i.is(e,"array")||(e=[e,t,n,r,o,a,s,l]);var c=Oe.apply(null,e);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},i.isPointInsideBBox=function(e,t,n){return t>=e.x&&t<=e.x2&&n>=e.y&&n<=e.y2},i.isBBoxIntersect=function(e,t){var n=i.isPointInsideBBox;return n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)},i.pathIntersection=function(e,t){return be(e,t)},i.pathIntersectionNumber=function(e,t){return be(e,t,1)},i.isPointInsidePath=function(e,t,n){var r=i.pathBBox(e);return i.isPointInsideBBox(r,t,n)&&be(e,[["M",t,n],["H",r.x2+10]],1)%2==1},i._removedFactory=function(e){return function(){n("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+e+"\u201d of removed object",e)}};var ye=i.pathBBox=function(e){var t=pe(e);if(t.bbox)return ne(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,i=0,r=0,o=[],a=[],s=0,l=(e=Te(e)).length;s<l;s++)if("M"==(n=e[s])[0])i=n[1],r=n[2],o.push(i),a.push(r);else{var c=Oe(i,r,n[1],n[2],n[3],n[4],n[5],n[6]);o=o.concat(c.min.x,c.max.x),a=a.concat(c.min.y,c.max.y),i=n[5],r=n[6]}var h=E[m](0,o),d=E[m](0,a),u=S[m](0,o),p=S[m](0,a),f=u-h,g=p-d,v={x:h,y:d,x2:u,y2:p,width:f,height:g,cx:h+f/2,cy:d+g/2};return t.bbox=ne(v),v},_e=function(e){var t=ne(e);return t.toString=i._path2string,t},xe=i._pathToRelative=function(e){var t=pe(e);if(t.rel)return _e(t.rel);i.is(e,I)&&i.is(e&&e[0],I)||(e=i.parsePathString(e));var n=[],r=0,o=0,a=0,s=0,l=0;"M"==e[0][0]&&(a=r=e[0][1],s=o=e[0][2],l++,n.push(["M",r,o]));for(var c=l,h=e.length;c<h;c++){var d=n[c]=[],u=e[c];if(u[0]!=w.call(u[0]))switch(d[0]=w.call(u[0]),d[0]){case"a":d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=+(u[6]-r).toFixed(3),d[7]=+(u[7]-o).toFixed(3);break;case"v":d[1]=+(u[1]-o).toFixed(3);break;case"m":a=u[1],s=u[2];default:for(var p=1,f=u.length;p<f;p++)d[p]=+(u[p]-(p%2?r:o)).toFixed(3)}else{d=n[c]=[],"m"==u[0]&&(a=u[1]+r,s=u[2]+o);for(var m=0,g=u.length;m<g;m++)n[c][m]=u[m]}var v=n[c].length;switch(n[c][0]){case"z":r=a,o=s;break;case"h":r+=+n[c][v-1];break;case"v":o+=+n[c][v-1];break;default:r+=+n[c][v-2],o+=+n[c][v-1]}}return n.toString=i._path2string,t.rel=_e(n),n},we=i._pathToAbsolute=function(e){var t=pe(e);if(t.abs)return _e(t.abs);if(i.is(e,I)&&i.is(e&&e[0],I)||(e=i.parsePathString(e)),!e||!e.length)return[["M",0,0]];var n=[],r=0,o=0,a=0,s=0,l=0;"M"==e[0][0]&&(a=r=+e[0][1],s=o=+e[0][2],l++,n[0]=["M",r,o]);for(var c,h,d=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),u=l,p=e.length;u<p;u++){if(n.push(c=[]),(h=e[u])[0]!=B.call(h[0]))switch(c[0]=B.call(h[0]),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]+r),c[7]=+(h[7]+o);break;case"V":c[1]=+h[1]+o;break;case"H":c[1]=+h[1]+r;break;case"R":for(var f=[r,o].concat(h.slice(1)),m=2,g=f.length;m<g;m++)f[m]=+f[m]+r,f[++m]=+f[m]+o;n.pop(),n=n.concat(ue(f,d));break;case"M":a=+h[1]+r,s=+h[2]+o;default:for(m=1,g=h.length;m<g;m++)c[m]=+h[m]+(m%2?r:o)}else if("R"==h[0])f=[r,o].concat(h.slice(1)),n.pop(),n=n.concat(ue(f,d)),c=["R"].concat(h.slice(-2));else for(var v=0,b=h.length;v<b;v++)c[v]=h[v];switch(c[0]){case"Z":r=a,o=s;break;case"H":r=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];default:r=c[c.length-2],o=c[c.length-1]}}return n.toString=i._path2string,t.abs=_e(n),n},Ce=function(e,t,n,i){return[e,t,n,i,n,i]},Se=function(e,t,n,i,r,o){return[1/3*e+2/3*n,1/3*t+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]},Ee=function e(t,n,i,r,o,a,s,l,c,h){var d,u=120*T/180,p=T/180*(+o||0),f=[],m=he((function(e,t,n){return{x:e*C.cos(n)-t*C.sin(n),y:e*C.sin(n)+t*C.cos(n)}}));if(h)E=h[0],O=h[1],w=h[2],S=h[3];else{t=(d=m(t,n,-p)).x,n=d.y,l=(d=m(l,c,-p)).x,c=d.y,C.cos(T/180*o),C.sin(T/180*o);var g=(t-l)/2,v=(n-c)/2,b=g*g/(i*i)+v*v/(r*r);b>1&&(i*=b=C.sqrt(b),r*=b);var y=i*i,_=r*r,x=(a==s?-1:1)*C.sqrt(k((y*_-y*v*v-_*g*g)/(y*v*v+_*g*g))),w=x*i*v/r+(t+l)/2,S=x*-r*g/i+(n+c)/2,E=C.asin(((n-S)/r).toFixed(9)),O=C.asin(((c-S)/r).toFixed(9));(E=t<w?T-E:E)<0&&(E=2*T+E),(O=l<w?T-O:O)<0&&(O=2*T+O),s&&E>O&&(E-=2*T),!s&&O>E&&(O-=2*T)}var A=O-E;if(k(A)>u){var I=O,j=l,P=c;O=E+u*(s&&O>E?1:-1),f=e(l=w+i*C.cos(O),c=S+r*C.sin(O),i,r,o,0,s,j,P,[O,I,w,S])}A=O-E;var M=C.cos(E),R=C.sin(E),D=C.cos(O),L=C.sin(O),N=C.tan(A/4),B=4/3*i*N,F=4/3*r*N,z=[t,n],H=[t+B*R,n-F*M],U=[l+B*L,c-F*D],q=[l,c];if(H[0]=2*z[0]-H[0],H[1]=2*z[1]-H[1],h)return[H,U,q].concat(f);for(var W=[],V=0,G=(f=[H,U,q].concat(f).join().split(",")).length;V<G;V++)W[V]=V%2?m(f[V-1],f[V],p).y:m(f[V],f[V+1],p).x;return W},ke=function(e,t,n,i,r,o,a,s,l){var c=1-l;return{x:O(c,3)*e+3*O(c,2)*l*n+3*c*l*l*r+O(l,3)*a,y:O(c,3)*t+3*O(c,2)*l*i+3*c*l*l*o+O(l,3)*s}},Oe=he((function(e,t,n,i,r,o,a,s){var l,c=r-2*n+e-(a-2*r+n),h=2*(n-e)-2*(r-n),d=e-n,u=(-h+C.sqrt(h*h-4*c*d))/2/c,p=(-h-C.sqrt(h*h-4*c*d))/2/c,f=[t,s],g=[e,a];return k(u)>"1e12"&&(u=.5),k(p)>"1e12"&&(p=.5),u>0&&u<1&&(l=ke(e,t,n,i,r,o,a,s,u),g.push(l.x),f.push(l.y)),p>0&&p<1&&(l=ke(e,t,n,i,r,o,a,s,p),g.push(l.x),f.push(l.y)),c=o-2*i+t-(s-2*o+i),d=t-i,u=(-(h=2*(i-t)-2*(o-i))+C.sqrt(h*h-4*c*d))/2/c,p=(-h-C.sqrt(h*h-4*c*d))/2/c,k(u)>"1e12"&&(u=.5),k(p)>"1e12"&&(p=.5),u>0&&u<1&&(l=ke(e,t,n,i,r,o,a,s,u),g.push(l.x),f.push(l.y)),p>0&&p<1&&(l=ke(e,t,n,i,r,o,a,s,p),g.push(l.x),f.push(l.y)),{min:{x:E[m](0,g),y:E[m](0,f)},max:{x:S[m](0,g),y:S[m](0,f)}}})),Te=i._path2curve=he((function(e,t){var n=!t&&pe(e);if(!t&&n.curve)return _e(n.curve);for(var i=we(e),r=t&&we(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(e,t,n){var i,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(Ee[m](0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),e=["C",i,r].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(Se(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(Se(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(Ce(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(Ce(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(Ce(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(Ce(t.x,t.y,t.X,t.Y))}return e},l=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)h[t]="A",r&&(d[t]="A"),e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),g=S(i.length,r&&r.length||0)}},c=function(e,t,n,o,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=e[a][1],n.y=e[a][2],g=S(i.length,r&&r.length||0))},h=[],d=[],u="",p="",f=0,g=S(i.length,r&&r.length||0);f<g;f++){i[f]&&(u=i[f][0]),"C"!=u&&(h[f]=u,f&&(p=h[f-1])),i[f]=s(i[f],o,p),"A"!=h[f]&&"C"==u&&(h[f]="C"),l(i,f),r&&(r[f]&&(u=r[f][0]),"C"!=u&&(d[f]=u,f&&(p=d[f-1])),r[f]=s(r[f],a,p),"A"!=d[f]&&"C"==u&&(d[f]="C"),l(r,f)),c(i,r,o,a,f),c(r,i,a,o,f);var v=i[f],b=r&&r[f],y=v.length,_=r&&b.length;o.x=v[y-2],o.y=v[y-1],o.bx=L(v[y-4])||o.x,o.by=L(v[y-3])||o.y,a.bx=r&&(L(b[_-4])||a.x),a.by=r&&(L(b[_-3])||a.y),a.x=r&&b[_-2],a.y=r&&b[_-1]}return r||(n.curve=_e(i)),r?[i,r]:i}),null,_e),Ae=(i._parseDots=he((function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o={},a=e[n].match(/^([^:]*):?([\d\.]*)/);if(o.color=i.getRGB(a[1]),o.color.error)return null;o.color=o.color.hex,a[2]&&(o.offset=a[2]+"%"),t.push(o)}for(n=1,r=t.length-1;n<r;n++)if(!t[n].offset){for(var s=L(t[n-1].offset||0),l=0,c=n+1;c<r;c++)if(t[c].offset){l=t[c].offset;break}l||(l=100,c=r);for(var h=((l=L(l))-s)/(c-n+1);n<c;n++)s+=h,t[n].offset=s+"%"}return t})),i._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),Ie=(i._tofront=function(e,t){t.top!==e&&(Ae(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},i._toback=function(e,t){t.bottom!==e&&(Ae(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},i._insertafter=function(e,t,n){Ae(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},i._insertbefore=function(e,t,n){Ae(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},i.toMatrix=function(e,t){var n=ye(e),i={_:{transform:v},getBBox:function(){return n}};return je(i,t),i.matrix}),je=(i.transformPath=function(e,t){return Q(e,Ie(e,t))},i._extractTransform=function(e,t){if(null==t)return e._.transform;t=y(t).replace(/\.{3}|\u2026/g,e._.transform||v);var n,r,o=i.parseTransformString(t),a=0,s=1,l=1,c=e._,h=new Re;if(c.transform=o||[],o)for(var d=0,u=o.length;d<u;d++){var p,f,m,g,b,_=o[d],x=_.length,w=y(_[0]).toLowerCase(),C=_[0]!=w,S=C?h.invert():0;"t"==w&&3==x?C?(p=S.x(0,0),f=S.y(0,0),m=S.x(_[1],_[2]),g=S.y(_[1],_[2]),h.translate(m-p,g-f)):h.translate(_[1],_[2]):"r"==w?2==x?(b=b||e.getBBox(1),h.rotate(_[1],b.x+b.width/2,b.y+b.height/2),a+=_[1]):4==x&&(C?(m=S.x(_[2],_[3]),g=S.y(_[2],_[3]),h.rotate(_[1],m,g)):h.rotate(_[1],_[2],_[3]),a+=_[1]):"s"==w?2==x||3==x?(b=b||e.getBBox(1),h.scale(_[1],_[x-1],b.x+b.width/2,b.y+b.height/2),s*=_[1],l*=_[x-1]):5==x&&(C?(m=S.x(_[3],_[4]),g=S.y(_[3],_[4]),h.scale(_[1],_[2],m,g)):h.scale(_[1],_[2],_[3],_[4]),s*=_[1],l*=_[2]):"m"==w&&7==x&&h.add(_[1],_[2],_[3],_[4],_[5],_[6]),c.dirtyT=1,e.matrix=h}e.matrix=h,c.sx=s,c.sy=l,c.deg=a,c.dx=n=h.e,c.dy=r=h.f,1==s&&1==l&&!a&&c.bbox?(c.bbox.x+=+n,c.bbox.y+=+r):c.dirtyT=1}),Pe=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Me=i._equaliseTransform=function(e,t){t=y(t).replace(/\.{3}|\u2026/g,e),e=i.parseTransformString(e)||[],t=i.parseTransformString(t)||[];for(var n,r,o,a,s=S(e.length,t.length),l=[],c=[],h=0;h<s;h++){if(o=e[h]||Pe(t[h]),a=t[h]||Pe(o),o[0]!=a[0]||"r"==o[0].toLowerCase()&&(o[2]!=a[2]||o[3]!=a[3])||"s"==o[0].toLowerCase()&&(o[3]!=a[3]||o[4]!=a[4]))return;for(l[h]=[],c[h]=[],n=0,r=S(o.length,a.length);n<r;n++)n in o&&(l[h][n]=o[n]),n in a&&(c[h][n]=a[n])}return{from:l,to:c}};function Re(e,t,n,i,r,o){null!=e?(this.a=+e,this.b=+t,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}i._getContainer=function(e,t,n,r){var o;if(null!=(o=null!=r||i.is(e,"object")?e:u.doc.getElementById(e)))return o.tagName?null==t?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:t,height:n}:{container:1,x:e,y:t,width:n,height:r}},i.pathToRelative=xe,i._engine={},i.path2curve=Te,i.matrix=function(e,t,n,i,r,o){return new Re(e,t,n,i,r,o)},function(e){function t(e){return e[0]*e[0]+e[1]*e[1]}function n(e){var n=C.sqrt(t(e));e[0]&&(e[0]/=n),e[1]&&(e[1]/=n)}e.add=function(e,t,n,i,r,o){var a,s,l,c,h=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],u=[[e,n,r],[t,i,o],[0,0,1]];for(e&&e instanceof Re&&(u=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),a=0;a<3;a++)for(s=0;s<3;s++){for(c=0,l=0;l<3;l++)c+=d[a][l]*u[l][s];h[a][s]=c}this.a=h[0][0],this.b=h[1][0],this.c=h[0][1],this.d=h[1][1],this.e=h[0][2],this.f=h[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new Re(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new Re(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,n,i){null==t&&(t=e),(n||i)&&this.add(1,0,0,1,n,i),this.add(e,0,0,t,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},e.rotate=function(e,t,n){e=i.rad(e),t=t||0,n=n||0;var r=+C.cos(e).toFixed(9),o=+C.sin(e).toFixed(9);this.add(r,o,-o,r,t,n),this.add(1,0,0,1,-t,-n)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[y.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return i.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];e.scalex=C.sqrt(t(r[0])),n(r[0]),e.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*e.shear,r[1][1]-r[0][1]*e.shear],e.scaley=C.sqrt(t(r[1])),n(r[1]),e.shear/=e.scaley;var o=-r[0][1],a=r[1][1];return a<0?(e.rotate=i.deg(C.acos(a)),o<0&&(e.rotate=360-e.rotate)):e.rotate=i.deg(C.asin(o)),e.isSimple=!+e.shear.toFixed(9)&&(e.scalex.toFixed(9)==e.scaley.toFixed(9)||!e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this.split();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:v)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:v)+(t.rotate?"r"+[t.rotate,0,0]:v)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Re.prototype);var De=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(De&&De[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&De&&De[1]<8?o.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout((function(){e.remove()}))}:o.safari=function(){};for(var Le=function(){this.returnValue=!1},Ne=function(){return this.originalEvent.preventDefault()},Be=function(){this.cancelBubble=!0},Fe=function(){return this.originalEvent.stopPropagation()},ze=function(e){var t=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,n=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;return{x:e.clientX+n,y:e.clientY+t}},He=u.doc.addEventListener?function(e,t,n,i){var r=function(e){var t=ze(e);return n.call(i,e,t.x,t.y)};if(e.addEventListener(t,r,!1),g&&x[t]){var o=function(t){for(var r=ze(t),o=t,a=0,s=t.targetTouches&&t.targetTouches.length;a<s;a++)if(t.targetTouches[a].target==e){(t=t.targetTouches[a]).originalEvent=o,t.preventDefault=Ne,t.stopPropagation=Fe;break}return n.call(i,t,r.x,r.y)};e.addEventListener(x[t],o,!1)}return function(){return e.removeEventListener(t,r,!1),g&&x[t]&&e.removeEventListener(x[t],o,!1),!0}}:u.doc.attachEvent?function(e,t,n,i){var r=function(e){e=e||u.win.event;var t=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,r=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,o=e.clientX+r,a=e.clientY+t;return e.preventDefault=e.preventDefault||Le,e.stopPropagation=e.stopPropagation||Be,n.call(i,e,o,a)};return e.attachEvent("on"+t,r),function(){return e.detachEvent("on"+t,r),!0}}:void 0,Ue=[],qe=function(e){for(var t,i=e.clientX,r=e.clientY,o=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,a=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,s=Ue.length;s--;){if(t=Ue[s],g&&e.touches){for(var l,c=e.touches.length;c--;)if((l=e.touches[c]).identifier==t.el._drag.id){i=l.clientX,r=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var h,d=t.el.node,p=d.nextSibling,f=d.parentNode,m=d.style.display;u.win.opera&&f.removeChild(d),d.style.display="none",h=t.el.paper.getElementByPoint(i,r),d.style.display=m,u.win.opera&&(p?f.insertBefore(d,p):f.appendChild(d)),h&&n("raphael.drag.over."+t.el.id,t.el,h),i+=a,r+=o,n("raphael.drag.move."+t.el.id,t.move_scope||t.el,i-t.el._drag.x,r-t.el._drag.y,i,r,e)}},We=function e(t){i.unmousemove(qe).unmouseup(e);for(var r,o=Ue.length;o--;)(r=Ue[o]).el._drag={},n("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,t);Ue=[]},Ve=i.el={},Ge=_.length;Ge--;)!function(e){i[e]=Ve[e]=function(t,n){return i.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:He(this.shape||this.node||u.doc,e,t,n||this)})),this},i["un"+e]=Ve["un"+e]=function(t){for(var n=this.events||[],r=n.length;r--;)n[r].name!=e||!i.is(t,"undefined")&&n[r].f!=t||(n[r].unbind(),n.splice(r,1),!n.length&&delete this.events);return this}}(_[Ge]);Ve.data=function(e,t){var r=K[this.id]=K[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(i.is(e,"object")){for(var o in e)e[d](o)&&this.data(o,e[o]);return this}return n("raphael.data.get."+this.id,this,r[e],e),r[e]}return r[e]=t,n("raphael.data.set."+this.id,this,t,e),this},Ve.removeData=function(e){return null==e?K[this.id]={}:K[this.id]&&delete K[this.id][e],this},Ve.getData=function(){return ne(K[this.id]||{})},Ve.hover=function(e,t,n,i){return this.mouseover(e,n).mouseout(t,i||n)},Ve.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var Ke=[];function Ye(){return this.x+b+this.y+b+this.width+" \xd7 "+this.height}Ve.drag=function(e,t,r,o,a,s){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,h=l.clientY,d=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,p=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;if(this._drag.id=l.identifier,g&&l.touches)for(var f,m=l.touches.length;m--;)if(f=l.touches[m],this._drag.id=f.identifier,f.identifier==this._drag.id){c=f.clientX,h=f.clientY;break}this._drag.x=c+p,this._drag.y=h+d,!Ue.length&&i.mousemove(qe).mouseup(We),Ue.push({el:this,move_scope:o,start_scope:a,end_scope:s}),t&&n.on("raphael.drag.start."+this.id,t),e&&n.on("raphael.drag.move."+this.id,e),r&&n.on("raphael.drag.end."+this.id,r),n("raphael.drag.start."+this.id,a||o||this,l.clientX+p,l.clientY+d,l)}return this._drag={},Ke.push({el:this,start:l}),this.mousedown(l),this},Ve.onDragOver=function(e){e?n.on("raphael.drag.over."+this.id,e):n.unbind("raphael.drag.over."+this.id)},Ve.undrag=function(){for(var e=Ke.length;e--;)Ke[e].el==this&&(this.unmousedown(Ke[e].start),Ke.splice(e,1),n.unbind("raphael.drag.*."+this.id));!Ke.length&&i.unmousemove(qe).unmouseup(We),Ue=[]},o.circle=function(e,t,n){var r=i._engine.circle(this,e||0,t||0,n||0);return this.__set__&&this.__set__.push(r),r},o.rect=function(e,t,n,r,o){var a=i._engine.rect(this,e||0,t||0,n||0,r||0,o||0);return this.__set__&&this.__set__.push(a),a},o.ellipse=function(e,t,n,r){var o=i._engine.ellipse(this,e||0,t||0,n||0,r||0);return this.__set__&&this.__set__.push(o),o},o.path=function(e){e&&!i.is(e,"string")&&!i.is(e[0],I)&&(e+=v);var t=i._engine.path(i.format[m](i,arguments),this);return this.__set__&&this.__set__.push(t),t},o.image=function(e,t,n,r,o){var a=i._engine.image(this,e||"about:blank",t||0,n||0,r||0,o||0);return this.__set__&&this.__set__.push(a),a},o.text=function(e,t,n){var r=i._engine.text(this,e||0,t||0,y(n));return this.__set__&&this.__set__.push(r),r},o.set=function(e){!i.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var t=new dt(e);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t},o.setStart=function(e){this.__set__=e||this.set()},o.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},o.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},o.setSize=function(e,t){return i._engine.setSize.call(this,e,t)},o.setViewBox=function(e,t,n,r,o){return i._engine.setViewBox.call(this,e,t,n,r,o)},o.top=o.bottom=null,o.raphael=i,o.getElementByPoint=function(e,t){var n=this.canvas,i=u.doc.elementFromPoint(e,t);if(u.win.opera&&"svg"==i.tagName){var r=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,a=r.clientLeft||i.clientLeft||0;return{y:t.top+(u.win.pageYOffset||r.scrollTop||i.scrollTop)-o,x:t.left+(u.win.pageXOffset||r.scrollLeft||i.scrollLeft)-a}}(n),o=n.createSVGRect();o.x=e-r.x,o.y=t-r.y,o.width=o.height=1;var a=n.getIntersectionList(o,null);a.length&&(i=a[a.length-1])}if(!i)return null;for(;i.parentNode&&i!=n.parentNode&&!i.raphael;)i=i.parentNode;return i==this.canvas.parentNode&&(i=n),i=i&&i.raphael?this.getById(i.raphaelid):null},o.getElementsByBBox=function(e){var t=this.set();return this.forEach((function(n){i.isBBoxIntersect(n.getBBox(),e)&&t.push(n)})),t},o.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},o.forEach=function(e,t){for(var n=this.bottom;n;){if(!1===e.call(t,n))return this;n=n.next}return this},o.getElementsByPoint=function(e,t){var n=this.set();return this.forEach((function(i){i.isPointInside(e,t)&&n.push(i)})),n},Ve.isPointInside=function(e,t){var n=this.realPath=Z[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=i.transformPath(n,this.attr("transform"))),i.isPointInsidePath(n,e,t)},Ve.getBBox=function(e){if(this.removed)return{};var t=this._;return e?(!t.dirty&&t.bboxwt||(this.realPath=Z[this.type](this),t.bboxwt=ye(this.realPath),t.bboxwt.toString=Ye,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&(!t.dirty&&this.realPath||(t.bboxwt=0,this.realPath=Z[this.type](this)),t.bbox=ye(Q(this.realPath,this.matrix)),t.bbox.toString=Ye,t.dirty=t.dirtyT=0),t.bbox)},Ve.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},Ve.glow=function(e){if("text"==this.type)return null;var t={width:((e=e||{}).width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity||.5,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},n=t.width/2,i=this.paper,r=i.set(),o=this.realPath||Z[this.type](this);o=this.matrix?Q(o,this.matrix):o;for(var a=1;a<n+1;a++)r.push(i.path(o).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/n*a).toFixed(3),opacity:+(t.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(t.offsetx,t.offsety)};var Xe=function(e,t,n,r,o,a,s,l,c){return null==c?me(e,t,n,r,o,a,s,l):i.findDotsAtSegment(e,t,n,r,o,a,s,l,function(e,t,n,i,r,o,a,s,l){if(!(l<0||me(e,t,n,i,r,o,a,s)<l)){var c,h=.5,d=1-h;for(c=me(e,t,n,i,r,o,a,s,d);k(c-l)>.01;)c=me(e,t,n,i,r,o,a,s,d+=(c<l?1:-1)*(h/=2));return d}}(e,t,n,r,o,a,s,l,c))},Je=function(e,t){return function(n,r,o){for(var a,s,l,c,h,d="",u={},p=0,f=0,m=(n=Te(n)).length;f<m;f++){if("M"==(l=n[f])[0])a=+l[1],s=+l[2];else{if(p+(c=Xe(a,s,l[1],l[2],l[3],l[4],l[5],l[6]))>r){if(t&&!u.start){if(d+=["C"+(h=Xe(a,s,l[1],l[2],l[3],l[4],l[5],l[6],r-p)).start.x,h.start.y,h.m.x,h.m.y,h.x,h.y],o)return d;u.start=d,d=["M"+h.x,h.y+"C"+h.n.x,h.n.y,h.end.x,h.end.y,l[5],l[6]].join(),p+=c,a=+l[5],s=+l[6];continue}if(!e&&!t)return{x:(h=Xe(a,s,l[1],l[2],l[3],l[4],l[5],l[6],r-p)).x,y:h.y,alpha:h.alpha}}p+=c,a=+l[5],s=+l[6]}d+=l.shift()+l}return u.end=d,(h=e?p:t?u:i.findDotsAtSegment(a,s,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(h={x:h.x,y:h.y,alpha:h.alpha}),h}},$e=Je(1),Ze=Je(),Qe=Je(0,1);i.getTotalLength=$e,i.getPointAtLength=Ze,i.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return Qe(e,t).end;var i=Qe(e,n,1);return t?Qe(i,t).end:i},Ve.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():$e(e)},Ve.getPointAtLength=function(e){var t=this.getPath();if(t)return Ze(t,e)},Ve.getPath=function(){var e,t=i._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return t&&(e=t(this)),e},Ve.getSubpath=function(e,t){var n=this.getPath();if(n)return i.getSubpath(n,e,t)};var et=i.easing_formulas={linear:function(e){return e},"<":function(e){return O(e,1.7)},">":function(e){return O(e,.48)},"<>":function(e){var t=.48-e/1.04,n=C.sqrt(.1734+t*t),i=n-t,r=-n-t,o=O(k(i),1/3)*(i<0?-1:1)+O(k(r),1/3)*(r<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:O(2,-10*e)*C.sin(2*T*(e-.075)/.3)+1},bounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}};et.easeIn=et["ease-in"]=et["<"],et.easeOut=et["ease-out"]=et[">"],et.easeInOut=et["ease-in-out"]=et["<>"],et["back-in"]=et.backIn,et["back-out"]=et.backOut;var tt=[],nt=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,16)},it=function e(){for(var t=+new Date,r=0;r<tt.length;r++){var o=tt[r];if(!o.el.removed&&!o.paused){var a,s,l=t-o.start,c=o.ms,h=o.easing,u=o.from,p=o.diff,f=o.to,m=(o.t,o.el),g={},v={};if(o.initstatus?(l=(o.initstatus*o.anim.top-o.prev)/(o.percent-o.prev)*c,o.status=o.initstatus,delete o.initstatus,o.stop&&tt.splice(r--,1)):o.status=(o.prev+(o.percent-o.prev)*(l/c))/o.anim.top,!(l<0))if(l<c){var y=h(l/c);for(var _ in u)if(u[d](_)){switch(z[_]){case A:a=+u[_]+y*c*p[_];break;case"colour":a="rgb("+[rt(D(u[_].r+y*c*p[_].r)),rt(D(u[_].g+y*c*p[_].g)),rt(D(u[_].b+y*c*p[_].b))].join(",")+")";break;case"path":a=[];for(var x=0,w=u[_].length;x<w;x++){a[x]=[u[_][x][0]];for(var C=1,S=u[_][x].length;C<S;C++)a[x][C]=+u[_][x][C]+y*c*p[_][x][C];a[x]=a[x].join(b)}a=a.join(b);break;case"transform":if(p[_].real)for(a=[],x=0,w=u[_].length;x<w;x++)for(a[x]=[u[_][x][0]],C=1,S=u[_][x].length;C<S;C++)a[x][C]=u[_][x][C]+y*c*p[_][x][C];else{var E=function(e){return+u[_][e]+y*c*p[_][e]};a=[["m",E(0),E(1),E(2),E(3),E(4),E(5)]]}break;case"csv":if("clip-rect"==_)for(a=[],x=4;x--;)a[x]=+u[_][x]+y*c*p[_][x];break;default:var k=[].concat(u[_]);for(a=[],x=m.paper.customAttributes[_].length;x--;)a[x]=+k[x]+y*c*p[_][x]}g[_]=a}m.attr(g),function(e,t,i){setTimeout((function(){n("raphael.anim.frame."+e,t,i)}))}(m.id,m,o.anim)}else{if(function(e,t,r){setTimeout((function(){n("raphael.anim.frame."+t.id,t,r),n("raphael.anim.finish."+t.id,t,r),i.is(e,"function")&&e.call(t)}))}(o.callback,m,o.anim),m.attr(f),tt.splice(r--,1),o.repeat>1&&!o.next){for(s in f)f[d](s)&&(v[s]=o.totalOrigin[s]);o.el.attr(v),st(o.anim,o.el,o.anim.percents[0],null,o.totalOrigin,o.repeat-1)}o.next&&!o.stop&&st(o.anim,o.el,o.next,null,o.totalOrigin,o.repeat)}}}i.svg&&m&&m.paper&&m.paper.safari(),tt.length&&nt(e)},rt=function(e){return e>255?255:e<0?0:e};function ot(e,t,n,i,r,o){var a=3*t,s=3*(i-t)-a,l=1-a-s,c=3*n,h=3*(r-n)-c,d=1-c-h;function u(e){return((l*e+s)*e+a)*e}return function(e,t){var n=function(e,t){var n,i,r,o,c,h;for(r=e,h=0;h<8;h++){if(o=u(r)-e,k(o)<t)return r;if(k(c=(3*l*r+2*s)*r+a)<1e-6)break;r-=o/c}if(i=1,(r=e)<(n=0))return n;if(r>i)return i;for(;n<i;){if(o=u(r),k(o-e)<t)return r;e>o?n=r:i=r,r=(i-n)/2+n}return r}(e,t);return((d*n+h)*n+c)*n}(e,1/(200*o))}function at(e,t){var n=[],i={};if(this.ms=t,this.times=1,e){for(var r in e)e[d](r)&&(i[L(r)]=e[r],n.push(L(r)));n.sort(Y)}this.anim=i,this.top=n[n.length-1],this.percents=n}function st(e,t,r,o,a,s){r=L(r);var c,h,u,p,f,m,g=e.ms,v={},b={},_={};if(o)for(w=0,C=tt.length;w<C;w++){var x=tt[w];if(x.el.id==t.id&&x.anim==e){x.percent!=r?(tt.splice(w,1),u=1):h=x,t.attr(x.totalOrigin);break}}else o=+b;for(var w=0,C=e.percents.length;w<C;w++){if(e.percents[w]==r||e.percents[w]>o*e.top){r=e.percents[w],f=e.percents[w-1]||0,g=g/e.top*(r-f),p=e.percents[w+1],c=e.anim[r];break}o&&t.attr(e.anim[e.percents[w]])}if(c){if(h)h.initstatus=o,h.start=new Date-h.ms*o;else{for(var S in c)if(c[d](S)&&(z[d](S)||t.paper.customAttributes[d](S)))switch(v[S]=t.attr(S),null==v[S]&&(v[S]=F[S]),b[S]=c[S],z[S]){case A:_[S]=(b[S]-v[S])/g;break;case"colour":v[S]=i.getRGB(v[S]);var E=i.getRGB(b[S]);_[S]={r:(E.r-v[S].r)/g,g:(E.g-v[S].g)/g,b:(E.b-v[S].b)/g};break;case"path":var k=Te(v[S],b[S]),O=k[1];for(v[S]=k[0],_[S]=[],w=0,C=v[S].length;w<C;w++){_[S][w]=[0];for(var T=1,I=v[S][w].length;T<I;T++)_[S][w][T]=(O[w][T]-v[S][w][T])/g}break;case"transform":var j=t._,P=Me(j[S],b[S]);if(P)for(v[S]=P.from,b[S]=P.to,_[S]=[],_[S].real=!0,w=0,C=v[S].length;w<C;w++)for(_[S][w]=[v[S][w][0]],T=1,I=v[S][w].length;T<I;T++)_[S][w][T]=(b[S][w][T]-v[S][w][T])/g;else{var M=t.matrix||new Re,D={_:{transform:j.transform},getBBox:function(){return t.getBBox(1)}};v[S]=[M.a,M.b,M.c,M.d,M.e,M.f],je(D,b[S]),b[S]=D._.transform,_[S]=[(D.matrix.a-M.a)/g,(D.matrix.b-M.b)/g,(D.matrix.c-M.c)/g,(D.matrix.d-M.d)/g,(D.matrix.e-M.e)/g,(D.matrix.f-M.f)/g]}break;case"csv":var N=y(c[S]).split(l),B=y(v[S]).split(l);if("clip-rect"==S)for(v[S]=B,_[S]=[],w=B.length;w--;)_[S][w]=(N[w]-v[S][w])/g;b[S]=N;break;default:for(N=[].concat(c[S]),B=[].concat(v[S]),_[S]=[],w=t.paper.customAttributes[S].length;w--;)_[S][w]=((N[w]||0)-(B[w]||0))/g}var H=c.easing,U=i.easing_formulas[H];if(!U)if((U=y(H).match(R))&&5==U.length){var q=U;U=function(e){return ot(e,+q[1],+q[2],+q[3],+q[4],g)}}else U=X;if(x={anim:e,percent:r,timestamp:m=c.start||e.start||+new Date,start:m+(e.del||0),status:0,initstatus:o||0,stop:!1,ms:g,easing:U,from:v,diff:_,to:b,el:t,callback:c.callback,prev:f,next:p,repeat:s||e.times,origin:t.attr(),totalOrigin:a},tt.push(x),o&&!h&&!u&&(x.stop=!0,x.start=new Date-g*o,1==tt.length))return it();u&&(x.start=new Date-x.ms*o),1==tt.length&&nt(it)}n("raphael.anim.start."+t.id,t,e)}}function lt(e){for(var t=0;t<tt.length;t++)tt[t].el.paper==e&&tt.splice(t--,1)}Ve.animateWith=function(e,t,n,r,o,a){if(this.removed)return a&&a.call(this),this;var s=n instanceof at?n:i.animation(n,r,o,a);st(s,this,s.percents[0],null,this.attr());for(var l=0,c=tt.length;l<c;l++)if(tt[l].anim==t&&tt[l].el==e){tt[c-1].start=tt[l].start;break}return this},Ve.onAnimation=function(e){return e?n.on("raphael.anim.frame."+this.id,e):n.unbind("raphael.anim.frame."+this.id),this},at.prototype.delay=function(e){var t=new at(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},at.prototype.repeat=function(e){var t=new at(this.anim,this.ms);return t.del=this.del,t.times=C.floor(S(e,0))||1,t},i.animation=function(e,t,n,r){if(e instanceof at)return e;!i.is(n,"function")&&n||(r=r||n||null,n=null),e=Object(e),t=+t||0;var o,a,s={};for(a in e)e[d](a)&&L(a)!=a&&L(a)+"%"!=a&&(o=!0,s[a]=e[a]);if(o)return n&&(s.easing=n),r&&(s.callback=r),new at({100:s},t);if(r){var l=0;for(var c in e){var h=N(c);e[d](c)&&h>l&&(l=h)}!e[l+="%"].callback&&(e[l].callback=r)}return new at(e,t)},Ve.animate=function(e,t,n,r){if(this.removed)return r&&r.call(this),this;var o=e instanceof at?e:i.animation(e,t,n,r);return st(o,this,o.percents[0],null,this.attr()),this},Ve.setTime=function(e,t){return e&&null!=t&&this.status(e,E(t,e.ms)/e.ms),this},Ve.status=function(e,t){var n,i,r=[],o=0;if(null!=t)return st(e,this,-1,E(t,1)),this;for(n=tt.length;o<n;o++)if((i=tt[o]).el.id==this.id&&(!e||i.anim==e)){if(e)return i.status;r.push({anim:i.anim,status:i.status})}return e?0:r},Ve.pause=function(e){for(var t=0;t<tt.length;t++)tt[t].el.id!=this.id||e&&tt[t].anim!=e||!1!==n("raphael.anim.pause."+this.id,this,tt[t].anim)&&(tt[t].paused=!0);return this},Ve.resume=function(e){for(var t=0;t<tt.length;t++)if(tt[t].el.id==this.id&&(!e||tt[t].anim==e)){var i=tt[t];!1!==n("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},Ve.stop=function(e){for(var t=0;t<tt.length;t++)tt[t].el.id!=this.id||e&&tt[t].anim!=e||!1!==n("raphael.anim.stop."+this.id,this,tt[t].anim)&&tt.splice(t--,1);return this},n.on("raphael.remove",lt),n.on("raphael.clear",lt),Ve.toString=function(){return"Rapha\xebl\u2019s object"};var ct,ht,dt=function e(t){if(this.items=[],this.length=0,this.type="set",t)for(var n=0,i=t.length;n<i;n++)!t[n]||t[n].constructor!=Ve.constructor&&t[n].constructor!=e||(this[this.items.length]=this.items[this.items.length]=t[n],this.length++)},ut=dt.prototype;for(var pt in ut.push=function(){for(var e,t,n=0,i=arguments.length;n<i;n++)!(e=arguments[n])||e.constructor!=Ve.constructor&&e.constructor!=dt||(this[t=this.items.length]=this.items[t]=e,this.length++);return this},ut.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ut.forEach=function(e,t){for(var n=0,i=this.items.length;n<i;n++)if(!1===e.call(t,this.items[n],n))return this;return this},Ve)Ve[d](pt)&&(ut[pt]=function(e){return function(){var t=arguments;return this.forEach((function(n){n[e][m](n,t)}))}}(pt));return ut.attr=function(e,t){if(e&&i.is(e,I)&&i.is(e[0],"object"))for(var n=0,r=e.length;n<r;n++)this.items[n].attr(e[n]);else for(var o=0,a=this.items.length;o<a;o++)this.items[o].attr(e,t);return this},ut.clear=function(){for(;this.length;)this.pop()},ut.splice=function(e,t,n){e=e<0?S(this.length+e,0):e,t=S(0,E(this.length-e,t));var i,r=[],o=[],a=[];for(i=2;i<arguments.length;i++)a.push(arguments[i]);for(i=0;i<t;i++)o.push(this[e+i]);for(;i<this.length-e;i++)r.push(this[e+i]);var s=a.length;for(i=0;i<s+r.length;i++)this.items[e+i]=this[e+i]=i<s?a[i]:r[i-s];for(i=this.items.length=this.length-=t-s;this[i];)delete this[i++];return new dt(o)},ut.exclude=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return this.splice(t,1),!0},ut.animate=function(e,t,n,r){(i.is(n,"function")||!n)&&(r=n||null);var o,a,s=this.items.length,l=s,c=this;if(!s)return this;r&&(a=function(){!--s&&r.call(c)}),n=i.is(n,"string")?n:a;var h=i.animation(e,t,n,a);for(o=this.items[--l].animate(h);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,h,h),this.items[l]&&!this.items[l].removed||s--;return this},ut.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},ut.getBBox=function(){for(var e=[],t=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();e.push(o.x),t.push(o.y),n.push(o.x+o.width),i.push(o.y+o.height)}return{x:e=E[m](0,e),y:t=E[m](0,t),x2:n=S[m](0,n),y2:i=S[m](0,i),width:n-e,height:i-t}},ut.clone=function(e){e=this.paper.set();for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].clone());return e},ut.toString=function(){return"Rapha\xebl\u2018s set"},ut.glow=function(e){var t=this.paper.set();return this.forEach((function(n,i){var r=n.glow(e);null!=r&&r.forEach((function(e,n){t.push(e)}))})),t},ut.isPointInside=function(e,t){var n=!1;return this.forEach((function(i){if(i.isPointInside(e,t))return n=!0,!1})),n},i.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var i in e.face)e.face[d](i)&&(t.face[i]=e.face[i]);if(this.fonts[n]?this.fonts[n].push(t):this.fonts[n]=[t],!e.svg)for(var r in t.face["units-per-em"]=N(e.face["units-per-em"],10),e.glyphs)if(e.glyphs[d](r)){var o=e.glyphs[r];if(t.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,(function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"}))+"z"},o.k)for(var a in o.k)o[d](a)&&(t.glyphs[r].k[a]=o.k[a])}return e},o.getFont=function(e,t,n,r){if(r=r||"normal",n=n||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,i.fonts){var o,a=i.fonts[e];if(!a){var s=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,v)+"(\\s|$)","i");for(var l in i.fonts)if(i.fonts[d](l)&&s.test(l)){a=i.fonts[l];break}}if(a)for(var c=0,h=a.length;c<h&&((o=a[c]).face["font-weight"]!=t||o.face["font-style"]!=n&&o.face["font-style"]||o.face["font-stretch"]!=r);c++);return o}},o.print=function(e,t,n,r,o,a,s,c){a=a||"middle",s=S(E(s||0,1),-1),c=S(E(c||1,3),1);var h,d=y(n).split(v),u=0,p=0,f=v;if(i.is(r,"string")&&(r=this.getFont(r)),r){h=(o||16)/r.face["units-per-em"];for(var m=r.face.bbox.split(l),g=+m[0],b=m[3]-m[1],_=0,x=+m[1]+("baseline"==a?b+ +r.face.descent:b/2),w=0,C=d.length;w<C;w++){if("\n"==d[w])u=0,O=0,p=0,_+=b*c;else{var k=p&&r.glyphs[d[w-1]]||{},O=r.glyphs[d[w]];u+=p?(k.w||r.w)+(k.k&&k.k[d[w]]||0)+r.w*s:0,p=1}O&&O.d&&(f+=i.transformPath(O.d,["t",u*h,_*h,"s",h,h,g,x,"t",(e-g)/h,(t-x)/h]))}}return this.path(f).attr({fill:"#000",stroke:"none"})},o.add=function(e){if(i.is(e,"array"))for(var t,n=this.set(),r=0,o=e.length;r<o;r++)t=e[r]||{},c[d](t.type)&&n.push(this[t.type]().attr(t));return n},i.format=function(e,t){var n=i.is(t,I)?[0].concat(t):arguments;return e&&i.is(e,"string")&&n.length-1&&(e=e.replace(h,(function(e,t){return null==n[++t]?v:n[t]}))),e||v},i.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;return function(n,i){return String(n).replace(e,(function(e,n){return function(e,n,i){var r=i;return n.replace(t,(function(e,t,n,i,o){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&o&&(r=r()))})),r=(null==r||r==i?e:r)+""}(e,n,i)}))}}(),i.ninja=function(){return p.was?u.win.Raphael=p.is:delete Raphael,i},i.st=ut,n.on("raphael.DOMload",(function(){r=!0})),null==(ct=document).readyState&&ct.addEventListener&&(ct.addEventListener("DOMContentLoaded",ht=function(){ct.removeEventListener("DOMContentLoaded",ht,!1),ct.readyState="complete"},!1),ct.readyState="loading"),function e(){/in/.test(ct.readyState)?setTimeout(e,9):i.eve("raphael.DOMload")}(),function(){if(i.svg){var e="hasOwnProperty",t=String,n=parseFloat,r=parseInt,o=Math,a=o.max,s=o.abs,l=o.pow,c=/[, ]+/,h=i.eve,d="",u=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};i.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var g=function n(r,o){if(o)for(var a in"string"==typeof r&&(r=n(r)),o)o[e](a)&&("xlink:"==a.substring(0,6)?r.setAttributeNS(p,a.substring(6),t(o[a])):r.setAttribute(a,t(o[a])));else(r=i._g.doc.createElementNS("http://www.w3.org/2000/svg",r)).style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},v=function(e,r){var c="linear",h=e.id+r,u=.5,p=.5,f=e.node,m=e.paper,v=f.style,b=i._g.doc.getElementById(h);if(!b){if(r=(r=t(r).replace(i._radial_gradient,(function(e,t,i){if(c="radial",t&&i){u=n(t);var r=2*((p=n(i))>.5)-1;l(u-.5,2)+l(p-.5,2)>.25&&(p=o.sqrt(.25-l(u-.5,2))*r+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*r)}return d}))).split(/\s*\-\s*/),"linear"==c){var y=r.shift();if(y=-n(y),isNaN(y))return null;var _=[0,0,o.cos(i.rad(y)),o.sin(i.rad(y))],x=1/(a(s(_[2]),s(_[3]))||1);_[2]*=x,_[3]*=x,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var w=i._parseDots(r);if(!w)return null;if(h=h.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&h!=e.gradient.id&&(m.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){b=g(c+"Gradient",{id:h}),e.gradient=b,g(b,"radial"==c?{fx:u,fy:p}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:e.matrix.invert()}),m.defs.appendChild(b);for(var C=0,S=w.length;C<S;C++)b.appendChild(g("stop",{offset:w[C].offset?w[C].offset:C?"100%":"0%","stop-color":w[C].color||"#fff"}))}}return g(f,{fill:"url('"+document.location+"#"+h+"')",opacity:1,"fill-opacity":1}),v.fill=d,v.opacity=1,v.fillOpacity=1,1},b=function(e){var t=e.getBBox(1);g(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},y=function(n,r,o){if("path"==n.type){for(var a,s,l,c,h,u=t(r).toLowerCase().split("-"),p=n.paper,v=o?"end":"start",b=n.node,y=n.attrs,_=y["stroke-width"],x=u.length,w="classic",C=3,S=3,E=5;x--;)switch(u[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=u[x];break;case"wide":S=5;break;case"narrow":S=2;break;case"long":C=5;break;case"short":C=2}if("open"==w?(C+=2,S+=2,E+=2,l=1,c=o?4:1,h={fill:"none",stroke:y.stroke}):(c=l=C/2,h={fill:y.stroke,stroke:"none"}),n._.arrows?o?(n._.arrows.endPath&&m[n._.arrows.endPath]--,n._.arrows.endMarker&&m[n._.arrows.endMarker]--):(n._.arrows.startPath&&m[n._.arrows.startPath]--,n._.arrows.startMarker&&m[n._.arrows.startMarker]--):n._.arrows={},"none"!=w){var k="raphael-marker-"+w,O="raphael-marker-"+v+w+C+S+"-obj"+n.id;i._g.doc.getElementById(k)?m[k]++:(p.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:f[w],id:k})),m[k]=1);var T,A=i._g.doc.getElementById(O);A?(m[O]++,T=A.getElementsByTagName("use")[0]):(A=g(g("marker"),{id:O,markerHeight:S,markerWidth:C,orient:"auto",refX:c,refY:S/2}),T=g(g("use"),{"xlink:href":"#"+k,transform:(o?"rotate(180 "+C/2+" "+S/2+") ":d)+"scale("+C/E+","+S/E+")","stroke-width":(1/((C/E+S/E)/2)).toFixed(4)}),A.appendChild(T),p.defs.appendChild(A),m[O]=1),g(T,h);var I=l*("diamond"!=w&&"oval"!=w);o?(a=n._.arrows.startdx*_||0,s=i.getTotalLength(y.path)-I*_):(a=I*_,s=i.getTotalLength(y.path)-(n._.arrows.enddx*_||0)),(h={})["marker-"+v]="url(#"+O+")",(s||a)&&(h.d=i.getSubpath(y.path,a,s)),g(b,h),n._.arrows[v+"Path"]=k,n._.arrows[v+"Marker"]=O,n._.arrows[v+"dx"]=I,n._.arrows[v+"Type"]=w,n._.arrows[v+"String"]=r}else o?(a=n._.arrows.startdx*_||0,s=i.getTotalLength(y.path)-a):(a=0,s=i.getTotalLength(y.path)-(n._.arrows.enddx*_||0)),n._.arrows[v+"Path"]&&g(b,{d:i.getSubpath(y.path,a,s)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(h in m)if(m[e](h)&&!m[h]){var j=i._g.doc.getElementById(h);j&&j.parentNode.removeChild(j)}}},_={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(e,n,i){if(n=_[t(n).toLowerCase()]){for(var r=e.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[e.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,a=[],s=n.length;s--;)a[s]=n[s]*r+(s%2?1:-1)*o;g(e.node,{"stroke-dasharray":a.join(",")})}},w=function(n,o){var l=n.node,h=n.attrs,u=l.style.visibility;for(var f in l.style.visibility="hidden",o)if(o[e](f)){if(!i._availableAttrs[e](f))continue;var m=o[f];switch(h[f]=m,f){case"blur":n.blur(m);break;case"title":var _=l.getElementsByTagName("title");if(_.length&&(_=_[0]))_.firstChild.nodeValue=m;else{_=g("title");var w=i._g.doc.createTextNode(m);_.appendChild(w),l.appendChild(_)}break;case"href":case"target":var S=l.parentNode;if("a"!=S.tagName.toLowerCase()){var E=g("a");S.insertBefore(E,l),E.appendChild(l),S=E}"target"==f?S.setAttributeNS(p,"show","blank"==m?"new":m):S.setAttributeNS(p,f,m);break;case"cursor":l.style.cursor=m;break;case"transform":n.transform(m);break;case"arrow-start":y(n,m);break;case"arrow-end":y(n,m,1);break;case"clip-rect":var k=t(m).split(c);if(4==k.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var O=g("clipPath"),T=g("rect");O.id=i.createUUID(),g(T,{x:k[0],y:k[1],width:k[2],height:k[3]}),O.appendChild(T),n.paper.defs.appendChild(O),g(l,{"clip-path":"url(#"+O.id+")"}),n.clip=T}if(!m){var A=l.getAttribute("clip-path");if(A){var I=i._g.doc.getElementById(A.replace(/(^url\(#|\)$)/g,d));I&&I.parentNode.removeChild(I),g(l,{"clip-path":d}),delete n.clip}}break;case"path":"path"==n.type&&(g(l,{d:m?h.path=i._pathToAbsolute(m):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,m),n._.dirty=1,!h.fx)break;f="x",m=h.x;case"x":h.fx&&(m=-h.x-(h.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,m),n.pattern&&b(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,m),n._.dirty=1,!h.fy)break;f="y",m=h.y;case"y":h.fy&&(m=-h.y-(h.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,m),n.pattern&&b(n),n._.dirty=1;break;case"r":"rect"==n.type?g(l,{rx:m,ry:m}):l.setAttribute(f,m),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(p,"href",m);break;case"stroke-width":1==n._.sx&&1==n._.sy||(m/=a(s(n._.sx),s(n._.sy))||1),l.setAttribute(f,m),h["stroke-dasharray"]&&x(n,h["stroke-dasharray"],o),n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1));break;case"stroke-dasharray":x(n,m,o);break;case"fill":var j=t(m).match(i._ISURL);if(j){O=g("pattern");var P=g("image");O.id=i.createUUID(),g(O,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(P,{x:0,y:0,"xlink:href":j[1]}),O.appendChild(P),function(e){i._preload(j[1],(function(){var t=this.offsetWidth,i=this.offsetHeight;g(e,{width:t,height:i}),g(P,{width:t,height:i}),n.paper.safari()}))}(O),n.paper.defs.appendChild(O),g(l,{fill:"url(#"+O.id+")"}),n.pattern=O,n.pattern&&b(n);break}var M=i.getRGB(m);if(M.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=t(m).charAt())&&v(n,m)){if("opacity"in h||"fill-opacity"in h){var R=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d));if(R){var D=R.getElementsByTagName("stop");g(D[D.length-1],{"stop-opacity":("opacity"in h?h.opacity:1)*("fill-opacity"in h?h["fill-opacity"]:1)})}}h.gradient=m,h.fill="none";break}}else delete o.gradient,delete h.gradient,!i.is(h.opacity,"undefined")&&i.is(o.opacity,"undefined")&&g(l,{opacity:h.opacity}),!i.is(h["fill-opacity"],"undefined")&&i.is(o["fill-opacity"],"undefined")&&g(l,{"fill-opacity":h["fill-opacity"]});M[e]("opacity")&&g(l,{"fill-opacity":M.opacity>1?M.opacity/100:M.opacity});case"stroke":M=i.getRGB(m),l.setAttribute(f,M.hex),"stroke"==f&&M[e]("opacity")&&g(l,{"stroke-opacity":M.opacity>1?M.opacity/100:M.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=t(m).charAt())&&v(n,m);break;case"opacity":h.gradient&&!h[e]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(h.gradient){(R=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d)))&&(D=R.getElementsByTagName("stop"),g(D[D.length-1],{"stop-opacity":m}));break}default:"font-size"==f&&(m=r(m,10)+"px");var L=f.replace(/(\-.)/g,(function(e){return e.substring(1).toUpperCase()}));l.style[L]=m,n._.dirty=1,l.setAttribute(f,m)}}C(n,o),l.style.visibility=u},C=function(n,o){if("text"==n.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var a=n.attrs,s=n.node,l=s.firstChild?r(i._g.doc.defaultView.getComputedStyle(s.firstChild,d).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(a.text=o.text;s.firstChild;)s.removeChild(s.firstChild);for(var c,h=t(o.text).split("\n"),u=[],p=0,f=h.length;p<f;p++)c=g("tspan"),p&&g(c,{dy:1.2*l,x:a.x}),c.appendChild(i._g.doc.createTextNode(h[p])),s.appendChild(c),u[p]=c}else for(p=0,f=(u=s.getElementsByTagName("tspan")).length;p<f;p++)p?g(u[p],{dy:1.2*l,x:a.x}):g(u[0],{dy:0});g(s,{x:a.x,y:a.y}),n._.dirty=1;var m=n._getBBox(),v=a.y-(m.y+m.height/2);v&&i.is(v,"finite")&&g(u[0],{dy:v})}},S=function(e){return e.parentNode&&"a"===e.parentNode.tagName.toLowerCase()?e.parentNode:e},E=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=i._oid++,e.raphaelid=this.id,this.matrix=i.matrix(),this.realPath=null,this.paper=t,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},k=i.el;E.prototype=k,k.constructor=E,i._engine.path=function(e,t){var n=g("path");t.canvas&&t.canvas.appendChild(n);var i=new E(n,t);return i.type="path",w(i,{fill:"none",stroke:"#000",path:e}),i},k.rotate=function(e,i,r){if(this.removed)return this;if((e=t(e).split(c)).length-1&&(i=n(e[1]),r=n(e[2])),e=n(e[0]),null==r&&(i=r),null==i||null==r){var o=this.getBBox(1);i=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",e,i,r]])),this},k.scale=function(e,i,r,o){if(this.removed)return this;if((e=t(e).split(c)).length-1&&(i=n(e[1]),r=n(e[2]),o=n(e[3])),e=n(e[0]),null==i&&(i=e),null==o&&(r=o),null==r||null==o)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",e,i,r,o]])),this},k.translate=function(e,i){return this.removed?this:((e=t(e).split(c)).length-1&&(i=n(e[1])),e=n(e[0])||0,i=+i||0,this.transform(this._.transform.concat([["t",e,i]])),this)},k.transform=function(t){var n=this._;if(null==t)return n.transform;if(i._extractTransform(this,t),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&g(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},k.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},k.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},k.remove=function(){var e=S(this.node);if(!this.removed&&e.parentNode){var t=this.paper;for(var n in t.__set__&&t.__set__.exclude(this),h.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),i._tear(this,t),e.parentNode.removeChild(e),this.removeData(),this)this[n]="function"==typeof this[n]?i._removedFactory(n):null;this.removed=!0}},k._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t,n=!1;this.paper.canvas.parentElement?t=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(t=this.paper.canvas.parentNode.style),t&&"none"==t.display&&(n=!0,t.display="");var i={};try{i=this.node.getBBox()}catch(r){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(t.display="none")}return e&&this.hide(),i},k.attr=function(t,n){if(this.removed)return this;if(null==t){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&i.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var a=t.split(c),s={},l=0,d=a.length;l<d;l++)(t=a[l])in this.attrs?s[t]=this.attrs[t]:i.is(this.paper.customAttributes[t],"function")?s[t]=this.paper.customAttributes[t].def:s[t]=i._availableAttrs[t];return d-1?s:s[a[0]]}if(null==n&&i.is(t,"array")){for(s={},l=0,d=t.length;l<d;l++)s[t[l]]=this.attr(t[l]);return s}if(null!=n){var u={};u[t]=n}else null!=t&&i.is(t,"object")&&(u=t);for(var p in u)h("raphael.attr."+p+"."+this.id,this,u[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&u[e](p)&&i.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(u[p]));for(var m in this.attrs[p]=u[p],f)f[e](m)&&(u[m]=f[m])}return w(this,u),this},k.toFront=function(){if(this.removed)return this;var e=S(this.node);e.parentNode.appendChild(e);var t=this.paper;return t.top!=this&&i._tofront(this,t),this},k.toBack=function(){if(this.removed)return this;var e=S(this.node),t=e.parentNode;return t.insertBefore(e,t.firstChild),i._toback(this,this.paper),this.paper,this},k.insertAfter=function(e){if(this.removed||!e)return this;var t=S(this.node),n=S(e.node||e[e.length-1].node);return n.nextSibling?n.parentNode.insertBefore(t,n.nextSibling):n.parentNode.appendChild(t),i._insertafter(this,e,this.paper),this},k.insertBefore=function(e){if(this.removed||!e)return this;var t=S(this.node),n=S(e.node||e[0].node);return n.parentNode.insertBefore(t,n),i._insertbefore(this,e,this.paper),this},k.blur=function(e){var t=this;if(0!==+e){var n=g("filter"),r=g("feGaussianBlur");t.attrs.blur=e,n.id=i.createUUID(),g(r,{stdDeviation:+e||1.5}),n.appendChild(r),t.paper.defs.appendChild(n),t._blur=n,g(t.node,{filter:"url(#"+n.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter");return t},i._engine.circle=function(e,t,n,i){var r=g("circle");e.canvas&&e.canvas.appendChild(r);var o=new E(r,e);return o.attrs={cx:t,cy:n,r:i,fill:"none",stroke:"#000"},o.type="circle",g(r,o.attrs),o},i._engine.rect=function(e,t,n,i,r,o){var a=g("rect");e.canvas&&e.canvas.appendChild(a);var s=new E(a,e);return s.attrs={x:t,y:n,width:i,height:r,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},s.type="rect",g(a,s.attrs),s},i._engine.ellipse=function(e,t,n,i,r){var o=g("ellipse");e.canvas&&e.canvas.appendChild(o);var a=new E(o,e);return a.attrs={cx:t,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},a.type="ellipse",g(o,a.attrs),a},i._engine.image=function(e,t,n,i,r,o){var a=g("image");g(a,{x:n,y:i,width:r,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(p,"href",t),e.canvas&&e.canvas.appendChild(a);var s=new E(a,e);return s.attrs={x:n,y:i,width:r,height:o,src:t},s.type="image",s},i._engine.text=function(e,t,n,r){var o=g("text");e.canvas&&e.canvas.appendChild(o);var a=new E(o,e);return a.attrs={x:t,y:n,"text-anchor":"middle",text:r,"font-family":i._availableAttrs["font-family"],"font-size":i._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",w(a,a.attrs),a},i._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},i._engine.create=function(){var e=i._getContainer.apply(0,arguments),t=e&&e.container,n=e.x,r=e.y,o=e.width,a=e.height;if(!t)throw new Error("SVG container not found.");var s,l=g("svg"),c="overflow:hidden;";return n=n||0,r=r||0,g(l,{height:a=a||342,version:1.1,width:o=o||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==t?(l.style.cssText=c+"position:absolute;left:"+n+"px;top:"+r+"px",i._g.doc.body.appendChild(l),s=1):(l.style.cssText=c+"position:relative",t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l)),(t=new i._Paper).width=o,t.height=a,t.canvas=l,t.clear(),t._left=t._top=0,s&&(t.renderfix=function(){}),t.renderfix(),t},i._engine.setViewBox=function(e,t,n,i,r){h("raphael.setViewBox",this,this._viewBox,[e,t,n,i,r]);var o,s,l=this.getSize(),c=a(n/l.width,i/l.height),d=this.top,p=r?"xMidYMid meet":"xMinYMin";for(null==e?(this._vbSize&&(c=1),delete this._vbSize,o="0 0 "+this.width+u+this.height):(this._vbSize=c,o=e+u+t+u+n+u+i),g(this.canvas,{viewBox:o,preserveAspectRatio:p});c&&d;)s="stroke-width"in d.attrs?d.attrs["stroke-width"]:1,d.attr({"stroke-width":s}),d._.dirty=1,d._.dirtyT=1,d=d.prev;return this._viewBox=[e,t,n,i,!!r],this},i.prototype.renderfix=function(){var e,t=this.canvas,n=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(o){e=t.createSVGMatrix()}var i=-e.e%1,r=-e.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),r&&(this._top=(this._top+r)%1,n.top=this._top+"px"))},i.prototype.clear=function(){i.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(i._g.doc.createTextNode("Created with Rapha\xebl "+i.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},i.prototype.remove=function(){for(var e in h("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?i._removedFactory(e):null};var O=i.st;for(var T in k)k[e](T)&&!O[e](T)&&(O[T]=function(e){return function(){var t=arguments;return this.forEach((function(n){n[e].apply(n,t)}))}}(T))}}(),function(){if(i.vml){var e="hasOwnProperty",t=String,n=parseFloat,r=Math,o=r.round,a=r.max,s=r.min,l=r.abs,c=/[, ]+/,h=i.eve,d=" ",u="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},f=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,g=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,y={path:1,rect:1,image:1},_={circle:1,ellipse:1},x=function(e,t,n){var r=i.matrix();return r.rotate(-e,.5,.5),{dx:r.x(t,n),dy:r.y(t,n)}},w=function(e,t,n,i,r,o){var a=e._,s=e.matrix,c=a.fillpos,h=e.node,u=h.style,p=1,f="",m=b/t,g=b/n;if(u.visibility="hidden",t&&n){if(h.coordsize=l(m)+d+l(g),u.rotation=o*(t*n<0?-1:1),o){var v=x(o,i,r);i=v.dx,r=v.dy}if(t<0&&(f+="x"),n<0&&(f+=" y")&&(p=-1),u.flip=f,h.coordorigin=i*-m+d+r*-g,c||a.fillsize){var y=h.getElementsByTagName("fill");y=y&&y[0],h.removeChild(y),c&&(v=x(o,s.x(c[0],c[1]),s.y(c[0],c[1])),y.position=v.dx*p+d+v.dy*p),a.fillsize&&(y.size=a.fillsize[0]*l(t)+d+a.fillsize[1]*l(n)),h.appendChild(y)}u.visibility="visible"}};i.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var C,S=function(e,n,i){for(var r=t(n).toLowerCase().split("-"),o=i?"end":"start",a=r.length,s="classic",l="medium",c="medium";a--;)switch(r[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=r[a];break;case"wide":case"narrow":c=r[a];break;case"long":case"short":l=r[a]}var h=e.node.getElementsByTagName("stroke")[0];h[o+"arrow"]=s,h[o+"arrowlength"]=l,h[o+"arrowwidth"]=c},E=function(r,l){r.attrs=r.attrs||{};var h=r.node,m=r.attrs,v=h.style,x=y[r.type]&&(l.x!=m.x||l.y!=m.y||l.width!=m.width||l.height!=m.height||l.cx!=m.cx||l.cy!=m.cy||l.rx!=m.rx||l.ry!=m.ry||l.r!=m.r),E=_[r.type]&&(m.cx!=l.cx||m.cy!=l.cy||m.r!=l.r||m.rx!=l.rx||m.ry!=l.ry),O=r;for(var T in l)l[e](T)&&(m[T]=l[T]);if(x&&(m.path=i._getPath[r.type](r),r._.dirty=1),l.href&&(h.href=l.href),l.title&&(h.title=l.title),l.target&&(h.target=l.target),l.cursor&&(v.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||x)&&(h.path=function(e){var n=/[ahqstv]/gi,r=i._pathToAbsolute;if(t(e).match(n)&&(r=i._path2curve),n=/[clmz]/g,r==i._pathToAbsolute&&!t(e).match(n)){var a=t(e).replace(f,(function(e,t,n){var i=[],r="m"==t.toLowerCase(),a=p[t];return n.replace(g,(function(e){r&&2==i.length&&(a+=i+p["m"==t?"l":"L"],i=[]),i.push(o(e*b))})),a+i}));return a}var s,l,c=r(e);a=[];for(var h=0,m=c.length;h<m;h++){s=c[h],"z"==(l=c[h][0].toLowerCase())&&(l="x");for(var v=1,y=s.length;v<y;v++)l+=o(s[v]*b)+(v!=y-1?",":u);a.push(l)}return a.join(d)}(~t(m.path).toLowerCase().indexOf("r")?i._pathToAbsolute(m.path):m.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[m.x,m.y],r._.fillsize=[m.width,m.height],w(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),E){var A=+m.cx,I=+m.cy,j=+m.rx||+m.r||0,P=+m.ry||+m.r||0;h.path=i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((A-j)*b),o((I-P)*b),o((A+j)*b),o((I+P)*b),o(A*b)),r._.dirty=1}if("clip-rect"in l){var M=t(l["clip-rect"]).split(c);if(4==M.length){M[2]=+M[2]+ +M[0],M[3]=+M[3]+ +M[1];var R=h.clipRect||i._g.doc.createElement("div"),D=R.style;D.clip=i.format("rect({1}px {2}px {3}px {0}px)",M),h.clipRect||(D.position="absolute",D.top=0,D.left=0,D.width=r.paper.width+"px",D.height=r.paper.height+"px",h.parentNode.insertBefore(R,h),R.appendChild(h),h.clipRect=R)}l["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(r.textpath){var L=r.textpath.style;l.font&&(L.font=l.font),l["font-family"]&&(L.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,u)+'"'),l["font-size"]&&(L.fontSize=l["font-size"]),l["font-weight"]&&(L.fontWeight=l["font-weight"]),l["font-style"]&&(L.fontStyle=l["font-style"])}if("arrow-start"in l&&S(O,l["arrow-start"]),"arrow-end"in l&&S(O,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var N=h.getElementsByTagName("fill");if(!(N=N&&N[0])&&(N=C("fill")),"image"==r.type&&l.src&&(N.src=l.src),l.fill&&(N.on=!0),null!=N.on&&"none"!=l.fill&&null!==l.fill||(N.on=!1),N.on&&l.fill){var B=t(l.fill).match(i._ISURL);if(B){N.parentNode==h&&h.removeChild(N),N.rotate=!0,N.src=B[1],N.type="tile";var F=r.getBBox(1);N.position=F.x+d+F.y,r._.fillpos=[F.x,F.y],i._preload(B[1],(function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]}))}else N.color=i.getRGB(l.fill).hex,N.src=u,N.type="solid",i.getRGB(l.fill).error&&(O.type in{circle:1,ellipse:1}||"r"!=t(l.fill).charAt())&&k(O,l.fill,N)&&(m.fill="none",m.gradient=l.fill,N.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var z=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+i.getRGB(l.fill).o+1||2)-1);z=s(a(z,0),1),N.opacity=z,N.src&&(N.color="none")}h.appendChild(N);var H=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],U=!1;!H&&(U=H=C("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(H.on=!0),("none"==l.stroke||null===l.stroke||null==H.on||0==l.stroke||0==l["stroke-width"])&&(H.on=!1);var q=i.getRGB(l.stroke);H.on&&l.stroke&&(H.color=q.hex),z=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+q.o+1||2)-1);var W=.75*(n(l["stroke-width"])||1);if(z=s(a(z,0),1),null==l["stroke-width"]&&(W=m["stroke-width"]),l["stroke-width"]&&(H.weight=W),W&&W<1&&(z*=W)&&(H.weight=1),H.opacity=z,l["stroke-linejoin"]&&(H.joinstyle=l["stroke-linejoin"]||"miter"),H.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(H.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var V={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};H.dashstyle=V[e](l["stroke-dasharray"])?V[l["stroke-dasharray"]]:u}U&&h.appendChild(H)}if("text"==O.type){O.paper.canvas.style.display=u;var G=O.paper.span,K=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);v=G.style,m.font&&(v.font=m.font),m["font-family"]&&(v.fontFamily=m["font-family"]),m["font-weight"]&&(v.fontWeight=m["font-weight"]),m["font-style"]&&(v.fontStyle=m["font-style"]),K=n(m["font-size"]||K&&K[0])||10,v.fontSize=100*K+"px",O.textpath.string&&(G.innerHTML=t(O.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=G.getBoundingClientRect();O.W=m.w=(Y.right-Y.left)/100,O.H=m.h=(Y.bottom-Y.top)/100,O.X=m.x,O.Y=m.y+O.H/2,("x"in l||"y"in l)&&(O.path.v=i.format("m{0},{1}l{2},{1}",o(m.x*b),o(m.y*b),o(m.x*b)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,$=X.length;J<$;J++)if(X[J]in l){O._.dirty=1;break}switch(m["text-anchor"]){case"start":O.textpath.style["v-text-align"]="left",O.bbx=O.W/2;break;case"end":O.textpath.style["v-text-align"]="right",O.bbx=-O.W/2;break;default:O.textpath.style["v-text-align"]="center",O.bbx=0}O.textpath.style["v-text-kern"]=!0}},k=function(e,o,a){e.attrs=e.attrs||{},e.attrs;var s=Math.pow,l="linear",c=".5 .5";if(e.attrs.gradient=o,o=(o=t(o).replace(i._radial_gradient,(function(e,t,i){return l="radial",t&&i&&(t=n(t),i=n(i),s(t-.5,2)+s(i-.5,2)>.25&&(i=r.sqrt(.25-s(t-.5,2))*(2*(i>.5)-1)+.5),c=t+d+i),u}))).split(/\s*\-\s*/),"linear"==l){var h=o.shift();if(h=-n(h),isNaN(h))return null}var p=i._parseDots(o);if(!p)return null;if(e=e.shape||e.node,p.length){e.removeChild(a),a.on=!0,a.method="none",a.color=p[0].color,a.color2=p[p.length-1].color;for(var f=[],m=0,g=p.length;m<g;m++)p[m].offset&&f.push(p[m].offset+d+p[m].color);a.colors=f.length?f.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=c,a.angle=0):(a.type="gradient",a.angle=(270-h)%360),e.appendChild(a)}return 1},O=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=i._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=t,this.matrix=i.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},T=i.el;O.prototype=T,T.constructor=O,T.transform=function(e){if(null==e)return this._.transform;var n,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:u;r&&(n=e=t(e).replace(/\.{3}|\u2026/g,this._.transform||u)),i._extractTransform(this,o+e);var a,s=this.matrix.clone(),l=this.skew,c=this.node,h=~t(this.attrs.fill).indexOf("-"),p=!t(this.attrs.fill).indexOf("url(");if(s.translate(1,1),p||h||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=s.split(),h&&a.noRotation||!a.isSimple){c.style.filter=s.toFilter();var f=this.getBBox(),m=this.getBBox(1),g=f.x-m.x,v=f.y-m.y;c.coordorigin=g*-b+d+v*-b,w(this,1,1,g,v,0)}else c.style.filter=u,w(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else c.style.filter=u,l.matrix=t(s),l.offset=s.offset();return null!==n&&(this._.transform=n,i._extractTransform(this,n)),this},T.rotate=function(e,i,r){if(this.removed)return this;if(null!=e){if((e=t(e).split(c)).length-1&&(i=n(e[1]),r=n(e[2])),e=n(e[0]),null==r&&(i=r),null==i||null==r){var o=this.getBBox(1);i=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,i,r]])),this}},T.translate=function(e,i){return this.removed?this:((e=t(e).split(c)).length-1&&(i=n(e[1])),e=n(e[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",e,i]])),this)},T.scale=function(e,i,r,o){if(this.removed)return this;if((e=t(e).split(c)).length-1&&(i=n(e[1]),r=n(e[2]),o=n(e[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),e=n(e[0]),null==i&&(i=e),null==o&&(r=o),null==r||null==o)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",e,i,r,o]])),this._.dirtyT=1,this},T.hide=function(){return!this.removed&&(this.node.style.display="none"),this},T.show=function(){return!this.removed&&(this.node.style.display=u),this},T.auxGetBBox=i.el.getBBox,T.getBBox=function(){var e=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var t={},n=1/this.paper._viewBoxShift.scale;return t.x=e.x-this.paper._viewBoxShift.dx,t.x*=n,t.y=e.y-this.paper._viewBoxShift.dy,t.y*=n,t.width=e.width*n,t.height=e.height*n,t.x2=t.x+t.width,t.y2=t.y+t.height,t}return e},T._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},T.remove=function(){if(!this.removed&&this.node.parentNode){for(var e in this.paper.__set__&&this.paper.__set__.exclude(this),i.eve.unbind("raphael.*.*."+this.id),i._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;this.removed=!0}},T.attr=function(t,n){if(this.removed)return this;if(null==t){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&i.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=t.split(c),s={},l=0,d=a.length;l<d;l++)(t=a[l])in this.attrs?s[t]=this.attrs[t]:i.is(this.paper.customAttributes[t],"function")?s[t]=this.paper.customAttributes[t].def:s[t]=i._availableAttrs[t];return d-1?s:s[a[0]]}if(this.attrs&&null==n&&i.is(t,"array")){for(s={},l=0,d=t.length;l<d;l++)s[t[l]]=this.attr(t[l]);return s}var u;for(var p in null!=n&&((u={})[t]=n),null==n&&i.is(t,"object")&&(u=t),u)h("raphael.attr."+p+"."+this.id,this,u[p]);if(u){for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&u[e](p)&&i.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(u[p]));for(var m in this.attrs[p]=u[p],f)f[e](m)&&(u[m]=f[m])}u.text&&"text"==this.type&&(this.textpath.string=u.text),E(this,u)}return this},T.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&i._tofront(this,this.paper),this},T.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper)),this)},T.insertAfter=function(e){return this.removed?this:(e.constructor==i.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),i._insertafter(this,e,this.paper),this)},T.insertBefore=function(e){return this.removed?this:(e.constructor==i.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),i._insertbefore(this,e,this.paper),this)},T.blur=function(e){var t=this.node.runtimeStyle,n=t.filter;return n=n.replace(m,u),0!==+e?(this.attrs.blur=e,t.filter=n+d+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",t.margin=i.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(t.filter=n,t.margin=0,delete this.attrs.blur),this},i._engine.path=function(e,t){var n=C("shape");n.style.cssText=v,n.coordsize=b+d+b,n.coordorigin=t.coordorigin;var i=new O(n,t),r={fill:"none",stroke:"#000"};e&&(r.path=e),i.type="path",i.path=[],i.Path=u,E(i,r),t.canvas.appendChild(n);var o=C("skew");return o.on=!0,n.appendChild(o),i.skew=o,i.transform(u),i},i._engine.rect=function(e,t,n,r,o,a){var s=i._rectPath(t,n,r,o,a),l=e.path(s),c=l.attrs;return l.X=c.x=t,l.Y=c.y=n,l.W=c.width=r,l.H=c.height=o,c.r=a,c.path=s,l.type="rect",l},i._engine.ellipse=function(e,t,n,i,r){var o=e.path();return o.attrs,o.X=t-i,o.Y=n-r,o.W=2*i,o.H=2*r,o.type="ellipse",E(o,{cx:t,cy:n,rx:i,ry:r}),o},i._engine.circle=function(e,t,n,i){var r=e.path();return r.attrs,r.X=t-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",E(r,{cx:t,cy:n,r:i}),r},i._engine.image=function(e,t,n,r,o,a){var s=i._rectPath(n,r,o,a),l=e.path(s).attr({stroke:"none"}),c=l.attrs,h=l.node,d=h.getElementsByTagName("fill")[0];return c.src=t,l.X=c.x=n,l.Y=c.y=r,l.W=c.width=o,l.H=c.height=a,c.path=s,l.type="image",d.parentNode==h&&h.removeChild(d),d.rotate=!0,d.src=t,d.type="tile",l._.fillpos=[n,r],l._.fillsize=[o,a],h.appendChild(d),w(l,1,1,0,0,0),l},i._engine.text=function(e,n,r,a){var s=C("shape"),l=C("path"),c=C("textpath");n=n||0,r=r||0,a=a||"",l.v=i.format("m{0},{1}l{2},{1}",o(n*b),o(r*b),o(n*b)+1),l.textpathok=!0,c.string=t(a),c.on=!0,s.style.cssText=v,s.coordsize=b+d+b,s.coordorigin="0 0";var h=new O(s,e),p={fill:"#000",stroke:"none",font:i._availableAttrs.font,text:a};h.shape=s,h.path=l,h.textpath=c,h.type="text",h.attrs.text=t(a),h.attrs.x=n,h.attrs.y=r,h.attrs.w=1,h.attrs.h=1,E(h,p),s.appendChild(c),s.appendChild(l),e.canvas.appendChild(s);var f=C("skew");return f.on=!0,s.appendChild(f),h.skew=f,h.transform(u),h},i._engine.setSize=function(e,t){var n=this.canvas.style;return this.width=e,this.height=t,e==+e&&(e+="px"),t==+t&&(t+="px"),n.width=e,n.height=t,n.clip="rect(0 "+e+" "+t+" 0)",this._viewBox&&i._engine.setViewBox.apply(this,this._viewBox),this},i._engine.setViewBox=function(e,t,n,r,o){i.eve("raphael.setViewBox",this,this._viewBox,[e,t,n,r,o]);var a,s,l=this.getSize(),c=l.width,h=l.height;return o&&(n*(a=h/r)<c&&(e-=(c-n*a)/2/a),r*(s=c/n)<h&&(t-=(h-r*s)/2/s)),this._viewBox=[e,t,n,r,!!o],this._viewBoxShift={dx:-e,dy:-t,scale:l},this.forEach((function(e){e.transform("...")})),this},i._engine.initWin=function(e){var t=e.document;t.styleSheets.length<31?t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):t.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),C=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(n){C=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},i._engine.initWin(i._g.win),i._engine.create=function(){var e=i._getContainer.apply(0,arguments),t=e.container,n=e.height,r=e.width,o=e.x,a=e.y;if(!t)throw new Error("VML container not found.");var s=new i._Paper,l=s.canvas=i._g.doc.createElement("div"),c=l.style;return o=o||0,a=a||0,r=r||512,n=n||342,s.width=r,s.height=n,r==+r&&(r+="px"),n==+n&&(n+="px"),s.coordsize=216e5+d+216e5,s.coordorigin="0 0",s.span=i._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(s.span),c.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,n),1==t?(i._g.doc.body.appendChild(l),c.left=o+"px",c.top=a+"px",c.position="absolute"):t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l),s.renderfix=function(){},s},i.prototype.clear=function(){i.eve("raphael.clear",this),this.canvas.innerHTML=u,this.span=i._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},i.prototype.remove=function(){for(var e in i.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;return!0};var A=i.st;for(var I in T)T[e](I)&&!A[e](I)&&(A[I]=function(e){return function(){var t=arguments;return this.forEach((function(n){n[e].apply(n,t)}))}}(I))}}(),p.was?u.win.Raphael=i:Raphael=i,e.exports=i,i}(o,t)}.apply(t,[i]))||(e.exports=r)},2633:function(e,t){},2634:function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return(r?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===r(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,l=0;l<a;l++)if(r[l]!==o[l]){s=l;break}var c=[];for(l=s;l<r.length;l++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===i&&(r=!1,i=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=a+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(328))},2640:function(e,t,n){"use strict";var i=n(65),r=n(68),o=n(46),a=n(0),s=n.n(a),l=n(2),c=n.n(l),h=n(1540),d=n(666),u=n.n(d);var p=Object(o.a)({},h.a.propTypes,{bsStyle:c.a.string,bsSize:c.a.string,title:c.a.node.isRequired,noCaret:c.a.bool,children:c.a.node}),f=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,r=e.title,a=e.children,l=function(e,t){var n=t.propTypes,i={},r={};return u()(e).forEach((function(e){var t=e[0],o=e[1];n[t]?i[t]=o:r[t]=o})),[i,r]}(Object(i.a)(e,["bsSize","bsStyle","title","children"]),h.a.ControlledComponent),c=l[0],d=l[1];return s.a.createElement(h.a,Object(o.a)({},c,{bsSize:t,bsStyle:n}),s.a.createElement(h.a.Toggle,Object(o.a)({},d,{bsSize:t,bsStyle:n}),r),s.a.createElement(h.a.Menu,null,a))},t}(s.a.Component);f.propTypes=p;t.a=f},2642:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1994),a=n(533),s=n(330),l=n(2286),c=n(2288),h=n(1990);const d={beginDrag:e=>({type:e.widget.type}),endDrag(e,t){const n=t.getItem();t.getDropResult()&&e.addComponent(n.type)}};var u=Object(a.DragSource)("CANVASCOMP",d,(e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()}))(class extends i.Component{constructor(){super(...arguments),this.handleAddClick=e=>{e.preventDefault(),e.stopPropagation(),this.props.addComponent(this.props.widget.type)}}shouldComponentUpdate(e,t){return this.props.widget.svg_string!==e.widget.svg_string}render(){const{connectDragSource:e,widget:t}=this.props;let n=null,i=()=>null;return"headerIcon"===t.icon?n=r.a.createElement(s.a,{icon:r.a.createElement(c.a.headerIcon,null),iconTop:!0}):"codeIcon"===t.icon?n=r.a.createElement(s.a,{icon:r.a.createElement(l.a.codeIcon,null),iconTop:!0}):"questionIcon"===t.icon?n=r.a.createElement(s.a,{icon:r.a.createElement(l.a.quizIcon,null),iconTop:!0}):"paintBrushIcon"===t.icon?n=r.a.createElement(s.a,{icon:r.a.createElement(l.a.paintBrushIcon,null),iconTop:!0,text:t.title}):"tableIcon"===t.icon?n=r.a.createElement(s.a,{icon:r.a.createElement(c.a.tableIcon,null),iconTop:!0}):"screenIcon"===t.icon?n=r.a.createElement(s.a,{icon:r.a.createElement(c.a.screenIcon,null),iconTop:!0}):"listIcon"===t.icon?n=r.a.createElement(s.a,{icon:r.a.createElement(c.a.listIcon,null),iconTop:!0}):"fontIcon"===t.icon?n=r.a.createElement(s.a,{icon:r.a.createElement(l.a.fontIcon,null),iconTop:!0,text:t.title}):t.icon?n=t.icon?r.a.createElement(s.a,{icon:t.icon,iconTop:!0,text:t.title}):null:t.img?(i=l.a[t.img.replace(".png","Icon").replace("-","")],n=[r.a.createElement(i,{key:"canvasComponentWidgetItem_img"}),r.a.createElement("span",{key:"key_canvasComponentWidgetItem_2"},t.title)]):(i=l.a[t.img.replace(".png","Icon").replace("-","")],n=[r.a.createElement(i,null),r.a.createElement("span",{key:"key_canvasComponentWidgetItem_4"},t.title)]),e(r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(h.d,{onClick:this.handleAddClick},n)))}});n.d(t,"a",(function(){return p}));class p extends i.Component{constructor(){super(...arguments),this.state={widgets:Object(o.b)(),searchText:""},this.onSearchTextChange=e=>{this.setState({searchText:e})}}render(){const{addComponent:e}=this.props,t=this.state.searchText?this.state.searchText.searchString:"",n=this.state.widgets.map((n,i)=>(null===n||void 0===n?void 0:n.title)&&-1===n.title.toLowerCase().indexOf(t)?null:r.a.createElement("li",{key:i,title:n.title},r.a.createElement(u,{widget:n,addComponent:e})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.j,null,r.a.createElement(h.i,null,n)))}}},2643:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(37),a=n(58),s=n(777),l=n(1);l.d.div.withConfig({displayName:"styles__CanvasComponentViewStyled",componentId:"qtbte3-0"})([""]);const c=l.d.div.withConfig({displayName:"styles__Component",componentId:"qtbte3-1"})(["margin-bottom:15px;"]),h=l.d.div.withConfig({displayName:"styles__Buttons",componentId:"qtbte3-2"})(["text-align:center;#updateBtn{margin:0 10px;}"]);n.d(t,"a",(function(){return d}));class d extends i.Component{constructor(e){super(e),this.edComponentRef=r.a.createRef(),this.customEventHandler=e=>{this.onUpdateClick()},this.updateContentState=e=>{const t=this.component.get("content"),n=t.merge(e);o.is(n,t)||(this.component=this.component.update("content",()=>n),this.setState(e=>({iteration:e.iteration+1})))},this.contentStateFinalized=()=>{this.props.onEdCompnentUpdate(this.component.toJS())},this.onUpdateClick=()=>{if("SVG"!==this.component.get("type")&&"Graphviz"!==this.component.get("type")&&"Graph"!==this.component.get("type")&&"CanvasText"!==this.component.get("type")&&"Matrix"!==this.component.get("type")&&"SequenceDiagrams"!==this.component.get("type")&&"MxGraph"!==this.component.get("type")||!this.edComponentRef.current)this.contentStateFinalized();else{const e=document.getElementById("updateBtn");e.innerHTML="Updating...",e.disabled=!0,this.edComponentRef.current.saveComponent()}},this.component=e.comp.asImmutable(),this.state={version:1,iteration:0}}componentDidMount(){document.addEventListener("customModalSaveEvent",this.customEventHandler)}componentWillUnmount(){document.removeEventListener("customModalSaveEvent",this.customEventHandler)}render(){const{comp:e,pageId:t,config:n,pageProperties:i,userId:o,authorId:l,collectionId:d,shotId:u,editorPageId:p}=this.props,f={pageId:t,authorId:l,collectionId:d,userId:o,shotId:u,editorPageId:p},m={mode:e.get("mode"),ref:this.edComponentRef,pageId:t,config:n,pageProperties:i};return r.a.createElement("div",null,r.a.createElement(c,null,r.a.createElement(s.b,Object.assign({comp:this.component},m,f,{dispatch:this.props.dispatch,updateContentState:this.updateContentState,contentStateFinalized:this.contentStateFinalized,iteration:this.state.iteration,inModal:!0,allowComments:!1}))),r.a.createElement(h,null,r.a.createElement(a.a,{default:!0,onClick:this.props.onEdCompnentCancelUpdate},"Cancel"),r.a.createElement(a.a,{purple:!0,default:!0,id:"updateBtn",onClick:this.onUpdateClick},"Update")))}}}}]);
//# sourceMappingURL=author.ae386804.chunk.js.map